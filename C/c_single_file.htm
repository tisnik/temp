<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title></title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1></h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p></p>



<h2>Obsah</h2>

<p><a href="#k01">*** 1. </a></p>
<p><a href="#k02">*** 2. </a></p>
<p><a href="#k03">*** 3. </a></p>
<p><a href="#k04">*** 4. </a></p>
<p><a href="#k05">*** 5. </a></p>
<p><a href="#k06">*** 6. </a></p>
<p><a href="#k07">*** 7. </a></p>
<p><a href="#k08">*** 8. </a></p>
<p><a href="#k09">*** 9. </a></p>
<p><a href="#k10">*** 10. </a></p>
<p><a href="#k11">*** 11. </a></p>
<p><a href="#k12">*** 12. </a></p>
<p><a href="#k13">*** 13. </a></p>
<p><a href="#k14">*** 14. </a></p>
<p><a href="#k15">*** 15. </a></p>
<p><a href="#k16">*** 16. </a></p>
<p><a href="#k17">*** 17. </a></p>
<p><a href="#k18">*** 18. Příloha: Makefile soubor pro překlad všech demonstračních příkladů</a></p>
<p><a href="#k19">*** 19. Repositář s&nbsp;demonstračními příklady</a></p>
<p><a href="#k20">*** 20. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. </h2>



<p><a name="k02"></a></p>
<h2 id="k02">2. </h2>

brittleness – most changes to the library will require recompilation of all compilation units using that library,
longer compilation times – the compilation unit must see the implementation of all components in the included files, rather than just their interfaces,
machine-code bloat (arguably) – the necessary use of inline statements in non-class functions can lead to code bloat by over-inlining,
harder to understand as the header contains both the interface and the implementation whereas traditional library separate both.



<p><a name="k03"></a></p>
<h2 id="k03">3. </h2>

$ wget https://raw.githubusercontent.com/erstan/ceval-single-header/refs/heads/e_t/ceval.hSaving 'ceval.h'
HTTP response 200  [https://raw.githubusercontent.com/erstan/ceval-single-header/refs/heads/e_t/ceval.h]
ceval.h              100% [=====================================================================================>]    7.33K    --.-KB/s
                          [Files: 1  Bytes: 7.33K [11.64KB/s] Redirects: 0  Todo: 0  Errors: 0                   ]



<p><a name="k04"></a></p>
<h2 id="k04">4. </h2>

$ wget https://raw.githubusercontent.com/nothings/stb/refs/heads/master/stb_image_write.h
Saving 'stb_image_write.h'
HTTP response 200  [https://raw.githubusercontent.com/nothings/stb/refs/heads/master/stb_image_write.h]
stb_image_write.h    100% [=====================================================================================>]   19.88K    --.-KB/s
                          [Files: 1  Bytes: 19.88K [68.56KB/s] Redirects: 0  Todo: 0  Errors: 0                  ]



<p><a name="k05"></a></p>
<h2 id="k05">5. </h2>

<pre>
#include <stdint.h>
#include "stb_image_write.h"

#define WIDTH 4
#define HEIGHT 4
#define RGBA 4

uint32_t image[] = {
    0xff000000, 0xff000000, 0xff000000, 0xff000000,
    0xff000000, 0xff0000ff, 0xff00ff00, 0xff000000,
    0xff000000, 0xff00ffff, 0xffff0000, 0xff000000,
    0xff000000, 0xff000000, 0xff000000, 0xff000000,
};

int main(void) {
    stbi_write_png("test.png", WIDTH, HEIGHT, RGBA, image, 4*sizeof(uint32_t));
    return 0;
}
</pre>

<pre>
$ gcc -Wall -pedantic simple_image_1.c 
/usr/bin/ld: /tmp/ccwoMWRf.o: in function `main':
simple_image_1.c:(.text+0x25): undefined reference to `stbi_write_png'
collect2: error: ld returned 1 exit status
</pre>



<p><a name="k06"></a></p>
<h2 id="k06">6. </h2>

<pre>
#include <stdint.h>

#define STB_IMAGE_WRITE_IMPLEMENTATION
#include "stb_image_write.h"

#define WIDTH 4
#define HEIGHT 4
#define RGBA 4

uint32_t image[] = {
    0xff000000, 0xff000000, 0xff000000, 0xff000000,
    0xff000000, 0xff0000ff, 0xff00ff00, 0xff000000,
    0xff000000, 0xff00ffff, 0xffff0000, 0xff000000,
    0xff000000, 0xff000000, 0xff000000, 0xff000000,
};

int main(void) {
    stbi_write_png("test.png", WIDTH, HEIGHT, RGBA, image, 4*sizeof(uint32_t));
    return 0;
}
</pre>

$ gcc -Wall -pedantic simple_image_2.c -o simple_image_2

$ ./simple_image_2

$ ls -1

simple_image_1.c
simple_image_2
stb_image_write.h
test.png

$ file test.png
test.png: PNG image data, 4 x 4, 8-bit/color RGBA, non-interlaced



<p><a name="k07"></a></p>
<h2 id="k07">7. </h2>

<pre>
#include <stdio.h>
#include <stdint.h>

#define STB_IMAGE_WRITE_IMPLEMENTATION
#include "stb_image_write.h"

#define WIDTH 4
#define HEIGHT 4
#define RGBA 4

uint32_t image[] = {
    0xff000000, 0xff000000, 0xff000000, 0xff000000,
    0xff000000, 0xff0000ff, 0xff00ff00, 0xff000000,
    0xff000000, 0xff00ffff, 0xffff0000, 0xff000000,
    0xff000000, 0xff000000, 0xff000000, 0xff000000,
};

int main(void) {
    int status = stbi_write_png("test.png", WIDTH, HEIGHT, RGBA, image, 4*sizeof(uint32_t));
    printf("Success? %s\n", status ? "yes" : "no");
    return 0;
}
</pre>

$ gcc -Wall -pedantic simple_image_3.c -o simple_image_3
$ ./simple_image_3
Success?



<p><a name="k08"></a></p>
<h2 id="k08">8. </h2>

$ gcc -D STB_IMAGE_WRITE_IMPLEMENTATION -c stb_image_write.h

$ ls -1

simple_image_1.c
stb_image_write.h
stb_image_write.h.gch



<p><a name="k09"></a></p>
<h2 id="k09">9. </h2>

$ gcc -D STB_IMAGE_WRITE_IMPLEMENTATION -x c -c stb_image_write.h

$ ls -1

simple_image_1.c
stb_image_write.h
stb_image_write.o

$ gcc -c simple_image_1.c

$ ls -1
simple_image_1.c
simple_image_1.o
stb_image_write.h
stb_image_write.o

$ gcc simple_image_1.o stb_image_write.o -o simple_image_1

$ ls -1
simple_image_1
simple_image_1.c
simple_image_1.o
stb_image_write.h
stb_image_write.o

$ ./simple_image_1

$ ls -1
simple_image_1
simple_image_1.c
simple_image_1.o
stb_image_write.h
stb_image_write.o
test.png

$ <strong>file test.png</strong>
test.png: PNG image data, 4 x 4, 8-bit/color RGBA, non-interlaced



<p><a name="k10"></a></p>
<h2 id="k10">10. </h2>



<p><a name="k11"></a></p>
<h2 id="k11">11. </h2>



<p><a name="k12"></a></p>
<h2 id="k12">12. </h2>



<p><a name="k13"></a></p>
<h2 id="k13">13. </h2>



<p><a name="k14"></a></p>
<h2 id="k14">14. </h2>



<p><a name="k15"></a></p>
<h2 id="k15">15. </h2>



<p><a name="k16"></a></p>
<h2 id="k16">16. </h2>



<p><a name="k17"></a></p>
<h2 id="k17">17. </h2>



<p><a name="k18"></a></p>
<h2 id="k18">18. Příloha: Makefile soubor pro překlad všech demonstračních příkladů</h2>

<p></p>

<pre>
CC=gcc
&nbsp;
all:    stb_image_write.h ceval.h vec.h hashmap.h \
        evaluation_2 evaluation_3 evaluation_4 evaluation_5 \
        evaluation_6 evaluation_7 evaluation_8 \
        vector_usage_1 vector_usage_2 vector_usage_3 \
        simple_image_1 simple_image_2 simple_image_3 simple_image_4 \
        hashmap_usage_1 hashmap_usage_2 hashmap_usage_3 \
        perlin_noise
&nbsp;
clean:
        rm -f ceval.h
        rm -f stb_image_write.h
        rm -f vec.h
        rm -f hashmap.h
        rm -f evaluation_1 evaluation_2 evaluation_3 evaluation_4 evaluation_5
        rm -f evaluation_6 evaluation_7 evaluation_8
        rm -f vector_usage_1 vector_usage_2 vector_usage_3
        rm -f simple_image_1 simple_image_2 simple_image_3 simple_image_4
        rm -f hashmap_usage_1 hashmap_usage_2 hashmap_usage_3
        rm -f perlin_noise
&nbsp;
evaluation_1:   evaluation_1.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_2:   evaluation_2.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_3:   evaluation_3.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_4:   evaluation_4.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_5:   evaluation_5.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_6:   evaluation_6.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_7:   evaluation_7.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
evaluation_8:   evaluation_8.c ceval.h
        $(CC) -lm -O0 $&lt; -o $@
&nbsp;
hashmap_usage_1:        hashmap_usage_1.c vec.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
hashmap_usage_2:        hashmap_usage_2.c vec.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
hashmap_usage_3:        hashmap_usage_3.c vec.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
vector_usage_1: vector_usage_1.c vec.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
vector_usage_2: vector_usage_2.c vec.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
vector_usage_3: vector_usage_3.c vec.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
simple_image_1: simple_image_1.c stb_image_write.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
simple_image_2: simple_image_2.c stb_image_write.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
simple_image_3: simple_image_3.c stb_image_write.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
simple_image_4: simple_image_4.c stb_image_write.h
        $(CC) -O0 $&lt; -o $@
&nbsp;
perlin_noise:   perlin_noise.c
        $(CC) -O0 $&lt; -o $@
&nbsp;
stb_image_write.h:
        wget https://raw.githubusercontent.com/nothings/stb/refs/heads/master/stb_image_write.h
&nbsp;
ceval.h:
        wget https://raw.githubusercontent.com/erstan/ceval-single-header/refs/heads/e_t/ceval.h
&nbsp;
vec.h:
        wget https://raw.githubusercontent.com/OguzhanUmutlu/vec.h/refs/heads/main/vec.h
&nbsp;
hashmap.h:
        wget https://raw.githubusercontent.com/sheredom/hashmap.h/refs/heads/master/hashmap.h
</pre>




