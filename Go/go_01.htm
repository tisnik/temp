<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Go &ndash; minimalistický a překvapivě výkonný programovací jazyk</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Go &ndash; minimalistický a překvapivě výkonný programovací jazyk</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V&nbsp;novém seriálu, který dnes začíná vycházet na serveru mojefedora.cz, se seznámíme se zajímavým a relativně novým programovacím jazykem nazvaným Go. Jedná se o jazyk umožňující překlad zdrojových kódů do nativního (strojového) kódu, takže výsledkem by měly být rychlé a paměťově efektivní aplikace srovnatelné s&nbsp;výsledky překladačů jazyků C, C++ či Rust. Současně ovšem Go používá automatickou správu paměti (GC - garbage collector), takzvané gorutiny a kanály a současně i minimalistickou syntaxi, čímž se od trojice C/C++/Rust dosti podstatným způsobem odlišuje.</p><!--more-->



<h2>Obsah</h2>

<p><a href="#k01">*** 1. Go &ndash; minimalistický a překvapivě výkonný programovací jazyk</a></p>
<p><a href="#k02">*** 2. Go není &bdquo;pouze&ldquo; vylepšený programovací jazyk C</a></p>
<p><a href="#k03">*** 3. Popularita programovacího jazyka Go mezi vývojáři</a></p>
<p><a href="#k04">*** 4. Instalace základních nástrojů pro jazyk Go do Fedory</a></p>
<p><a href="#k05">*** 5. Nastavení proměnné prostředí <strong>GOPATH</strong></a></p>
<p><a href="#k06">*** 6. Základní kontrola instalace</a></p>
<p><a href="#k07">*** 7. První příklad &ndash; klasický &bdquo;Hello world!&ldquo; ve dvou variantách</a></p>
<p><a href="#k08">*** 8. Jak pracovat s&nbsp;dokumentací</a></p>
<p><a href="#k09">*** 9. Doporučovaný styl zápisu programů</a></p>
<p><a href="#k10">*** 10. Nástroj <strong>gofmt</strong> určený pro přeformátování zdrojových kódů</a></p>
<p><a href="#k11">*** 11. Plná podpora Unicode v&nbsp;programech</a></p>
<p><a href="#k12">*** 12. Základy typového systému &ndash; odvození typu proměnné z&nbsp;hodnoty</a></p>
<p><a href="#k13">*** 13. Deklarace funkcí</a></p>
<p><a href="#k14">*** 14. Specifikace typu argumentů funkcí</a></p>
<p><a href="#k15">*** 15. Příkaz <strong>return</strong></a></p>
<p><a href="#k16">*** 16. Zkrácený zápis typů argumentů</a></p>
<p><a href="#k17">*** 17. Vrácení většího množství hodnot z&nbsp;funkce</a></p>
<p><a href="#k18">*** 18. Pojmenování návratové hodnoty (speciální lokální proměnná)</a></p>
<p><a href="#k19">*** 19. Repositář s&nbsp;demonstračními příklady</a></p>
<p><a href="#k20">*** 20. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Go &ndash; minimalistický a překvapivě výkonný programovací jazyk</h2>

<p>Tento jazyk krátce po svém uvedení vzbudil poměrně velký ohlas, neboť se jedná o staticky typovaný jazyk kompilovaný do nativního kódu &ndash; je tedy určen pro oblast doposud ovládanou jazyky C a C++. </p>

<p>Poznámka: ve zdrojových kódech pro Go je zvykem pro odsazení používat znaky <strong>Tab</strong> (tabulační zarážky). Ovšem vzhledem k&nbsp;omezením redakčního systému serveru mojefedora.cz nemusí být tyto znaky zachovány ve výpisech zdrojových kódů. Z&nbsp;tohoto důvodu je vhodné buď zdrojové kódy po jejich zkopírování z&nbsp;této stránky &bdquo;prohnat&ldquo; nástrojem <strong>gofmt</strong> popsaným <a href="#k10">v&nbsp;desáté kapitole</a> nebo &ndash; což je vhodnější &ndash; si naklonovat Git repositář se všemi demonstračními příklady a jejich případnými opravami. Více informací o tomto repositáři zjistíte <a href="#k19">v&nbsp;devatenácté kaptiole</a>.</p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Go není &bdquo;pouze&ldquo; vylepšený programovací jazyk C</h2>

<p>Mezi autory návrhu i první implementace programovacího jazyka Go patří XXX. Když si uvědomíme, že XXX, mohlo by se zdát, že Go je pouhým vylepšením programovacího jazyka C. Je sice pravda, že Go částečně z&nbsp;jazyka C vychází, ovšem z&nbsp;hlediska syntaxe jsou si mnohem bližší jazyky C a Java, než C a Go. Tvůrci programovacího jazyka Go se navíc snažili poučit se z&nbsp;některých problematických rysů jazyků C/C++ a navrhli Go takovým způsobem, aby byla jeho syntaxe jednodušší a snáze pochopitelná. Navíc se zaměřili na další typické problémy, s&nbsp;nimiž se musí vypořádat uživatelů C, C++ a vlastně i Rustu: jedná se o problematiku správy paměti a uvolňování zdrojů (<i>resources</i>) a v&nbsp;neposlední řadě i o podporu pro paralelní běh částí programů, například částí komunikujících přes síť, pracujících se souborovým systémem atd. Z&nbsp;tohoto důvodu byly přímo do jazyka Go přidány dvě technologie: automatický správce paměti a takzvané <i>gorutiny</i> (<i>goroutines</i>). S&nbsp;oběma těmito technologiemi se seznámíme v&nbsp;navazující části tohoto seriálu.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Popularita programovacího jazyka Go mezi vývojáři</h2>

<p>Programovací jazyk Go a jeho základní knihovny byly původně navrženy takovým způsobem, aby se v&nbsp;tomto jazyku daly efektivně psát různé síťové aplikace, které by navíc netrpěly na potenciální problémy typu &bdquo;buffer overflow&ldquo; atd. Právě z&nbsp;toho důvodu, že síťové a serverové aplikace musí v&nbsp;typické konfiguraci obsluhovat velké množství paralelně běžících požadavků, byly do jazyka Go přidány již výše zmíněné gorutiny. A nutno říci, že Go se v&nbsp;této oblasti skutečně používá. Taktéž se předpokládalo, že se Go bude používat pro vývoj těch aplikací, které jsou nyní psány v&nbsp;C či C++. Tento přechod sice skutečně nastal, ovšem prozatím ne v&nbsp;příliš velké míře. Nastala ovšem zajímavější situace &ndash; jazyk Go objevili programátoři, kteří psali své síťové a specielně pak webové aplikace v&nbsp;Pythonu či Ruby. Přepis do jazyka Go mnohdy znamenal řádový a někdy i dvouřádkový (100&times;) nárůst výkonu těchto aplikací. Do jisté míry je nárůst výkonu způsobem překladem do nativního kódu, ovšem nesmíme zapomenout na gorutiny, které nejsou (na rozdíl od klasických vláken) příliš náročné na paměť, takže se setkáme s&nbsp;aplikacemi, v&nbsp;nichž bez větších problémů běží tisíce gorutin.</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Instalace základních nástrojů pro jazyk Go do Fedory</h2>

<p>Popišme si nyní instalaci základních nástrojů programovacího jazyka Go do Fedory. Instalace bude na všech třech posledních vydáních Fedory prakticky totožná, takže se zaměřme na stabilní Fedoru 27, pro niž byl vytvořen balíček s&nbsp;Go verze 1.9. Instalaci provedeme buď přímo z&nbsp;terminálu s&nbsp;přihlášeným superuživatelem (rootem):</p>

<pre>
# <strong>dnf install golang</strong>
</pre>

<p>Alternativně samozřejmě můžeme použít instalaci s&nbsp;využitím nástroje <strong>sudo</strong>, pokud má ovšem přihlášený uživatel příslušná práva. Povšimněte si, že se po nainstalování rozbalí přibližně 220 MB dat, což je na základní sadu nástrojů poměrně vysoká hodnota:</p>

<pre>
$ <strong>sudo dnf install golang</strong>
</pre>

<p>V&nbsp;obou případech by měla instalace proběhnout prakticky totožným způsobem:</p>

<pre>
Last metadata expiration check: 1:44:40 ago on Mon 06 Aug 2018 09:29:07 AM EDT.
Dependencies resolved.
================================================================================
 Package                                        Arch
================================================================================
Installing:
 golang                                         x86_64
Installing dependencies:
 golang-bin                                     x86_64
 golang-src                                     noarch

Transaction Summary
================================================================================
Install  3 Packages

Total download size: 54 M
Installed size: 222 M
Is this ok [y/N]:
</pre>

<p>Po odpovědi &bdquo;Y&ldquo; se instalace rozběhne a pochopitelně se nijak zásadně neliší od instalace jakéhokoli jiného balíčku:</p>

<pre>
Downloading Packages:
(1/3): golang-1.9.7-1.fc27.x86_64.rpm           660 kB/s | 622 kB     00:00
(2/3): golang-src-1.9.7-1.fc27.noarch.rpm       2.4 MB/s | 5.2 MB     00:02
(3/3): golang-bin-1.9.7-1.fc27.x86_64.rpm       4.6 MB/s |  48 MB     00:10
--------------------------------------------------------------------------------
Total                                           4.9 MB/s |  54 MB     00:11
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Running scriptlet: golang-1.9.7-1.fc27.x86_64                             1/1
  Preparing        :                                                        1/1
  Installing       : golang-src-1.9.7-1.fc27.noarch                         1/3
  Installing       : golang-bin-1.9.7-1.fc27.x86_64                         2/3
  Running scriptlet: golang-bin-1.9.7-1.fc27.x86_64                         2/3
  Installing       : golang-1.9.7-1.fc27.x86_64                             3/3
  Verifying        : golang-1.9.7-1.fc27.x86_64                             1/3
  Verifying        : golang-bin-1.9.7-1.fc27.x86_64                         2/3
  Verifying        : golang-src-1.9.7-1.fc27.noarch                         3/3

Installed:
  golang.x86_64 1.9.7-1.fc27             golang-bin.x86_64 1.9.7-1.fc27
  golang-src.noarch 1.9.7-1.fc27

Complete!
</pre>



<p><a name="k05"></a></p>
<h2 id="k05">5. Nastavení proměnné prostředí <strong>GOPATH</strong></h2>

<p>Po instalaci je vhodné nastavit proměnnou prostředí (<i>environment variable</i>) nazvanou <strong>GOPATH</strong>. Tato proměnná bude použita pro určení cíle překladu, pro hledání zdrojových kódů modulů atd. Dnes ji sice ještě nebudeme nutně potřebovat, ale je vhodné si tuto proměnnou připravit pro další části tohoto seriálu:</p>

<pre>
$ <strong>mkdir -p $HOME/go</strong>
$ <strong>echo 'export GOPATH=$HOME/go' &gt;&gt; $HOME/.bashrc</strong>
$ <strong>source $HOME/.bashrc</strong>
</pre>

<p>Poznámka:</p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Základní kontrola instalace</h2>

<p>Po instalaci základních nástrojů programovacího jazyka Go můžeme odzkoušet, zda jsou tyto nástroje skutečně dostupné. Většina funkcí je dostupná přes &bdquo;univerzální&ldquo; příkaz <strong>go</strong>, takže si pro začátek vypíšeme, která verze jazyka je vlastně aktuálně dostupná:</p>

<pre>
$ <strong>go version</strong>
</pre>

<p>Měla by se vypsat buď verze 1.9 nebo 1.10:</p>

<pre>
go version go1.9.7 linux/amd64
</pre>

<p>Poznámka: v&nbsp;současnosti jsou používány verze 1.8, 1.9 a 1.10. Novinky, opravy a případné známé chyby jsou shrnuty v&nbsp;dokumentech Release Notes, které naleznete na adresách <a href="https://golang.org/doc/go1.8">https://golang.org/doc/go1.8</a>, <a href="https://golang.org/doc/go1.9">https://golang.org/doc/go1.9</a> a <a href="https://golang.org/doc/go1.10">https://golang.org/doc/go1.10</a>.</p>

<p>Po spuštění samotného nástroje <strong>go</strong> bez dalších parametrů by se měly vypsat všechny dostupné příkazy:</p>

<pre>
$ <strong>go</strong>
</pre>

<p>Výstup zobrazený na terminálu/konzoli by měl vypadat přibližně následovně:</p>

<pre>
Go is a tool for managing Go source code.

Usage:

        go command [arguments]

The commands are:

        build       compile packages and dependencies
        clean       remove object files
        doc         show documentation for package or symbol
        env         print Go environment information
        bug         start a bug report
        fix         run go tool fix on packages
        fmt         run gofmt on package sources
        generate    generate Go files by processing source
        get         download and install packages and dependencies
        install     compile and install packages and dependencies
        list        list packages
        run         compile and run Go program
        test        test packages
        tool        run specified go tool
        version     print Go version
        vet         run go tool vet on packages

Use "go help [command]" for more information about a command.

Additional help topics:

        c           calling between Go and C
        buildmode   description of build modes
        filetype    file types
        gopath      GOPATH environment variable
        environment environment variables
        importpath  import path syntax
        packages    description of package lists
        testflag    description of testing flags
        testfunc    description of testing functions

Use "go help [topic]" for more information about that topic.
</pre>

<p>Poslední kontrola se týká nastavení proměnné prostředí <strong>GOPATH</strong>, o níž jsme se zmínili výše. Zobrazení aktuálně nastavené hodnoty této proměnné prostředí zajistí příkaz:</p>

<pre>
$ <strong>go env GOPATH</strong>
</pre>

<p>Pro uživatele &bdquo;tester&ldquo; dostaneme tento výstup:</p>

<pre>
/home/tester/go
</pre>



<p><a name="k07"></a></p>
<h2 id="k07">7. První příklad &ndash; klasický &bdquo;Hello world!&ldquo; ve dvou variantách</h2>

<p>Konečně se dostáváme k&nbsp;popisu samotné syntaxe a sémantiky programovacího jazyka Go. Již tradičně začínají podobně koncipované články a knihy programem, který po svém spuštění vypíše na terminál řetězec &bdquo;Hello world!&ldquo; a následně se ukončí. V&nbsp;Go je možné tento příklad napsat následujícím způsobem (úplný a naformátovaný zdrojový kód získáte z&nbsp;adresy <a href="https://github.com/tisnik/go-fedora/blob/master/article_01/01_hello_world.go">https://github.com/tisnik/go-fedora/blob/master/article_01/01_hello_world.go</a>):</p>

<pre><code>
package main

func main() {
        println("Hello world!")
}
</code></pre>

<p>Povšimněte si, že v&nbsp;programu explicitně specifikujeme jméno balíčku (zde &bdquo;main&ldquo;). Dále se v&nbsp;programu pomocí klíčového slova <strong>func</strong> deklaruje funkce nazvaná taktéž &bdquo;main&ldquo;. Tato funkce nemá žádné parametry ani návratovou hodnotu (více viz v&nbsp;navazujících kapitolách) a voláme z&nbsp;ní funkci nazvanou <strong>println()</strong>. Jedná se o funkci dostupnou ze základní knihovny, jejíž možnosti jsou sice omezeny, ovšem pro programy typu &bdquo;Hello world!&ldquo; jsou dostačující. A na závěr &ndash; za příkazem volání funkce není nutné psát středník.</p>

<p>První příklad si můžeme spustit a to konkrétně příkazem <strong>go run</strong>. Před samotným spuštěním se provede překlad, přičemž spustitelná verze programu je uložena do dočasného souboru:</p>

<pre>
$ <strong>go run 01_hello_world.go</strong>
Hello world!
</pre>

<p>Pokud si budeme přát program explicitně přeložit, použijeme namísto <strong>go run</strong> příkaz <strong>go build</strong>:</p>

<pre>
$ <strong>go build 01_hello_world.go</strong>
</pre>

<p>Výsledkem bude soubor pojmenovaný stejně jako soubor zdrojový, ovšem bez koncovky &bdquo;.go&ldquo; (na Unixových systémech):</p>

<pre>
$ <strong>ls -l</strong>

total 1072
-rwxrwxr-x. 1 tester tester 1034959 Aug  8 12:45 01_hello_world
-rw-rw-r--. 1 tester tester      55 Aug  7 09:02 01_hello_world.go
</pre>

<p></p>

<pre>
$ <strong>./01_hello_world</strong>
Hello world!
</pre>

<p></p>

<a href="https://github.com/tisnik/go-fedora/blob/master/article_01/02_better_hello_world.go"></a>

<pre><code>
package main

import "fmt"

func main() {
        fmt.Println("Hello world!")
}
</code></pre>

<pre>
$ <strong>go run 02_better_hello_world.go </strong>
Hello world!
</pre>



<p><a name="k08"></a></p>
<h2 id="k08">8. Jak pracovat s&nbsp;dokumentací</h2>

<p></p>
https://godoc.org/

https://godoc.org/fmt

<pre>
$ <strong>go doc builtin</strong>
</pre>

<pre>
package builtin // import "builtin"

Package builtin provides documentation for Go's predeclared identifiers. The
items documented here are not actually in package builtin but their
descriptions here allow godoc to present documentation for the language's
special identifiers.
...
...
...
func print(args ...Type)
func println(args ...Type)
</pre>

<pre>
$ <strong>go doc fmt | less</strong>
</pre>

<pre>
package fmt // import "fmt"

Package fmt implements formatted I/O with functions analogous to C's printf
and scanf. The format 'verbs' are derived from C's but are simpler.


Printing

The verbs:

General:

    %v  the value in a default format
        when printing structs, the plus flag (%+v) adds field names
    %#v a Go-syntax representation of the value
    %T  a Go-syntax representation of the type of the value
    %%  a literal percent sign; consumes no value
</pre>

<pre>
$ <strong>go doc fmt.Println</strong>
</pre>

<pre>
func Println(a ...interface{}) (n int, err error)
    Println formats using the default formats for its operands and writes to
    standard output. Spaces are always added between operands and a newline is
    appended. It returns the number of bytes written and any write error
    encountered.
</pre>



<p><a name="k09"></a></p>
<h2 id="k09">9. Doporučovaný styl zápisu programů</h2>



<p><a name="k10"></a></p>
<h2 id="k10">10. Nástroj <strong>gofmt</strong> určený pro přeformátování zdrojových kódů</h2>

<p></p>

<pre>
$ <strong>gofmt --help</strong>
</pre>

<p></p>

<pre>
usage: gofmt [flags] [path ...]
  -cpuprofile string
        write cpu profile to this file
  -d    display diffs instead of rewriting files
  -e    report all errors (not just the first 10 on different lines)
  -l    list files whose formatting differs from gofmt's
  -r string
        rewrite rule (e.g., 'a[b:len(a)] -&gt; a[b:]')
  -s    simplify code
  -w    write result to (source) file instead of stdout
</pre>



<p><a name="k11"></a></p>
<h2 id="k11">11. Kontrola použití importovaných modulů, plná podpora Unicode v&nbsp;programech</h2>

<p></p>

<a href="https://github.com/tisnik/go-fedora/blob/master/article_01/03_unused_imports.go"></a>

<pre><code>
package main

import "fmt"

func main() {
        println("Hello world!")
}
</code></pre>

<a href="https://github.com/tisnik/go-fedora/blob/master/article_01/04_hello_unicode.go"></a>

<pre>
$ <strong>go run 03_unused_imports.go </strong>

# command-line-arguments
./03_unused_imports.go:3:8: imported and not used: "fmt"
</pre>

<pre><code>
package main

import "fmt"

func main() {
        fmt.Println("╭─────────────────────╮")
        fmt.Println("│ příλiš žλuťΩučký kůň│")
        fmt.Println("╰─────────────────────╯")
}

</code></pre>

<pre>
$ <strong>go run 04_hello_unicode.go </strong>

╭─────────────────────╮
│ příλiš žλuťΩučký kůň│
╰─────────────────────╯
</pre>



<p><a name="k12"></a></p>
<h2 id="k12">12. Základy typového systému &ndash; odvození typu proměnné z&nbsp;hodnoty</h2>


<pre><code>
package main

import "fmt"

func main() {
        a := 10
        fmt.Println(a)
        b := "hello"
        fmt.Println(b)
        c := true
        fmt.Println(c)
}
</code></pre>

<pre>
$ <strong>go run 05_basic_type_inference.go </strong>
10
hello
true
</pre>

<pre><code>
package main

import "fmt"

func main() {
        a := 10
        fmt.Println(a)
        b := "hello"
        fmt.Println(b)
        c := true
        fmt.Println(c)

        a := "world"
        fmt.Println(a)
        b := 0
        fmt.Println(b)
        c := nil
        fmt.Println(c)
}
</code></pre>

<pre>
$ <strong>go run 06_variable_redeclaration.go</strong>

# command-line-arguments
./06_variable_redeclaration.go:13:4: no new variables on left side of :=
./06_variable_redeclaration.go:15:4: no new variables on left side of :=
./06_variable_redeclaration.go:17:4: no new variables on left side of :=
</pre>

<pre><code>
package main

import "fmt"

func main() {
        a := 10
        fmt.Println(a)
        b := "hello"
        fmt.Println(b)
        c := true
        fmt.Println(c)

        a = 20
        fmt.Println(a)
        b = "world"
        fmt.Println(b)
        c = false
        fmt.Println(c)
}
</code></pre>

<pre>
$ <strong>go run 07_variable_reassign.go </strong>

10
hello
true
20
world
false
</pre>

<pre><code>
package main

import "fmt"

func main() {
        a := 10
        fmt.Println(a)
        b := "hello"
        fmt.Println(b)
        c := true
        fmt.Println(c)

        a = "world"
        fmt.Println(a)
        b = 0
        fmt.Println(b)
        c = nil
        fmt.Println(c)
}
</code></pre>

<pre>
$ <strong>go run 08_no_true_dynamic_type.go </strong>

# command-line-arguments
./08_no_true_dynamic_type.go:13:6: cannot use "world" (type string) as type int in assignment
./08_no_true_dynamic_type.go:15:4: cannot use 0 (type int) as type string in assignment
./08_no_true_dynamic_type.go:17:4: cannot use nil as type bool in assignment
</pre>



<p><a name="k13"></a></p>
<h2 id="k13">13. Deklarace funkcí</h2>

<pre><code>
package main

import "fmt"

func printHello() {
        fmt.Println("Hello world!")
}
func main() {
        printHello()
}
</code></pre>

<pre>
$ <strong>go run 09_simple_function.go </strong>

Hello world!
</pre>



<p><a name="k14"></a></p>
<h2 id="k14">14. Specifikace typu argumentů funkcí</h2>

<pre><code>
package main

import "fmt"

func printMessage(message string) {
        fmt.Println(message)
}

func main() {
        printMessage("Hello world!")
}
</code></pre>

<pre>
$ <strong>go run 10_function_with_params.go </strong>

Hello world!
</pre>



<p><a name="k15"></a></p>
<h2 id="k15">15. Příkaz <strong>return</strong></h2>

<pre><code>
package main

import "fmt"

func getMessage() string {
        return "Hello world!"
}

func printMessage(message string) {
        fmt.Println(message)
}

func main() {
        printMessage(getMessage())
}
</code></pre>

<pre>
$ <strong>go run 11_return_statement.go </strong>

Hello world!
</pre>



<p><a name="k16"></a></p>
<h2 id="k16">16. Zkrácený zápis typů argumentů</h2>

<pre><code>
package main

import "fmt"

func sum(a int, b int) int {
        return a + b
}

func main() {
        fmt.Println("sum =", sum(1, 2))
}
</code></pre>

<pre>
$ <strong>go run 13_sum_function.go </strong>

sum = 3
</pre>



<p><a name="k17"></a></p>
<h2 id="k17">17. Vrácení většího množství hodnot z&nbsp;funkce</h2>

<pre><code>
package main

import "fmt"

func swap(a int, b int) (int, int) {
        return b, a
}

func main() {
        x := 1
        y := 2

        var z int
        var w int

        z, w = swap(x, y)
        fmt.Println("z =", z)
        fmt.Println("w =", w)
}
</code></pre>

<pre>
$ <strong>go run 14_swap_function.go </strong>

z = 2
w = 1
</pre>

<code><pre>
package main

import "fmt"

func swap(a int, b int) (int, int) {
        return b, a
}

func main() {
        x := 1
        y := 2
        z, w := swap(x, y)

        fmt.Println("z =", z)
        fmt.Println("w =", w)
}
</code></pre>

<pre>
$ <strong>go run 15_swap_function_B.go </strong>

z = 2
w = 1
</pre>



<p><a name="k18"></a></p>
<h2 id="k18">18. Pojmenování návratové hodnoty (speciální lokální proměnná)</h2>

<pre><code>
package main

import "fmt"

func getMessage() (message string) {
        message = "Hello world!"
        return
}

func printMessage(message string) {
        fmt.Println(message)
}

func main() {
        printMessage(getMessage())
}
</code></pre>

<pre>
$ <strong>go run 12_named_return_variable.go </strong>

Hello world!
</pre>

<pre><code>
package main

import "fmt"

func getMessage() (message string) {
        message = "Hello world!"
        return
        x := 42
}

func printMessage(message string) {
        fmt.Println(message)
}

func main() {
        printMessage(getMessage())
}
</code></pre>

<pre>
$ go <strong>run 16_return_at_the_end_of_function.go </strong>

# command-line-arguments
./16_return_at_the_end_of_function.go:9:1: missing return at end of function
</pre>



<p><a name="k19"></a></p>
<h2 id="k19">19. Repositář s&nbsp;demonstračními příklady</h2>

<p>Zdrojové kódy všech dnes popsaných demonstračních příkladů byly uloženy do Git repositáře, který je dostupný na adrese <a href="https://github.com/tisnik/go-fedora">https://github.com/tisnik/go-fedora</a> (stále na GitHubu :-). V&nbsp;případě, že nebudete chtít klonovat celý repositář (ten je ovšem &ndash; alespoň prozatím &ndash; velmi malý, dnes má doslova několik kilobajtů), můžete namísto toho použít odkazy na jednotlivé příklady, které naleznete v&nbsp;následující tabulce:</p>

<table>
<tr><th> #</th><th>Demonstrační příklad</th><th>Popis</th><th>Cesta</th></tr>
<tr><td> 1</td><td>01_hello_world.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/01_hello_world.go">https://github.com/tisnik/go-fedora/blob/master/article_01/01_hello_world.go</a></td></tr>
<tr><td> 2</td><td>02_better_hello_world.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/02_better_hello_world.go">https://github.com/tisnik/go-fedora/blob/master/article_01/02_better_hello_world.go</a></td></tr>
<tr><td> 3</td><td>03_unused_imports.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/03_unused_imports.go">https://github.com/tisnik/go-fedora/blob/master/article_01/03_unused_imports.go</a></td></tr>
<tr><td> 4</td><td>04_hello_unicode.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/04_hello_unicode.go">https://github.com/tisnik/go-fedora/blob/master/article_01/04_hello_unicode.go</a></td></tr>
<tr><td> 5</td><td>05_basic_type_inference.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/05_basic_type_inference.go">https://github.com/tisnik/go-fedora/blob/master/article_01/05_basic_type_inference.go</a></td></tr>
<tr><td> 6</td><td>06_variable_redeclaration.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/06_variable_redeclaration.go">https://github.com/tisnik/go-fedora/blob/master/article_01/06_variable_redeclaration.go</a></td></tr>
<tr><td> 7</td><td>07_variable_reassign.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/07_variable_reassign.go">https://github.com/tisnik/go-fedora/blob/master/article_01/07_variable_reassign.go</a></td></tr>
<tr><td> 8</td><td>08_no_true_dynamic_type.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/08_no_true_dynamic_type.go">https://github.com/tisnik/go-fedora/blob/master/article_01/08_no_true_dynamic_type.go</a></td></tr>
<tr><td> 9</td><td>09_simple_function.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/09_simple_function.go">https://github.com/tisnik/go-fedora/blob/master/article_01/09_simple_function.go</a></td></tr>
<tr><td>10</td><td>10_function_with_params.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/10_function_with_params.go">https://github.com/tisnik/go-fedora/blob/master/article_01/10_function_with_params.go</a></td></tr>
<tr><td>11</td><td>11_return_statement.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/11_return_statement.go">https://github.com/tisnik/go-fedora/blob/master/article_01/11_return_statement.go</a></td></tr>
<tr><td>12</td><td>12_named_return_variable.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/12_named_return_variable.go">https://github.com/tisnik/go-fedora/blob/master/article_01/12_named_return_variable.go</a></td></tr>
<tr><td>13</td><td>13_sum_function.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/13_sum_function.go">https://github.com/tisnik/go-fedora/blob/master/article_01/13_sum_function.go</a></td></tr>
<tr><td>14</td><td>14_swap_function.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/14_swap_function.go">https://github.com/tisnik/go-fedora/blob/master/article_01/14_swap_function.go</a></td></tr>
<tr><td>15</td><td>15_swap_function_B.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/15_swap_function_B.go">https://github.com/tisnik/go-fedora/blob/master/article_01/15_swap_function_B.go</a></td></tr>
<tr><td>16</td><td>16_return_at_the_end_of_function.go</td><td></td><td><a href="https://github.com/tisnik/go-fedora/blob/master/article_01/16_return_at_the_end_of_function.go">https://github.com/tisnik/go-fedora/blob/master/article_01/16_return_at_the_end_of_function.go</a></td></tr>
</table>



<p><a name="k20"></a></p>
<h2 id="k20">20. Odkazy na Internetu</h2>

<ol>

<li>The Go Programming Language (home page)<br />
<a href="https://golang.org/">https://golang.org/</a>
</li>

<li>GoDoc<br />
<a href="https://godoc.org/">https://godoc.org/</a>
</li>

<li>Go (programming language), Wikipedia<br />
<a href="https://en.wikipedia.org/wiki/Go_(programming_language)">https://en.wikipedia.org/wiki/Go_(programming_language)</a>
</li>

<li>Go Books (kniha o jazyku Go)<br />
<a href="https://github.com/dariubs/GoBooks">https://github.com/dariubs/GoBooks</a>
</li>

<li>Go: the Good, the Bad and the Ugly<br />
<a href="https://bluxte.net/musings/2018/04/10/go-good-bad-ugly/">https://bluxte.net/musings/2018/04/10/go-good-bad-ugly/</a>
</li>

<li>Package builtin<br />
<a href="https://golang.org/pkg/builtin/">https://golang.org/pkg/builtin/</a>
</li>

<li>Package fmt<br />
<a href="https://golang.org/pkg/fmt/">https://golang.org/pkg/fmt/</a>
</li>

<li>The Little Go Book (další kniha)<br />
<a href="https://github.com/dariubs/GoBooks">https://github.com/dariubs/GoBooks</a>
</li>

<li>The Go Programming Language by Brian W. Kernighan, Alan A. A. Donovan<br />
<a href="https://www.safaribooksonline.com/library/view/the-go-programming/9780134190570/ebook_split_010.html">https://www.safaribooksonline.com/library/view/the-go-programming/9780134190570/ebook_split_010.html</a>
</li>

<li>Learning Go<br />
<a href="https://www.miek.nl/go/">https://www.miek.nl/go/</a>
</li>

<li>Go Bootcamp<br />
<a href="http://www.golangbootcamp.com/">http://www.golangbootcamp.com/</a>
</li>

<li>Programming in Go: Creating Applications for the 21st Century (další kniha o jazyku Go)<br />
<a href="http://www.informit.com/store/programming-in-go-creating-applications-for-the-21st-9780321774637">http://www.informit.com/store/programming-in-go-creating-applications-for-the-21st-9780321774637</a>
</li>

<li>Introducing Go (Build Reliable, Scalable Programs)<br />
<a href="http://shop.oreilly.com/product/0636920046516.do">http://shop.oreilly.com/product/0636920046516.do</a>
</li>

<li>Learning Go Programming<br />
<a href="https://www.packtpub.com/application-development/learning-go-programming">https://www.packtpub.com/application-development/learning-go-programming</a>
</li>

<li>The Go Blog<br />
<a href="https://blog.golang.org/">https://blog.golang.org/</a>
</li>

<li>Getting to Go: The Journey of Go's Garbage Collector<br />
<a href="https://blog.golang.org/ismmkeynote">https://blog.golang.org/ismmkeynote</a>
</li>

<li>Go (programovací jazyk, Wikipedia)<br />
<a href="https://cs.wikipedia.org/wiki/Go_(programovac%C3%AD_jazyk)">https://cs.wikipedia.org/wiki/Go_(programovac%C3%AD_jazyk)</a>
</li>

<li>Rychle, rychleji až úplně nejrychleji s jazykem Go <br />
<a href="https://www.root.cz/clanky/rychle-rychleji-az-uplne-nejrychleji-s-jazykem-go/">https://www.root.cz/clanky/rychle-rychleji-az-uplne-nejrychleji-s-jazykem-go/</a>
</li>

<li>Installing Go on the Raspberry Pi<br />
<a href="https://dave.cheney.net/2012/09/25/installing-go-on-the-raspberry-pi">https://dave.cheney.net/2012/09/25/installing-go-on-the-raspberry-pi</a>
</li>

<li>How the Go runtime implements maps efficiently (without generics)<br />
<a href="https://dave.cheney.net/2018/05/29/how-the-go-runtime-implements-maps-efficiently-without-generics">https://dave.cheney.net/2018/05/29/how-the-go-runtime-implements-maps-efficiently-without-generics</a>
</li>

<li>Niečo málo o Go - Golang (slovensky)<br />
<a href="http://golangsk.logdown.com/">http://golangsk.logdown.com/</a>
</li>

<li>How Many Go Developers Are There?<br />
<a href="https://research.swtch.com/gophercount">https://research.swtch.com/gophercount</a>
</li>

<li>Most Popular Technologies (Stack Overflow Survery 2018)<br />
<a href="https://insights.stackoverflow.com/survey/2018/#most-popular-technologies">https://insights.stackoverflow.com/survey/2018/#most-popular-technologies</a>
</li>

<li>Most Popular Technologies (Stack Overflow Survery 2017)<br />
<a href="https://insights.stackoverflow.com/survey/2017#technology">https://insights.stackoverflow.com/survey/2017#technology</a>
</li>

<li>The Go Programming Language: Release History<br />
<a href="https://golang.org/doc/devel/release.html">https://golang.org/doc/devel/release.html</a>
</li>

<li>Go 1.10 Release Notes<br />
<a href="https://golang.org/doc/go1.10">https://golang.org/doc/go1.10</a>
</li>

<li>Go 1.9 Release Notes (tato verze je stále používána)<br />
<a href="https://golang.org/doc/go1.9">https://golang.org/doc/go1.9</a>
</li>

<li>Go 1.8 Release Notes (i tato verze je stále používána)<br />
<a href="https://golang.org/doc/go1.8">https://golang.org/doc/go1.8</a>
</li>

<li>Go on Fedora<br />
<a href="https://developer.fedoraproject.org/tech/languages/go/go-installation.html">https://developer.fedoraproject.org/tech/languages/go/go-installation.html</a>
</li>

<li>Writing Go programs<br />
<a href="https://developer.fedoraproject.org/tech/languages/go/go-programs.html">https://developer.fedoraproject.org/tech/languages/go/go-programs.html</a>
</li>

<li>The GOPATH environment variable<br />
<a href="https://tip.golang.org/doc/code.html#GOPATH">https://tip.golang.org/doc/code.html#GOPATH</a>
</li>

<li>Command gofmt<br />
<a href="https://tip.golang.org/cmd/gofmt/">https://tip.golang.org/cmd/gofmt/</a>
</li>

<li>The Go Blog: go fmt your code<br />
<a href="https://blog.golang.org/go-fmt-your-code">https://blog.golang.org/go-fmt-your-code</a>
</li>

<li>C? Go? Cgo!<br />
<a href="https://blog.golang.org/c-go-cgo">https://blog.golang.org/c-go-cgo</a>
</li>

<li>Spaces vs. Tabs: A 20-Year Debate Reignited by Google’s Golang<br />
<a href="https://thenewstack.io/spaces-vs-tabs-a-20-year-debate-and-now-this-what-the-hell-is-wrong-with-go/">https://thenewstack.io/spaces-vs-tabs-a-20-year-debate-and-now-this-what-the-hell-is-wrong-with-go/</a>
</li>

<li>400,000 GitHub repositories, 1 billion files, 14 terabytes of code: Spaces or Tabs?<br />
<a href="https://medium.com/@hoffa/400-000-github-repositories-1-billion-files-14-terabytes-of-code-spaces-or-tabs-7cfe0b5dd7fd">https://medium.com/@hoffa/400-000-github-repositories-1-billion-files-14-terabytes-of-code-spaces-or-tabs-7cfe0b5dd7fd</a>
</li>

<li>Gofmt No Longer Allows Spaces. Tabs Only<br />
<a href="https://news.ycombinator.com/item?id=7914523">https://news.ycombinator.com/item?id=7914523</a>
</li>

<li>Why does Go "go fmt" uses tabs instead of whitespaces?<br />
<a href="https://www.quora.com/Why-does-Go-go-fmt-uses-tabs-instead-of-whitespaces">https://www.quora.com/Why-does-Go-go-fmt-uses-tabs-instead-of-whitespaces</a>
</li>

<li>Interactive: The Top Programming Languages 2018<br />
<a href="https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2018">https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2018</a>
</li>

<li>Go vs. Python<br />
<a href="https://www.peterbe.com/plog/govspy">https://www.peterbe.com/plog/govspy</a>
</li>

<li>PackageManagementTools<br />
<a href="https://github.com/golang/go/wiki/PackageManagementTools">https://github.com/golang/go/wiki/PackageManagementTools</a>
</li>

<li>A Tour of Go: Type inference<br />
<a href="https://tour.golang.org/basics/14">https://tour.golang.org/basics/14</a>
</li>

<li>Go Slices: usage and internals<br />
<a href="https://blog.golang.org/go-slices-usage-and-internals">https://blog.golang.org/go-slices-usage-and-internals</a>
</li>

<li>Go by Example: Slices<br />
<a href="https://gobyexample.com/slices">https://gobyexample.com/slices</a>
</li>

<li>What is the point of slice type in Go?<br />
<a href="https://stackoverflow.com/questions/2098874/what-is-the-point-of-slice-type-in-go">https://stackoverflow.com/questions/2098874/what-is-the-point-of-slice-type-in-go</a>
</li>

<li>The curious case of Golang array and slices<br />
<a href="https://medium.com/@hackintoshrao/the-curious-case-of-golang-array-and-slices-2565491d4335">https://medium.com/@hackintoshrao/the-curious-case-of-golang-array-and-slices-2565491d4335</a>
</li>

<li>Introduction to Slices in Golang<br />
<a href="https://www.callicoder.com/golang-slices/">https://www.callicoder.com/golang-slices/</a>
</li>

<li>Golang: Understanding 'null' and nil<br />
<a href="https://newfivefour.com/golang-null-nil.html">https://newfivefour.com/golang-null-nil.html</a>
</li>

<li>What does nil mean in golang?<br />
<a href="https://stackoverflow.com/questions/35983118/what-does-nil-mean-in-golang">https://stackoverflow.com/questions/35983118/what-does-nil-mean-in-golang</a>
</li>

<li>nils In Go<br />
<a href="https://go101.org/article/nil.html">https://go101.org/article/nil.html</a>
</li>

<li>Go slices are not dynamic arrays<br />
<a href="https://appliedgo.net/slices/">https://appliedgo.net/slices/</a>
</li>

<li>Go-is-no-good (nelze brát doslova)<br />
<a href="https://github.com/ksimka/go-is-not-good">https://github.com/ksimka/go-is-not-good</a>
</li>

<li>Rust vs. Go<br />
<a href="https://news.ycombinator.com/item?id=13430108">https://news.ycombinator.com/item?id=13430108</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2018</small></p>
</body>
</html>

<!--
2018-08-01: 1 hod
2018-08-02: 1 hod
2018-08-03: 1 hod
2018-08-04: 0 hod
2018-08-05: 0 hod
publikace:  0 hod
-----------------
            3 hod
-->
