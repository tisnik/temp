<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Indexování a fulltextové vyhledávání v dokumentech s využitím nástroje Elasticsearch</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Indexování a fulltextové vyhledávání v dokumentech s využitím nástroje Elasticsearch</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V tomto článku si popíšeme poměrně jednoduchý způsob konfigurace fulltextového vyhledávacího systému s využitím nástroje Elasticsearch. Pro indexaci dokumentů uložených v různých formátech (HTML, PDF, Epub, MS Office atd.) je použita knihovna Apache Tika. Na závěr si ukážeme webové GUI naprogramované v Clojure.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Indexování a fulltextové vyhledávání v&nbsp;dokumentech s&nbsp;využitím nástroje Elasticsearch</a></p>
<p><a href="#k02">2. Lokální instalace nástroje Elasticsearch</a></p>
<p><a href="#k03">3. Instalace pluginu určeného pro indexování příloh (dokumentů) v&nbsp;různých formátech</a></p>
<p><a href="#k04">4. Základní nastavení mapování</a></p>
<p><a href="#k05">5. Přidání dokumentů do fulltextové databáze</a></p>
<p><a href="#k06">6. Vyhledávání dokumentů na základě hledané fráze</a></p>
<p><a href="#k07">7. První vylepšení indexování: uložení metadat dokumentů</a></p>
<p><a href="#k08">8. Vyhledávání v&nbsp;dokumentech se zobrazením základních metadat</a></p>
<p><a href="#k09">9. Druhé vylepšení indexování: uživatelsky definovaná metadata</a></p>
<p><a href="#k10">10. Vyhledávání v&nbsp;dokumentech se zobrazením uživatelských metadat</a></p>
<p><a href="#k11">11. Omezení počtu vyhledaných dokumentů i počtu zobrazených řetězců se zvýrazněním</a></p>
<p><a href="#k12">12. Jednoduché GUI k&nbsp;vyhledávacímu Engine naprogramované v&nbsp;jazyce Clojure</a></p>
<p><a href="#k13">13. Spuštění a použití GUI</a></p>
<p><a href="#k14">14. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Indexování a fulltextové vyhledávání v&nbsp;dokumentech s&nbsp;využitím nástroje Elasticsearch</h2>

<p>Mezi jeden z&nbsp;nejznámějších a pravděpodobně i nejrozšířenějších nástrojů
určených pro fulltextové vyhledávání patří fulltextový vyhledávač nazvaný
<i>Elasticsearch</i>. Ten je, společně s&nbsp;podpůrnými knihovnami a některými
pluginy, naprogramovaný kompletně v&nbsp;Javě, což mj.&nbsp;znamená možnost
jeho snadné instalace na různých platformách a operačních systémech; vzácností
nejsou ani heterogenní clustery složené z&nbsp;různých platforem. Mezi
přednosti <i>Elasticsearche</i> patří velmi dobrá škálovatelnost (tou se však
dnes nebudeme zabývat), vysoká dostupnost spočívající v&nbsp;automatickém
sledování a řízení jednotlivých uzlů v&nbsp;clusteru (taktéž se jedná o téma
přesahující rozsah tohoto článku) a v&nbsp;neposlední řadě i vysoká rychlost
vyhledávání, která může ty uživatele, kteří jsou zklamáni z&nbsp;výkonu Javy
například u některých desktopových aplikací, velmi příjemně překvapit.</p>

<p><i>Elasticsearch</i> dokáže indexovat čistě textová data,
popř.&nbsp;strukturované údaje složené opět z&nbsp;textových dat. To je sice
pěkné, ovšem v&nbsp;reálném světě se v&nbsp;mnoha případech setkáme
s&nbsp;dokumenty uloženými do formátu PDF, Open/Libre Office, MS Office,
s&nbsp;knihami ve formátu Epub a samozřejmě i s&nbsp;dokumenty používajícími
značkovací jazyky HTML a XML. I pro indexaci a vyhledávání v&nbsp;takových
dokumentech je možné <i>Elasticsearch</i> použít, ovšem je nutné tento nástroj
doplnit o vhodný zásuvný modul (plugin), který dokáže se soubory různých typů
více či méně úspěšně pracovat a parsovat je. Tento plugin skutečně existuje a
jmenuje se <i>mapper-attachment</i>. Interně se pro rozpoznání formátu
dokumentů a pro jejich indexaci používá knihovna nazvaná <i>Apache Tika</i>. Na
stránce <a
href="http://tika.apache.org/1.13/formats.html">http://tika.apache.org/1.13/formats.html</a>
jsou dostupné informace o podporovaných formátech; užitečná je jak podpora
formátů používaných v&nbsp;balíčcích &bdquo;office&ldquo;, tak i podpora pro
zmíněný PDF a Epub.</p>

<p>V&nbsp;dalším textu se ve stručnosti seznámíme s:</p>

<ol>
<li>Lokální instalací nástroje <i>Elasticsearch</i></li>
<li>Instalací pluginu <i>mapper-attachment</i></li>
<li>Konfigurací mapování a indexací dokumentů</li>
<li>Vyhledávání v&nbsp;dokumentech se zvýrazněním vyhledaných výrazů</li>
<li>Použitím automaticky zjišťovaných metadat</li>
<li>Použitím uživatelsky nastavených metadat</li>
<li>Jednoduchou aplikací s&nbsp;webovým GUI, která komunikuje s&nbsp;Elasticsearchem pomocí RESTful API</li>
</ol>



<p><a name="k02"></a></p>
<h2 id="k02">2. Lokální instalace nástroje Elasticsearch</h2>

<div class="rs-tip-major">Důležité upozornění: nástroj <i>Elasticsearch</i>
sice nalezneme v&nbsp;repositářích mnoha Linuxových distribucí, ovšem
v&nbsp;tomto článku budeme předpokládat, že se používá jedna konkrétní verze
<strong>2.4.0</strong>. Je to důležitá informace, protože především dále
popsaný plugin <i>mapper-attachment</i> se postupně vyvíjí a mění, takže
příklady jsou upraveny tak, aby fungovaly právě v&nbsp;Elasticsearchi 2.4.0 a
k&nbsp;němu příslušné verzi pluginu (zejména <i>Elasticsearch</i>
<strong>1.x.y</strong> se bude chovat odlišně!).</div>

<p>Lokální instalace <i>Elasticsearche</i> je velmi jednoduchá a vyžaduje
vlastně pouze dva kroky. Předpokladem je, že máte v&nbsp;systému JVM alespoň
verze 7. Pokud je JVM nainstalována (lze zkontrolovat například přes
<strong>java -version</strong>), postačuje si do pracovního adresáře stáhnout
archiv s&nbsp;verzí 2.4.0 a rozbalit ho:</p>

<pre>
wget https://download.elastic.co/elasticsearch/release/org/elasticsearch/distribution/zip/elasticsearch/2.4.0/elasticsearch-2.4.0.zip
unzip elasticsearch-2.4.0.zip
</pre>

<p>Můžeme si zkusit Elasticsearch pustit, prozatím bez dat:</p>

<pre>
cd elasticsearch-2.4.0/bin
./elasticsrach
</pre>

<p>Na standardní výstup by se měly vypsat přibližně následující zprávy (jen se
nelekněte, že jméno vlákna je zvoleno náhodně):</p>

<pre>
[2016-09-25 21:30:56,815][INFO ][node                     ] [Alexander Goodwin Pierce] version[2.4.0], pid[4826], build[ce9f0c7/2016-08-29T09:14:17Z]
[2016-09-25 21:30:56,816][INFO ][node                     ] [Alexander Goodwin Pierce] initializing ...
[2016-09-25 21:30:57,393][INFO ][plugins                  ] [Alexander Goodwin Pierce] modules [lang-groovy, reindex, lang-expression], plugins [], sites []
[2016-09-25 21:30:57,443][INFO ][env                      ] [Alexander Goodwin Pierce] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [98.5gb], net total_space [113.5gb], spins? [no], types [ext4]
[2016-09-25 21:30:57,443][INFO ][env                      ] [Alexander Goodwin Pierce] heap size [990.7mb], compressed ordinary object pointers [true]
[2016-09-25 21:30:57,443][WARN ][env                      ] [Alexander Goodwin Pierce] max file descriptors [4096] for elasticsearch process likely too low, consider increasing to at least [65536]
[2016-09-25 21:30:59,367][INFO ][node                     ] [Alexander Goodwin Pierce] initialized
[2016-09-25 21:30:59,367][INFO ][node                     ] [Alexander Goodwin Pierce] starting ...
[2016-09-25 21:30:59,441][INFO ][transport                ] [Alexander Goodwin Pierce] publish_address {127.0.0.1:9300}, bound_addresses {127.0.0.1:9300}, {[::1]:9300}
[2016-09-25 21:30:59,446][INFO ][discovery                ] [Alexander Goodwin Pierce] elasticsearch/uQfXGZ70QNah5K387Oqu-g
[2016-09-25 21:31:02,522][INFO ][cluster.service          ] [Alexander Goodwin Pierce] new_master {Alexander Goodwin Pierce}{uQfXGZ70QNah5K387Oqu-g}{127.0.0.1}{127.0.0.1:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-09-25 21:31:02,538][INFO ][http                     ] [Alexander Goodwin Pierce] publish_address {127.0.0.1:9200}, bound_addresses {127.0.0.1:9200}, {[::1]:9200}
[2016-09-25 21:31:02,538][INFO ][node                     ] [Alexander Goodwin Pierce] started
[2016-09-25 21:31:02,579][INFO ][gateway                  ] [Alexander Goodwin Pierce] recovered [0] indices into cluster_state
</pre>

<p>Ve zprávách je mj.&nbsp;uvedeno, že na URL 127.0.0.1:9200 nebo též
localhost:9200 je možné s&nbsp;Elasticsearchem komunikovat přes RESTful API.
Ostatně můžeme si to vyzkoušet:</p>

<pre>
$ <strong>curl localhost:9200</strong>
&nbsp;
{
  "name" : "Alexander Goodwin Pierce",
  "cluster_name" : "elasticsearch",
  "version" : {
    "number" : "2.4.0",
    "build_hash" : "ce9f0c7394dee074091dd1bc4e9469251181fc55",
    "build_timestamp" : "2016-08-29T09:14:17Z",
    "build_snapshot" : false,
    "lucene_version" : "5.5.2"
  },
  "tagline" : "You Know, for Search"
}
</pre>

<p>Poznámka: opět platí, že jméno (zde "Alexander Goodwin Pierce") se
s&nbsp;velkou pravděpodobností bude na vašem počítači lišit.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Instalace pluginu určeného pro indexování příloh (dokumentů) v&nbsp;různých formátech</h2>

<p>Druhým důležitým krokem je instalace pluginu, který se bude starat o
parsování a indexování dokumentů uložených v&nbsp;různých formátech. Nejprve
pro jistotu běžící Elasticsearch ukončíme (Ctrl+C) a nainstalujeme plugin
k&nbsp;tomu připraveným skriptem:</p>

<pre>
cd elasticsearch-2.4.0/bin
./plugin install mapper-attachments
</pre>

<p>Po chvíli by se měla zobrazit zpráva o úspěšné (doufejme!) instalaci
pluginu. Pokud se nyní pokusíme Elasticsearch znovu spustit, objeví se ve
zprávách nový řádek, který je v&nbsp;následujícím výpisu zvýrazněn:</p>

<pre>
<strong>./elasticsrach</strong>
&nbsp;
[2016-09-26 20:17:39,804][INFO ][node                     ] [Anti-Phoenix Force] version[2.4.0], pid[9150], build[ce9f0c7/2016-08-29T09:14:17Z]
[2016-09-26 20:17:39,804][INFO ][node                     ] [Anti-Phoenix Force] initializing ...
<strong>[2016-09-26 20:17:40,572][INFO ][plugins                  ] [Anti-Phoenix Force] modules [lang-groovy, reindex, lang-expression], plugins [mapper-attachments], sites []</strong>
[2016-09-26 20:17:40,604][INFO ][env                      ] [Anti-Phoenix Force] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [98.5gb], net total_space [113.5gb], spins? [no], types [ext4]
[2016-09-26 20:17:40,604][INFO ][env                      ] [Anti-Phoenix Force] heap size [990.7mb], compressed ordinary object pointers [true]
[2016-09-26 20:17:40,605][WARN ][env                      ] [Anti-Phoenix Force] max file descriptors [4096] for elasticsearch process likely too low, consider increasing to at least [65536]
[2016-09-26 20:17:42,479][INFO ][node                     ] [Anti-Phoenix Force] initialized
[2016-09-26 20:17:42,479][INFO ][node                     ] [Anti-Phoenix Force] starting ...
[2016-09-26 20:17:42,540][INFO ][transport                ] [Anti-Phoenix Force] publish_address {127.0.0.1:9300}, bound_addresses {127.0.0.1:9300}, {[::1]:9300}
[2016-09-26 20:17:42,546][INFO ][discovery                ] [Anti-Phoenix Force] elasticsearch/rcWn1VueQpaPlnGDpCO8xg
[2016-09-26 20:17:45,606][INFO ][cluster.service          ] [Anti-Phoenix Force] new_master {Anti-Phoenix Force}{rcWn1VueQpaPlnGDpCO8xg}{127.0.0.1}{127.0.0.1:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-09-26 20:17:45,622][INFO ][http                     ] [Anti-Phoenix Force] publish_address {127.0.0.1:9200}, bound_addresses {127.0.0.1:9200}, {[::1]:9200}
[2016-09-26 20:17:45,622][INFO ][node                     ] [Anti-Phoenix Force] started
[2016-09-26 20:17:45,768][INFO ][gateway                  ] [Anti-Phoenix Force] recovered [0] indices into cluster_state
</pre>

<p>Poznámka: pokud se zvýrazněný řádek neobjeví, nebudou dále popisované
příklady fungovat a je nutné zjistit, proč instalace selhala. Zejména u
starších verzí Elasticsearchu se to v&nbsp;některých případech stávalo, takže
je kontrola důležitá.</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Základní nastavení mapování</h2>

<p>Před vlastním parsováním a indexací dokumentů je nutné Elasticsearch
nakonfigurovat a nastavit mapování. Veškerá komunikace s&nbsp;Elasticsearchem
probíhá přes RESTful API, což mj.&nbsp;znamená, že si vystačíme
s&nbsp;nástrojem <strong>curl</strong>. Existují sice i nadstavby pro webové
prohlížeče či integrovaná vývojová prostředí, které mohou práci s&nbsp;RESTful
API zjednodušit, nicméně prozatím si skutečně vystačíme s&nbsp;velmi flexibilní
příkazovou řádkou. Nastavení mapování provedeme následujícím způsobem:</p>

<pre>
curl -XPUT "localhost:9200/docs/"
curl -XPUT "localhost:9200/docs/document/_mapping" -d @create_mapping.json
</pre>

<p>Poznámka: zkontrolujte, zda Elasticsearch odpověděl stylem
<strong>{"acknowledged":true}</strong> a nikoli chybovým hlášením.</p>

<p>Druhé volání REST API do Elasticsearche přenáší obsah JSON souboru nazvaného
<strong>create_mapping.json</strong>. V&nbsp;tomto souboru je definováno, že se
mají indexovat přílohy (zpracovávané pluginem <i>mapper-attachment</i>) a při
indexování se má interně vytvořit datová struktura umožňující rychlé hledání
slov a sousloví v&nbsp;parsovaných dokumentech:</p>

<pre>
{
  "document" : {
    "properties" : {
      "file" : {
        "type" : "attachment",
        "fields" : {
          "content" : { "type":"string","term_vector":"with_positions_offsets", "store":"yes" }
        }
      }
    }
  }
}
</pre>

<p>Interně se zpracovávané soubory nejdříve převedou do textové podoby:</p>

<img src="http://i.stack.imgur.com/JgFYq.png" alt="&#160;" />

<p>A následně se pro jednotlivá slova vytvoří (přibližně) následující
struktura, která je interně uložena efektivním způsobem umožňujícím rychlé
vyhledávání a současně i poměrně malé nároky na diskový prostor:</p>

<img src="http://i.stack.imgur.com/hGpaB.png" alt="&#160;" />

<p>Více informací se můžete v&nbsp;případě zájmu dozvědět na <a
href="http://blog.jpountz.net/post/41301889664/putting-term-vectors-on-a-diet">http://blog.jpountz.net/post/41301889664/putting-term-vectors-on-a-diet</a>,
pro samotné provozování Elasticsearche to však není nutné.</p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Přidání dokumentů do fulltextové databáze</h2>

<p>Nyní nastává důležitý okamžik &ndash; začneme do fulltextové databáze
přidávat dokumenty. Ty se musí přenášet přes RESTful API ve formátu JSON. To
zdánlivě představuje problém, protože například PDF je binární formát, který
může obsahovat všechny znaky (včetně znaku pro konec souboru, konec řetězce
apod.). Aby se předešlo zmatkům, vyžaduje plugin <i>mapper-attachment</i>, aby
se obsah všech souborů před přenosem zakódoval s&nbsp;použitím <a
href="https://en.wikipedia.org/wiki/Base64">Base64</a>. Předností je, že při
použití Base64 se binární data převedou na sekvenci znaků A-Z, a-z, 0-9, + a /
(navíc ještě =), takže se zde nevyskytují žádné potenciálně problematické
znaky, které by mohly způsobit chybu při zpracování JSONu na straně
Elasticsearche. Pro zjednodušení přidávání souborů do databáze lze použít
následující skript nazvaný <strong>add_file.sh</strong>:</p>

<pre>
#!/bin/sh  
&nbsp;      
coded=`cat $1 | perl -MMIME::Base64 -ne 'print encode_base64($_)'`  
json="{\"file\":\"${coded}\"}"  
echo "$json" &gt; file.json
curl -X POST "localhost:9200/docs/document/" -d @file.json
</pre>

<p>Příklad použití:</p>

<pre>
./add_file.sh index.html
./add_file.sh TopSecret.odt
./add_file.sh InstallationGuide.pdf
</pre>

<p>Poznámka: skript na disku ponechá soubor <strong>file.json</strong> určený
pro studijní účely.</p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Vyhledávání dokumentů na základě hledané fráze</h2>

<p>I vyhledávání v&nbsp;dokumentech je zabezpečeno přes RESTful API, přičemž
specifikace, co a jak se má vyhledat, je přenesena v&nbsp;JSON:</p>

<pre>
#!/bin/sh  
&nbsp;
curl -XGET "http://localhost:9200/_search?pretty" -d @search.json
</pre>

<p>V&nbsp;souboru <strong>search.json</strong> je (pro testovací účely)
ukázáno, jak hledat například slovo &bdquo;network&ldquo;:</p>

<pre>
{
  "fields" : [],
  "query" : {
    "match" : {
      "file.content" : "network"
    }
  },
  "highlight" : {
    "fields" : {
      "file.content" : {}
    }
  }
}
</pre>

<p>Elasticsearch odpoví &ndash; jak jinak &ndash; taktéž strukturou
reprezentovanou v&nbsp;JSONu:</p>

<pre>
{
  "took" : 39,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 1,
    "max_score" : 0.0817802,
    "hits" : [ {
      "_index" : "docs",
      "_type" : "document",
      "_id" : "AVdnaVFvU0d6k-GWgQp5",
      "_score" : 0.0817802,
      "highlight" : {
        "file.content" : [
            "configuration and administration of &lt;em&gt;network&lt;/em&gt; interfaces, networks and &lt;em&gt;network&lt;/em&gt; services in Red Hat Enterprise",
            "NetworkManager\n\n\n\t1.5. &lt;em&gt;Network&lt;/em&gt; Configuration Using a Text User Interface (nmtui)\n\t1.6. &lt;em&gt;Network&lt;/em&gt; Configuration Using",
            "Using NetworkManager's CLI (nmcli)\n\t1.7. &lt;em&gt;Network&lt;/em&gt; Configuration Using the Command-Line Interface (CLI)",
            "(CLI)\n\t1.8. NetworkManager and the &lt;em&gt;Network&lt;/em&gt; Scripts\n\t1.9. &lt;em&gt;Network&lt;/em&gt; Configuration Using sysconfig Files\n\t1.10",
            "Interface Settings\n\t\t2.1.1. When to Use Static &lt;em&gt;Network&lt;/em&gt; Interface Settings\n\t2.1.2. When to Use Dynamic" ]
      }
    }
}
</pre>

<p>Povšimněte si, že se vrátily jak informace o průběhu vyhledávání (čas
v&nbsp;milisekundách atd.), tak i část indexovaného dokumentu, v&nbsp;němž je
nalezený řetězec zvýrazněn značkou &lt;em&gt; (to lze ovšem změnit). Taktéž si
všimněte, že se nalezlo celkem pět bloků v&nbsp;dokumentu s&nbsp;výskytem
hledaného slova, takže pod klíčem <strong>file.content</strong> je uloženo
pole, jehož obsah jsem pro jistotu zdůraznil přidáním konců řádků za jednotlivé
řetězce (ty Elasticsearch kupodivu sám nepřidává).</p>



<p><a name="k07"></a></p>
<h2 id="k07">7. První vylepšení indexování: uložení metadat dokumentů</h2>

<p>K&nbsp;indexovaným dokumentům může plugin <i>mapper-attachment</i> přidat i
některá automaticky zjištěná metadata, například typ souboru, délku dat,
titulek (nemusí být dostupný vždy) či datum vytvoření (opět závisí na typu
dokumentu). Pojďme si to vyzkoušet. Nejprve vytvoříme a nakonfigurujeme nové
mapování. Povšimněte si použití <strong>docs2</strong>, aby nedošlo
k&nbsp;chybovému hlášení, že mapování pro <strong>docs</strong> již
existuje:</p>

<pre>
curl -XPUT "localhost:9200/docs2/"
curl -XPUT "localhost:9200/docs2/document/_mapping" -d @create_mapping2.json
</pre>

<p>Tentokrát je již soubor <strong>create_mapping2.json</strong> nepatrně
složitější, protože v&nbsp;něm specifikujeme další atributy, které se mají
ukládat do databáze:</p>

<pre>
{
  "document" : {
    "properties" : {
      "file" : {
        "type" : "attachment",
        "fields" : {
          "title" :          {"store" : "yes" },
          "date" :           {"store" : "yes" },
          "content" :        {"type":"string","term_vector":"with_positions_offsets", "store":"yes" },
          "content_type" :   {"store" : "yes"},
          "content_length" : {"store" : "yes"},
          "language" :       {"store" : "yes"}
        }
      }
    }
  }
}
</pre>

<p>Poznámka: většinou se při konfiguraci lze spolehnout na úzus, že hodnota
"yes" je totožná s&nbsp;hodnotou "true".</p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Vyhledávání v&nbsp;dokumentech se zobrazením základních metadat</h2>

<p>Pomocný skript <strong>add_file.sh</strong> si upravte, aby používal odlišné
URL a následně zkuste do databáze přidat další dokumenty:</p>

<pre>
#!/bin/sh  
&nbsp;      
coded=`cat $1 | perl -MMIME::Base64 -ne 'print encode_base64($_)'`  
json="{\"file\":\"${coded}\"}"  
echo "$json" &gt; file.json
curl -X POST "localhost:9200/<strong>docs2</strong>/document/" -d @file.json
</pre>

<p>I skript pro vyhledání je zapotřebí nepatrně upravit:</p>

<pre>
#!/bin/sh  
&nbsp;
curl -XGET "http://localhost:9200/<strong>docs2</strong>/_search?pretty" -d @search2.json
</pre>

<p>Po těchto úpravách je možné při vyhledávání požadovat, aby se kromě
vlastního textu s&nbsp;nalezenými slovy vrátily i metainformace o dokumentu,
tj.&nbsp;konkrétně titulek, datum vytvoření/modifikace, délka a typ původního
souboru:</p>

<pre>
{
  "fields" : ["file.content_type", "file.title", "file.date", "file.content_length"],
  "query" : {
    "match" : {
      "file.content" : "network"
    }
  },
  "highlight" : {
    "fields" : {
      "file.content" : {}
    }
  }
}
</pre>

<p>V&nbsp;praxi může výsledek vyhledávání vypadat například takto:</p>

<pre>
{
  "took" : 17,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 1,
    "max_score" : 0.011244276,
    "hits" : [ {
      "_index" : "docs2",
      "_type" : "document",
      "_id" : "AVdnbbR-42uB_K-xw_ex",
      "_score" : 0.011244276,
      "fields" : {
        "file.content_length" : [ "391905" ],
        "file.content_type" : [ "application/xhtml+xml; charset=UTF-8" ],
        "file.title" : [ "Fedora 22 Release Notes" ]
      },
      "highlight" : {
        "file.content" : [
            "Hardware Enablement. \n\n\t\t\t\n\n\t\n\t\t\t\tController Area <em>Network</em> (CAN) device drivers are now supported, see Chapter 12",
            "possible to read information about the system <em>network</em> interfaces from the operating system. It has been",
            "discovery to find the nearest servers, and to use the <em>network</em> in an optimized way. As a result, administrators",
            "certificate can be used. For example, a Virtual Private <em>Network</em> (VPN) server can be configured to only accept certificates",
            "option -p for the arpwatch command of the arpwatch <em>network</em> monitoring tool. This option disables promiscuous" ]
      }
    } ]
  }
}
</pre>

<p>Povšimněte si, že u souborů HTML nebylo možné zjistit datum vytvoření.
Například u PDF souborů je to však možné:</p>

<pre>
{
  "took" : 19,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 1,
    "max_score" : 0.028263604,
    "hits" : [ {
      "_index" : "docs2",
      "_type" : "document",
      "_id" : "AVdoKXkSdBFvurTfS8dM",
      "_score" : 0.028263604,
      "fields" : {
        "file.content_length" : [ "958776" ],
        "file.content_type" : [ "application/pdf" ],
        "file.date" : [ "2013-09-16T15:55:06Z" ],
        "file.title" : [ "VideoCore® IV 3D Architecture Reference Guide" ]
      },
      "highlight" : {
        "file.content" : [ "to je ted nezajimave :-)" ]
      }
    } ]
  }
}
</pre>



<p><a name="k09"></a></p>
<h2 id="k09">9. Druhé vylepšení indexování: uživatelsky definovaná metadata</h2>

<p>Kromě automaticky zjišťovaných metadat je samozřejmě možné k&nbsp;dokumentům
přidat i uživatelská metadata. Opět si to vyzkoušejme; nejdříve však
nakonfigurujeme další (už poslední) mapování:</p>

<pre>
curl -XPUT "localhost:9200/docs3/"
curl -XPUT "localhost:9200/docs3/document/_mapping" -d @create_mapping2.json
</pre>

<p>Nyní můžeme u každého dokumentu specifikovat produkt, verzi produktu a URL
s&nbsp;výsledným dokumentem (samozřejmě si můžete definovat vlastní metadata,
například zda už byl dokument nahrán do čtečky, zda ho už indexuje taktéž NSA
atd. atd.). K&nbsp;touto účelu postačuje nepatrně rozšířit JSON strukturu
předávanou přes RESTful API při parsování a indexování dokumentu. Upravíme si
tedy soubor <strong>add_file.sh</strong>, aby akceptoval čtyři parametry: jméno
souboru, jméno produktu, jeho verzi a URL:</p>

<pre>
#!/bin/sh  
&nbsp;      
coded=`cat $1 | perl -MMIME::Base64 -ne 'print encode_base64($_)'`  
json="{\"product\":\"$2\",\"version\":\"$3\",\"url\":\"$4\",\"file\":\"${coded}\"}"  
echo "$json" &gt; file.json
curl -X POST "localhost:9200/docs3/document/" -d @file.json
</pre>

<p>Příklad použití:</p>

<pre>
./add_file.sh InstallationGuide.pdf "Fedora" "23" "https://docs.fedoraproject.org/en-US/Fedora/23/pdf/Installation_Guide/Fedora-23-Installation_Guide-en-US.pdf"
</pre>

<p>Poznámka: zajisté jste si všimli, že může dojít k&nbsp;problémům ve chvíli,
kdy například název produktu obsahuje nějaké znaky, které by mohly způsobit
chybu při zpracování JSONu. Úpravu skriptu ponechám na váženém čtenáři (není to
nic složitého).</p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Vyhledávání v&nbsp;dokumentech se zobrazením uživatelských metadat</h2>

<p>Opět je možné rozšířit možnosti vyhledávání o zobrazení nových metadat
(produktu, jeho verze a URL):</p>

<pre>
#!/bin/sh  
&nbsp;
curl -XGET "http://localhost:9200/docs2/_search?pretty" -d @search3.json
</pre>

<p>Jména atributů s&nbsp;metadaty se jednoduše přidají do pole dostupné pod
klíčem <strong>fields</strong>:</p>

<pre>
{
  "fields" : ["product", "version", "url", "file.content_type", "file.title", "file.date", "file.content_length"],
  "query" : {
    "match" : {
      "file.content" : "network"
    }
  },
  "highlight" : {
    "fields" : {
      "file.content" : {}
    }
  }
}
</pre>

<p>Výsledek může vypadat takto:</p>

<pre>
{
  "took" : 26,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 3,
    "max_score" : 0.042208605,
    "hits" : [ {
      "_index" : "docs3",
      "_type" : "document",
      "_id" : "AVdneznq42uB_K-xw_e_",
      "_score" : 0.042208605,
      "fields" : {
        "product" : [ "Fedora" ],
        "file.content_length" : [ "903404" ],
        "file.content_type" : [ "application/xhtml+xml; charset=UTF-8" ],
        "url" : [ "http://root.cz" ],
        "version" : [ "22" ],
        "file.title" : [ "Installation Guide" ]
      },
      "highlight" : {
        "file.content" : [ "ted nezajimave" ]
      }
    } ]
  }
}
</pre>

<p>Poznámka: metadata jsou vrácena ve formě polí! Proto pozor na způsob jejich
přečtení.</p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Omezení počtu vyhledaných dokumentů i počtu zobrazených řetězců se zvýrazněním</h2>

<p>Elasticsearch taktéž umožňuje omezení počtu vyhledávaných dokumentů. To lze
zajistit atributem <strong>size</strong>, který je možné kombinovat
s&nbsp;atributem <strong>from</strong> (tento druhý atribut je však možné
vynechat). Příkladem z&nbsp;praxe může být (mezi uživateli nepříliš oblíbené)
rozdělení výsledků do více stránek, mezi kterými se lze přepínat. Dále je možné
omezit i počet řetězců nalezených v&nbsp;jednom dokumentu. Pozor: nejedná se o
počet celkově nalezených slov či sousloví, protože pokud je slovo/sousloví
umístěno například v&nbsp;jedné větě několikrát, je to stále považováno za
jeden nález (například když budete v&nbsp;anglických dokumentech hledat slovo
&bdquo;the&ldquo;). Ukažme si použití obou omezení v&nbsp;praxi:</p>

<pre>
#!/bin/sh  
&nbsp;
curl -XGET "http://localhost:9200/docs2/_search?pretty" -d @search4.json
</pre>

<pre>
{
  <strong>"size" : 1,</strong>
  "fields" : ["product", "version", "url", "file.content_type", "file.title", "file.date", "file.content_length"],
  "query" : {
    "match" : {
      "file.content" : "network"
    }
  },
  "highlight" : {
    "fields" : {
      "file.content" : {<strong>"number_of_fragments":5</strong>}
    }
  }
}
</pre>

<p>Počet dokumentů byl omezen na jeden, počet tzv.&nbsp;fragmentů na pět.</p>



<p><a name="k12"></a></p>
<h2 id="k12">12. Jednoduché GUI k&nbsp;vyhledávacímu Engine naprogramované v&nbsp;jazyce Clojure</h2>

<p>Popis základní instalace jednoho uzlu Elasticsearche a jeho konfigurace pro
fulltextové vyhledávání tedy máme za sebou, takže se pro ukázku komunikace
aplikace s&nbsp;Elasticsearchem přes RESTful API podívejme na velmi jednoduchou
webovou aplikaci naprogramovanou v&nbsp;Clojure. Jedná se o aplikaci postavenou
nad knihovnami <a
href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-4/#k02">clojure-ring</a>
a <a
href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-6/#k02">hiccup</a>,
s&nbsp;nimiž jsme se seznámili v&nbsp;seriálu o programovacím jazyku
Clojure. V&nbsp;aplikaci lze zadat vyhledávanou frázi, limit na počet vrácených
dokumentů i limit na počet bloků s&nbsp;vyhledanou frází. Veškerá kontrola
zadaných dat je provedena jen na straně serveru, přidání JS (nebo přenos celé
aplikace například do Angularu) není příliš složité.</p>

<p>Struktura projektu vygenerovaná nástrojem Leiningen je následující:</p>

<pre>
.
├── doc
│   └── intro.md
├── LICENSE
├── project.clj
├── README.md
├── resources
├── src
│   └── es
│       ├── core.clj
│       └── server.clj
└── test
    └── es
        └── core_test.clj
</pre>

<p>Důležité jsou jen soubory <strong>project.clj</strong>,
<strong>src/es/core.clj</strong> a <strong>src/es/server.clj</strong>.</p>

<h3>project.clj</h3>

<p>V&nbsp;tomto souboru je důležitá především specifikace všech použitých
knihoven:</p>

<pre>
(defproject es "0.1.0-SNAPSHOT"
    :description "FIXME: write description"
    :url "http://example.com/FIXME"
    :license {:name "Eclipse Public License"
              :url "http://www.eclipse.org/legal/epl-v10.html"}
    :dependencies [[org.clojure/clojure "1.6.0"]
                   [org.clojure/data.json "0.2.5"]
                   [org.clojure/tools.cli "0.3.1"]
                   [ring/ring-core "1.3.2"]
                   [ring/ring-jetty-adapter "1.3.2"]
                   [clj-http "2.0.0"]
                   [hiccup "1.0.4"]]
    :dev-dependencies [[lein-ring "0.8.10"]]
    :plugins [[lein-ring "0.8.10"]]
    :ring {:handler es.core/app}
    :main ^:skip-aot es.core
    :target-path "target/%s"
    :profiles {:uberjar {:aot :all}})
</pre>



<h3>core.clj</h3>

<p>V&nbsp;souboru <strong>core.clj</strong> je umístěn programový kód, který
aplikaci spustí jako webový server na zadaném portu. Pokud port není zadán,
použije se výchozí hodnota 3000:</p>

<pre>
(ns es.core)
&nbsp;
(require '[ring.adapter.jetty      :as jetty])
(require '[clojure.tools.cli       :as cli])
(require '[ring.middleware.params  :as http-params])
(require '[ring.middleware.session :as http-session])
(require '[es.server               :as server])
&nbsp;
(def default-port
    "3000")
&nbsp;
(def cli-options
    "Definitions of all command line options currenty supported."
    [["-p" "--port   PORT"    "port number"   :id :port]])
&nbsp;
(def app
    "Definition of a Ring-based application behaviour."
    (-&gt; server/handler            ; handle all events
        http-session/wrap-session ; we need to work with HTTP sessions
        http-params/wrap-params)) ; and to process request parameters, of course
&nbsp;
(defn start-server
    "Start the HTTP server on the specified port."
    [port]
    (println "Starting the server at the port: " port)
    (jetty/run-jetty app {:port (read-string port)}))
&nbsp;
(defn get-port
    "Returns specified port or default port if none is specified on the command line."
    [specified-port]
    (if (or (not specified-port) (not (string? specified-port)) (empty? specified-port))
        default-port
        specified-port))
&nbsp;
(defn -main
    "Entry point to the Jenkins dashboard."
    [&amp; args]
    ; Load configuration from the provided INI file
    (let [all-options      (cli/parse-opts args cli-options)
          options          (all-options :options)
          port             (options :port)]
    (start-server (get-port port))))
</pre>



<h3>server.clj</h3>

<p>Nejdůležitější část aplikace, která na základě uživatelem zadaných dat (do
dynamicky generované webové stránky) vytvoří strukturu JSON, tu předá do
Elasticsearche a zpracuje výsledek (tedy další JSON). Pro komunikaci se používá
knihovna <strong>http-client</strong>, obousměrnou transformaci dat
Clojure-JSON zajišťuje knihovna <strong>clojure.data.json</strong>:</p>

<pre>
(ns es.server)
&nbsp;
(require 'clojure.string)
&nbsp;
(require '[hiccup.core        :as hiccup])
(require '[hiccup.page        :as page])
(require '[hiccup.form        :as form])
(require '[clj-http.client    :as http-client])
(require '[ring.util.response :as http-response])
(require '[clojure.data.json  :as json])
&nbsp;
(def default-fulltext-limit
    10)
&nbsp;
(def default-highlighted-lines
    10)
&nbsp;
(def search-url
    "http://localhost:9200/docs3")
&nbsp;
(defn render-highlight
    "Converts output from ElasticSearch into HTML"
    [highlight]
    (-&gt; (reduce #(str %1 "&lt;hr/&gt;" %2) highlight)
        (.replaceAll "\n" "&lt;br&gt;")
        (.replaceAll "\t" "")))
&nbsp;
(defn render-search-page
    [text-to-search search-results limit highlight]
    (page/xhtml
        [:head
            [:title "Elastic Search GUI"]
            [:meta {:name "Generator"  :content "Clojure"}]
            [:meta {:http-equiv "Content-type" :content "text/html; charset=utf-8"}]
        ]
        [:body
            [:div
                (form/form-to [:get "/"]
                [:h2 "Fulltext search"]
                [:table
                    [:tr
                        [:td (form/text-field {:size "50" :class "-form-control" :id "text_to_search" :value text-to-search} "text_to_search") "&nbsp;"]
                        [:td (form/submit-button {:class "btn btn-primary" :id "submit"} "Search")]
                        [:td "Limit max " (form/text-field {:size "5" :value limit} "limit") " guide(s)"]
                        [:td "Highlight " (form/text-field {:size "5" :value highlight} "highlight") " part(s)"]
                    ]
                ])
                (if search-results
                [:table
                    [:tr
                        [:td "Finished in:"]
                        [:td (:took search-results) "ms"]
                        [:td "&nbsp;"]
                    ]
                    [:tr
                        [:td "Found:"]
                        [:td (:total (:hits search-results)) " guides"]
                        [:td {:colspan "4"} "&nbsp;"]
                    ]
                    [:tr
                        [:td {:colspan "6"} "&nbsp;"]
                    ]
                    [:tr
                        [:th "Score"]
                        [:th "Product"]
                        [:th "Guide"]
                        [:th "Date"]
                        [:th "Type"]
                        [:th "Size"]
                    ]
                        (for [hit (:hits (:hits search-results))]
                        [:tpart
                            [:tr [:td (-&gt; hit :_score)]
                                 [:td (-&gt; hit :fields :product first)]
                                 [:td [:a {:href (-&gt; hit :fields :url first)} (-&gt; hit :fields :file.title first)]]
                                 [:td (-&gt; hit :fields :file.date first)]
                                 [:td (-&gt; hit :fields :file.content_type first)]
                                 [:td (-&gt; hit :fields :file.content_length first)]
                            ]
                            [:tr
                                 [:td {:colspan "6"} (render-highlight (-&gt; hit :highlight :file.content))]
                            ]
                            [:tr
                                 [:td {:colspan "6"} "&nbsp;"]
                            ]
                        ])
                ])]]))
&nbsp;
(defn post-method-to-call-elastic-search
    [url postdata]
    (println url)
    (try 
        (http-client/post url {
            :body postdata
            :content-type "application/json"})
        (catch Exception e
             (.printStackTrace e))))
&nbsp;
(defn fulltext-search-json
    [text-to-search limit highlight-items]
    {
        :fields ["title" "url" "product" "name" "file.title" "file.content_type" "file.date" "file.content_length"]
        :size limit
        :query {
             :match {
                  :file.content text-to-search
             }
        }
        :highlight {
             :fields {
                 :file.content {:number_of_fragments highlight-items}
             }
        }
    })
&nbsp;
(defn fulltext-search
    [text-to-search limit highlight-items]
    (if (and text-to-search (not (empty? (clojure.string/trim text-to-search))))
        (let [search-json (json/write-str (fulltext-search-json text-to-search limit highlight-items))
              response    (post-method-to-call-elastic-search (str search-url "/_search?pretty") search-json)]
              (if (and response (:body response))
                  (json/read-str (:body response) :key-fn keyword)))))
&nbsp;
(defn parse-int-parameter
    "Try to parse parameter into integer, nil is returned in case of any error."
    [params param-name]
    (try
        (Integer/parseInt (get params param-name))
        (catch Exception e
            nil)))
&nbsp;
(defn handler
    "Handler for all HTTP requests."
    [request]
    (println "request URI: " (request :uri))
    (let [uri            (:uri    request)
          params         (:params request)
          text-to-search (get params "text_to_search")
          limit          (or (parse-int-parameter params "limit")     default-fulltext-limit)
          highlight      (or (parse-int-parameter params "highlight") default-highlighted-lines)
          search-results (fulltext-search text-to-search limit highlight)
          page-content   (render-search-page text-to-search search-results limit highlight)]
         (-&gt; (http-response/response page-content)
             (http-response/content-type "text/html; charset=utf-8"))))
</pre>



<p><a name="k13"></a></p>
<h2 id="k13">13. Spuštění a použití GUI</h2>

<p>Aplikace (přesněji webový server) se spustí příkazem:</p>

<pre>
lein run
</pre>

<a href="http://www.root.cz/obrazek/264557/"><img src="https://i.iinfo.cz/images/475/elasticsearch-1-prev.png" class="image-264557" alt="&#160;" height="219" width="370" /></a>
<p><i>Obrázek 1: rozhraní aplikace po spuštění.</i></p>

<a href="http://www.root.cz/obrazek/264558/"><img src="https://i.iinfo.cz/images/475/elasticsearch-2-prev.png" class="image-264558" alt="&#160;" height="219" width="370" /></a>
<p><i>Obrázek 2: výsledek vyhledání.</i></p>



<p><a name="k14"></a></p>
<h2 id="k14">14. Odkazy na Internetu</h2>

<ol>

<li>Elasticsearch home page<br />
<a href="https://www.elastic.co/products/elasticsearch">https://www.elastic.co/products/elasticsearch</a>
</li>

<li>elasticsearch-mapper-attachments (GitHub)<br />
<a href="https://github.com/elastic/elasticsearch-mapper-attachments">https://github.com/elastic/elasticsearch-mapper-attachments</a>
</li>

<li>Elasticsearch (EN Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Elasticsearch">https://en.wikipedia.org/wiki/Elasticsearch</a>
</li>

<li>Elasticsearch (CZ Wikipedia)<br />
<a href="https://cs.wikipedia.org/wiki/Elasticsearch">https://cs.wikipedia.org/wiki/Elasticsearch</a>
</li>

<li>Apache Lucene home page<br />
<a href="https://lucene.apache.org/">https://lucene.apache.org/</a>
</li>

<li>Apache Lucene Core<br />
<a href="https://lucene.apache.org/core/">https://lucene.apache.org/core/</a>
</li>

<li>Apache Tika home page<br />
<a href="http://tika.apache.org/">http://tika.apache.org/</a>
</li>

<li>Apache Tika: Supported Document Formats<br />
<a href="http://tika.apache.org/1.13/formats.html">http://tika.apache.org/1.13/formats.html</a>
</li>

<li>Apache Tika (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Apache_Tika">https://en.wikipedia.org/wiki/Apache_Tika</a>
</li>

<li>Leiningen: nástroj pro správu projektů napsaných v Clojure<br />
<a href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure/">http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure/</a>
</li>

<li>Leiningen: nástroj pro správu projektů napsaných v Clojure (2)<br />
<a href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-2/">http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-2/</a>
</li>

<li>Leiningen: nástroj pro správu projektů napsaných v Clojure (3)<br />
<a href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-3/">http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-3/</a>
</li>

<li>Leiningen: nástroj pro správu projektů napsaných v Clojure (4)<br />
<a href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-4/">http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-4/</a>
</li>

<li>Leiningen: nástroj pro správu projektů napsaných v Clojure (5)<br />
<a href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-5/">http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-5/</a>
</li>

<li>Leiningen: nástroj pro správu projektů napsaných v Clojure (6)<br />
<a href="http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-6/">http://www.root.cz/clanky/leiningen-nastroj-pro-spravu-projektu-napsanych-v-clojure-6/</a>
</li>

<li>Clojure home page<br />
<a href="http://clojure.org/">http://clojure.org/</a>
</li>

<li>Clojure (downloads)<br />
<a href="http://clojure.org/downloads">http://clojure.org/downloads</a>
</li>

<li>Clojure - Functional Programming for the JVM<br />
<a href="http://java.ociweb.com/mark/clojure/article.html">http://java.ociweb.com/mark/clojure/article.html</a>
</li>

<li>Clojure quick reference<br />
<a href="http://faustus.webatu.com/clj-quick-ref.html">http://faustus.webatu.com/clj-quick-ref.html</a>
</li>

<li>Putting term vectors on a diet<br />
<a href="http://blog.jpountz.net/post/41301889664/putting-term-vectors-on-a-diet">http://blog.jpountz.net/post/41301889664/putting-term-vectors-on-a-diet</a>
</li>

<li>What is REST API<br />
<a href="http://restfulapi.net/">http://restfulapi.net/</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2016</small></p>
</body>
</html>

