<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>VisiData - švýcarský nožík pro prohlížení a konverzi dat</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>VisiData - švýcarský nožík pro prohlížení a konverzi dat</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dnešním článku se seznámíme s aplikací nazvanou VisiData. Jedná se o velmi užitečný program určený pro prohlížení a konverzi mnoha typů datových souborů, včetně CSV, XLS*, JSONu, XML, ale i databázových souborů (SQLite...), binárních obrázků apod.</p>



<h2>Obsah</h2>

<p><a href="#k01">*** 1. VisiData - švýcarský nožík pro prohlížení a konverzi dat</a></p>
<p><a href="#k02">*** 2. Instalace nástroje VisiData</a></p>
<p><a href="#k03">*** 3. První spuštění aplikace VisiData</a></p>
<p><a href="#k04">*** 4. Načítání a prohlížení dat reprezentovaných dvourozměrnými tabulkami (CVS atd.)</a></p>
<p><a href="#k05">*** 5. </a></p>
<p><a href="#k06">*** 6. </a></p>
<p><a href="#k07">*** 7. </a></p>
<p><a href="#k08">*** 8. </a></p>
<p><a href="#k09">*** 9. </a></p>
<p><a href="#k10">*** 10. </a></p>
<p><a href="#k11">*** 11. </a></p>
<p><a href="#k12">*** 12. </a></p>
<p><a href="#k13">*** 13. </a></p>
<p><a href="#k14">*** 14. </a></p>
<p><a href="#k15">*** 15. </a></p>
<p><a href="#k16">*** 16. </a></p>
<p><a href="#k17">*** 17. </a></p>
<p><a href="#k18">*** 18. </a></p>
<p><a href="#k19">*** 19. Malý výlet do historie výpočetní techniky - aplikace VisiCalc</a></p>
<p><a href="#k20">*** 20. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. VisiData - švýcarský nožík pro prohlížení a konverzi dat</h2>

<p>Aplikaci <i>VisiData</i>, s&nbsp;níž se alespoň ve stručnosti seznámíme v&nbsp;dnešním článku, je skutečně možné považovat v&nbsp;oblasti prohlížení, základního zpracování a popř.&nbsp;i při konverzi dat za jakýsi univerzální a v&nbsp;mnoha situacích užitečný švýcarský nožík. <i>VisiData</i> lze v&nbsp;první řadě použít pro prohlížení různých typů souborů, zejména souborů obsahujících data ve formě dvourozměrných tabulek (CSV, TSV, textové soubory s&nbsp;volitelnými oddělovači, XLS), dále souborů s&nbsp;obecně vnořenými datovými strukturami (zde jsou podporovány formáty JSON, XML, YAML) a zapomenout nesmíme ani na možnost prohlížení databázových souborů (například lze přímo otevřít soubory databáze SQLite). Pracovat lze, i když v&nbsp;omezené míře, i s&nbsp;rastrovými obrázky a v&nbsp;případě potřeby je možné si dopsat konvertor pro vlastní datové soubory. Tento program pro svůj běh vyžaduje pouze emulátor terminálu, a to i přesto, že dokáže (samozřejmě s&nbsp;různými omezeními) zobrazit i grafy s&nbsp;jedním či několika průběhy.</p>

<p>Nezávisle na typu souboru obsahujícího zkoumaná data se <i>VisiData</i> snaží o to, aby se pro zobrazení dat používala stejná metoda připomínající tabulkové procesory (ostatně název <i>VisiData</i> připomíná starodávný tabulkový procesor <i>VisiCalc</i>, který taktéž pracoval v&nbsp;textovém režimu). Díky tomu, že je celý program primárně řízen klávesovými zkratkami, je práce s&nbsp;ním velmi rychlá, ovšem samozřejmě se předpokládá, že si uživatel osvojí alespoň základní příkazy pro ovládání. V&nbsp;případě potřeby je samozřejmě součástí <i>VisiData</i> i vestavěná nápověda.</p>

<p>Kromě interaktivní práce s&nbsp;aplikací <i>VisiData</i> je ovšem možné provádět i konverze dat, a to přímo z&nbsp;příkazového řádku, bez spuštění celoobrazovkového textového uživatelského rozhraní. I s&nbsp;tímto konceptem se samozřejmě seznámíme v&nbsp;navazujících kapitolách.</p>

<p><div class="rs-tip-major">Poznámka: vzhledem k&nbsp;tomu, že se <i>VisiData</i> používá mj.&nbsp;i pro interaktivní práci, je možné (a vhodné) si informace z&nbsp;článku doplnit i několika videi, v&nbsp;nichž jsou některé možnosti tohoto nástroje názorně ukázány. Tato videa naleznete na adrese <a href=""></a>.</div></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Instalace nástroje VisiData</h2>

<p>Instalace nástroje <i>VisiData</i> může proběhnout dvěma způsoby. V&nbsp;případě, že je tato aplikace dostupná ve formě balíčku pro vaši distribuci, stačí si tento balíček nainstalovat. Pokud tomu tak není, můžeme využít faktu, že <i>VisiData</i> je naprogramován v&nbsp;Pythonu a že je <a href="">dostupný na PyPi</a>. Pro instalaci v&nbsp;tomto případě použijeme nástroj <strong>pip</strong> resp.&nbsp;<strong>pip3</strong>. Instalaci provedeme pro aktuálně přihlášeného uživatele, takže se program nainstaluje do adresáře <strong>~/.local/</strong>, což mj.&nbsp;znamená, že pro instalaci nebudeme potřebovat oprávnění administrátora:</p>

<pre>
$ <strong>pip3 install --user visidata</strong>
&nbsp;
Collecting visidata
  Downloading https://files.pythonhosted.org/packages/a6/f3/e16712dc1d51e59c3e1f925b3375c6774c135ea7f5c39597c976bd2ef991/visidata-1.5.2.tar.gz (123kB)
      100% |████████████████████████████████| 133kB 1.4MB/s 
      Requirement already satisfied: python-dateutil in ./.local/lib/python3.6/site-packages (from visidata)
      Requirement already satisfied: six&gt;=1.5 in ./.local/lib/python3.6/site-packages (from python-dateutil-&gt;visidata)
      Installing collected packages: visidata
        Running setup.py install for visidata ... done
        Successfully installed visidata-1.5.2
</pre>

<p>Pro plnou podporu práce s&nbsp;rastrovými obrázky uloženými ve formátu PNG však budeme potřebovat nainstalovat ještě další Pythonovskou knihovnu nazvanou <i></i>. I ta je <a href="">dostupná na PyPi</a>, takže instalaci provedeme naprosto stejným způsobem, jako u předchozího balíčku:</p>

<pre>
$ <strong>pip3 install --user pypng</strong>
Collecting pypng
  Downloading https://files.pythonhosted.org/packages/0e/39/993a5feea8ed9c2eebd70c6e7c20cb4b0823588f5ab0afab4b0be95ebc23/pypng-0.0.19.tar.gz (293kB)
      100% |████████████████████████████████| 296kB 1.4MB/s 
      Installing collected packages: pypng
        Running setup.py install for pypng ... done
        Successfully installed pypng-0.0.19
</pre>

<p><div class="rs-tip-major">Poznámka: podobně jako některé další přídavné moduly je i výše zmíněna knihovna <i></i> pouze nepovinným doplněním aplikace <i>VisiData</i>. Proto ji musíme instalovat explicitně; nejedná se o povinnou závislost.</p>

<p>Po (doufejme, že úspěšné) instalaci se přesvědčíme, že je aplikace <i>VisiData</i> spustitelná. Pro její spuštění se používá příkaz <strong>vd</strong>, který by měl být umístěn v&nbsp;adresáři, jenž je součástí obsahu proměnné prostředí <strong>PATH</strong> (pokud tomu tak není, upravte si tuto proměnnou):</p>

<p>Zjištění, zda se nástroj <strong>vd</strong> nachází na očekávaném místě
v&nbsp;adresářové struktuře:</div></p>

<pre>
$ <strong>whereis vd</strong>
&nbsp;
vd: /home/tester/.local/bin/vd
</pre>

<p>Poslední stabilní verze programu <i>VisiData</i> by měla být 1.5.2:</p>

<pre>
$ <strong>vd --version</strong>
&nbsp;
saul.pw/VisiData v1.5.2
</pre>



<p><a name="k03"></a></p>
<h2 id="k03">3. První spuštění aplikace VisiData</h2>

<p>V&nbsp;případě, že spustíte příkaz <strong>vd</strong> bez uvedení dalších přepínačů, zobrazí se jeho celoobrazovkové textové uživatelské rozhraní, do kterého se aplikace <i>VisiData</i> pokusí načíst seznam všech souborů (včetně jejich typu), který bude sestaven i rekurzivně z&nbsp;obsahu všech podadresářů. Potenciálně se tedy může jednat o časově poměrně náročnou operaci, zejména pokud máte připojený síťový disk. Na druhou stranu je však tato vlastnost velmi užitečná ve chvíli, kdy máme adresář obsahující velké množství datových souborů, které je zapotřebí prozkoumat.</p>

*** image ***
<p><i>Obrázek:</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Načítání a prohlížení dat reprezentovaných dvourozměrnými tabulkami (CVS atd.)</h2>

<p>Nyní si již můžeme ukázat některé možnosti, které nám nástroj <i>VisiData</i> nabízí. Začneme sice nejjednodušší, ale velmi užitečnou vlastností &ndash; načítáním a prohlížením dat reprezentovaných dvourozměrnými tabulkami. Tato data bývají typicky uložena v&nbsp;těchto formátech (v&nbsp;žádném případě se nejedná o vyčerpávající výčet):</p>

<ul>

<li><i>CSV</i> neboli <i>Comma Separated Values</i> je jedním z&nbsp;nejčastěji používaných formátů v&nbsp;této oblasti, a to přesto, že je export a import CSV v&nbsp;některých případech problematický (například některé české mutace Excelu namísto čárek používají středníky, problémy nastávají s&nbsp;buňkami obsahujícími znaky pro konec řádku atd.)</li>

<li><i>TSV</i> neboli <i></i></li>

<li>Existuje i mnoho aplikací, v&nbsp;nichž jsou tabulková data uložena ve formě běžných textových souborů s&nbsp;nějakými oddělovači (relativně často se jedná o středníky, dvojtečky nebo o znak |)</li>

<li></li>

</ul>


