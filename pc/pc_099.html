<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Architektura poèítaèù Onyx 2 Infinite Reality</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Architektura poèítaèù Onyx 2 Infinite Reality</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù si popí¹eme dal¹í zajímavé technologie navr¾ené a realizované firmou SGI (Silicon Graphics Inc.). Jedná se pøedev¹ím o architekturu Onyx 2 Infinite Reality, která je optimalizovaná na vykreslování prostorové grafiky.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Poèítaèová architektura Onyx 2 &ndash; Infinite Reality</a></p>
<p><a href="#k02">2. Technické parametry architektury Onyx 2</a></p>
<p><a href="#k03">3. Grafický subsystém architektury Onyx 2</a></p>
<p><a href="#k04">4. Technologie OpenGL Vizserver</a></p>
<p><a href="#k05">5. Popis zobrazovacího øetìzce architektury Onyx 2</a></p>
<p><a href="#k06">6. Pøednosti a zápory architektury Onyx 2</a></p>
<p><a href="#k07">7. Obsah dal¹ího pokraèování seriálu</a></p>
<p><a href="#k08">8. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Poèítaèová architektura Onyx 2 &ndash; Infinite Reality</h2>

<p>V&nbsp;pøedchozí èásti seriálu a architekturách poèítaèù jsme si, samozøejmì
kromì dal¹ích informací øekli, jaké pøednosti má architektura <i>NUMA</i>
(Non-Uniform Memory Access) popø.&nbsp;<i>cc-NUMA</i> (Cache-Coherent NUMA)
oproti architektuøe <i>SMP</i> (Symmetric Multiprocessing) v&nbsp;pøípadì, ¾e
má v&nbsp;poèítaèi souèasnì pracovat vìt¹í mno¾ství procesorù
popø.&nbsp;procesorových jader. V&nbsp;praxi se ukazuje, ¾e pøi poètu procesorù
pøesahujících urèitou mezní hodnotu (jedná se o cca ètyøi procesory nebo
procesorová jádra) se u architektury <i>SMP</i> stává úzkým hrdlem celého
poèítaèe operaèní pamì» pøipojená na spoleènou sbìrnici, proto¾e pøi pøístupu
k&nbsp;této pamìti dochází (i pøes pou¾ití lokálních vyrovnávacích pamìtí a
dal¹ích trikù) ke kolizím, pøi nich¾ na sebe procesory musí navzájem èekat.
Tuto závislost paralelnì bì¾ících procesù na sdíleném prostøedku (nebo na
sériovì provádìné èásti procesu) popisuje takzvaný <i>Amdahlùv zákon</i>,
z&nbsp;nìho¾ vyplývá, ¾e i pomìrnì malá sekvenènì provádìná èást programu mù¾e
zcela znehodnotit celý (masivnì) paralelní systém, jeho¾ teoretická výpoèetní
síla tak mù¾e zùstat z&nbsp;velké èásti nevyu¾ita.</p>

<img src="http://i.iinfo.cz/images/78/pc9901.png" width="425" height="287" alt="pc9901" />
<p><i>Obrázek 1: Grafické vyjádøení Amdahlova zákona. Z&nbsp;tohoto grafu je
patrné, ¾e s&nbsp;rostoucím poètem procesorù (popø.&nbsp;procesorových jader)
neroste výpoèetní výkon celého poèítaèe lineárnì, proto¾e urèitou èást úlohy
není mo¾né provádìt paralelnì (napøíklad se jedná o vstup èi výstup dat,
pøístup ke sdílenému prostøedku atd.). Pøi pou¾ití architektury SMP v¹ak mù¾e
snaha o soubì¾ný pøístup k&nbsp;operaèní pamìti zpùsobit prùbìh naznaèený
èervenou køivkou, co¾ je samozøejmì ne¾ádoucí stav, který se výrobci poèítaèù
sna¾í co nejvíce omezit (popø.&nbsp;posunout prakticky pou¾itelné mno¾ství
procesorù na co nejvy¹¹í hodnotu).</i></p>

<p>V&nbsp;pøedchozí èásti tohoto seriálu jsme se takté¾ seznámili se základními
vlastnostmi procesorù <i>R10000</i>, které jsou postaveny na oblíbené a èasto
pou¾ívané technologii <i>MIPS</i>. Tyto procesory jsou mj.&nbsp;vyu¾ity i
v&nbsp;poèítaèích <i>Onyx 2</i> vybavených systémem <i>Infinite Reality</i> a
pozdìji té¾ <i>Infinite Reality 2</i>, jejich¾ technické parametry si popí¹eme
v&nbsp;následujících kapitolách. Uvidíme, ¾e základní schéma poèítaèù <i>Onyx
2</i> se v&nbsp;mnoha ohledech podobá schématu, s&nbsp;ním¾ jsme se seznámili
ji¾ pøi popisu architektury serverù <i>Origin</i> &ndash; viz té¾ druhý obrázek
zobrazený pod tímto odstavcem, na nìm¾ je vyobrazeno schéma jednoho výpoèetního
uzlu obsahujícího dva procesory typu <i>R10000</i>, z&nbsp;nich¾ ka¾dý obsahuje
svoji èást vyrovnávací pamìti rozdìlené na vyrovnávací pamì» datovou a pamì»
instrukèní. Takto zkonstruované procesorové uzly a k&nbsp;nim pøíslu¹ející
propojovací sí» byly díky svým mnoha pøednostem pou¾ívány firmou <i>SGI</i> po
velmi dlouhou dobu v&nbsp;jejich serverech, superpoèítaèích i grafických
stanicích.</p>

<a href="http://i.iinfo.cz/images/164/pc9902.png"><img src="http://i.iinfo.cz/images/164/pc9902-prev.png" width="370" height="213" alt="pc9902" /></a>
<p><i>Obrázek 2: Struktura jednoho uzlu pou¾itého u serverù Origin 200/2000.
Ka¾dý uzel obsahuje hub zaji¹»ující komunikaci s&nbsp;okolními uzly (CrayLink)
i vybraným zaøízením (XIO) a dvojici procesorù typu R10000, z&nbsp;nich¾ ka¾dý
má k&nbsp;dispozici instrukèní vyrovnávací pamì», datovou vyrovnávací pamì» a
sdílenou pamì» (pøesnìji .&ndash; pamì»ový modul obsahující èást sdílené
pamìti).</i></p>



<p><a name="k02"></a></p>
<h2>2. Technické parametry architektury Onyx 2</h2>

<p>V&nbsp;poèítaèích <i>Onyx 2</i> vybavených systémem <i>Infinite Reality</i>
je ka¾dý mikroprocesor spolu se svou vyrovnávací pamìtí a takté¾ èástí operaèní
pamìti poèítaèe (o kapacitì od 128&nbsp;MB do 8&nbsp;GB) souèástí jednoho
<i>procesorového uzlu</i>, který obsahuje, na rozdíl od minule popsané
architektury serverù <i>Origin 200</i> a <i>Origin 2000</i>, nikoli dva, ale
ètyøi mikroprocesory typu <i>R10000</i>. Obousmìrný pøenos dat mezi
jednotlivými procesory v&nbsp;jednom uzlu je (v&nbsp;kontextu doby vzniku
tohoto systému) velmi rychlý &ndash; pøi blokovém pøenosu dat dosahuje hodnot
a¾ 1,6&nbsp;GBs<sup>-1</sup>, resp.&nbsp;800&nbsp;MBs<sup>-1</sup>
v&nbsp;ka¾dém smìru zvlá¹». Souèasnì s&nbsp;procesorovými uzly mù¾e být ve
výpoèetním systému nainstalováno a¾ ¹estnáct takzvaných <i>zobrazovacích
subsystémù</i> (grafických rastrovacích øetìzcù), jejich¾ práce není
ovlivòována dal¹ími prvky systému, jedná se tedy o uzly, které pracují do
znaèné míry nezávisle na èinnosti ostatních uzlù.</p>

<img src="http://i.iinfo.cz/images/582/pc9903.jpg" width="400" height="285" alt="pc9903" />
<p><i>Obrázek 3: Poèítaè Onyx 2 vybavený systémem Infinite Reality.</i></p>

<p>Jednotlivé uzly, tj.&nbsp;jak uzly procesorové, tak i ty uzly, které tvoøí
zobrazovací subsystém, jsou mezi sebou propojeny s&nbsp;vyu¾itím propojovací
sítì, její¾ topologie sice vychází z&nbsp;ideální hyperkrychle, ale
z&nbsp;dùvodu optimalizace datových pøenosù jsou mezi nìkterými dvojicemi uzlù
vytvoøeny i dal¹í pøídavné datové spoje (jedná se o diagonální spoje,
tj.&nbsp;stìnové úhlopøíèky hyperkrychle), zejména mezi procesory a
zobrazovacími subsystémy. Princip propojování jednotlivých uzlù pomocí sítì
zalo¾ené na hyperkrychli je zobrazen na ètvrtém obrázku, reálný zpùsob zapojení
uzlù v&nbsp;systému <i>Onyx 2</i> na obrázku pátém (viz dal¹í kapitola),
z&nbsp;nìho¾ je patrné, ¾e ka¾dý procesor mù¾e ovládat dva zobrazovací
subsystémy a souèasnì mù¾e být ka¾dý zobrazovací subsystém øízen dvìma
procesory &ndash; tato variabilita je umo¾nìna existencí konfigurovatelného
pøímého spoje a k&nbsp;nìmu paralelnì pøipojeného køí¾ového pøepínaèe, který
bude popsán v&nbsp;navazující kapitole.</p>

<a href="http://i.iinfo.cz/images/273/pc9904.png"><img src="http://i.iinfo.cz/images/273/pc9904-prev.png" width="370" height="164" alt="pc9904" /></a>
<p><i>Obrázek 4: Propojení uzlù obsahujících procesory i uzlù, pomocí nich¾ je
vytvoøen zobrazovací systém, strukturou s&nbsp;topologií hyperkrychle.</i></p>



<p><a name="k03"></a></p>
<h2>3. Grafický subsystém architektury Onyx 2</h2>

<p>V&nbsp;této kapitole si popí¹eme, jakým zpùsobem je vytvoøen grafický
subsystém poèítaèù <i>Onyx 2</i>. Z&nbsp;pøedchozího textu ji¾ víme, ¾e
grafický subsystém tìchto strojù je sestaven ze samostatnì pracujících uzlù,
kterých se mù¾e v&nbsp;poèítaèi nacházet a¾ ¹estnáct, v&nbsp;závislosti na
po¾adavcích u¾ivatelù na potøebný výpoèetní výkon i poèet výstupních grafických
zaøízení. Ka¾dý z&nbsp;tìchto uzlù obsahuje <i>framebuffer</i> s&nbsp;maximální
kapacitou 160&nbsp;MB a takté¾ texturovací pamì», její¾ kapacita mù¾e dosahovat
(opìt podle po¾adavkù u¾ivatelù, popø.&nbsp;jejich finanèních mo¾ností :-) a¾
64&nbsp;MB. Kapacita pamìti alokované pro framebuffer se sice na první pohled
mù¾e zdát zbyteènì velká, ale firma <i>SGI</i> jako¾to tehdej¹í lídr
v&nbsp;oboru poèítaèové grafiky umo¾òovala, aby ka¾dý snímek ulo¾ený ve
framebufferu mohl mít rozli¹ení a¾ 1920&times;1200 pixelù. Jedná se o takzvaný
re¾im <i>Super-HDTV</i>, nìkdy té¾ nazývaný <i>WUXGA &ndash; Widescreen Ultra
eXtended Graphics Array</i>, co¾ je jedna z&nbsp;variant grafických re¾imù
<i>Ultra XGA (Ultra eXtended Graphics Array)</i>.</p>

<a href="http://i.iinfo.cz/images/75/pc9905.png"><img src="http://i.iinfo.cz/images/75/pc9905-prev.png" width="370" height="187" alt="pc9905" /></a>
<p><i>Obrázek 5: Vzájemné propojení výpoèetních uzlù a uzlù tvoøících grafický
subsystém. Pov¹imnìte si, ¾e díky pøítomnosti køí¾ového pøepínaèe je mo¾né, aby
jeden procesor ovládal dva grafické subsystémy, popø.&nbsp;aby byl jeden
grafický subsystém øízen dvojicí procesorù. Nìkteré pou¾ité zkratky (GE, RM...)
jsou vysvìtleny <a href="#k05">v&nbsp;páté kapitole</a>.</i></p>

<p>Barvy pixelù ulo¾ených v&nbsp;barvových bufferech (<i>color buffers</i>)
jsou ji¾ tradiènì kódovány v&nbsp;barvovém systému RGB, pøièem¾ ka¾dá barvová
slo¾ka (<i>red</i>, <i>green</i>, <i>blue</i>) mù¾e být reprezentována a¾
dvanácti bity, co¾ umo¾òuje tvorbu obrázkù s&nbsp;mnohem vìt¹ím dynamickým
rozsahem ne¾ v&nbsp;pøípadì pou¾ití dnes stále je¹tì nejobvyklej¹í osmibitové
hloubky pro ka¾dou barvovou slo¾ku (moderní <i>framebuffery</i> v¹ak ji¾
umo¾òují i práci s&nbsp;èísly reprezentovanými v&nbsp;systému plovoucí øádové
èárky, èím¾ takté¾ dochází ke zvý¹ení dynamického rozsahu). Hloubka fragmentù
ulo¾ených v&nbsp;pamìti hloubky (<i>Z-bufferu</i>, <i>depth bufferu</i>) mù¾e
být reprezentována hodnotami s&nbsp;¹íøkou a¾ 32 bitù. Grafický subsystém
umo¾òuje vytváøení stereosnímkù, které mohou být navíc antialiasované, co¾
znamená, ¾e potøebná kapacita framebufferu pøi vykreslování je ve skuteènosti
dvojnásobná nebo &ndash; v&nbsp;pøípadì souèasného pou¾ití stereosnímkù a
antialiasingu &ndash; ètyønásobná a¾ osminásobná oproti jednodu¹¹ím grafickým
akcelerátorùm, které tyto mo¾nosti nenabízí.</p>

<a href="http://i.iinfo.cz/images/411/pc9906.jpg"><img src="http://i.iinfo.cz/images/411/pc9906-prev.jpg" width="370" height="95" alt="pc9906" /></a>
<p><i>Obrázek 6: Laboratoø specializovaná na simulace a vizualizace, její¾
nezbytnou souèástí jsou stroje Onyx 2 Infinite Reality.</i></p>

<p>Zobrazovací subsystémy mohou být nakonfigurovány rùzným zpùsobem. Je
napøíklad mo¾né, aby na poèítaèi bì¾elo více procesù (graficky orientovaných
aplikací), pøièem¾ by ka¾dý proces vyu¾il jeden zobrazovací subsystém. Ka¾dý
proces by tak svùj grafický výstup posílal do jednoho okna na obrazovce.
Druhou, v&nbsp;praxi mnohem zajímavìj¹í mo¾ností, je spojení v¹ech
zobrazovacích subsystémù tak, aby se jejich spoleèný výstup zobrazil do jednoho
spoleèného okna. V&nbsp;tomto pøípadì je pou¾it postup nazvaný <i>Digital
Multiplexing</i> (<i>DPLEX</i>), co¾ je metoda, pøi které se pøepínají
jednotlivé snímky. Tímto zpùsobem lze pøi tvorbì animací dosáhnout velmi
vysokého zobrazovacího výkonu, ov¹em za pøedpokladu, ¾e zobrazovací subsystémy
mají k&nbsp;dispozici v¹echna data potøebná pro souèasné vykreslení v¹ech
snímkù. Pokud tomu tak není, napøíklad tehdy, kdy¾ se jedná o interaktivní
aplikace (na osobních poèítaèích napøíklad hry, u nich¾ není dopøedu jasné, jak
bude hráè reagovat), není mo¾né plnì vyu¾ít celého výpoèetního výkonu
poèítaèe.</p>

<a href="http://i.iinfo.cz/images/477/pc9907.jpg"><img src="http://i.iinfo.cz/images/477/pc9907-prev.jpg" width="272" height="270" alt="pc9907" /></a>
<p><i>Obrázek 7: Poèítaèe firmy SGI se v&nbsp;minulosti velmi èasto pou¾ívaly
k&nbsp;rùzným experimentùm s&nbsp;prostorovou (3D) poèítaèovou grafikou. Zde je
ukázán výsledek simulace, pøi její¾ vizualizaci jsou vykreslovány pouze úseèky,
nikoli trojúhelníky èi dal¹í polygony. Pro vykreslení úseèek se vyu¾íval
zobrazovací subsystém poèítaèù SGI, ov¹em pøeprogramovaný tak, aby se
texturovací jednotka pou¾ívala pro velmi rychlé výpoèty osvìtlovacího modelu.
Tento snímek byl vytvoøen pomocí postupu upraveného tak, aby ho bylo mo¾né
pou¾ít na grafických kartách nVidia GForce. Pùvodní postup fungoval, jak ji¾
bylo øeèeno, na grafických stanicích firmy SGI.</i></p>



<p><a name="k04"></a></p>
<h2>4. Technologie OpenGL Vizserver</h2>

<p>S&nbsp;poèítaèi <i>Onyx 2</i> (ale nejenom s&nbsp;nimi) souvisí i
technologie nazvaná <i>OpenGL Vizserver</i>, navr¾ená a posléze vytvoøená
samozøejmì takté¾ firmou SGI. S&nbsp;vyu¾itím této technologie je mo¾né
z&nbsp;framebufferu zpìtnì pøeèíst obsahy jednotlivých bufferù
(tj.&nbsp;vybraného pøedního barvového bufferu, zadního barvového bufferu,
Z-bufferu atd.) a následnì tyto snímky v&nbsp;komprimované podobì poslat na
jakýkoli jiný poèítaè pøipojený do sítì, kde je snímek následnì zobrazen. Toto
øe¹ení se pomìrnì èasto pou¾ívalo v&nbsp;rùzných výzkumných projektech, proto¾e
umo¾òovalo vytváøet náhledy na trojrozmìrná data v&nbsp;reálném èase
(s&nbsp;rychlostí zobrazování typicky dvacet a více snímkù za sekundu) i na
v&nbsp;té dobì bì¾ných osobních poèítaèích a navíc byl výpoèetní výkon serveru
<i>Onyx 2</i> mnohem lépe vyu¾it, ne¾ kdyby se pou¾ilo napøíklad øe¹ení
zalo¾ené na <i>VNC</i> èi podobné technologii &ndash; výpoèetní ani grafické
uzly se pøi pou¾ití technologie <i>OpenGL Vizserver</i> nepøidìlovaly staticky
ka¾dému u¾ivateli, ale dynamicky, tj.&nbsp;a¾ na základì reálných potøeb
aplikací bì¾ících na <i>Onyxu 2</i>. Aplikace, která umo¾òovala zobrazení
3D scén na stranì klienta, byla dostupná pro velké mno¾ství operaèních systémù,
mj.&nbsp;i pro IRIX a Microsoft Windows.</p>

<a href="http://i.iinfo.cz/images/662/pc9908.jpg"><img src="http://i.iinfo.cz/images/662/pc9908-prev.jpg" width="270" height="270" alt="pc9908" /></a>
<p><i>Obrázek 8: Vizualizace siloèar magnetického pole, pøi ní¾ byly pou¾ity
pouze úseèky. Pøi vykreslování tohoto snímku byl vyu¾it stejný algoritmus, jako
u snímku èíslo 7.</i></p>



<p><a name="k05"></a></p>
<h2>5. Popis zobrazovacího øetìzce architektury Onyx 2</h2>

<p>V&nbsp;této kapitole si blí¾e popí¹eme strukturu zobrazovacího øetìzce
pou¾itého u architektury <i>Onyx 2</i>. Vykreslovací øetìzec je rozdìlen do
nìkolika èástí, jejich¾ funkce i struktura pøedávaných a zpracovávaných dat se
podobá funkcím, s&nbsp;nimi¾ jsme se ji¾ seznámili pøi popisu grafických
akcelerátorù <i>Voodoo-1</i> a <i>Intel i740</i>. Jednotlivé èásti
zobrazovacího øetìzce byly naznaèeny na pátém obrázku.</p>

<ol>

<li>První èást zobrazovacího øetìzce, která zpracovává grafická data
pøicházející z&nbsp;aplikací, se nazývá <i>Geometry Engine</i>
(<strong>GE</strong>). V&nbsp;této èásti se provádí výpoèet osvìtlení,
transformace vrcholù zobrazovaných tìles a projekce vrcholù do roviny
obrazovky. Souèasnì s&nbsp;tìmito operacemi se mohou provádìt i základní
operace pro zpracování rastrových obrazù, typicky aplikace konvoluèních filtrù,
zmìna barev pomocí vyhledávací tabulky (LUT &ndash; Look Up Table), výpoèet
histogramu, ekvalizace obrazu atd. Tyto operace, které mohou být aplikovány na
vykreslované pixely, textury nebo i na video, jsou v&nbsp;<i>Geometry
Engine</i> samozøejmì zpracovávány mnohem rychleji, ne¾ odpovídající funkce
naprogramované a zpracovávané mikroprocesorem. Ka¾dý blok <i>Geometry
Engine</i> obsahuje tøi výpoèetní jádra, která jsou øízena jedním tokem
instrukcí &ndash; jedná se tedy o øízení typu <i>SIMD</i> (Single Instruction
Multiple Data).</li>

<li>Dal¹í èástí zobrazovacího øetìzce, která na <i>Geometry Engine</i> pøímo
navazuje, je èást nazývaná <i>Raster Manager</i> (<strong>RM</strong>).
V&nbsp;této èásti se provádí rasterizace dat, která jsou v&nbsp;pøedchozím
kroku zpracována v&nbsp;modulu <i>Geometry Engine</i>. Kromì rasterizace plo¹ek
se provádí i dal¹í operace s&nbsp;vytváøenými fragmenty, zejména test fragmentù
na hloubku ulo¾enou v&nbsp;pamìti hloubky (<i>Z-bufferu</i>, <i>depth
bufferu</i>), míchání barev (<i>color blending</i>), výpoèet mlhy (<i>fog</i>),
mapování textur (<i>texture mapping</i>) a antialiasing. Tato èást
vykreslovacího øetìzce je navr¾ena tak, aby se v&nbsp;co nejvìt¹í míøe uplatnil
paralelismus, zejména pøi práci s&nbsp;texturami a aplikaci antialiasingu
(ka¾dý pixel mù¾e být v&nbsp;tomto re¾imu samplován a¾ osmi subpixely, co¾ je
dvakrát více, ne¾ u bì¾ných grafických akcelerátorù na osobních poèítaèích).
Vzhledem k&nbsp;rozdìlení framebufferu mezi více rasterizaèních jednotek je
umo¾nìno, aby se jeden polygon vykresloval (tj.&nbsp;rozrastrovával na
fragmenty) ve více rasterizaèních jednotkách souèasnì, co¾ opìt pøispívá
k&nbsp;vy¹¹í rychlosti vykreslování.</li>

<li>Poslední èástí zobrazovacího øetìzce je èást nazvaná <i>Display
Generator</i> (<strong>DG</strong>), ve které se pùvodnì digitální informace
ulo¾ené ve framebufferu pøevádí na analogový signál, který mù¾e být zobrazen na
obrazovce monitoru, nebo mù¾e být poslán pro dal¹í zpracování do
video-zaøízení. Vzhledem k&nbsp;tomu, ¾e <i>Display Generator</i> obsahuje dvì
datové cesty, je mo¾né vyu¾ít souèasnì dva výstupy: jeden analogový výstup
s&nbsp;velkým rozli¹ením a druhý výstup v&nbsp;televizním formátu <a
href="http://en.wikipedia.org/wiki/NTSC">NTSC</a> (&bdquo;National Television
System Commitee&ldquo; známého také pod názvem &bdquo;Never The Same
Colors&ldquo; :-) nebo <a href="http://en.wikipedia.org/wiki/PAL">PAL</a>
(&bdquo;Phase Alternating Line&ldquo;). Oba výstupy souèasnì je mo¾né také
pou¾ít pro stereozobrazení výsledné scény na dvou monitorech souèasnì. Výstup
na bì¾nou televizi (NTSC nebo PAL) se mù¾e v&nbsp;dne¹ní dobì znát primitivní,
ale technologie zobrazování na televizích a monitorech je tak odli¹ná, ¾e se
pro profesionální výstupy (na video) musela tato problematika øe¹it hardwarovì
&ndash;vìt¹inou se provádìl kontrolní výstup na monitor (pøípadnì na osvit
filmu) a finální výstup na video. Právì podpora souèasného výstupu na monitor i
televizi (resp.&nbsp;video) mù¾e rendering urychlit a¾ o 100%.</li>

</ol>

<img src="http://i.iinfo.cz/images/172/pc9909.jpg" width="275" height="225" alt="pc9909" />
<p><i>Obrázek 9: Server s&nbsp;architekturou Onyx 4, která je pokraèovatelem
dnes popisované architektury Onyx 2. Rychlost renderingu je a¾ 40&times; vy¹¹í,
ne¾ u architektury Onyx 2.</i></p>



<p><a name="k06"></a></p>
<h2>6. Pøednosti a zápory architektury Onyx 2</h2>

<p>Architektura <i>Onyx 2</i> je z&nbsp;pohledu vývoje výpoèetní techniky
zajímavá zejména v&nbsp;tom ohledu, ¾e v&nbsp;prakticky ka¾dé èásti výpoèetního
i vykreslovacího øetìzce vyu¾ívá v&nbsp;maximální mo¾né míøe paralelismus, èím¾
se z&nbsp;této architektury ve své dobì stal jeden z&nbsp;nejvýkonnìj¹ích
systémù pro zpracovávání prostorových scén popsaných pomocí hranièní
reprezentace, tj.&nbsp;s&nbsp;vyu¾itím trojúhelníkù a dal¹ích plo¹ných
polygonù. Paralelismus je vyu¾it jak pøi pou¾ití architektury <i>NUMA</i> a
spojení procesorù do topologie hyperkrychle, tak i aplikací systému vzájemného
propojení vykreslovacího øetìzce, v&nbsp;nìm¾ je mo¾né pou¾ít vìt¹í mno¾ství
paralelních datových cest. V&nbsp;dne¹ní dobì se pou¾ívá spí¹e paralelismu na
vy¹¹í úrovni &ndash; souèasný rendering scén na více strojích. To je v¹ak
výhodné pouze tehdy, kdy¾ je zaji¹tìna distribuce dat, tj.&nbsp;toto øe¹ení
není pou¾itelné napøíklad pro interaktivní aplikace. Na druhou stranu mù¾e být
renderovací &bdquo;farma&ldquo; vytvoøená z&nbsp;velkého mno¾ství levných PC
pro nìkteré projekty ideální, napøíklad pro finální rendering filmù atd.</p>

<img src="http://i.iinfo.cz/images/1/pc9910.jpg" width="165" height="244" alt="pc9910" />
<p><i>Obrázek 10: Server s&nbsp;architekturou Onyx 3000.</i></p>



<p><a name="k07"></a></p>
<h2>7. Obsah dal¹ího pokraèování seriálu</h2>

<p>V&nbsp;následující èásti seriálu o architekturách poèítaèù se seznámíme se
dvìma zajímavými a v&nbsp;nìkolika ohledech ponìkud netradièními architekturami
grafických subsystémù. Jedná se o architekturu <i>Reality Engine</i>,
v&nbsp;ní¾ je kromì velkého mno¾ství signálových procesorù <i>Intel 860XP</i>
(v&nbsp;propagaèních materiálech ponìkud nadnesenì oznaèovaných termínem
&bdquo;Cray on a Chip&ldquo;) vyu¾ívaných pøedev¹ím pro zpracování
geometrických informací pou¾ito i pole obsahující 16&times;20=320 takzvaných
<i>obrazových strojù</i>, z&nbsp;nich¾ ka¾dému je pøiøazeno 512 kB pamìti. Díky
tomuto rozdìlení framebufferu je mo¾né výrazným zpùsobem urychlit (pøesnìji
øeèeno paralelizovat) nìkteré grafické algoritmy. Architektuøe <i>Reality
Engine</i> je èásteènì podobná i ponìkud star¹í, ale z&nbsp;teoretického
hlediska velmi zajímavá architektura <i>Pixel Planes</i> z&nbsp;roku 1986,
kterou si takté¾ popí¹eme v&nbsp;navazující èásti tohoto seriálu.</p>

<img src="http://i.iinfo.cz/images/224/pc9911.jpg" width="165" height="244" alt="pc9911" />
<p><i>Obrázek 11: Server s&nbsp;architekturou Onyx 350.</i></p>



<p><a name="k08"></a></p>
<h2>8. Odkazy na Internetu</h2>

<ol>

<li>Onyx2 Technical Specification<br />
<a href="http://vintagecomputers.info/onyx2/tech_specs.html">http://vintagecomputers.info/onyx2/tech_specs.html</a>
</li>

<li>Video Technology Magazine &ndash; various graphics resolutions<br />
<a href="http://www.videotechnology.com/0904/formats.html">http://www.videotechnology.com/0904/formats.html</a>
</li>

<li>Ultra XGA (Ultra eXtended Graphics Array)<br />
<a href="http://www.pcmag.com/encyclopedia_term/0,2542,t=UXGA&amp;i=53603,00.asp">http://www.pcmag.com/encyclopedia_term/0,2542,t=UXGA&amp;i=53603,00.asp</a>
</li>

<li>UXGA (Ultra eXtended Graphics Array)<br />
<a href="http://en.wikipedia.org/wiki/UXGA">http://en.wikipedia.org/wiki/UXGA</a>
</li>

<li>WUXGA (Widescreen Ultra eXtended Graphics Array)<br />
<a href="http://en.wikipedia.org/wiki/WUXGA">http://en.wikipedia.org/wiki/WUXGA</a>
</li>

<li>Video Standards (Graphics resolutions)<br />
<a href="http://en.wikipedia.org/wiki/File:Vector_Video_Standards2.svg">http://en.wikipedia.org/wiki/File:Vector_Video_Standards2.svg</a>
</li>

<li>The MIPS R10000 Superscalar Microprocessor (èlánek dostupný èlenùm ACM)<br />
<a href="http://portal.acm.org/citation.cfm?id=623999">http://portal.acm.org/citation.cfm?id=623999</a>
</li>

<li>Glide API<br />
<a href="http://en.wikipedia.org/wiki/Glide_API">http://en.wikipedia.org/wiki/Glide_API</a>
</li>

<li>Scientific Application of OpenGL Vizserver within High Performance Computing<br />
<a href="http://www.ukhec.ac.uk/publications/reports/vizserver_casestudy_dec02.pdf">http://www.ukhec.ac.uk/publications/reports/vizserver_casestudy_dec02.pdf</a>
</li>

<li>Amdahl's law<br />
<a href="http://en.wikipedia.org/wiki/Amdahl%27s_law">http://en.wikipedia.org/wiki/Amdahl%27s_law</a>
</li>

<li>NUMA: Frequently Asked Questions<br />
<a href="http://lse.sourceforge.net/numa/faq/">http://lse.sourceforge.net/numa/faq/</a>
</li>

<li>NUMA (Numa Support in Linux)<br />
<a href="http://oss.sgi.com/projects/numa/">http://oss.sgi.com/projects/numa/</a>
</li>

<li>Symmetric multiprocessing<br />
<a href="http://en.wikipedia.org/wiki/Symmetric_multiprocessing">http://en.wikipedia.org/wiki/Symmetric_multiprocessing</a>
</li>

<li>Non-Uniform Memory Access<br />
<a href="http://en.wikipedia.org/wiki/Non-Uniform_Memory_Access">http://en.wikipedia.org/wiki/Non-Uniform_Memory_Access</a>
</li>

<li>Northbridge (computing)<br />
<a href="http://en.wikipedia.org/wiki/Northbridge_(computing)">http://en.wikipedia.org/wiki/Northbridge_(computing)</a>
</li>

<li>Southbridge (computing)<br />
<a href="http://en.wikipedia.org/wiki/Southbridge_(computing)">http://en.wikipedia.org/wiki/Southbridge_(computing)</a>
</li>

<li>Carrier sense multiple access with collision detection<br />
<a href="http://en.wikipedia.org/wiki/Carrier_sense_multiple_access_with_collision_detection">http://en.wikipedia.org/wiki/Carrier_sense_multiple_access_with_collision_detection</a>
</li>

<li>Intel i740<br />
<a href="http://en.wikipedia.org/wiki/Intel740">http://en.wikipedia.org/wiki/Intel740</a>
</li>

<li>Intel i740 Datasheet<br />
<a href="ftp://download.intel.com/support/graphics/intel740/29061902.pdf">ftp://download.intel.com/support/graphics/intel740/29061902.pdf</a>
</li>

<li>Intel740(TM) Graphics Accelerator P854 Hardware<br />
<a href="ftp://download.intel.com/support/graphics/intel740/29062202.pdf">ftp://download.intel.com/support/graphics/intel740/29062202.pdf</a>
</li>

<li>S3 Savage<br />
<a href="http://en.wikipedia.org/wiki/S3_Savage">http://en.wikipedia.org/wiki/S3_Savage</a>
</li>

<li>Savage (S3)<br />
<a href="http://www.economy-point.org/s/savage-s3.html">http://www.economy-point.org/s/savage-s3.html</a>
</li>

<li>3dfx Interactive<br />
<a href="http://en.wikipedia.org/wiki/3dfx_Voodoo_Graphics">http://en.wikipedia.org/wiki/3dfx_Voodoo_Graphics</a>
</li>

<li>Visualization Tools and Environments for Very Large Data<br />
<a href="http://ditwww.epfl.ch/SIC/SA/publications/SCR00/scr12-page9.html">http://ditwww.epfl.ch/SIC/SA/publications/SCR00/scr12-page9.html</a>
</li>

<li>Intel 860@cpu-collection<br />
<a href="http://www.cpu-collection.de/?l0=co&l1=Intel&l2=i860">http://www.cpu-collection.de/?l0=co&l1=Intel&l2=i860</a>
</li>

<li>S3 Graphics<br />
<a href="http://www.s3graphics.com/en/index.aspx">http://www.s3graphics.com/en/index.aspx</a>
</li>

<li>TSENG ET6000 Performance Page<br />
<a href="http://dani75.tripod.com/TSENG.htm">http://dani75.tripod.com/TSENG.htm</a>
</li>

<li>Tseng Labs Ships ET6000 Advanced Graphics Chip, Announces Additional Manufacturing Sources<br />
<a href="http://www.encyclopedia.com/doc/1G1-18088868.html">http://www.encyclopedia.com/doc/1G1-18088868.html</a>
</li>

<li>CyberMax chooses Tseng Labs' ET6000 Graphics and Video Controller for Max and ProMax Series PCs<br />
<a href="http://findarticles.com/p/articles/mi_m0EIN/is_1996_Oct_9/ai_18754932/">http://findarticles.com/p/articles/mi_m0EIN/is_1996_Oct_9/ai_18754932/</a>
</li>

<li>Intel i860<br />
<a href="http://en.wikipedia.org/wiki/Intel_860">http://en.wikipedia.org/wiki/Intel_860</a>
</li>

<li>Intel i860 64-Bit Microprocessor<br />
<a href="http://www.microprocessor.sscc.ru/i860.html">http://www.microprocessor.sscc.ru/i860.html</a>
</li>

<li>25 Microchips That Shook the World<br />
<a href="http://www.synbio.org.uk/scientific-computing-news/1351.html">http://www.synbio.org.uk/scientific-computing-news/1351.html</a>
</li>

<li>Sprite (computer graphics)<br />
<a href="http://en.wikipedia.org/wiki/Sprite_(computer_graphics)">http://en.wikipedia.org/wiki/Sprite_(computer_graphics)</a>
</li>

<li>Sprite (poèítaèová grafika)<br />
<a href="http://cs.wikipedia.org/wiki/Sprite_(poèítaèová_grafika)">http://cs.wikipedia.org/wiki/Sprite_(poèítaèová_grafika)</a>
</li>

<li>Wikipedia: Video Display Controller<br />
<a href="http://en.wikipedia.org/wiki/Video_Display_Controller">http://en.wikipedia.org/wiki/Video_Display_Controller</a>
</li>

<li>3dfx Voodoo1 PCI<br />
<a href="http://www.v3info.de/english/html/v1.shtml">http://www.v3info.de/english/html/v1.shtml</a>
</li>

<li>Glide 2.2 Programming Guide<br />
<a href="http://www.gamers.org/dEngine/xf3D/glide/glidepgm.htm">http://www.gamers.org/dEngine/xf3D/glide/glidepgm.htm</a>
</li>

<li>OpenGL Vizserver 3.1 Application Transparent Remote Interactive Visualization and Collaboration<br />
<a href="http://subs.emis.de/LNI/Proceedings/Proceedings55/GI-Proceedings.55-20.pdf">http://subs.emis.de/LNI/Proceedings/Proceedings55/GI-Proceedings.55-20.pdf</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2010</small></p>
</body>
</html>

