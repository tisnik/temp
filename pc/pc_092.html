<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Grafické akcelerátory na osobních poèítaèích</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Grafické akcelerátory na osobních poèítaèích</h1>

<h3>Pavel Ti¹novský</h3>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù se budeme zabývat popisem grafických akcelerátorù urèených pro urychlení práce s plo¹nou (2D) rastrovou grafikou. Jedná se o pøedchùdce souèasných programovatelných "3D" akcelerátorù. Takté¾ si øekneme, jaké operace byly podporovány jedním z nejznámìj¹ích èipù optimalizovaných pro "2D" grafické akcelerátory. Jedná se o èip S3 Trio64V+.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Grafické akcelerátory na osobních poèítaèích</a></p>
<p><a href="#k02">2. Softwarové vykreslování obrazu nebo grafická akcelerace?</a></p>
<p><a href="#k03">3. Urychlení práce s&nbsp;rastrovým 2D obrazem</a></p>
<p><a href="#k04">4. Blokové pøesuny dat</a></p>
<p><a href="#k05">5. Podpora pro zobrazení kurzoru my¹i</a></p>
<p><a href="#k06">6. Zmìna rozmìrù a zrcadlení rastrových obrázkù èi videa</a></p>
<p><a href="#k07">7. Èip S3 Trio64V+</a></p>
<p><a href="#k08">8. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Grafické akcelerátory na osobních poèítaèích</h2>

<p>V&nbsp;pøedchozích èástech seriálu o architekturách poèítaèù jsme se
zabývali popisem grafických karet urèených pro osobní poèítaèe kompatibilní
s&nbsp;IBM PC. Vìt¹ina popisovaných grafických karet mìla ve své podstatì velmi
jednoduchou funkci &ndash; na základì hodinového signálu mìl èip (sekvencér a
souèasnì i øadiè obrazovky) umístìný na grafické kartì postupnì naèítat hodnoty
jednotlivých pixelù z&nbsp;obrazové pamìti, tato data pøevádìt na barvonosné
signály (R, G, B) a posléze k&nbsp;tìmto signálùm navíc pøidat trojici dal¹ích
informací dùle¾itých pro správnou funkci monitoru &ndash; okam¾iky zatemnìní
obrazu (vìt¹inou se jednalo o v¹echny ètyøi okraje obrazovky) a prùbìhy
horizontálního i vertikálního návratu elektronového paprsku na zaèátek dal¹ího
obrazového øádku (horizontální návrat paprsku) popø.&nbsp;do levého horního
rohu obrazovky (vertikální návrat paprsku). Jedním z&nbsp;èipù, které tuto
funkci (samozøejmì s&nbsp;pomocí dal¹ích elektronických prvkù) zaji¹»ovaly, byl
ji¾ popisovaný grafický øadiè <i>Motorola 6845</i>, který byl pou¾it mj.&nbsp;i
v&nbsp;grafických kartách <i>MDA</i>, <i>CGA</i> a <i>Hercules</i>.</p>

<a href="http://i.iinfo.cz/images/559/pc83-2.png"><img src="http://i.iinfo.cz/images/559/pc83-2-prev.png" alt="pc83" height="135" width="370" /></a>
<p><i>Obrázek 1: Grafický øadiè Motorola MC6845 pou¾itý na poèítaèích PC
v&nbsp;grafických kartách MDA, CGA a Hercules.</i></p>

<p>S&nbsp;trochou nadsázky je mo¾né øíci, ¾e i vìt¹ina dal¹ích grafických
karet, které následovaly po <i>CGA</i> a <i>Herculesu</i>, se principem své
práce od vý¹e popsané funkce pøíli¹ neodli¹ovaly. Týká se to napøíklad i
grafické karty <i>VGA</i> a první generace karet <i>SVGA</i> (viz pøedchozí
èásti tohoto seriálu). I pøes pomìrnì slo¾ité ovládání tìchto karet a podporu
grafických re¾imù s&nbsp;vìt¹ím rozli¹ením i vy¹¹ím poètem barev tyto karty
programátorùm nenabízely prakticky ¾ádnou podporu pro dal¹í grafické operace,
napøíklad mo¾nost vykreslování spritù (tato funkcionalita byla bì¾ná ji¾ na
nìkterých osmibitových poèítaèích a samozøejmì na <i>Amize</i>), podporu pro
blokové pøenosy dat, vykreslování základních 2D tvarù atd. Existovaly sice
grafické akcelerátory urèené pro profesionální pou¾ití, pøedev¹ím ji¾ popsané
karty <i>PGC &ndash; Professional Graphics Controller</i> a <i>TIGA &ndash;
Texas Instruments Graphics Architecture</i>, ale tyto akcelerátory byly plnì
podporovány pouze v&nbsp;nìkolika specializovaných aplikacích, nikoli napøíklad
ve hrách.</p>

<a href="http://i.iinfo.cz/images/626/pc8805.jpg"><img src="http://i.iinfo.cz/images/626/pc8805-prev.jpg" alt="pc8805" height="270" width="333" /></a>
<p><i>Obrázek 2: Umístìní èipù na trojici plo¹ných spojù grafického
akcelerátoru PGC.</i></p>



<p><a name="k02"></a></p>
<h2>2. Softwarové vykreslování obrazu nebo grafická akcelerace?</h2>

<p>S&nbsp;nástupem první generace karet <i>SVGA</i> (vybavených vìt¹inou 512 kB
nebo 1 MB obrazové pamìti) a pøedev¹ím s&nbsp;postupným roz¹iøováním graficky
orientovaných programù (vèetnì MS Windows) se v¹ak stále více ukazovalo, ¾e
stávající architektura grafického subsystému osobních poèítaèù PC zalo¾ená na
tom, ¾e ve¹keré vykreslování do obrazové pamìti obstarává mikroprocesor, je ji¾
nedostateèná. Dùvodù bylo více, zejména se jednalo o to, ¾e mikroprocesory
poèítaèù vybavených kartami <i>SVGA</i> sice byly mnohem výkonnìj¹í ne¾
procesory prvních IBM XT, ale pøi nutnosti provádìní naprogramovaných
grafických operací byly touto èinností ve zbyteènì velké míøe zatì¾ovány, tak¾e
jejich výpoèetní výkon nemohl být vyu¾itý pro jinou èinnost. Napøíklad pouhý
posun obrazu o jeden obrazový øádek (programový scrolling) v&nbsp;256barevném
grafickém re¾imu s&nbsp;rozli¹ením 1024&times;768 pixelù vy¾adoval, aby
mikroprocesor pøenesl 768 kilobajtù dat (z&nbsp;obrazové pamìti zpátky do
obrazové pamìti), co¾ je i v&nbsp;pøípadì pou¾ití pomìrnì rychlé sbìrnice PCI
dosti nároèná operace (ostatnì si mù¾ete sami vyzkou¹et, jak
&bdquo;rychlé&ldquo; je grafické u¾ivatelské rozhraní v&nbsp;pøípadì, ¾e se pøi
startu X Window systému pou¾ije obecný ovladaè pro grafické karty VESA).</p>

<img src="http://i.iinfo.cz/images/472/pc74-12.png" width="512" height="342" alt="pc74" />
<p><i>Obrázek 3: Pracovní plocha Macintoshe 128K nebo 512K. Jediný grafický
re¾im, který byl na první verzi Macintoshe dostupný, nabízel svým u¾ivatelùm
rozli¹ení 512&times;342 pixelù, pøièem¾ obraz byl monochromatický (ka¾dý pixel
mohl být pouze bílý nebo èerný). Z&nbsp;toho vyplývá, ¾e potøebná kapacita
obrazové pamìti má kapacitu pouhých 512&times;342/8=21 kB. Jedná se o tak malý
objem dat, ¾e se pøekreslování obrazovky, pøesuny oken, zobrazení kurzoru my¹i
atd. øe¹ilo programovì &ndash; v¹echny operace vykonával mikroprocesor
Macintoshe, tj.&nbsp;èip Motorola 68000, který byl taktovaný na 7,834
MHz.</i></p>



<p><a name="k03"></a></p>
<h2>3. Urychlení práce s&nbsp;rastrovým 2D obrazem</h2>

<p>První grafické akcelerátory, které se mezi u¾ivateli poèítaèù PC roz¹íøily
pøedev¹ím v&nbsp;dobì nástupu sbìrnice PCI a první generace mikroprocesorù
<i>Pentium</i>, zpoèátku obsahovaly pouze podporu pro blokové pøesuny dat mezi
operaèní pamìtí a pamìtí grafickou (vìt¹inou s&nbsp;vyu¾itím takzvaného
bus-master pøenosu, pøi nìm¾ øízení sbìrnice pøevzal øadiè umístìný na grafické
kartì), podporu pro práci s&nbsp;grafickým kurzorem my¹i a v&nbsp;nìkterých
pøípadech také umo¾òovaly modifikaci dat (tj.&nbsp;barev jednotlivých pixelù)
pøi blokových pøenosech (<i>raster operations, raster-ops, ROPs</i>. Mo¾nosti
grafických akcelerátorù se v¹ak pomìrnì rychle roz¹iøovaly, nìkteré grafické
karty napøíklad zaèaly podporovat i dekomprimaci videa podle normy MPEG 1 èi
MPEG 2. Ov¹em nejvìt¹í novinkou se pro vìt¹inu u¾ivatelù staly grafické
akcelerátory podporující vykreslování trojrozmìrných scén (jednalo se napøíklad
o grafické akcelerátory <i>Voodoo</i>). V&nbsp;dne¹ní èásti seriálu o
architekturách poèítaèù se v¹ak budeme zabývat pouze tìmi grafickými
akcelerátory, které podporovaly práci s&nbsp;dvourozmìrnými obrazci.</p>

<img src="http://i.iinfo.cz/images/182/pc6904.png" width="400" height="350" alt="pc6904" />
<p><i>Obrázek 4: Ji¾ nìkteré osmibitové poèítaèe, napøíklad Atari a Commodore
C64, obsahovaly èipy, které byly urèeny k&nbsp;manipulaci s&nbsp;obrazem a jeho
vykreslováním bez nutnosti pøeru¹ení práce mikroprocesoru. Na tomto obrázku je
ukázán zpùsob zapojení èipù ANTIC a GTIA, které jsou pou¾ívány
v&nbsp;osmibitových poèítaèích Atari pro øízení vykreslování. S&nbsp;pomocí
tìchto èipù bylo mo¾né mìnit grafické re¾imy, zobrazovat sprity
s&nbsp;mìnitelnou prioritou i pozicí a plynule posouvat obrazem. Právì díky
tìmto èipùm bylo mo¾né na poèítaèích Atari s&nbsp;osmibitovým mikroprocesorem
taktovaným na 1,7 MHz implementovat i graficky pomìrnì nároèné hry. Poèítaèe
Commodore C64 byly pro podobné úèely vybaveny èipem VIC-II, který se takté¾
nemalou mìrou podílel na velké oblibì tohoto stroje jak mezi u¾ivateli, tak i
mezi programátory. Pov¹imnìte si, ¾e èipy ANTIC a GTIA neobsahují vlastní
obrazovou pamì» &ndash; v¹echny potøebné údaje si tyto èipy samy naèítají
z&nbsp;operaèní pamìti poèítaèe pomocí DMA.</i></p>



<p><a name="k04"></a></p>
<h2>4. Blokové pøesuny dat</h2>

<p>Pøi manipulaci s&nbsp;obrazem vykreslovaným v&nbsp;grafických re¾imech
s&nbsp;relativnì vysokým rozli¹ením (napøíklad 1024&times;768 pixelù) a
patnáctibitovou, ¹estnáctibitovou (<i>hicolor</i>) èi 24bitovou barevnou
hloubkou (<i>truecolor</i>) je pro plynulé zobrazování zapotøebí, aby grafický
subsystém poèítaèe podporoval operaci blokového pøesunu rastrových dat
s&nbsp;pøípadnou automatickou konverzí mezi rùznými barvovými systémy
(<strong>Bit-Block Transfer &ndash; BitBlt &ndash; Blit</strong>). Blokové
pøesuny dat se vìt¹inou provádí jak mezi operaèní pamìtí a pamìtí grafickou,
tak mezi rùznými bloky grafické pamìti (posun èásti obrazce, scrolling,
obnovení èásti obrazu z&nbsp;takzvaného zadního bufferu). Dùle¾itým po¾adavkem
pøi blokových pøesunech je pøedev¹ím zaji¹tìní co nejmen¹ího zatí¾ení
mikroprocesoru, proto¾e objem pøená¹ených dat mù¾e nabývat monstrózních
rozmìrù. Snadným výpoètem lze napøíklad zjistit, ¾e pro zobrazení videa
s&nbsp;rozli¹ením &bdquo;pouhých&ldquo; 740&times;574 pixelù (co¾ zhruba
odpovídá televiznímu snímku) je pøi snímkové frekvenci 25 fps datový tok roven
cca 30Mbs<sup>-1</sup>, co¾ mj.&nbsp;znamená, ¾e pro pøenos nelze pou¾ít
pomalej¹í typy sbìrnic, napøíklad ISA.</p>

<p>V&nbsp;ideálním pøípadì øídí blokový pøesun a barevné konverze grafický
subsystém (èipy na grafické kartì) samostatnì, mikroprocesor pouze celou
operaci spustí. Pøi vykreslování videa je v¹ak mnohdy nutné provádìt i rùzné
pokroèilej¹í filtrace obrazu, zejména zmìnu pomìru jeho stran (napøíklad
z&nbsp;formátu 4:3 na 16:9, viz ¹está kapitola), odstranìní prokladu øádkù, vykreslení dal¹ích
obrazcù do videa (titulky, ovládací panel multimediálního pøehrávaèe) atd. I
tyto operace by mìl grafický subsystém podporovat bez pøíli¹ného zatí¾ení
mikroprocesoru, ideálnì bez jeho zapojení do tohoto èasovì nároèného procesu
zpracování obrazu. V&nbsp;tomto seriálu jsme se mj.&nbsp;zabývali i vlastnostmi
grafických karet <i>TIGA</i>, které obsahovaly signálový procesor <i>TMS
34010</i>, jen¾ podporoval pomìrnì slo¾ité operace blokových pøesunù zahajované
instrukcemi <strong>PIXT</strong> (<i>pixel transfer</i>) a
<strong>PIXBLT</strong> (<i>pixel block transfer</i>). Pøi pøesunech blokù
pixelù se mohlo provádìt maskování prùhledných pixelù (v&nbsp;podstatì se
jednalo o podporu spritù), kontrolovat, zda kopírované pixely nále¾í do
specifikovaného obdélníkového okna, maskovat obrázek bitovou rovinou atd.
Druhá verze grafického procesoru <i>TMS 34020-2</i> dokázala pøi pou¾ití
operací pøesunu dat pøenést a¾ 18 milionù pixelù za sekundu a pøi pou¾ití
operace výplnì (vykreslení obdélníku konstantní barvou) rychlost dokonce
pøesahovala hodnotu 160 milionù pixelù za sekundu. Právì
podpora tìchto grafických operací uèinila z&nbsp;grafického akcelerátoru
<i>TIGA</i> velmi zajímavý výrobek, který mìl velký vliv na dal¹í vývoj
grafických karet, napøíklad i dále zmínìného èipu <i>S3 Trio64</i>.</p>

<a href="http://i.iinfo.cz/images/202/pc89-8.png"><img src="http://i.iinfo.cz/images/202/pc89-8-prev.png" alt="pc89" height="150" width="370" /></a>
<p><i>Obrázek 5: Zjednodu¹ené schéma grafického akcelerátoru TIGA vybaveného
signálovým procesorem TMS 34010. Na tomto schématu mù¾eme vidìt, ¾e se jedná o
adaptér obsahující samostatnou grafickou pamì» (Video RAM) oddìlenou od
operaèní pamìti poèítaèe, podobnì jako je tomu u bì¾ných grafických karet (CGA,
EGA, VGA...). Pøenosy dat mezi operaèní pamìtí a grafickou pamìtí,
popø.&nbsp;mezi rùznými èástmi grafické pamìti, jsou øízeny grafickým
procesorem vybaveným modulem pro blokové pøesuny dat (viz pøedchozí
odstavec).</i></p>



<p><a name="k05"></a></p>
<h2>5. Podpora pro zobrazení kurzoru my¹i</h2>

<p>Dal¹í graficky orientovanou operací, kterou bylo zapotøebí urychlit a
zjednodu¹it, bylo vykreslování kurzoru my¹i. Na první pohled se mù¾e zdát, ¾e
se jedná o operaci zcela podru¾nou, nebo» kurzor my¹i obsazuje na plo¹e
obrazovky pomìrnì malý prostor (typicky má velikost rastru 20&times;20 pixelù).
Ve skuteènosti bylo pøi programovém (softwarovém) vykreslování kurzoru my¹i
zapotøebí pøi ka¾dé grafické operaci testovat, zda vykreslovaný obrazec nebo
dialog nezasahuje do oblasti se zobrazeným kurzorem my¹i. Pokud kolize nastala,
musel se obrazec nejprve neviditelnì vykreslit do operaèní pamìti poèítaèe,
provést kombinaci s&nbsp;kurzorem my¹i (pomocí bitovì orientovaných operací) a
následnì výsledný modifikovaný obrázek okna èi dialogu vykreslit. Pouze tak
bylo mo¾né zamezit poblikávání kurzoru, co¾ by bylo z&nbsp;u¾ivatelského
hlediska nepøípustné. Také pohyb kurzoru musel být øe¹en pøeètením obrazových
dat z&nbsp;obrazové (video) pamìti, jejich kombinací s&nbsp;rastrem kurzoru na
nové pozici a opìtovným zápisem do obrazové pamìti. Navíc se pøi pohybu kurzoru
my¹i muselo neustále provádìt pøekreslování grafických objektù (oken, dialogù,
menu atd.) v&nbsp;místech, které kurzor opustil. Pokud by se pøekreslení
neprovedlo, kurzor my¹i by pøi svém pohybu po obrazovce za sebou zanechával
stopu, co¾ je &bdquo;efekt&ldquo;, který ji¾ vìt¹ina u¾ivatelù grafických
u¾ivatelských rozhraní za¾ila, napøíklad tehdy, pokud nìjaká aplikace pøestala
reagovat na zprávy posílané systémem. Objem dat, který se pøi celodenní práci
s&nbsp;grafickým u¾ivatelským rozhraním tímto zpùsobem zbyteènì pøenesl mezi
obrazovou pamìtí a pamìtí operaèní pak dosahoval øádu gigabajtù.</p>

<img src="http://i.iinfo.cz/images/574/pc7103.jpg" width="370" height="261" alt="pc7103" />
<p><i>Obrázek 6: Osm ètyøbarevných spritù zobrazených v&nbsp;re¾imu
multi-color na osmibitovém domácím poèítaèi Commodore C64. Sprity bylo mo¾né
pou¾ít pro zobrazení kurzoru my¹i, který se mohl pohybovat na obrazovce
nezávisle na obsahu &bdquo;podkladového&ldquo; obrázku.</i></p>

<p>Zejména operace ètení pixelù z&nbsp;obrazové pamìti byla dosti pomalá, proto
se ji¾ poèátkem devadesátých let minulého století stále èastìji objevovaly
grafické karty, které implementovaly zobrazení a pohyb kurzoru my¹i
s&nbsp;hardwarovou podporou. Princip funkce tìchto karet pøi práci
s&nbsp;kurzorem byl velmi podobný jako u vý¹e zmínìných èipù <i>GTIA</i>
(Atari) èi <i>VIC-II</i> (Commodore C64), tj.&nbsp;rastrový obraz kurzoru se
kombinoval s&nbsp;rastrovým obrazem pozadí a¾ bìhem vykreslování, vlastní
pozadí tedy nebylo kurzorem mìnìno (nedocházelo k&nbsp;modifikaci obsahu
obrazové pamìti). Urychlení zobrazování se oproti bì¾ným grafickým kartám bez
podpory vykreslování kurzoru my¹i pohybovalo v&nbsp;øádu procent a¾ desítek
procent, zejména pøi práci s&nbsp;plnobarevným kurzorem. Mezi grafické karty,
které podporovaly nezávislé vykreslování kurzoru my¹i patøí pøedev¹ím karty
<i>Cirrus Logic</i> s&nbsp;grafickými èipy øady <i>CL-GD 542x</i>, <i>CL-GD
543x</i> a <i>CL-GD 64xx</i>. Z&nbsp;dal¹ích firem vyrábìjících grafické karty
jmenujme napøíklad velmi úspì¹nou firmu <i>S3</i> (grafické èipy øady <i>Vision
864</i>, <i>964</i>, <i>866</i> a <i>868</i>, dále <i>Trio32</i>, <i>Trio64</i>
&ndash; poslední jmenované èipy se staly nepsaným standardem v&nbsp;mnoha
kanceláøských poèítaèích) a <i>Matrox</i> (zejména velmi kvalitní karty známé
vývojové øady <i>Matrox Millenium</i>).</p>



<p><a name="k06"></a></p>
<h2>6. Zmìna rozmìrù a zrcadlení rastrových obrázkù èi videa</h2>

<p>V&nbsp;neposlední øadì je po grafických kartách také vy¾adována schopnost
zvìt¹ovat, zmen¹ovat a zrcadlit zobrazované video, èasto dokonce
neproporcionálnì (napøíklad kvùli konverzi mezi televizním formátem 4:3 a
¹irokoúhlým filmovým formátem 16:9). Pøi tìchto operacích je nutné pou¾ívat
rùzné metody interpolace a filtrace obrazu, aby se zamezilo vzniku ne¾ádoucích
vizuálních artefaktù vlivem podvzorkování signálu (èasový a pøedev¹ím
prostorový alias). Tyto operace je vìt¹inou nutné provádìt pøímo na grafické
kartì, proto¾e pøi výpoètu mikroprocesorem by byly velmi pomalé, opìt
z&nbsp;dùvodu dvojího pøenosu dat pøes sbìrnice a vyrovnávací pamìti. Zejména
se to týká operace horizontálního èi vertikálního zrcadlení, kdy dochází pøi
ètení èi zápisu k&nbsp;neustálému vyprazdòování vyrovnávací pamìti (buï ètení
èi zápis se provádí v&nbsp;opaèném poøadí, ne¾ v&nbsp;jakém jsou pøirozenì
uspoøádány pamì»ové buòky). Mezi prvními ¹iroce pou¾ívanými grafickými kartami,
které obsahovaly podporu pro rychlé vykreslování rastrových obrázkù (videa),
patøí karty <i>Cirrus Logic</i> øady <i>CL-GD 64xx</i>, <i>S3 Trio32</i> a
pøedev¹ím karty od kanadské firmy ATI, napøíklad <i>ATI Rage 128</i>, která
souèasnì patøí do tøídy 3D grafických akcelerátorù popsaných
v&nbsp;následujících èástech tohoto seriálu.</p>

<a href="http://i.iinfo.cz/images/545/pc92-1.png"><img src="http://i.iinfo.cz/images/545/pc92-1-prev.png" alt="pc92_" height="165" width="370" /></a>
<p><i>Obrázek 7: Kombinace tøí datových tokù na grafické kartì s&nbsp;èipem S3
Trio64.</i></p>



<p><a name="k07"></a></p>
<h2>7. Èip S3 Trio64V+</h2>

<p>Jedním z&nbsp;nejznámìj¹ích èipù optimalizovaných pro grafické akcelerátory
urèené pro urychlení zpracování rastrové 2D graficky, byl èip nazvaný <i>S3
Trio64V+</i>. Název &bdquo;trio&ldquo; byl v&nbsp;názvu tohoto èipu pou¾it
z&nbsp;jednoduchého dùvodu &ndash; jedná se o trojici vzájemnì spolupracujících
modulù: grafického jádra (procesoru), generátoru hodinových pulsù (clock
generator) a RAMDAC, tj.&nbsp;D/A pøevodníku kombinovaného s&nbsp;pamìtí
s&nbsp;organizací 256&times;18 bitù, která slou¾ila pro transformaci barev.
Grafický èip <i>Trio64V+</i> kromì zpìtné kompatibility s&nbsp;grafickou kartou
<i>VGA</i> podporoval i nové grafické re¾imy (typické rozli¹ení a¾
1280&times;1024 pixelù) a video pamì» o kapacitì maximálnì 4 MB (co¾ ov¹em
v&nbsp;pøípadì zmínìného re¾imu 1280&times;1024 pixelù znamená, ¾e double
buffering byl podporován pouze pøi práci s&nbsp;256 barvami). Kromì nových
grafických re¾imù podporoval èip <i>S3 Trio64V+</i> i pomìrnì velké mno¾ství
grafických operací, které se vykonávaly bez pøeru¹ení práce mikroprocesoru.
Mezi podporované operace patøí pøedev¹ím:</p>

<ul>
<li>Vykreslení úseèky konstantní barvou</li>
<li>Vykreslení otexturované úseèky</li>
<li>Vykreslení krátkého vektoru o délce maximálnì 15 pixelù a sklonem
s&nbsp;násobkem 45&deg; (jedná se o optimalizovanou operaci, která se provádí
rychleji ne¾ vykreslení obecné úseèky)</li>
<li>Vyplnìní obdélníka (osovì orientovaného)</li>
<li>Pøenos obdélníkového výøezu obrazu (BitBLT)</li>
<li>Podpora pro hardwarový kurzor my¹i o rozli¹ení maximálnì 64&times;64 pixelù</li>
<li>Zmìna mìøítka obrazu</li>
<li>Míchání dat (video signálu) ze dvou rùzných zdrojù &ndash; pou¾ívá se napøíklad pøi zobrazení videa v&nbsp;oknì</li>
</ul>

<a href="http://i.iinfo.cz/images/545/pc92-2.jpg"><img src="http://i.iinfo.cz/images/545/pc92-2-prev.jpg" alt="pc92_" height="270" width="303" /></a>
<p><i>Obrázek 8: Grafická karta s&nbsp;èipem S3 Trio32. Jedná se o
zjednodu¹enou verzi èipu S3 Trio64. Zjednodu¹ení spoèívá ve zú¾ení datové
sbìrnice pou¾ívané pøi pøesunu obrazových dat.</i></p>

<p>Ke grafickému procesoru <i>S3 Trio64V+</i> bylo mo¾né v&nbsp;pøípadì potøeby
nainstalovat volitelný koprocesor, kterým byl v&nbsp;první generaci tìchto
grafických karet èip <i>Scenic/MX2</i>, jen¾ dokázal provádìt rychlou
dekomprimaci dat MPEG. Ve druhé generaci karet <i>S3 Trio</i> je ji¾ mo¾né
pou¾ít koprocesor urèený pro urychlení výpoètù pou¾ívaných pøi transformacích
objektù v&nbsp;plo¹e nebo v&nbsp;trojrozmìrném prostoru (<i>Geometry
Engine</i>), to je ji¾ ov¹em téma, kterým se budeme zabývat a¾ v&nbsp;pøí¹tí
èásti seriálu.</p>

<a href="http://i.iinfo.cz/images/545/pc92-3.jpg"><img src="http://i.iinfo.cz/images/545/pc92-3-prev.jpg" alt="pc92_" height="270" width="315" /></a>
<p><i>Obrázek 9: Grafická karta s&nbsp;èipem S3 Trio64V+.</i></p>



<p><a name="k08"></a></p>
<h2>8. Odkazy na Internetu</h2>

<ol>

<li>Professional Graphics Controller<br />
<a href="http://en.wikipedia.org/wiki/Professional_Graphics_Controller">http://en.wikipedia.org/wiki/Professional_Graphics_Controller</a>
</li>

<li>The IBM PGA Graphics Adapter<br />
<a href="http://incolor.inebraska.com/bill_r/ibm_pga_graphics_adapter.htm">http://incolor.inebraska.com/bill_r/ibm_pga_graphics_adapter.htm</a>
</li>

<li>Professional Graphics Controller: Notes<br />
<a href="http://www.seasip.info/VintagePC/pgc.html">http://www.seasip.info/VintagePC/pgc.html</a>
</li>

<li>A professional graphics controller (PDF ke sta¾ení po zaplacení 10 doalrù)<br />
<a href="http://domino.research.ibm.com/tchjr/journalindex.nsf/0/6829ccaf443f3a6c85256bfa00685b97?OpenDocument">http://domino.research.ibm.com/tchjr/journalindex.nsf/0/6829ccaf443f3a6c85256bfa00685b97?OpenDocument</a>
</li>

<li>Texas Instruments Graphics Architecture<br />
<a href="http://en.wikipedia.org/wiki/Texas_Instruments_Graphics_Architecture">http://en.wikipedia.org/wiki/Texas_Instruments_Graphics_Architecture</a>
</li>

<li>TMS34010<br />
<a href="http://en.wikipedia.org/wiki/TMS34010">http://en.wikipedia.org/wiki/TMS34010</a>
</li>

<li>Trident SuperVGA<br />
<a href="http://world.std.com/obi/Standards/VGA/trident.txt">http://world.std.com/obi/Standards/VGA/trident.txt</a>
</li>

<li>TMS34010 Graphics System Processor<br />
<a href="http://focus.ti.com/docs/prod/folders/print/tms34010.html">http://focus.ti.com/docs/prod/folders/print/tms34010.html</a>
</li>

<li>TMS34020A Graphics Processor<br />
<a href="http://focus.ti.com/docs/prod/folders/print/tms34020a.html">http://focus.ti.com/docs/prod/folders/print/tms34020a.html</a>
</li>

<li>25 Microchips That Shook the World<br />
<a href="http://www.synbio.org.uk/scientific-computing-news/1351.html">http://www.synbio.org.uk/scientific-computing-news/1351.html</a>
</li>

<li>Sprite (computer graphics)<br />
<a href="http://en.wikipedia.org/wiki/Sprite_(computer_graphics)">http://en.wikipedia.org/wiki/Sprite_(computer_graphics)</a>
</li>

<li>Sprite (poèítaèová grafika)<br />
<a href="http://cs.wikipedia.org/wiki/Sprite_(poèítaèová_grafika)">http://cs.wikipedia.org/wiki/Sprite_(poèítaèová_grafika)</a>
</li>

<li>Wikipedia: Video Display Controller<br />
<a href="http://en.wikipedia.org/wiki/Video_Display_Controller">http://en.wikipedia.org/wiki/Video_Display_Controller</a>
</li>

<li>Wikipedia: MOS Technology VIC-II<br />
<a href="http://en.wikipedia.org/wiki/MOS_Technology_VIC-II">http://en.wikipedia.org/wiki/MOS_Technology_VIC-II</a>
</li>

<li>S3 Trio<br />
<a href="http://en.wikipedia.org/wiki/S3_Trio">http://en.wikipedia.org/wiki/S3_Trio</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

