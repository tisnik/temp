<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Jak pracuje poèítaè?</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Jak pracuje poèítaè?</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Tento èlánek je urèen pro ty u¾ivatele poèítaèù, které zajímá, jak poèítaèe ve skuteènosti pracují, tj. co se uvnitø poèítaèù dìje. Nejdøíve si popí¹eme von Neumannovu i Harvardskou architekturu, roli aritmeticko-logické jednotky, øadièe, operaèní pamìti i vstupních a výstupních zaøízení.</p>



<h1>Obsah</h1>
<p>
<a href="#k01">1. Jak pracuje poèítaè?</a><br />
<a href="#k02">2. Von Neumannova architektura poèítaèù</a><br />
<a href="#k03">3. Harvardská architektura poèítaèù</a><br />
<a href="#k04">4. Øadiè</a><br />
<a href="#k05">5. Aritmeticko-logická jednotka (ALU)</a><br />
<a href="#k06">6. Operaèní pamì»</a><br />
<a href="#k07">7. Vstupní a výstupní zaøízení</a><br />
<a href="#k08">8. Schéma a základní funkce kanonického poèítaèe</a><br />
<a href="#k09">9. Obsah následující èásti tohoto èlánku</a><br />
</p>



<p><a name="k01"></a></p>
<h1>1. Jak pracuje poèítaè?</h1>

<p>Mnoho u¾ivatelù poèítaèù i zaèínajících programátorù si klade otázku, jak
vlastnì jejich poèítaè ve skuteènosti pracuje. Pro nìkoho se jedná o skoro
zázraènou a pøesto stále zlobící bedýnku, ve které jsou v&nbsp;jakýchsi
barevných okénkách schovány v¹echny jejich dokumenty (pokud se tedy zrovna
"nìkam samy neztratily") i programy a zezadu jsou "pøipojené ty Internety" (na
druhou stranu je nutné uznat, ¾e se v&nbsp;mnoha pøípadech jedná o docela
praktický pøístup). Dále existují odborníci, kteøí poèítaèùm do hloubky rozumí,
doká¾ou napøíklad pøipojit na jejich sbìrnici logický analyzátor èi digitální
multikanálový osciloskop a pøesnì pochopit, co se zrovna v&nbsp;poèítaèi dìje.
Dal¹í zase rádi pracují s&nbsp;"holým ¾elezem", tj.&nbsp;tvoøí èi upravují
programy na té nejni¾¹í úrovni, tj.&nbsp;v&nbsp;<i>assembleru</i> a ti
nejotrlej¹í dokonce pøímo ve <i>strojovém kódu</i>.</p>

<image id="5796" original="no" />
<p-center>Pohled do moderního osobního poèítaèe s&nbsp;vyznaèením nìkterých jeho dùle¾itých souèástí</p-center>

<p>Pro ty ostatní z&nbsp;vás, které by zajímalo, jak poèítaèe uvnitø pracují,
co je to napøíklad <i>mikroprocesor</i> a jak se ovládá pomocí strojového kódu,
je urèen právì tento èlánek, na který bude navazovat nìkolik tématicky
zamìøených pokraèování. U¾ dopøedu je mo¾né øíci, ¾e je zajímavé, ¾e poèítaèe,
pøedev¹ím ty osobní, jsou sice velmi slo¾itá elektronická zaøízení, které v¹ak
pracují na nìkolika základních principech, je¾ se dají pomìrnì jednodu¹e
vysvìtlit. V&nbsp;osmé kapitole si øekneme, jak by mohl vypadat hypotetický
velmi jednoduchý (kanonický) poèítaè, jeho¾ pomìrnì vìrným obrazem byl
napøíklad legendární poèítaè <i>ZX80</i> èi jeho následovník <i>ZX81</i>.</p>

<image id="5797" />
<p-center>Zjednodu¹ené schéma relativnì moderního osobního poèítaèe s&nbsp;èipovou sadou rozdìlenou na takzvaný <i>North bridge</i> a <i>South bridge</i></p-center>

<p>Pøi pohledu do vnitøností bì¾ného osobního poèítaèe mù¾eme spatøit pomìrnì
velké mno¾ství rùzných souèástí, které jsou mezi sebou propojeny
nìkolikavodièovými kabely. Jedná se o pevné disky, optické jednotky (CD èi DVD
mechaniku), nìkdy také disketovou jednotku a grafickou kartu, popø. i jiné
pøídavné karty. Tou nejdùle¾itìj¹í èástí poèítaèe je v¹ak základní deska a na
ní umístìné souèástky &ndash; <i>mikroprocesor</i> a <i>operaèní pamì»</i>.</p>

<p>Pøedev¹ím v&nbsp;minulosti se architektury poèítaèù rozdìlovaly na <i>von
Neumannovu</i> a <i>Harvardskou</i>. Dnes se tento rozdíl ponìkud smývá,
proto¾e nìkteré moderní poèítaèe pøevzaly urèité èásti svého uspoøádání
z&nbsp;obou architektur, ale pro úèely vysvìtlení základù funkce poèítaèù si
pøesto obì architektury v&nbsp;následujících dvou kapitolách popí¹eme.</p>

<image id="5798" original="no" />
<p-center>Xbox pou¾ívá internì stejný typ uspoøádání jednotlivých modulù, jako bì¾né osobní poèítaèe</p-center>



<p><a name="k02"></a></p>
<h1>2. Von Neumannova architektura poèítaèù</h1>

<p>Pøi návrhu vìt¹iny poèítaèových systémù se pou¾ívá takzvaná <i>von
Neumannova architektura</i>. Ta je zalo¾ená na jednoduché, ale nesmírnì
dùle¾ité my¹lence: poèítaè zpracovává nìjaká <i>data</i> pomocí programu, který
je sám o sobì také <i>reprezentován daty</i>. To znamená, ¾e programy je mo¾né
libovolnì mìnit a modifikovat &ndash; poèítaè je programovatelný, nemá pøedem
pevnì danou funkci a tudí¾ je neuvìøitelnì flexibilní, proto¾e pouhou zmìnou
programu (tedy dat), se mù¾e funkce poèítaèe radikálnì zmìnit. Tato my¹lenka
von Neumanna natrvalo ovlivnila prakticky celý IT prùmysl a i kdy¾ se mù¾e na
nìjaký èas zdát, ¾e je pøekonaná (architektury <i>data flow</i> atd.), opìt se
k&nbsp;ní neustále vracíme.</p>

<image id="5799" original="no" />
<p-center>V&nbsp;minulosti se poèítaèe neprogramovaly pøímo, ale pomocí dìrných ¹títkù (se zaøízeními na zpracování dìrných ¹títkù zaèala obchodovat firma IBM, která na nich postavila své první úspì¹né projekty)</p-center>

<p>Mù¾e se zdát, ¾e se jedná o tak základní a snad i pøirozenou my¹lenku, ¾e se
jí øídili v¹ichni výrobci poèítaèù. Není to v¹ak úplnì pravdivé, proto¾e
napøíklad první elektronický poèítaè <strong>ENIAC</strong> byl postaven na
zcela odli¹ném principu. Jeho tvùrci ze zaèátku chtìli, aby byl program ulo¾en
v&nbsp;trvalé pamìti, která byla v&nbsp;té dobì pøedstavována dìrnou páskou.
Ukázalo se v¹ak, ¾e øídicí i výpoèetní jednotka jsou tak rychlé (i kdy¾ o
rychlosti se dá v&nbsp;porovnání s&nbsp;dne¹kem tì¾ko mluvit), ¾e by neustálé
naèítání jednotlivých programových instrukcí (páska byla na konci slepená,
tak¾e se dala neustále pøetáèet) celý výpoèet zpomalovalo, co¾ v&nbsp;dobì
neskuteènì drahého provozu nebylo akceptovatelné.</p>

<p>Místo toho byl tedy program "zadrátován" a to doslova &ndash; pomocí
kilometrù drátù propojujících jednotlivé moduly poèítaèe. ®e byla oprava èi
modifikace programu velmi slo¾itá je asi zøejmé. Teprve poèítaèe stavìné po
druhé svìtové válce byly zalo¾eny na von Neumannových teoriích.</p>

<image id="5800" />
<p-center>Pohled na relativnì malou èást legendárního ENIACu</p-center>

<p>Vra»me se v¹ak k&nbsp;von Neumannovì architektuøe. Ve své obecnosti není
vùbec slo¾itá. Celý poèítaè se skládá z&nbsp;pìti koncepèních blokù. Jedná se o
<strong>operaèní pamì»</strong>, ve které je uschován jak program, tak i data,
se kterými program pracuje. Dále se zde nachází <strong>programový
øadiè</strong> øídící celý poèítaè a <strong>aritmeticko-logická
jednotka</strong>, ve které jsou vykonávány, jak ji¾ název naznaèuje,
aritmetické a logické operace s&nbsp;registry nebo pøímo místy
v&nbsp;pamìti.</p>

<p>Poslední dva bloky, tj.&nbsp;<strong>vstupy</strong> a
<strong>výstupy</strong> jsou pøedstavovány jednotlivými zaøízeními, která se
k&nbsp;poèítaèi pøipojují. V&nbsp;tom nejjednodu¹¹ím pøípadì se mù¾e jednat
napøíklad o LED-diody na výstupu a nìkolik tlaèítek na vstupu, stejnì tak se
v¹ak k&nbsp;poèítaèi mohou pøipojit inteligentní øadièe diskù, grafické
subsystémy, rùzná èidla (poèítaèe v&nbsp;autech jich obsluhují i nìkolik
desítek) atd. Funkce jednotlivých blokù zobrazených na schématickém obrázku
bude vysvìtlena v&nbsp;dal¹ích kapitolách.</p>

<image id="5801" />
<p-center>Von Neumannova architektura poèítaèe</p-center>



<p><a name="k03"></a></p>
<h1>3. Harvardská architektura poèítaèù</h1>

<p>Druhým typem architektury poèítaèù je takzvaná <i>Harvardská
architektura</i>. Ta ve své podstatì vznikla mírnou modifikací architektury
pøedchozí. Jedinou odli¹ností je to, ¾e pamì» urèená pro data je oddìlená od
pamìti urèené pro úschovu vlastního programu. To má za následek jednak
zrychlení práce celého poèítaèe, proto¾e je mo¾né souèasnì èíst instrukce
z&nbsp;pamìti programu a pracovat i s&nbsp;pamìtí dat (zapisovat èi do ní
èíst), za druhé mù¾e být pamì» pro program vyrobena odli¹nou technologií,
napøíklad se mù¾e jednat o pamì» typu ROM, PROM, EPROM èi FLASH (rychlá
EEPROM).</p>

<p>Pro nìkteré aplikace, ve kterých je poèítaè ovládán stále tím stejným
programem, se jedná o pomìrnì vhodné øe¹ení, na druhou stranu je v¹ak obtí¾nì
pou¾itelné u poèítaèù urèených pro øe¹ení obecných úloh &ndash; typickým
pøíkladem jsou domácí a osobní poèítaèe, u kterých není pøedem zøejmé, jaké
programy èi jejich verze na nich pobì¾í.</p>

<p>Harvardská architektura byla oblíbená pøedev¹ím u poèítaèù, které vznikly
v&nbsp;¹edesátých letech a zaèátkem sedmdesátých let minulého století a také u
mnohem pozdìji vzniklých <i>mikroøadièù</i> (<i>microcontroller</i>). Tímto
termínem se oznaèují mikroprocesory, ke kterým byla do jednoho pouzdra pøidána
i operaèní pamì» (RAM/RWM), pamì» pro programy a nemìnná data (ROM) i øadièe
sbìrnice.</p>

<p>Takto vzniklá elektronická souèástka je do znaèné míry sobìstaèná &ndash;
vìt¹inou zaène pracovat po pøipojení napájení, hodinových pulsù a pøivedení
signálu <strong>RESET</strong> na pøíslu¹ný pin (vývod, no¾ièku souèástky), co¾
je velký rozdíl oproti bì¾ným mikroprocesorùm, které ke své èinnosti vy¾adují
mnohdy velké mno¾ství dal¹ích podpùrných obvodù. I tématem mikroøadièù, které
dnes pøedstavují nejvìt¹í objem na trhu programovatelných souèástek a
v&nbsp;bì¾né domácnosti je jich v&nbsp;rùzných zaøízeních instalováno nìkolik
desítek a¾ stovek, se budeme v&nbsp;dal¹ích èástech tohoto èlánku podrobnìji
zabývat.</p>

<image id="5802" />
<p-center>Programování ENIACu bylo pravdìpodobnì zdlouhavìj¹í, ne¾ v&nbsp;moderních IDE</p-center>



<p><a name="k04"></a></p>
<h1>4. Øadiè</h1>

<p>Øadiè slou¾í, jak ji¾ ostatnì jeho název napovídá, k&nbsp;øízení v¹ech
dal¹ích èástí poèítaèe, a to jak ve von Neumannovì architektuøe, tak i v
architektuøe Harvardské. Øízení je provádìno na základì programu ulo¾eného buï
v&nbsp;operaèní pamìti (von Neumannova architektura), nebo v&nbsp;jiném typu
pamìti (Harvardská architektura). Z&nbsp;pamìti je v¾dy do øadièe naètena jedna
programová instrukce a øadiè na základì obsahu této instrukce,
tj.&nbsp;konkrétního povelu, øídí dal¹í moduly. Napøíklad pøi pøijetí instrukce
pro naètení operandu z&nbsp;pamìti je operand skuteènì naèten a ulo¾en do
registru v&nbsp;aritmeticko-logické jednotce, pøi pøijetí instrukce pro seètení
dvou èísel je opìt instruována aritmeticko-logická jednotka, ¾e má tuto operaci
provést atd. (více informací si øekneme pøí¹tì pøi vysvìtlování úlohy
strojového kódu).</p>

<p>Ve star¹ích poèítaèích, které je¹tì neobsahovaly mikroprocesor, se øadièe
vìt¹inou skládaly buï z&nbsp;diskrétních elektronických souèástek,
tj.&nbsp;z&nbsp;elektronek (diod, triod) nebo tranzistorù a diod, èi
z&nbsp;nìkolika integrovaných obvodù. V&nbsp;sedmdesátých letech minulého
století se v¹ak spolu se vznikem <i>mikroprocesorù</i> øadièe "pøestìhovaly"
právì do tìchto slo¾itých elektronických souèástek s&nbsp;velkou integrací,
tak¾e nastala situace, kdy se rozli¹ení mezi øadièem a aritmeticko-logickou
jednotkou popø.&nbsp;dal¹ími moduly von Neumannovy architektury zaèalo ponìkud
zmen¹ovat.</p>

<p>Mikroprocesory velkou mìrou pøispìly k&nbsp;roz¹íøení poèítaèù prakticky do
v¹ech oborù lidské èinnosti, co¾ jsme si pøipomnìli v&nbsp;èlánku <a
href="http://www.root.cz/clanky/jak-se-zrodil-procesor/">"Jak se zrodil
procesor?"</a> uveøejnìného ve dne kulatého výroèí vzniku mikroprocesorù.</p>

<image id="5803" />
<p-center>Øadiè nemusí být nutnì elektronický &ndash; v&nbsp;dávné minulosti se pou¾ívaly i mechanické øadièe (legendární poèítaè Z1)</p-center>



<p><a name="k05"></a></p>
<h1>5. Aritmeticko-logická jednotka (ALU)</h1>

<p>Aritmeticko-logická jednotka, neboli <i>ALU</i> <i>(Arithmetic and Logic
Unit)</i> slou¾í k&nbsp;provádìní ve¹kerých výpoètù s&nbsp;operandy, které jsou
naèteny z&nbsp;operaèní pamìti (nebo i pamìti programu v&nbsp;pøípadì
Harvardské architektury). Mezi základní operace, které jsou implementovány
prakticky ve v¹ech poèítaèích, patøí sèítání a odèítání celých èísel, bitový
logický souèet, bitový logický souèin, bitová negace a bitový posun
(<i>shift</i>) doprava i doleva. Slo¾itìj¹í mikroprocesory a digitální
signálové procesory (DSP) obsahují ALU, která provádí i dal¹í operace,
napøíklad násobení a dìlení nebo výpoèty s&nbsp;èísly ulo¾enými ve formátu
plovoucí øádové èárky (<i>floating point</i>).</p>

<p>Vlastnosti aritmeticko-logické jednotky do znaèné míry urèují i vlastnosti
celého poèítaèe. Jedná se napøíklad o takzvanou <i>bitovou ¹íøku</i> èi
<i>¹íøku slova</i>. V&nbsp;tomto pøípadì u¾ v¹ak pøedpokládáme, ¾e poèítaè
pracuje s&nbsp;dvojkovou soustavou, tj.&nbsp;jednotlivými <i>bity</i>, co¾
nemusí být v¾dy pravda &ndash; nìkteré star¹í poèítaèe, resp.&nbsp;jejich
procesory, napøíklad pracovaly pøímo v&nbsp;desítkové soustavì.</p>

<p>Vìt¹ina domácích poèítaèù, o nich¾ je¹tì bude v&nbsp;dal¹ím textu øeè,
pou¾ívala osmibitové mikroprocesory, jejich¾ ALU dokázala v&nbsp;jedné
instrukci zpracovat celá èísla (<i>integer</i>) o délce osmi bytù,
tj.&nbsp;v&nbsp;rozsahu pouhých -128 a¾ 127 nebo 0 a¾ 255. V¹echny operace
s&nbsp;vìt¹ími èísly musely být naprogramovány, co¾ vedlo ke zpomalení práce
&ndash; pokud ov¹em nebereme v&nbsp;úvahu del¹í èas výpoètu, je mo¾né na
osmibitových mikroprocesorech (resp.&nbsp;osmibitových ALU) provádìt i výpoèty
napøíklad s&nbsp;èísly ulo¾enými ve formátu pohyblivé øádové èárky, nebo i
výpoèty s&nbsp;libovolnou pøesností. Pozdìj¹í mikroprocesory mìly
¹estnáctibitové ALU, tøicetidvoubitové ALU a dnes dokonce ètyøia¹edesátibitové
aritmeticko-logické jednotky, co¾ by ji¾ mìlo pro vìt¹inu problémù øe¹ených na
poèítaèích více ne¾ dostaèovat.</p>

<image id="5804" />
<p-center>Konrad Zuse u makety svého mechanicko-elektronického poèítaèe Z1</p-center>



<p><a name="k06"></a></p>
<h1>6. Operaèní pamì»</h1>

<p>Operaèní pamì» (nebo obecnì pouze pamì») plní u poèítaèù dvojí roli. Pamì»
slou¾í samozøejmì k&nbsp;doèasné èi trvalé úschovì dat, se kterými výpoèty
probíhají (výpoètem mù¾e být napøíklad i posun hráèe ve høe, vykreslení webové
stránky, poslání e-mailu atd.), ov¹em její druhá role je neménì dùle¾itá
&ndash; v&nbsp;operaèní pamìti jsou ulo¾eny i operaèní kódy ("opkódy")
jednotlivých strojových instrukcí, které jsou naèítány do øadièe, který na
základì jejich hodnot øídí celý poèítaè.</p>

<p>Program, neboli funkce, kterou poèítaè provádí, tedy není napevno
"zadrátován", ale jedná se o zcela regulérní data. Ostatnì i tvorba programù se
podobá vytváøení bì¾ných textových dokumentù, ov¹em za pou¾ití jiného jazyka
(pomineme teï následný pøeklad nebo pøevod do bytekódu). Mno¾ina v¹ech
povolených operaèních kódù se li¹í podle typu pou¾itého procesoru a do znaèné
míry ovlivòuje zpùsob programování na té nejni¾¹í úrovni, tj.&nbsp;na úrovni
strojového kódu a assembleru. Více si o problematice pamìtí, zejména jejich
typech a technologických principech, øekneme v&nbsp;dal¹ích èástech
seriálu.</p>

<image id="5805" />
<p-center>V&nbsp;roli pamìti typu ROM se v&nbsp;minulosti pou¾ívaly i dìrné pásky</p-center>



<p><a name="k07"></a></p>
<h1>7. Vstupní a výstupní zaøízení</h1>

<p>Vstupní zaøízení slou¾í pro vstup dat do poèítaèe a výstupní zaøízení pro
jejich výstup (¾ádné pøekvapení se zde nekoná). Vstupní data mohou mít rùznou
podobu: mù¾e se jednat o nekoneèné sloupce èísel (tak si pøed nìkolika málo
lety pøedstavovala poèítaèe vìt¹ina lidí, staèí si zalistovat napøíklad
tehdej¹ím denním tiskem), textové dokumenty, programy, obrázky, video, teplota
motoru, tlak ve válcích atd. &ndash; prostì ve¹kerý obsah, který je mo¾né
nìjakým zpùsobem zdigitalizovat, tj.&nbsp;pøevést na mno¾inu bitù. Digitalizace
je nutná, proto¾e se data ukládají do operaèní pamìti nebo jsou pøímo naèítána
do aritmeticko-logické jednotky. Podoba výstupních dat je také velmi rùznorodá
a je samozøejmì závislá na pou¾itém výstupním zaøízení (displeje, tiskárny,
audio sestavy, servomotory atd.).</p>

<p>Pokud by byl poèítaè slo¾en pouze z&nbsp;øadièe, aritmeticko-logické
jednotky a pamìti, nebyl by nám nic platný, proto¾e by do nìj nebylo mo¾né
zadávat vstupní data a ani ¾ádná data získat nazpìt. Z&nbsp;tohoto dùvodu i ty
nejjednodu¹¹í poèítaèe nìjaké vstupy a výstupy obsahují. Napøíklad poèítaè
øídicí topení v&nbsp;domì má na vstup pøipojen digitální teplomìr (teplotní
èidlo) a výstup je tvoøen jedním bitovým vodièem, kterým se (pøes relé nebo
elektronický prvek) zapíná a vypíná kotel.</p>

<image id="5806" />
<p-center>Domácí mikropoèítaè Sinclair ZX80</p-center>



<p><a name="k08"></a></p>
<h1>8. Schéma a základní funkce kanonického poèítaèe</h1>

<p>V&nbsp;pøí¹tí èásti tohoto seriálu si podrobnìji vysvìtlíme funkci té
nejdùle¾itìj¹í souèástky, která dnes dìlá poèítaè poèítaèem. Jedná se o
mikroprocesor. Ov¹em ji¾ dnes si uká¾eme, jak by mohl vypadat hypotetický
"kanonický" poèítaè, který by byl reálnì pou¾itelný pro pokusy i reálnou práci
a který by nám souèasnì umo¾nil plnì pochopit práci tohoto poèítaèe.</p>

<p>Takový poèítaè by mìl ve své nejjednodu¹¹í podobì umo¾òovat vstup dat
z&nbsp;klávesnice, výstup dat na displej (obrazovku) a mìl by být sestaven
podle von Neumannovy koncepce. Vzhledem k&nbsp;tomu, ¾e mo¾nosti integrace ji¾
v&nbsp;sedmdesátých letech minulého století dosáhly takového stupnì, ¾e bylo
mo¾né slouèit øadiè a aritmeticko-logickou jednotku do jednoho èipu &ndash;
mikroprocesoru, mìl by ná¹ hypotetický poèítaè obsahovat právì mikroprocesor.
Tak¾e si na¹e po¾adavky shròme:</p>

<ol>
<li>jednoduchá architektura pro snaz¹í pochopení</li>
<li>vstup dat z&nbsp;klávesnice</li>
<li>výstup dat na displej (televizor)</li>
<li>von Neumannova koncepce: mikroprocesor+pamì»</li>
</ol>

<image id="5807" />
<p-center>Domácí mikropoèítaè Sinclair ZX81</p-center>

<p>Zajímavé je, ¾e tyto po¾adavky splòují prakticky v¹echny osmibitové domácí
poèítaèe (<i>home computers</i>). Jednalo se o první typ poèítaèù, jaký si
mohli za pomìrnì rozumnou cenu (cca 100 tehdej¹ích dolarù) poøídit i bì¾ní lidé
nemající pøístup do obøích výpoèetních center. Samozøejmì, ¾e i pøed érou
domácích poèítaèù existovali konstruktéøi, kteøí podobné zaøízení vytvoøili,
ale typicky se jednalo o pomìrnì nepraktické stroje &ndash; místo klávesnice
vìt¹inou obsahovaly sadu pøepínaèù a výstup byl tvoøen sadou ¾árovièek èi LED
diod. V&nbsp;na¹ich luzích a hájích se této my¹lence pøibli¾oval napøíklad
známý kit PMI-80.</p>

<p>Vra»me se v¹ak k&nbsp;domácím osmibitovým poèítaèùm. Jedním
z&nbsp;nejjednodu¹¹ích poèítaèù byl <strong>Sinclair ZX80</strong> a pøedev¹ím
jeho slavný následovník <strong>Sinclair ZX81</strong>. Osobnì si myslím, ¾e se
jednalo o ideální poèítaèe vhodné pro vysvìtlení v¹ech dùle¾itých konceptù, na
kterých jsou postaveny i moderní poèítaèe a je tro¹ku ¹koda, ¾e se podobná
zaøízení u¾ na ¹kolách (støedních a vysokých) nevyskytují a výuka se odvíjí od
slo¾itých moderních osobních poèítaèù, kterým prakticky nikdo nerozumí
(napøíklad u¾ interní funkce BIOSu jsou patentovány a mnohdy zavání mystikou).
Pojïme se podívat, jak slavná ZX81 vypadala uvnitø, co¾ nám dá pomìrnì pøesnou
ideu "kanonického" poèítaèe:</p>

<image id="5808" />
<p-center>Osazený plo¹ný spoj mikropoèítaèe Sinclair ZX81 je opravdu jednoduchý</p-center>

<p>Vidíme, ¾e poèítaè obsahuje pouze <strong>¹est</strong> hlavních souèástek.
Pøedev¹ím jde o mikroprocesor, kterým je <strong>Z80</strong>, pøesnìji øeèeno
jeho klon vyrábìný firmou NEC (vedle mikroprocesoru se skrývá i krystal
s&nbsp;oscilací 6,5 MHz, co¾ je pøesnì dvojnásobek taktovací frekvence
mikroprocesoru). Dále mù¾eme na plo¹ném spoji vidìt dva men¹í integrované
obvody pøedstavující pamì» typu RAM, tj.&nbsp;pamì», do které se dají zapisovat
informace. Dùvod, proè jsou pou¾ity dva obvody je jednoduchý &ndash; jednalo se
toti¾ o ètyøbitové pamìti, tj.&nbsp;pro jejich pøipojení k&nbsp;osmibitovému
procesoru se muselo pou¾ít paralelní spojení dvou pamìtí. Statické i dynamické
pamìti RAM se bì¾nì dávaly do obalù s&nbsp;malým poètem vývodù, z&nbsp;toho
vyplývají i ony ètyøi bity (je toti¾ výhodnìj¹í "obìtovat" vývody na roz¹íøení
adresové sbìrnice na úkor sbìrnice datové, ale o tom si povíme a¾ nìkdy
pøí¹tì).</p>

<p>Dal¹í souèástkou je pamì» typu ROM, která obsahovala základní rutiny pro
ovládání poèítaèe (zobrazení na televizi, vstup z&nbsp;klávesnice) a pøedev¹ím
interpret programovacího jazyka BASIC &ndash; jde tedy o jednoduchou obdobu
dne¹ních EEPROM pamìtí s&nbsp;BIOSem; mimochodem star¹í poèítaèe PC od IBM také
obsahovaly BASIC zapsaný v&nbsp;ROM. Po levé stranì se nachází èip ULA, co¾ je
zákaznický obvod, který v&nbsp;ZX81 slou¾il pøedev¹ím ke generování obrazu
(k&nbsp;tomu v¹ak také vyu¾íval mikroprocesor, proto zobrazování pomìrnì znaènì
zdr¾ovalo bìh programù).</p>

<p>V&nbsp;kovové kleci (ta byla nutná kvùli zamezení ru¹ení, proto¾e
mezinárodní normy jsou v&nbsp;tomto ohledu docela pøísné) je umístìn VF
modulátor, proto¾e ZX81 se zapojovala k&nbsp;bì¾né televizi &ndash; jednalo se
toti¾ o dobu, kdy monitor byl v&nbsp;rozumné cenové relaci takøka nedostupný,
zato televizor se vyskytoval prakticky v&nbsp;ka¾dé domácnosti.</p>

<image id="5809" original="no" />
<p-center>Schéma mikropoèítaèe Sinclair ZX81 je opravdu jednoduché (pamì» napravo IC4 je ve skuteènosti volitelná náhrada za IC4a a IC4b)</p-center>

<p>U¾ na první pohled jsou technické parametry tohoto poèítaèe podprùmìrné,
zejména pøi srovnání s&nbsp;poèítaèi dne¹ními: frekvence mikroprocesoru 3,25
MHz (ne GHz :-), pamì» ROM mìla kapacitu 8 KB, statická pamì» RAM dokonce
v&nbsp;základní konfiguraci <strong>pouhý 1 kB</strong>, zobrazovalo se
v&nbsp;textovém re¾imu 32&times;24 znakù ze znakové sady 64 znakù, které pro
jistotu ani neodpovídaly normì ASCII, pro co¾ existoval dobrý dùvod.</p>

<p>Znaková sada, která byla umístìna pøímo v&nbsp;ROM, v¹ak obsahovala i znaky
vhodné pro tvorbu pseudografiky v&nbsp;rozli¹ení 64&times;48 "pixelù" &ndash;
jinými slovy se ve znakové sadì nacházely v¹echny kombinace "ètvercù"
z&nbsp;møí¾ky 2&times;2, pøi vhodném naprogramování se v¹ak dalo dosáhnout i
zobrazování grafiky v&nbsp;rozli¹ení 256&times;192 pixelù (majitelé Spectra
jistì tato èísla dùvìrnì znají). I pøes velmi malou kapacitu operaèní pamìti (1
kilobyte, tj.&nbsp;1024 bytù je napøíklad délka tohoto odstavce) pro ZX81
vzniklo mnoho programù, mezi jinými dokonce i ¹achy s&nbsp;jednoduchou AI!
naprogramované Davidem Hornem (to byl skuteèný hacker).</p>

<image id="5810" original="no" />
<p-center>Na neosazeném plo¹ném spoji mikropoèítaèe Sinclair ZX81 jsou patrné ruènì vytvoøené "cestièky"</p-center>

<p>Proè se v¹ak o ZX81, která jistì mnohým ponìkud oprávnìnì pøipadá jako
staro¾itnost, vùbec zmiòuji? ©lo toti¾ o poèítaè, jeho¾ èinnost byl i prùmìrný
programátor schopen <strong>do v¹ech podrobností</strong> pochopit, vèetnì
principu zobrazování, zpùsobu testování stisku jednotlivých kláves (napøíklad
eliminace dokmitù se øe¹ily programovì, nikoli pomocí specializovaných obvodù),
práce interpreteru BASICu nebo programování ve strojovém kódu &ndash; pro
programy, které mìly maximálnì 1 kB se vlastnì ani assembler nemusel
pou¾ít.</p>

<p>Øekl bych, ¾e pro dùkladné zkoumání èinnosti tohoto poèítaèe byl ideální
dvoukanálový osciloskop, daly se tak sledovat i v¹echny komunikace mezi
mikroprocesorem a ULA, nebo zpùsob vytváøení obrazového signálu (zaèátkem
osmdesátých let minulého století byl v&nbsp;na¹ich zemích malý zázrak mít tuto
"krabièku", která dokázala v&nbsp;pomìrnì dobré kvalitì generovat televizní
obraz). V&nbsp;pøí¹tích èástech se proto budu k&nbsp;ZX81 nìkolikrát vracet a
budu na nìm nìkteré principy, které se uplatòují i dnes, vysvìtlovat.</p>



<p><a name="k09"></a></p>
<h1>9. Obsah následující èásti tohoto èlánku</h1>

<p>V&nbsp;dal¹í èásti tohoto èlánku si popí¹eme srdce témìø ka¾dého poøádného
poèítaèe &ndash; <i>mikroprocesor</i>. Ve své podstatì mikroprocesor vznikl
slouèením aritmeticko-logické jednotky a øadièe do jednoho èipu (integrovaného
obvodu). Podle zpùsobu práce s&nbsp;operandy se rozli¹uje nìkolik typù
procesorù, které si pøí¹tì také podrobnìji popí¹eme.</p>




<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2008</small></p>
</body>
</html>


