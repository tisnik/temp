<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>PGC &ndash; první grafický akcelerátor pro osobní poèítaèe</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>PGC &ndash; první grafický akcelerátor pro osobní poèítaèe</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù si popí¹eme první grafický akcelerátor pro osobní poèítaèe IBM PC nazvaný PGC neboli Professional Graphics Controller. Tento grafický akcelerátor podporoval vykreslování dvojrozmìrných èi trojrozmìrných scén, ov¹em trojrozmìrná tìlesa bylo mo¾né vykreslit pouze formou takzvaných drátových modelù (wireframe).</p>



<h2>Obsah</h2>

<p><a href="#k01">1. PGC &ndash; první grafický akcelerátor pro osobní poèítaèe</a></p>
<p><a href="#k02">2. Technologické øe¹ení grafického akcelerátoru PGC</a></p>
<p><a href="#k03">3. Hardwarová podoba PGC</a></p>
<p><a href="#k04">4. Grafické re¾imy PGC</a></p>
<p><a href="#k05">5. Kompatibilita s&nbsp;bì¾nými grafickými kartami</a></p>
<p><a href="#k06">6. Rozhraní pro pøipojení monitoru</a></p>
<p><a href="#k07">7. Volání funkcí grafického akcelerátoru PGC</a></p>
<p><a href="#k08">8. Barvová paleta</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. PGC &ndash; první grafický akcelerátor pro osobní poèítaèe</h2>

<p>V&nbsp;pøedchozích pìti èástech seriálu o architekturách poèítaèù jsme si
popsali vývoj grafických karet urèených pro osobní poèítaèe kompatibilní
s&nbsp;IBM PC (PC, XT, AT, PS/2 a jejich klony). V¹echny popisované karty,
tj.&nbsp;jak <i>MDA</i>, <i>CGA</i>, <i>EGA</i>, <i>MCGA</i>, <i>VGA</i>, tak i
<i>Hercules</i> v¹ak programátorùm i u¾ivatelùm nabízely pouze velmi omezený
repertoár základních funkcí. Jednalo se pøedev¹ím o funkce urèené pro nastavení
textového èi grafického re¾imu, zmìnu barvové palety, zmìnu definice
jednotlivých znakù ve znakové sadì (podporováno na <i>EGA</i>, <i>VGA</i> a <i>Hercules
Plus</i>) horizontální a/nebo vertikální posun obrazu (podpora u <i>VGA</i> a èásteènì
<i>EGA</i>), mo¾nost nastavení poèátku obrazové pamìti (pou¾itelné mj.&nbsp;i
pro double èi tripple buffering), re¾im rozdìlené obrazovky (<i>VGA</i>) a
samozøejmì té¾ mo¾nost zápisu èi ètení hodnot jednotlivých znakù a jejich
barvových atributù v&nbsp;textových re¾imech èi barev pixelù v&nbsp;re¾imech
grafických.</p>

<a href="http://i.iinfo.cz/images/559/pc83-1.png"><img src="http://i.iinfo.cz/images/559/pc83-1-prev.png" alt="pc83" height="180" width="370" /></a>
<p><i>Obrázek 1: Textový re¾im adaptéru MDA. Jedná se o jednu z&nbsp;prvních
grafických karet urèených pro poèítaèe IBM PC (alternativu pøedstavovala jen
karta CGA), která v¹ak podporovala pouze práci v&nbsp;textovém re¾imu s&nbsp;25
øádky a 80 znaky na øádek. Tvary znakù byly reprezentovány bitmapou o rozmìrech
9&times;14 pixelù, tj.&nbsp;fyzické rozli¹ení v&nbsp;textovém re¾imu MDA bylo
rovno 720&times;350 pixelùm.</i></p>

<p>Vlastnosti, které byly bì¾né u¾ na mnoha osmibitových domácích poèítaèích,
napøíklad podpora pro práci se sprity, nebyly na zmiòovaných grafických kartách
implementovány a takté¾ unifikované programové rozhraní, pøedstavované na
poèítaèích PC slu¾bami BIOSu, pokrývalo pouze základní funkce, tak¾e softwarové
firmy i jednotliví programátoøi byli nuceni si vytváøet vlastní grafické
knihovny implementující napøíklad vykreslování základních geometrických tvarù
(bod, úseèka, kru¾nice) nebo pokroèilej¹í práci s&nbsp;bitmapami (pøesuny
bitmap v&nbsp;rámci obrazové pamìti, pøesuny bitmap mezi operaèní pamìtí a
pamìtí obrazovou, &bdquo;rastrové&ldquo; bitové operace vèetnì maskování atd).
Jednou ze známìj¹ích grafických knihoven pou¾ívaných ¹ir¹í skupinou
programátorù je knihovna <i>BGI (Borland Graphics Interface)</i> firmy Borland,
kterou bylo mo¾né vyu¾ít na mnoha grafických kartách díky
&bdquo;ovladaèùm&ldquo; tìchto karet. Tyto ovladaèe byly zpoèátku dodávány
samotnou firmou Borland spolu s&nbsp;jejími vývojovými nástroji, pozdìji se
objevily i ovladaèe naprogramované dal¹ími programátory (napøíklad ovladaèe
podporující minule popsaný Mode-X, ovladaèe pro rùzné karty <i>SVGA</i>,
ovladaèe zaji¹»ující výstup do souborù HPGL, PostScriptu atd.).</p>

<img src="http://i.iinfo.cz/images/360/pc84-5.png" alt="pc84" height="200" width="320" />
<p><i>Obrázek 2: První grafickou kartou pro IBM PC, která podporovala zobrazení
rastrové grafiky, byla karta CGA. Jak jsme si ji¾ øekli v&nbsp;pøedchozích
èástech tohoto seriálu, umo¾òovala tato karta pracovat v&nbsp;grafickém re¾imu
640&times;200&times;2 (dvoubarevný re¾im) èi 320&times;200&times;4 (ètyøbarevný
re¾im) a pøi vhodném nastavení øídicích registrù takté¾
v&nbsp;¹estnáctibarevném re¾imu nabízejícím rozli¹ení 160&times;200. Zvlá¹tní
je, ¾e dále popisovaný grafický akcelerátor PGC umo¾òoval zapnout emulaci
funkcí grafické karty CGA, ov¹em podporoval pouze její standardní grafické
re¾imy.</i></p>

<p>Ov¹em v&nbsp;roce 1984 se tato pomìrnì neutì¹ená situace èásteènì zmìnila,
proto¾e firma IBM uvedla na trh první grafický akcelerátor pro poèítaèe PC
&ndash; <i>PGC</i> neboli <i>Professional Graphics Controller</i>. Jednalo se o
ucelený grafický subsystém, který ji¾ programátorùm nabízel mnohem více
mo¾ností, ne¾ ostatní grafické karty, a navíc byl vybaven jednodu¹e pou¾itelným
programovým rozhraním.</p>

<img src="http://i.iinfo.cz/images/347/pc85-4.png" alt="pc85" height="200" width="320" />
<p><i>Obrázek 3: Dal¹í vývoj ji¾ vedl ke kartì EGA, která vznikla ve stejné
dobì, jako dnes popisovaný grafický akcelerátor PGC. Kromì spoleèného roku
vzniku se v¹ak jedná o naprosto odli¹né grafické adaptéry &ndash; týká se to
jak jejich mo¾ností a technologického øe¹ení, tak i ceny, která byla hlavním
dùvodem, proè se PGC roz¹íøil pouze na tìch osobních poèítaèích, na nich¾ byly
provozovány profesionální graficky zamìøené aplikace (CAD apod.).</i></p>



<p><a name="k02"></a></p>
<h2>2. Technologické øe¹ení grafického akcelerátoru PGC</h2>

<p><i>PGC &ndash; Professional Graphics Controller</i> nebyl pouze
jednoúèelovou grafickou kartou, proto¾e se ve skuteènosti jednalo o celý
poèítaè (resp.&nbsp;relativnì samostatnì pracující výpoèetní subsystém zalo¾ený
na mikroprocesoru Intel 8088), který byl pøes sloty sbìrnice ISA zapojen do poèítaèe PC.
Ji¾ samotné pøipojení <i>PGC</i> do poèítaèe je z&nbsp;technologického hlediska
zajímavé a pomìrnì neobvyklé, nebo» <i>PGC</i> je vytvoøen na trojici desek
plo¹ných spojù. Obì okrajové desky byly pøedstavovány &bdquo;dlouhými&ldquo;
ISA kartami (jedná se o tzv.&nbsp;karty plné délky, jejich¾ konec se zasouval
do ly¾in umístìných na pøední stìnì poèítaèové skøínì), prostøední deska byla
krat¹í a jako jediná nebyla do PC pøes ISA sbìrnici zapojena. V¹echny tøi desky
byly mezi sebou propojeny spoleènou interní sbìrnicí (fyzické provedení tohoto
propojení je patrné z&nbsp;následujících obrázkù). Pro úspì¹né zapojení
<i>PGC</i> do poèítaèe bylo nutné, aby se konektory ISA sbìrnice nacházely
v&nbsp;takové vzdálenosti od sebe, jako u IBM PC, co¾ kupodivu nìkteøí výrobci
základních desek (a souèasnì i jejich ¹asi) nedodr¾ovali. Celá sestava trojice
plo¹ných spojù i se zapájenými souèástkami vá¾ila pøibli¾nì 0,5 kg.</p>

<img src="http://i.iinfo.cz/images/548/pc87-9.png" alt="pc87" height="240" width="320" />
<p><i>Obrázek 4: Grafický akcelerátor PGC (Professional Graphics Controller).</i></p>



<p><a name="k03"></a></p>
<h2>3. Hardwarová podoba PGC</h2>

<p>Karta <i>PGC</i> na trojici svých plo¹ných spojù obsahovala pamì» ROM o
kapacitì 64kB, ve které byl ulo¾en celý algoritmus vykreslování a manipulace
s&nbsp;vykreslovanými a zobrazovanými obrazy (viz dal¹í kapitoly). Dále byla na
kartì pøítomna pamì» RAM o kapacitì plných (na svou dobu témìø neuvìøitelných)
320&nbsp;kB, která slou¾ila jako framebuffer (obrazová pamì»), proto¾e pro
ulo¾ení rastrového obrazu o rozli¹ení 640&times;480 pixelù je pøi osmi bitech
na pixel zapotøebí alokovat 307200 bytù. Zbylá èást pamìti RAM (necelých 20 kB)
se pou¾ívala pro manipulaci s&nbsp;obrazem (z&nbsp;toho mimo jiné vyplývá, ¾e
nemohl být podporovaný plný double buffering, co¾ se negativnì projevovalo
zejména pøi vykreslování rozsáhlých prostorových scén). Ve¹keré vykreslování
nebylo øízeno pomocí specializovaného èipu, ale bì¾ného procesoru <i>Intel
8088</i>, který podle pøíkazù do¹lých z&nbsp;PC provádìl ve¹keré výpoèty a
manipulace s&nbsp;obrazem. Kromì tìchto èipù byly na kartì <i>PGC</i> pøítomny
i tøi ètyøbitové D/A pøevodníky &ndash; pro ka¾dou barvovou slo¾ku jeden.</p>

<a href="http://i.iinfo.cz/images/626/pc8805.jpg"><img src="http://i.iinfo.cz/images/626/pc8805-prev.jpg" alt="pc8805" height="270" width="333" /></a>
<p><i>Obrázek 5: Umístìní èipù na trojici plo¹ných spojù grafického
akcelerátoru PGC.</i></p>

<p>Prostøední (nejmen¹í) plo¹ný spoj obsahoval èipy, které zaji¹»ovaly emulaci
funkcí grafické karty <i>CGA</i>. Systémové spojení s&nbsp;osobním poèítaèem
bylo zaji¹tìno pøes pamì»ovou oblast o velikosti 2 kB, která byla
z&nbsp;hlediska mikroprocesoru namapována od adresy
<strong>0xc600:0000</strong>, co¾ mimo jiné znamenalo, ¾e mohlo docházet ke
komplikacím pøi souèasném pøipojení nìkterých sí»ových karet èi roz¹íøených
BIOSù. Na originálních poèítaèích PC XT a PC AT v¹ak k&nbsp;tìmto problémùm
nedocházelo. Kvùli zaji¹tìní ji¾ zmiòované kompatibility s&nbsp;grafickou
kartou <i>CGA</i> se èást obrazové pamìti mapovala na adresy
<strong>0xb800:0000</strong> &ndash; <strong>0xb800:ffff</strong>, obsazeny
byly i porty <strong>0x3d0</strong> &ndash; <strong>0x3df</strong>, do nich¾ se
mapuje obsah øídicích registrù karty <i>CGA</i>. Na kartì <i>PGC</i> se do¹lé
pøíkazy ukládaly do kruhového bufferu, ze kterého byly postupnì vybírány a
provádìny (zaplnìní kruhového bufferu bylo identifikováno chybovým kódem).
Kapacita kruhového bufferu byla sní¾ena o cca 1 kB, nebo» se v&nbsp;této
oblasti pamìti nacházel i zásobník pou¾ívaný procesorem <i>Intel 8088</i> a
sada promìnných vyu¾ívaných pøi vykreslování (je to logické, nebo» procesor
<i>i8088</i> umístìný na <i>PGC</i> nemìl kromì pamìti ROM k&nbsp;dispozici
¾ádnou jinou pamì» ne¾ vý¹e zmiòované 2 kB a 320 kB pro framebuffer).</p>



<p><a name="k04"></a></p>
<h2>4. Grafické re¾imy PGC</h2>

<p>Grafický akcelerátor <i>PGC</i> podporoval pouze jeden nativní re¾im
nabízející u¾ivatelùm rozli¹ení 640&times;480 pixelù, pøièem¾ ka¾dý pixel mohl
nabývat jedné z&nbsp;256 barev, které byly vybírány z&nbsp;barvové palety
obsahující 4096 barevných odstínù (tj. 2<sup>12</sup>). Ji¾ z&nbsp;této
informace je patrné, ¾e ¹lo opravdu (samozøejmì s&nbsp;ohledem na dobu vzniku)
o profesionální grafické øe¹ení, které je, alespoò co se týèe grafického
rozli¹ení a barevné hloubky, srovnatelné i s&nbsp;dal¹ími poèítaèi té doby.
Týká se to jak osobních poèítaèù <i>Atari ST</i> a pøedev¹ím <i>Amiga</i>, se
kterými jsme se v&nbsp;tomto seriálu ji¾ zabývali (pøesnìji øeèeno <i>PGC</i>
tyto poèítaèe o necelý rok pøedbìhl), tak i grafických stanic. Cena PC i
s&nbsp;grafickým akcelerátorem <i>PGC</i> (samotný <i>PGC</i> byl prodáván
za 4000 dolarù) byla sice ni¾¹í ne¾ cena grafických
stanic (<strong>1</strong>), ale pøesto se tento akcelerátor mezi profesionály v&nbsp;oboru
poèítaèové grafiky pøíli¹ neprosadil &ndash; pravdìpodobnì kvùli malé podpoøe
jak ze strany operaèního systému, tak i ze strany výrobcù aplikací typu CAD a
CAM (jednou¾ivatelský a jednoúlohový systém bì¾ící v&nbsp;reálném re¾imu
procesoru bez ochrany pamìti a bez virtuální pamìti asi softwarové firmy
pracující v&nbsp;tomto segmentu trhu pøíli¹ neoslovil).</p>

<p><i>Poznámka: grafické stanice v&nbsp;polovinì osmdesátých let minulého
století vìt¹inou splòovaly pravidlo "tøí M" &ndash; jeden <strong>M</strong>B
RAM, grafický re¾im s&nbsp;jedním <strong>M</strong>egapixelem a výpoèetní
výkon minimálnì jeden <strong>M</strong>IPS. K&nbsp;tomu se pøidávalo i ètvrté
&bdquo;M&ldquo; &ndash; cena cca jeden <strong>M</strong>egapenny, tj.&nbsp;10
000 dolarù.</i></p>


<p><a name="k05"></a></p>
<h2>5. Kompatibilita s&nbsp;bì¾nými grafickými kartami</h2>

<p>Kromì nativního grafického re¾imu popsaného v&nbsp;pøedchozí kapitole byla
do jisté míry zaji¹tìna i emulace funkcí grafické karty <i>CGA</i> se v¹emi
jejími standardními textovými i grafickými re¾imy (dokonce bylo &bdquo;simulováno&ldquo;
i snì¾ení pøi pøístupu do obrazové pamìti :-). Emulace <i>CGA</i> v¹ak
nebyla stoprocentní, napøíklad pøi zobrazování textových re¾imù se pracovalo se
ètyømi sty skenovacími øádky a ne s&nbsp;obvyklými dvìma sty &ndash;
z&nbsp;tohoto dùvodu byly znaky pøi práci s&nbsp;<i>PGC</i> vytvoøeny
v&nbsp;masce 8&times;14 pixelù, co¾ zajistilo mnohem lep¹í èitelnost textù
(minimálnì tak dobrou, jako na <i>MDA</i> èi <i>Herculesu</i>, spí¹e v¹ak
lep¹í, proto¾e se pou¾íval jiný typ monitoru &ndash; viz dal¹í kapitola). Také
nìkteré nestandardní grafické re¾imy, napøíklad ji¾ popisovaný ¹estnáctibarevný
re¾im s&nbsp;rozli¹ením 160&times;200 pixelù (pou¾itelný pøi propojení karty
<i>CGA</i> vybavené výstupem kompozitního videa s&nbsp;televizorem podporujícím normu
<i>NTSC</i>) èi emulace grafického re¾imu s&nbsp;rozli¹ením 160&times;100
pixelù vhodnì nastaveným textovým módem, nebyly na <i>PGC</i> podporované,
podobnì jako tøetí (nestandardní a v&nbsp;originální dokumentaci firmy IBM
neuvedená) barvová paleta v&nbsp;grafických re¾imech.</p>

<a href="http://i.iinfo.cz/images/552/pc8806.jpg"><img src="http://i.iinfo.cz/images/552/pc8806-prev.jpg" alt="pc8806" height="181" width="370" /></a>
<p><i>Obrázek 6: Grafická karta CGA, se kterou je grafický akcelerátor PGC
(èásteènì) zpìtnì kompatibilní. Pov¹imnìte si, ¾e se jedná o kartu ISA plné
délky a ¾e její plo¹ný spoj zasahuje i do oblasti, ve které se bì¾nì nachází
¹estnáctibitové roz¹íøení konektoru ISA (to samozøejmì zpùsobovalo problémy
pøi pøipojení CGA do poèítaèù PC AT &ndash; ale kdo by si takovou vykopávku
do átéèka dobrovolnì instaloval? :-). Tato verze grafické karty CGA je
vybavena i výstupem s&nbsp;kompozitním videem.</i></p>



<p><a name="k06"></a></p>
<h2>6. Rozhraní pro pøipojení monitoru</h2>

<p>Pro úèely zobrazování nativního grafického re¾imu s&nbsp;rozli¹ením
640&times;480 pixelù se pou¾íval speciální monitor, který musel díky vy¹¹ímu
rozli¹ení (vìt¹ímu poètu pixelù v&nbsp;jednom snímku) pracovat s&nbsp;jinými
frekvencemi, ne¾ monitory urèené pro grafické karty <i>CGA</i>,
<i>Hercules/MDA</i> èi <i>EGA</i> (jak ji¾ víme, grafická karta <i>VGA</i>
vznikla a¾ o nìkolik let pozdìji ne¾ <i>PGC</i>). Kromì toho bylo nutné, aby se
u ka¾dé barvové slo¾ky odli¹ovalo ¹estnáct úrovní (na vstup ka¾dého
digitálnì-analogového pøevodníku byl ètyøbitový registr), tak¾e rozhraní
k&nbsp;monitoru ji¾ bylo analogové &ndash; ka¾dá barvová slo¾ka byla
pøedstavována analogovým signálem, synchronizaèní signály v¹ak samozøejmì byly
stále digitální. Monitor se pøipojoval pøes devítipinový dvouøadý konektor,
av¹ak pomocí specializovaného konvertoru bylo pozdìji mo¾né pøipojit i
standardní <i>VGA</i> monitor (vybavený patnáctipinovým trojøadým konektorem),
který je takté¾ analogový a obecnì multifrekvenèní.</p>

<img src="http://i.iinfo.cz/images/474/pc8807.png" alt="pc8807" height="76" width="183" />
<p><i>Obrázek 7: Zadní strana grafického akcelerátoru PGC s&nbsp;dvouøadým
devítipinovým konektorem urèeným pro pøipojení monitoru.</i></p>



<p><a name="k07"></a></p>
<h2>7. Volání funkcí grafického akcelerátoru PGC</h2>

<p>Ve¹kerá komunikace mezi poèítaèem a grafickým akcelerátorem <i>PGC</i>
probíhala pøes kruhový buffer o velikosti 1 kB (buffer je mapovaný do adresního
prostoru poèítaèe, viz pøedchozí kapitoly), do kterého se posílaly pøíkazy,
které si akcelerátor postupnì vybíral a ve volném èase provádìl, samozøejmì
nezávisle na tom, co právì provádìl mikroprocesor v&nbsp;poèítaèi. Pøíkazy mohly být
zadány jak v&nbsp;hexadecimálním kódu (dva bajty), tak i jako bì¾né textové pøíkazy
zapisované v&nbsp;ASCII kódu, podobnì jako je tomu napøíklad u tiskáren a
plotterù zpracovávajících pøíkazy jazyka <i>HPGL</i>. Z&nbsp;tohoto hlediska se
<i>PGC</i> choval jako pomìrnì schopný interpretr grafických pøíkazù. Procesor
umístìný na tomto grafickém akcelerátoru dokázal rozpoznat a interpretovat cca
80 pøíkazù, které se týkaly práce s&nbsp;rastrovým obrazem (pøesuny dat,
&bdquo;rastrové&ldquo; bitové operace &ndash; raster-ops atd.), vykreslování
vektorovì definovaných plo¹ných scén a koneènì práce s&nbsp;vektorovì
vykreslovanou trojrozmìrnou scénou (takzvaný drátový model &ndash;
<i>wireframe</i>). V&nbsp;následující tabulce je pro pøehled mo¾ností
<i>PGC</i> vypsána pouze malá reprezentativní èást v¹ech pøíkazù (celý
repertoár je mo¾né získat na adrese <a
href="http://www.seasip.info/VintagePC/pgc.html#cmds">http://www.seasip.info/VintagePC/pgc.html#cmds</a>):</p>

<table>
<tr><th>Pøíkaz</th><th>Popis</th></tr>
<tr><td>ARC   </td><td>vykreslení oblouku v rovinì</td></tr>
<tr><td>AREA  </td><td>vyplnìní obecné plo¹né oblasti vzorkem èi barvou (funkce <i>fill</i>)</td></tr>
<tr><td>CIRCLE</td><td>vykreslení kru¾nice v rovinì</td></tr>
<tr><td>CLEARS</td><td>smazání celé obrazovky</td></tr>
<tr><td>CLOOP </td><td>vytvoøení smyèky, kterou lze pou¾ít napøíklad pro vykreslování polí (opakujících se tvarù)</td></tr>
<tr><td>DRAW  </td><td>vykreslení úseèky v rovinì</td></tr>
<tr><td>DRAW3 </td><td>vykreslení prostorové úseèky (jeden z&nbsp;mála pøíkazù pro práci v&nbsp;3D prostoru)</td></tr>
<tr><td>IMAGER</td><td>ètení èásti pixmapy (barevného rastrového obrazu) nebo celého framebufferu</td></tr>
<tr><td>IMAGEW</td><td>zápis èásti pixmapy nebo celého framebufferu</td></tr>
<tr><td>MDMATX</td><td>vytvoøení 3D transformaèní matice</td></tr>
<tr><td>MDROTX</td><td>rotace trojrozmìrného modelu pøes zadanou transformaèní matici (transformace lze skládat)</td></tr>
<tr><td>MDSCAL</td><td>zmìna mìøítka trojrozmìrného modelu pøes zadanou transformaèní matici</td></tr>
<tr><td>MDTRAN</td><td>translace (posun) trojrozmìrného modelu pøes zadanou transformaèní matici</td></tr>
<tr><td>POINT </td><td>vykreslení bodu</td></tr>
<tr><td>PROJCT</td><td>nastavení zorného úhlu pøi 3D projekci do promítací roviny</td></tr>
<tr><td>TEXT  </td><td>vykreslení textu</td></tr>
</table>

<p>Pøi práci s&nbsp;trojrozmìrnými objekty se transformace zadávala pomocí
transformaèní matice o velikosti 16&times;16 prvkù. Transformace se skládaly,
podobnì jako v&nbsp;grafické knihovnì <i>OpenGL</i>, násobením jednotlivých
transformaèních matic, èím¾ se z&nbsp;jednoduchých základních transformací
(posun, rotace, zmìna mìøítka, zkosení, pøíprava pro perspektivní projekci)
tvoøily transformace slo¾itìj¹í. Vykreslování trojrozmìrných scén se v¾dy
provádìlo pomocí úseèek, ¹lo tedy o takzvané <i>wireframe</i> (drátové) modely
pou¾ívané zejména v&nbsp;CAD a CAM systémech. Podpora pro vyplnìné plo¹ky
s&nbsp;konstantním èi Gouraudovým stínováním není podporována, ale vzhledem
k&nbsp;tomu, ¾e ve¹keré vykreslování øídí procesor Intel 8088, je absence této
vlastnosti pochopitelná.</p>

<img src="http://i.iinfo.cz/images/9/pc8808-prev.jpg" alt="pc8808" height="270" width="360" />
<p><i>Obrázek 8: Drátové modely se pou¾ívají napøíklad v&nbsp;aplikacích typu
CAD a CAM.</i></p>



<p><a name="k08"></a></p>
<h2>8. Barvová paleta</h2>

<p>Pomocí pøíkazu <i>PALETTE</i> bylo mo¾né nastavit jednu z&nbsp;dále
uvedených barvových palet, které jsou specifikovány svým èíslem:</p>

<table>
<tr><th>Èíslo palety</th><th>Význam</th></tr>
<tr><td>0</td><td>4 bity intenzita, 4 bity barva (¹estnáct barev, ka¾dá v&nbsp;¹estnácti intenzitách)</td></tr>
<tr><td>1</td><td>16barevná paleta (emulace CGA)</td></tr>
<tr><td>2</td><td>RGB paleta 2-3-3 (poèty bitù na jednotlivé barvové slo¾ky)</td></tr>
<tr><td>3</td><td>RGB paleta 3-2-3 (poèty bitù na jednotlivé barvové slo¾ky)</td></tr>
<tr><td>4</td><td>RGB paleta 3-3-2 (poèty bitù na jednotlivé barvové slo¾ky)</td></tr>
<tr><td>5</td><td>barevná kostka o velikosti 6&times;6&times;6=216 barvových odstínù</td></tr>
</table>

<p>Grafický akcelerátor <i>PGC</i> sice nebyl pøíli¹ roz¹íøený (pravdìpodobnì
díky ji¾ zmínìné cenì 4000 dolarù a nevhodné kombinaci platformy a operaèního
systému), nìkterými svými vlastnostmi v¹ak ukázal cestu (i nìkolik slepých cest
:-), kterou se mìli výrobci grafických karet ubírat a¾ o nìkolik let pozdìji
pøi vytváøení komerènì mnohem úspì¹nìj¹ích grafických akcelerátorù nové
generace.</p>

<a href="http://i.iinfo.cz/images/63/pc8809.jpg"><img src="http://i.iinfo.cz/images/63/pc8809-prev.jpg" alt="pc8809" height="248" width="370" /></a>
<p><i>Obrázek 9: Barevná paleta s&nbsp;6&times;6&times;6=216 barvovými odstíny
podporovaná grafickým akcelerátorem PGC. Dnes se stejná paleta pou¾ívá
napøíklad pøi tvorbì obrázkù pro webové stránky, které by mìly být zobrazitelné
i na systémech s&nbsp;256 barvami (web-safe colors).</i></p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Support/peripheral/other chips - 6800 family<br />
<a href="http://www.cpu-world.com/Support/6800.html">http://www.cpu-world.com/Support/6800.html</a>
</li>

<li>Motorola 6845<br />
<a href="http://en.wikipedia.org/wiki/Motorola_6845">http://en.wikipedia.org/wiki/Motorola_6845</a>
</li>

<li>The 6845 Cathode Ray Tube Controller (CRTC)<br />
<a href="http://www.tinyvga.com/6845">http://www.tinyvga.com/6845</a>
</li>

<li>IBM Monochrome Display Adapter<br />
<a href="http://en.wikipedia.org/wiki/Monochrome_Display_Adapter">http://en.wikipedia.org/wiki/Monochrome_Display_Adapter</a>
</li>

<li>Color Graphics Adapter<br />
<a href="http://en.wikipedia.org/wiki/Color_Graphics_Adapter">http://en.wikipedia.org/wiki/Color_Graphics_Adapter</a>
</li>

<li>Wikipedia CZ: Sbìrnice:<br />
<a href="http://cs.wikipedia.org/wiki/Sb%C4%9Brnice">http://cs.wikipedia.org/wiki/Sb%C4%9Brnice</a></li>

<li>Wikipedia EN: Industry Standard Architecture:<br />
<a href="http://en.wikipedia.org/wiki/Industry_Standard_Architecture">http://en.wikipedia.org/wiki/Industry_Standard_Architecture</a></li>

<li>Enhanced Graphics Adapter<br />
<a href="http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter">http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter</a>
</li>

<li>IBM Multicolor Graphics Adapter<br />
<a href="http://en.wikipedia.org/wiki/MCGA">http://en.wikipedia.org/wiki/MCGA</a>
</li>

<li>Professional Graphics Controller<br />
<a href="http://en.wikipedia.org/wiki/Professional_Graphics_Controller">http://en.wikipedia.org/wiki/Professional_Graphics_Controller</a>
</li>

<li>The IBM PGA Graphics Adapter<br />
<a href="http://incolor.inebraska.com/bill_r/ibm_pga_graphics_adapter.htm">http://incolor.inebraska.com/bill_r/ibm_pga_graphics_adapter.htm</a>
</li>

<li>Professional Graphics Controller: Notes<br />
<a href="http://www.seasip.info/VintagePC/pgc.html">http://www.seasip.info/VintagePC/pgc.html</a>
</li>

<li>A professional graphics controller (PDF ke sta¾ení po zaplacení 10 doalrù)<br />
<a href="http://domino.research.ibm.com/tchjr/journalindex.nsf/0/6829ccaf443f3a6c85256bfa00685b97?OpenDocument">http://domino.research.ibm.com/tchjr/journalindex.nsf/0/6829ccaf443f3a6c85256bfa00685b97?OpenDocument</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

