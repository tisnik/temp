<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Programování mainframù: COBOL</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Programování mainframù: COBOL</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V pøedchozí èásti seriálu o historii výpoèetní techniky jsme si struènì popsali tøi programovací jazyky, které byly vytvoøeny v prùbìhu padesátých let minulého století. Jednalo se o ALGOL, FORTRAN a LISP. Na mainframech se v¹ak záhy zaèaly pou¾ívat i dal¹í programovací jazyky, pøedev¹ím COBOL, jeho¾ popisem se budeme zabývat dnes.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Struèná historie programovacího jazyka COBOL</a></p>
<p><a href="#k02">2. Vlastnosti programovacího jazyka COBOL</a></p>
<p><a href="#k03">3. Struktura programù zapisovaných v&nbsp;COBOLu</a></p>
<p><a href="#k04">4. Rozdìlení COBOLovského programu na oddíly</a></p>
<p><a href="#k05">5. Oddíl <i>DATA DIVISION</i></a></p>
<p><a href="#k06">6. Oddíl <i>PROCEDURE DIVISION</i></a></p>
<p><a href="#k07">7. Demonstraèní pøíklad &ndash; vynásobení dvou èísel</a></p>
<p><a href="#k08">8. Literatura</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Struèná historie programovacího jazyka COBOL</h2>

<p><i>&bdquo;Real Programmers don't write in PL/I. PL/I is for programmers who
can't decide whether to write in COBOL or FORTRAN.&ldquo;</i></p>

<p>Historie programovacího jazyka <i>COBOL</i> (<strong>CO</strong>mmon
<strong>B</strong>usiness <strong>O</strong>riented <strong>L</strong>anguage)
se zaèala psát ji¾ na konci padesátých let minulého století, jedná se tedy
(vedle minule popsaného <i>Fortranu</i> a <i>LISPu</i>) o jeden
z&nbsp;nejstar¹ích dodnes pou¾ívaných programovacích jazykù. V&nbsp;roce 1959
se na konferenci poøádané v&nbsp;USA se¹li zástupci firem a nìkterých vládních
i nevládních organizací, aby se dohodli na vytvoøení standardu vysokoúrovòového
programovacího jazyka vhodného pro zpracování strukturovaných dat i pro øízení
rùzných procesù ve firmách. V&nbsp;prùbìhu této konference byly vytvoøeny
separátní komise vedené výkonným výborem <i>CODASYL (Conference on Data Systems
Languages)</i>. Výsledkem práce tìchto komisí byla mj.&nbsp;i publikace
<i>Initial Specification for a Common Business Oriented Language (COBOL) for
Programming Electronic Digital Computer</i>, která byla vydána v&nbsp;roce
1960. Tato publikace se pozdìji stala mezi odbornou veøejností známá pod
zkráceným názvem <i>COBOL-60</i>, proto¾e na jejím základì vznikly i první
implementace jazyka <i>COBOL</i>.</p>

<a href="http://i.iinfo.cz/images/118/ibm6-1.jpg"><img src="http://i.iinfo.cz/images/118/ibm6-1-prev.jpg" alt="ibm6" height="270" width="228" /></a>
<p><i>Obrázek 1: První zveøejnìná publikace o programovacím jazyku
COBOL.</i></p>

<p>Na strukturu <i>COBOLu</i> popsaného v&nbsp;<i>COBOL-60</i> mìly velký vliv
ji¾ tehdy existující systémy, zejména <i>FLOW-MATIC</i> firmy Sperry-Rand,
<i>Commercial Translator</i> firmy IBM a <i>AIMACO (Air Material Command)</i>.
Zpùsob vzniku tohoto programovacího jazyka, pøedev¹ím to, ¾e byl vytvoøený
relativnì poèetnou komisí na základì pomìrnì vágního zadání, nikoli men¹ím
týmem øe¹ícím urèitý konkrétní problém (viz napøíklad historie vzniku céèka,
kterou jsme si pøiblí¾ili v&nbsp;prvních èástech tohoto seriálu), se projevil i
na jeho tì¾kopádné syntaxi a pomìrnì rigidní struktuøe, která navíc
v&nbsp;prvních verzích odrá¾ela zpùsob zápisu programù na dìrné ¹títky (viz
dal¹í kapitoly). Práce komisí zabývajících se návrhem jazyka <i>COBOL</i>
pokraèovala i v&nbsp;následujících letech. Na základì pøipomínek u¾ivatelù
vznikla první modifikace jazyka popsaná ve zprávì oznaèované jako
<i>COBOL-61</i> a doplòkem nazvaným <i>Extended COBOL-61</i>. Následoval
<i>COBOL-64</i>, <i>COBOL-65</i>, a ANSI standardy v&nbsp;roce 1968, 1974 a
1985.</p>

<img src="http://i.iinfo.cz/images/118/ibm6-2.jpg" alt="ibm6" height="169" width="129" />
<p><i>Obrázek 2: Jedna z&nbsp;novìj¹ích publikací o programovacím jazyku
COBOL.</i></p>



<p><a name="k02"></a></p>
<h2>2. Vlastnosti programovacího jazyka COBOL</h2>

<p><i>&bdquo;In 1997 they estimated that there were about 300 billion lines of
computer code in use in the world. Of that they estimated that about 80% (240
billion lines) were in COBOL and 20% (60 billion lines) were written in all the
other computer languages combined.&ldquo;</i></p>

<p>Jedním z&nbsp;cílù návrhu nového programovacího jazyka vý¹e zmínìnou komisí
<i>CODASYL</i> bylo to, aby programy v&nbsp;nìm napsané byly èitelné i pro
u¾ivatele&ndash;neprogramátory (napøíklad pro mana¾ery). Z&nbsp;tohoto dùvodu
se zpùsob zápisu programù v&nbsp;<i>COBOLu</i> podobá bì¾nému anglickému textu
strukturovanému do kapitol, odstavcù, vìt, frází a slov. Mnohé znaky se
speciálním významem, které známe z&nbsp;jiných programovacích jazykù, byly
v&nbsp;<i>COBOLu</i> nahrazeny klíèovými slovy, co¾ se do jisté míry týká i
aritmetických, logických a relaèních výrazù. Dùraz na mo¾nost zpracování
strukturovaných dat se projevil i v&nbsp;mo¾nosti snadného zápisu jejich
struktury (ve speciálním oddílu &ndash; viz dal¹í text) i mo¾nosti pomìrnì
jednoduché manipulace jak s&nbsp;celými záznamy (ZAMÌSTNANEC, ADRESA), tak i
s&nbsp;jejich polo¾kami (JMÉNO_ZAMÌSTNANCE, PSÈ), vèetnì jejich naèítání èi
zápisu na pamì»ová média, øazení záznamù apod. (zde se <i>COBOL</i> do jisté
míry pøibli¾uje pozdìj¹ím jazykùm ètvrté generace <i>SEQUEL</i> a na nìj
navazujícímu <i>SQL</i>).</p>

<a href="http://i.iinfo.cz/images/118/ibm6-3.png"><img src="http://i.iinfo.cz/images/118/ibm6-3-prev.png" alt="ibm6" height="270" width="170" /></a>
<p><i>Obrázek 3: S&nbsp;rozvojem relaèních databází vybavených jazykem SQL se
v&nbsp;COBOLu zaèala objevovat podpora i pro tento typ databází.</i></p>

<p>V&nbsp;souèasnosti je programovací jazyk <i>COBOL</i> i pøes jeho
technologickou zastaralost stále pou¾íván &ndash; jak jsme si ji¾ øekli
v&nbsp;pøedchozí èásti tohoto seriálu, je v&nbsp;<i>COBOLu</i> naprogramováno
více ne¾ 70% dnes bì¾ících transakèních systémù a i celkový poèet programových
øádkù napsaných v&nbsp;<i>COBOLu</i> je (alespoò podle prùzkumu firmy Gartner)
mnohem vy¹¹í, ne¾ u dnes populárních programovacích jazykù, co¾ ov¹em není dáno
vlastnostmi tohoto jazyka, ale spí¹e tím, ¾e aplikace psané
v&nbsp;<i>COBOLu</i> tvoøí tzv.&nbsp;vertikální trh (malé mno¾ství instalací,
velká cena ze jednu licenci a z&nbsp;toho vyplývající dlouhá doba provozu
&ndash; nìkdy i více ne¾ 30 let), na rozdíl od bì¾ných desktopových aplikací a
systémù operujících na trhu horizontálním (cena za vývoj je zaplacena velkým
mno¾stvím relativnì laciných licencí, tak¾e nákupní cena za novou verzi
aplikace, popø.&nbsp;cena za její instalaci a správu v&nbsp;pøípadì free
software, je pro mnohé u¾ivatele velmi nízká, co¾ vede k&nbsp;rychlej¹ím
upgradùm).</p>

<a href="http://i.iinfo.cz/images/118/ibm6-4.jpg"><img src="http://i.iinfo.cz/images/118/ibm6-4-prev.jpg" alt="ibm6" height="270" width="221" /></a>
<p><i>Obrázek 4: Zatímco mnoho jiných programovacích jazykù se lze skuteènì
nauèit za 21 dní (1 pracovní mìsíc), u COBOLu to prakticky není mo¾né, co¾ je
mj.&nbsp;dáno i pomìrnì komplikovanou sémantikou, mno¾stvím rùzných kombinací
klíèových slov (více ne¾ 300) a v&nbsp;neposlední øadì také tím, ¾e je COBOL
dosti odli¹ný od dne¹ních mainstreamových jazykù odvozených pøedev¹ím od
Algolu.</i></p>



<p><a name="k03"></a></p>
<h2>3. Struktura programù zapisovaných v&nbsp;COBOLu</h2>

<p><i>&bdquo;Real Programmers don't write in COBOL. COBOL was designed to be
read, not run. Unfortunately it is often run anyway.&ldquo;</i></p>

<p>Programy zapisované v&nbsp;programovacím jazyce <i>COBOL</i> se vyznaèují
strukturou pøipomínající text rozsáhlé knihy. Nìkteré úrovnì této struktury
jsou povinné, u jiných je naopak jejich pøítomnost v&nbsp;programu volitelná.
Celý program je rozdìlen na nìkolik pojmenovaných oddílù (<i>divisions</i>).
Oddíly se dìlí na kapitoly (sekce), kapitoly na odstavce, odstavce na vìty
(ukonèené teèkou, jako v&nbsp;bì¾né anglické gramatice), vìty na pøíkazy a
fráze, pøíkazy na výrazy, výrazy na slova a slova jsou ji¾ (jako u jiných
jazykù) slo¾ena z&nbsp;jednotlivých znakù. Pro kódování znakù mù¾e být pou¾ito
jak kódování <i>EBCDIC</i>, tak i <i>ASCII</i>, proto¾e jazyk <i>COBOL</i>
vyu¾ívá jen základní alfanumerické znaky a dal¹ích 15 znakù spoleèných pro obì
kódování.</p>

<p>V&nbsp;&bdquo;klasickém&ldquo; <i>COBOLu</i> navíc existovala i pøesná
pravidla urèující význam jednotlivých sloupcù &ndash; prvních ¹est znakù na
ka¾dém øádku mohlo obsahovat èíslo sekvence (obdoba èísla øádku
v&nbsp;<i>BASICu</i> èi návìstí ve <i>FORTRANu</i>). Maximálnì ¹estimístné
èíslo sekvence se vìt¹inou rozdìlovalo na dvì èásti &ndash; první tøi cifry
udávaly èíslo tiskové strany, druhé tøi cifry øádek v&nbsp;rámci jedné tiskové
strany. Tento zpùsob umo¾òoval rychlé vyhledání potøebné èásti kódu ve
vyti¹tìných výpisech programù. V&nbsp;sedmém sloupci se buï nacházela mezera
(bì¾ný programový øádek), znak pro pokraèování (rozdìlení dlouhého programového
øádku) nebo hvìzdièka (&bdquo;*&ldquo;) v&nbsp;pøípadì, ¾e se na øádku nacházel
komentáø. Dal¹í sloupce (rozdìlené navíc do sekcí A a B), tj.&nbsp;osmý a¾
sedmdesátý druhý, slou¾ily pro zápis programového kódu. Programové øádky del¹í
ne¾ 72 znakù bylo nutné rozdìlit na více textových øádkù pomocí znaku pro
pokraèování &ndash; toto omezení v&nbsp;<i>COBOLu</i> existovalo z&nbsp;dùvodu
jednoznaèné interpretace vyti¹tìných programù i programù ulo¾ených na dìrným
¹títcích.</p>

<a href="http://i.iinfo.cz/images/118/ibm6-5.png"><img src="http://i.iinfo.cz/images/118/ibm6-5-prev.png" alt="ibm6" height="265" width="370" /></a>
<p><i>Obrázek 5: Editor pro zápis COBOLovských programù, na kterém je
mj.&nbsp;patrné i rozdìlení øádkù na jednotlivé èásti (èíslo sekvence, sedmý
sloupec, sekce A, sekce B) i omezení délky jednotlivých textových øádkù na 72
znakù na øádek.</i></p>



<p><a name="k04"></a></p>
<h2>4. Rozdìlení COBOLovského programu na oddíly</h2>

<p><i>COBOL &ndash; Completely Obsolete Business Oriented Language.<br />
COBOL &ndash; Can't Obsolesce Because Of Legacy.<br />
Ruby on Rails? Don't forget COBOL ON COGS.<br />
Rumour has it that the object oriented specification for COBOL was code named
ADD 1 TO COBOL GIVING COBOL.</i></p>

<p>V&nbsp;pøedchozí kapitole jsme si øekli, ¾e na nejvy¹¹í úrovni je ka¾dá
aplikace naprogramovaná v&nbsp;<i>COBOLu</i> rozdìlena na ètyøi oddíly, jejich¾
jednoznaèná identifikace (jedná se o klíèová slova) a význam je uveden
v&nbsp;následující tabulce:</p>

<table>
<tr><th>Název oddílu</th><th>Význam</th></tr>
<tr><td>IDENTIFICATION DIVISION</td><td>identifikace programu, jeho programátora, poznámek, informace o zabezpeèení atd.</td></tr>
<tr><td>ENVIRONMENT DIVISION   </td><td>popis vybavení poèítaèe pøedev¹ím jeho datových médií, mapování dat do souborù atd.</td></tr>
<tr><td>DATA DIVISION          </td><td>oddíl dat (popis struktury, vlastní informace)</td></tr>
<tr><td>PROCEDURE DIVISION     </td><td>oddíl procedur, právì zde je popsána programová logika</td></tr>
</table>

<p>První dva oddíly, tj.&nbsp;<i>IDENTIFICATION DIVISION</i> a <i>ENVIRONMENT
DIVISION</i> jsou z&nbsp;hlediska studie struktury programovacího jazyka
relativnì nezajímavé &ndash; jedná se v&nbsp;principu o metadata, která program
(aplikaci) pøesnìji popisují. Dùle¾ité v¹ak je, ¾e prakticky v¹echny systémovì
závislé vlastnosti aplikace, pøedev¹ím zpùsob ulo¾ení dat v&nbsp;souborech (èi
døíve na dìrných ¹títcích a páskách), je &bdquo;izolován&ldquo; v&nbsp;oddílu
<i>ENVIRONMENT DIVISION</i>, tak¾e pøenos aplikace na zcela odli¹nou platformu
spoèívá v&nbsp;modifikaci údajù zapsaných v&nbsp;tomto oddílu &ndash; zbývající
(vìt¹inou mnohem rozsáhlej¹í) èást aplikace by &ndash; alespoò teoreticky
&ndash; mìla zùstat zachována beze zmìny. V&nbsp;následujících dvou kapitolách
se budeme zabývat spí¹e informacemi zapisovanými do oddílù <i>DATA DIVISION</i>
a <i>PROCEDURE DIVISION</i>, nebo» jejich obsah nám bude mnohem lépe ilustrovat
významné vlastnosti programovacího jazyka <i>COBOL</i>.</p>

<a href="http://i.iinfo.cz/images/118/ibm6-6.png"><img src="http://i.iinfo.cz/images/118/ibm6-6-prev.png" alt="ibm6" height="249" width="370" /></a>
<p><i>Obrázek 6: Program typu &bdquo;Hello World!&ldquo; zapsaný v&nbsp;COBOLu.
Tento screenshot ukazuje obrazovku terminálu pøipojeného
k&nbsp;mainframu.</i></p>

<p>Pøíklad jednoduchého programu typu &bdquo;Hello world!&ldquo; zapsaného
v&nbsp;<i>COBOLu</i>. V&nbsp;tomto programu jsou pou¾ity pouze dva oddíly
<i>IDENTIFICATION DIVISION</i> a <i>PROCEDURE DIVISION</i>:</p>

<pre>
        IDENTIFICATION DIVISION.
        PROGRAM-ID. SmallestProgram.
        PROCEDURE DIVISION.
        DisplayGreeting.
           DISPLAY "Hello world".
           RUN.
</pre>



<p><a name="k05"></a></p>
<h2>5. Oddíl <i>DATA DIVISION</i></h2>

<p><i>Je Java novým COBOLem? <a
href="http://stuffthathappens.com/blog/wp-content/uploads/2008/01/java-is-the-new-cobol.png">Autor
tohoto obrázku</a> si myslí, ¾e zná odpovìï :-)</i></p>

<p>V&nbsp;oddílu nazvaném <i>DATA DIVISION</i> se mohou nacházet tøi typy údajù
&ndash; charakteristiky (struktury a metody ulo¾ení) souborù, struktury záznamù
(records) a konstanty (záznamem v&nbsp;tomto textu rozumíme datovou strukturu
obsahující libovolný poèet dal¹ích polo¾ek, vèetnì dal¹ích záznamù;
v&nbsp;dne¹ních informaèních systémech by záznam byl ulo¾en napøíklad
v&nbsp;tabulkách relaèní databáze). Tyto typy údajù, jen¾ jsou z&nbsp;hlediska
gramatiky jazyka pøedstavovány sekcemi (<i>sections</i>), jsou od sebe oddìleny
klíèovými slovy <i>FILE SECTION</i>, <i>WORKING-STORAGE SECTION</i> a
<i>CONSTANT SECTION</i>, které jsou sice nepovinné, ale pokud jsou
v&nbsp;programu pou¾ity, musí být uvedeny v&nbsp;poøadí naznaèeném pod tímto
odstavcem:</p>

<pre>
        DATA DIVISION.
        FILE SECTION.
           ... popisy struktur a zpùsobu ulo¾ení souborù
        WORKING-STORAGE SECTION.
           ... popis záznamù ulo¾ených v operaèní pamìti
        CONSTANT SECTION.
           ... konstanty
</pre>

<p>V&nbsp;èásti <i>FILE SECTION</i> s&nbsp;charakteristikami souborù lze pro
ka¾dý pojmenovaný soubor specifikovat jeho vnitøní strukturu, zpùsob ulo¾ení
souboru na pamì»ovém médiu i to, jakým zpùsobem se data do souboru fyzicky
ukládají. Oproti dne¹ním programovacím jazykùm se tedy jedná o znaènì odli¹ný
pøístup, který má své výhody (popis souboru se nachází na jednom místì, co¾
zjednodu¹uje modifikace programù; navíc je struktura souboru popsána
deklarativnì a existuje pøímé mapování mezi souborem a datovými záznamy), ale
samozøejmì i nìkteré nevýhody (urèité struktury souborù nelze
v&nbsp;<i>COBOLu</i> tímto zpùsobem uspokojivì popsat). U ka¾dého souboru lze
zadat zpùsob jeho ulo¾ení (fráze <i>RECORDING MODE</i>) na pamì»ovém médiu,
pøibli¾ný poèet záznamù ulo¾ených v&nbsp;souboru (fráze <i>FILE CONTAINS x
RECORDS</i>), poèet záznamù ulo¾ených v&nbsp;jednom bloku (fráze <i>BLOCK
CONTAINS x TO y RECORDS</i> &ndash; sdru¾ení více záznamù do jednoho bloku mù¾e
vést k&nbsp;optimalizaci pøístupu na pamì»ové médium), délku jednotlivých
záznamù (fráze <i>RECORD CONTAINS x CHARACTERS</i>) i samotnou strukturu
záznamù, pøesnìji øeèeno jméno datové struktury (fráze <i>DATA RECORD IS
xxx</i> popø.&nbsp;<i>DATA RECORDS ARE yyy</i>). Specifikace ka¾dého souboru
zaèíná klíèovým slovem <i>FD</i> (file description) za ním¾ následují
jednotlivé fráze oddìlené støedníkem. Celý blok specifikace je ukonèen
teèkou:</p>

<pre>
        FD SEZNAM-ZAMESTNANCU;
           RECORDING MODE IS BINARY LOW DENSITY;
           FILE CONTAINS ABOUT 100 RECORDS;
           BLOCK CONTAINS 2 TO 3 RECORDS;
           RECORD CONTAINS 75 CHARACTERS;
           LABEL RECORD IS STANDARD;
           DATA RECORD IS ZAMESTNANEC.
</pre>

<p>Struktura <i>ZAMESTNANEC</i>, která je do souboru <i>SEZNAM-ZAMESTNANCU</i>
ulo¾ena cca stokrát (viz vý¹e uvedený pøíklad), je v&nbsp;<i>COBOLu</i> popsána
následovnì:</p>

<pre>
        01 ZAMESTNANEC.
           02 OSOBNI-UDAJE.
              03 JMENO; SIZE IS 12 CHARACTERS.
              03 PRIJMENI; SIZE IS 20 CHARACTERS.
           02 ADRESA.
              03 OBEC; SIZE IS 20 CHARACTERS.
              03 ADRESA; SIZE IS 20 CHARACTERS.
              03 CISLO_DOMU; SIZE IS 3 DIGITS.
              03 PSC; SIZE IS 5 DIGITS.
</pre>

<p>Jak je z&nbsp;vý¹e uvedeného pøíkladu patrné, obsahuje záznam
<i>ZAMESTNANEC</i> dvì podstruktury, které obsahují textové øetìzce rùzné délky
èi numerické hodnoty se zadaným poètem èíslic. Formát záznamu je urèen
dvoucifernou èíslicí na zaèátku ka¾dé vìty, nikoli odsazením (to je zde uvedeno
pouze pro vìt¹í pøehlednost). Konstanty se v&nbsp;<i>COBOLu</i> zapisují jako
struktury se speciálním èíslem 77, napøíklad:</p>

<pre>
        CONSTANT SECTION.
           77 PI; PICTURE 9V9999; VALUE 31415.
</pre>

<p>Pov¹imnìte si pou¾ití fráze <i>PICTURE</i>, pomocí ní¾ se urèuje, jakým
zpùsobem se bude textový øetìzec èi èíslice ukládat do pamìti. Jedná se vlastnì
o obdobu céèkových formátovacích øetìzcù &ndash; zápis 9V9999 znamená, ¾e èíslo
(viz fráze <i>VALUE</i>) bude obsahovat maximálnì pìt cifer, pøièem¾ za první
cifru je vlo¾ena desetinná teèka. Pokud by se tímto zpùsobem specifikoval formát
del¹ích èísel èi øetìzcù, lze v&nbsp;závorce nastavit i poèet opakování znaku
èi èíslice, napøíklad 9V9(4).</p>

<a href="http://i.iinfo.cz/images/118/ibm6-7.png"><img src="http://i.iinfo.cz/images/118/ibm6-7-prev.png" alt="ibm6" height="270" width="359" /></a>
<p><i>Obrázek 7: Pro COBOL existuje podpora napøíklad i ve známém vývojovém
prostøedí Eclipse.</i></p>



<p><a name="k06"></a></p>
<h2>6. Oddíl <i>PROCEDURE DIVISION</i></h2>

<p><i>&bdquo;The use of COBOL cripples the mind; its teaching should,
therefore, be regarded as a criminal offence.&ldquo;<br />
E. W, Dijkstra</i></p>

<p>Ètvrtým oddílem, který je obsa¾en v&nbsp;ka¾dém <i>COBOLovském</i> programu,
je oddíl nazvaný pøíznaènì <i>PROCEDURE DIVISION</i>. V&nbsp;tomto oddíle je
ulo¾ena vlastní logika aplikace reprezentovaná posloupností vìt, které jsou
rozdìleny na jednotlivé fráze a slova podobnì, jako tomu bylo i u pøedchozích
oddílù. Pomocí vìt se dokonce zapisují i aritmetické a logické výrazy, tak¾e i
relativnì jednoduché výpoèty mohou v&nbsp;<i>COBOLu</i> zabírat nìkolik
programových øádkù (alternativnì lze pou¾ít frázi <i>COMPUTE</i>, která
umo¾òuje zápis výrazù podobným zpùsobem, jaký známe z&nbsp;mnoha dal¹ích
programovacích jazykù). Následuje pøíklad zápisu aritmetických výrazù:</p>

<pre>
* C = A + B
  ADD A,B GIVING C
  COMPUTE C = A + B

* C = A + B + C
  ADD A,B TO C
  COMPUTE C = A + B + C

* C = A * B
  MULTIPLY A BY B GIVING C

* C = A - B
  SUBTRACT B FROM A GIVING C

* COUNTER++
  ADD 1 TO COUNTER
</pre>

<p>V&nbsp;programovacím jazyku <i>COBOL</i> lze samozøejmì zapisovat i
programové smyèky, ov¹em tìlo smyèky neobsahuje blok kódu, ale pouze volání
nìjaké procedury. Pro tento úèel se pou¾ívá fráze <i>PERFORM</i>:</p>

<pre>
* opakovani procedury 10x
  PERFORM procedura 10 TIMES

* programova smycka s podminkou na zacatku
  PERFORM proved-platbu UNTIL zustatek IS GREATER THEN 0
* popr.
  PERFORM proved-platbu UNTIL zustatek IS POSITIVE
</pre>

<p><i>COBOL</i> takté¾ obsahuje, ostatnì jako prakticky ka¾dý vy¹¹í
programovací jazyk vyvinutý v&nbsp;padesátých a poèátku ¹edesátých letech
minulého století (samozøejmì kromì <i>LISPu</i>), pøíkaz <i>GO TO</i>, pomocí
kterého je mo¾né provést skok do vybrané procedury. Navíc je mo¾né pomocí
pøíkazu <i>GO TO</i> provést i rozeskok do více procedur na základì hodnoty
celoèíselné promìnné: hodnota 1 znamená skok do první procedury, hodnota 2 skok
do procedury druhé atd.:</p>

<pre>
GO TO proc1, proc2, proc3 DEPENDING ON status
</pre>

<a href="http://i.iinfo.cz/images/118/ibm6-8.png"><img src="http://i.iinfo.cz/images/118/ibm6-8-prev.png" alt="ibm6" height="263" width="370" /></a>
<p><i>Obrázek 8: Dal¹í pohled na vývojové prostøedí Eclipse s&nbsp;pøídavným
modulem pro podporu vývoje v&nbsp;COBOLu.</i></p>



<p><a name="k07"></a></p>
<h2>7. Demonstraèní pøíklad &ndash; vynásobení dvou èísel</h2>

<p><i>&bdquo;Gartner estimates for 2002 that there are about two million COBOL
programmers world-wide compared to about about one million Java programmers and
one million C++ programmers.&ldquo;</i></p>

<p>V&nbsp;demonstraèním pøíkladu vypsaném ní¾e je ukázán zpùsob zápisu celého
(i kdy¾ velmi jednoduchého) programu v&nbsp;<i>COBOLu</i>. Pov¹imnìte si
odsazení programového kódu od levého okraje (na prvních ¹esti sloupcích se
mohou nacházet èísla øádkù, v&nbsp;sedmém sloupci pak zaèátek komentáøe èi znak
specifikující pokraèování pøedchozího øádku), rozdìlení celého programu do tøí
oddílù (ètvrtý oddíl je nepovinný), zápisu jednotlivých vìt slo¾ených
z&nbsp;frází i toho, jakým zpùsobem programátor specifikoval, ¾e èísla, která
se mají vynásobit, mohou mít pouze jednu cifru a výsledek má být maximálnì
dvouciferný:</p>

<pre>
       $ SET SOURCEFORMAT"FREE"
       IDENTIFICATION DIVISION.
       PROGRAM-ID.  Multiplier.
       AUTHOR.  Michael Coughlan.
      * Example program using ACCEPT, DISPLAY and MULTIPLY to 
      * get two single digit numbers from the user and multiply them
      * together

       DATA DIVISION.

       WORKING-STORAGE SECTION.
       01  Num1                                PIC 9  VALUE ZEROS.
       01  Num2                                PIC 9  VALUE ZEROS.
       01  Result                              PIC 99 VALUE ZEROS.

       PROCEDURE DIVISION.
       DISPLAY "Enter first number  (1 digit) : " WITH NO ADVANCING.
       ACCEPT Num1.
       DISPLAY "Enter second number (1 digit) : " WITH NO ADVANCING.
       ACCEPT Num2.
       MULTIPLY Num1 BY Num2 GIVING Result.
       DISPLAY "Result is = ", Result.
       STOP RUN.
</pre>

<p>Popø.&nbsp;lze doplnit i èísla programových øádkù pro kompatibilitu se
star¹ími pøekladaèi:</p>

<pre>
000100 $ SET SOURCEFORMAT"FREE"
000200 IDENTIFICATION DIVISION.
000300 PROGRAM-ID.  Multiplier.
000400 AUTHOR.  Michael Coughlan.
000500* Example program using ACCEPT, DISPLAY and MULTIPLY to 
000600* get two single digit numbers from the user and multiply them
000700* together
000800
000900 DATA DIVISION.
001000
001100 WORKING-STORAGE SECTION.
001200 01  Num1                                PIC 9  VALUE ZEROS.
100000 01  Num2                                PIC 9  VALUE ZEROS.
100100 01  Result                              PIC 99 VALUE ZEROS.
100200
100300 PROCEDURE DIVISION.
100400 DISPLAY "Enter first number  (1 digit) : " WITH NO ADVANCING.
100500 ACCEPT Num1.
100600 DISPLAY "Enter second number (1 digit) : " WITH NO ADVANCING.
100700 ACCEPT Num2.
100800 MULTIPLY Num1 BY Num2 GIVING Result.
100900 DISPLAY "Result is = ", Result.
100999 STOP RUN.
</pre>



<p><a name="k08"></a></p>
<h2>8. Literatura</h2>

<ol>

<li>Ankrum,T. Scott<br />
COBOL &ndash; A Best Practice (Sept, 2001)<br />
COBOLReport.com
</li>

<li>Arranga,Edmund C.<br />
The Viagrazation of COBOL<br />
COBOLwebler.com
</li>

<li>Arranga, Edmund C. &amp; Price, Wilson<br />
Fresh from Y2K, What's next for COBOL? (March/April 2000)<br />
IEEE Software
</li>

<li>Arranga et al<br />
In COBOL's Defense : Roundtable Discussion (March/April 2000)<br />
IEEE Software
</li>

<li>Badower, Justin<br />
COBOL: Foundation of the future<br />
COBOLwebler.com
</li>

<li>Brown, Gary DeWard<br />
COBOL: The failure that wasn't<br />
COBOLReport.com
</li>

<li>Burger,Thomas Wolfgang<br />
COBOL in an open source future (May 2000)<br />
IBM developerWorks : Linux : Linux articles
</li>

<li>Carr, Donald and Kizior, Ronald J.<br />
The Case for Continued COBOL Education (March/April 2000)<br />
IEEE Software
</li>

<li>Feiman, J.<br />
The Gartner Programming Language Survey (October 2001)<br />
Gartner Advisory
</li>

<li>Glass, Robert L.<br />
Cobol &ndash; A Contradiction and an Enigma<br />
COMMUNICATIONS OF THE ACM September 1997/Vol. 40, No. 9
</li>

<li>Jones, Capers<br />
The global economic impact of the year 2000 software problem<br />
(Jan, 1997) 
</li>

<li>Kappelman, Leon A.<br />
Some Strategic Y2K Blessings (March/April 2000)<br />
IEEE Software
</li>

<li>Kizior, Dr. Ronald J. and Carr, Donald and Halpern, Dr. Paul<br />
What Professionals think of the Future of COBOL? 

<li>Murach, Mike<br />
Is COBOL Dying ... or Thriving? (February 2001)<br />
The Cobol Newswire 
</li>

<li>Pagnan, Martin<br />
Can A Java Programmer Be Transitioned To Cobol? (Feb, 2002)<br />
COBOLReport.com
</li>

<li>Reimann, Artur<br />
COBOL, Language of Choice &ndash; Then and Now (January, 2001)<br />
COBOLReport.com
</li>

<li>Sayles, Jonathan<br />
COBOL and the Enterprise Business Application Programming Legacy<br />
MicroFocus Ltd.
</li>

<li>Silverberg, Fred<br />
COBOL and the Business Programming Paradigm<br />
(1996)
</li>

<li>Sneed, Harry M.<br />
The Evolution of COBOL<br />
COBOLReport.com
</li>

<li>Wilkinson,Stephanie<br />
From the Dustbin, Cobol Rises (May, 2001)<br />
eWeek
</li>

</ol>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Rosetta Code &ndash; Category:COBOL<br />
<a href="http://rosettacode.org/wiki/Category:COBOL">http://rosettacode.org/wiki/Category:COBOL</a>
</li>

<li>COmmon Business Oriented Language<br />
<a href="http://foldoc.org/COBOL">http://foldoc.org/COBOL</a>
</li>

<li>COBOL Compilers<br />
<a href="http://www-01.ibm.com/software/awdtools/cobol/">http://www-01.ibm.com/software/awdtools/cobol/</a>
</li>

<li>Cobol: Not Dead Yet<br />
<a href="http://www.computerworld.com/s/article/266156/Cobol_Not_Dead_Yet?intsrc=kc_rfavs">http://www.computerworld.com/s/article/266156/Cobol_Not_Dead_Yet?intsrc=kc_rfavs</a>
</li>

<li>The future's bright ... the future's Cobol<br />
<a href="http://features.techworld.com/applications/3056/the-futures-bright--the-futures-cobol/">http://features.techworld.com/applications/3056/the-futures-bright--the-futures-cobol/</a>
</li>

<li>COBOL Example Programs<br />
<a href="http://www.csis.ul.ie/COBOL/examples/default.htm">http://www.csis.ul.ie/COBOL/examples/default.htm</a>
</li>

<li>Introduction to COBOL<br />
<a href="http://www.csis.ul.ie/COBOL/Course/COBOLIntro.htm">http://www.csis.ul.ie/COBOL/Course/COBOLIntro.htm</a>
</li>

<li>COBOL programming &ndash; tutorials, lectures, exercises, examples<br />
<a href="http://www.csis.ul.ie/COBOL/">http://www.csis.ul.ie/COBOL/</a>
</li>

<li>Wikipedia: COBOL<br />
<a href="http://en.wikipedia.org/wiki/COBOL">http://en.wikipedia.org/wiki/COBOL</a>
</li>

<li>Humor on Computers, Systems and Programming<br />
<a href="http://www-crypto.htw-saarland.de/weber/misc/programming.html">http://www-crypto.htw-saarland.de/weber/misc/programming.html</a>
</li>

<li>OpenCOBOL<br />
<a href="http://en.wikipedia.org/wiki/OpenCOBOL">http://en.wikipedia.org/wiki/OpenCOBOL</a>
</li>

<li>OpenCOBOL.org<br />
<a href="http://opencobol.org/">http://opencobol.org/</a>
</li>

<li>OpenCOBOL FAQ<br />
<a href="http://opencobol.add1tocobol.com/">http://opencobol.add1tocobol.com/</a>
</li>

<li>TinyCOBOL<br />
<a href="http://tiny-cobol.sourceforge.net/">http://tiny-cobol.sourceforge.net/</a>
</li>

<li>TinyCOBOL FAQ<br />
<a href="http://tiny-cobol.sourceforge.net/docs/faq/">http://tiny-cobol.sourceforge.net/docs/faq/</a>
</li>

<li>JTC1/SC22/WG4 &ndash; COBOL<br />
<a href="http://ra.dkuug.dk/jtc1/sc22/wg4/">http://ra.dkuug.dk/jtc1/sc22/wg4/</a>
</li>

<li>COBOL on COGS<br />
<a href="http://www.coboloncogs.org/INDEX.HTM">http://www.coboloncogs.org/INDEX.HTM</a>
</li>

<li>Cobol Coders: Going, Going, Gone?<br />
<a href="http://www.computerworld.com/s/article/266228/Cobol_Coders_Going_Going_Gone_">http://www.computerworld.com/s/article/266228/Cobol_Coders_Going_Going_Gone_</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

