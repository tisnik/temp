<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Interní sbìrnice PCI Express</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Interní sbìrnice PCI Express</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù si popí¹eme souèasného favorita mezi sbìrnicemi urèenými (nejenom) pro osobní poèítaèe. Jedná se o sbìrnici nazvanou PCI Express, která v dne¹ních poèítaèích úspì¹nì nahrazuje jak pùvodní universální sbìrnici PCI, tak i minule popsaný AGP.</p>



<h1>Obsah</h1>
<p>
<a href="#k01">1. Interní sbìrnice PCI Express</a><br />
<a href="#k02">2. Základy technologie PCI Express</a><br />
<a href="#k03">3. Komunikace po PCI Express</a><br />
<a href="#k04">4. Oblasti pou¾ití PCI Express</a><br />
<a href="#k05">5. Interní sbìrnice: shrnutí</a><br />
<a href="#k06">6. Budoucí vývoj interních sbìrnic</a><br />
<a href="#k07">7. Pøenosové rychlosti nejpou¾ívanìj¹ích sbìrnic v&nbsp;PC</a><br />
<a href="#k08">8. Literatura a odkazy na Internetu</a><br />
<a href="#k09">9. Obsah následující èásti seriálu</a><br />
</p>



<p><a name="k01"></a></p>
<h1>1. Interní sbìrnice PCI Express</h1>

<p>V&nbsp;pøedchozích ètyøech èástech tohoto seriálu bylo popsáno mnoho typù
interních sbìrnic, které mìly i pøes mnoho výkonnostních i architektonických
rozdílù jednu spoleènou vlastnost: adresy, data i pøíkazy (a stavy) se
pøená¹ely paralelnì po nìkolika vodièích. Pùvodní osmibitová sbìrnice
<i>ISA</i> mìla osm vodièù urèených pro synchronní pøenos dat, ¹estnáctibitová
sbìrnice <i>ISA</i> ¹estnáct vodièù, &bdquo;pìtivoltová&ldquo; <i>PCI</i> 32
vodièù, 64bitová <i>PCI</i> 64 vodièù atd. Paralelní pøenos dat se pøi men¹ích
hodinových frekvencích sbìrnic jevil jako výhodný, jeliko¾ umo¾òuje pøenést
vìt¹í mno¾ství bitù souèasnì (ideálnì celé slovo zpracovávané mikroprocesorem),
není nutné vytváøet relativnì slo¾ité obvody pro serializaci a deserializaci
dat (na koncích sbìrnice postaèují jednoduché záchytné registry &ndash;
<i>latche</i>) apod. Ov¹em ve chvíli, kdy se zvy¹uje hodinová frekvence sbìrnic
se ji¾ zaèínají projevovat nìkteré ne¾ádoucí jevy, které frekvenci (a tím i
maximální pøenosovou rychlost) omezují &ndash; rozdílné zpo¾dìní na
jednotlivých datových vodièích, vzájemné ru¹ení, zkreslení signálù atd.</p>

<image id="7473" />
<p-center><i>Obrázek 1: Grafická karta urèená do sbìrnice PCI Express
&times;16</i></p-center>

<p>Nejvýraznìji se v¹ak nevýhoda paralelního pøenosu projeví ve chvíli, kdy se
pøechází z&nbsp;klasické sbìrnicové topologie (ve které jsou v¹echny karty
pøipojeny na stejné linky o nì¾ se musí dìlit na základì pokynù arbitrá¾ního
obvodu) na topologii odli¹nou, ve které se poèet spojù (a» ji¾ realizovaných
fyzicky pøímo na základní desce, èi logicky v&nbsp;pøepínaèi &ndash;
<i>switchi</i>) mezi pøipojenými kartami zvy¹uje. V¹echny zmínìné problémy je
mo¾né vyøe¹it pøekvapivì snadno, konkrétnì pøechodem na sériový zpùsob pøenosu
dat. To sice vede k&nbsp;nutnosti pou¾ití slo¾itìj¹ích obvodù ve vlastních
zaøízeních (pøechod na sériový zpùsob pøenosu vede k&nbsp;zavedení paketové
technologie), na stranu druhou se v¹ak paradoxnì sni¾ují náklady na výrobu
základní desky i karet. Navíc je mo¾né do jedné karty vést více relativnì
samostatnì pracujících sériových linek a tím zvý¹it maximální pøenosové
rychlosti. Právì touto cestou, která je mj.&nbsp;pou¾ita i v&nbsp;klasickém
Ethernetu, se vydali tvùrci relativnì nové sbìrnice <i>PCI Express</i>.</p>

<image id="7474" original="no" />
<p-center><i>Obrázek 2: Sbìrnice PCI Express má s&nbsp;pùvodní sbìrnicí
spoleèné jméno a logickou vrstvu. Na úrovni fyzické se jedná o naprosto odli¹né
technologie. Vývoj standardu zastøe¹uje stejná organizace, proto bylo zvoleno i
podobnì znìjící jméno...</i></p-center>



<p><a name="k02"></a></p>
<h1>2. Základy technologie PCI Express</h1>

<p><i>PCI Express</i> pou¾ívá pro pøenos adres, dat i prakticky v¹ech øídicích
signálù dva páry vodièù; ka¾dý pár vodièù pøitom provádí pøenos v&nbsp;jednom
smìru s&nbsp;rychlostí 2,525 Gigabitù za sekundu (u verze 2 je to dvojnásobek).
V¹echny ètyøi vodièe tvoøící ony dva páry se nazývají <i>lane</i> (pruh,
dráha). Dùvod, proè se v&nbsp;ka¾dém smìru pou¾ívá dvojice vodièù a nikoli
vodiè jeden (jeho¾ potenciál by se porovnával s&nbsp;jedinou
&bdquo;zemí&ldquo;), spoèívá v&nbsp;tom, ¾e dva vodièe mohou tvoøit uzavøenou
proudovou smyèku, po které je mo¾né data pøená¹et velmi vysokou rychlostí, ani¾
by docházelo k&nbsp;vìt¹ímu vyzaøování signálu do okolí (naproti tomu u
klasických paralelních sbìrnic fungují jednotlivé vodièe jako antény). Karty,
které pro svoji funkci nevy¾adují velké datové toky, mohou pou¾ít pouze jednu
dráhu, èím¾ je efektivnì dosa¾eno pøenosové rychlosti cca 250 MB.s<sup>-1</sup>
v&nbsp;obou smìrech (reálná pøenosová rychlost bude o cca 5 procent ni¾¹í,
proto¾e je nutné pøená¹et i øídicí sekvence, opravné kódy atd). Jak se
z&nbsp;hodnoty cca 2,5 Gb.s<sup>-1</sup> získala hodnota 250 MB.s<sup>-1</sup>,
kdy¾ byte obsahuje osm bitù? Pøi pøenosu je pou¾ito kódování 8b/10b,
tj.&nbsp;ka¾dých osm bitù surových dat je pøevedeno na deset bitù, pøièem¾ je
zaji¹tìna maximální délka sekvence nul a jednièek &ndash; to je nutné pro
synchronizaci pøenosu na tak vysokých rychlostech, i kdy¾ se tím pøenosové
pásmo sní¾í o 25%.</p>

<image id="7475" />
<p-center><i>Obrázek 3: Karta urèená do sbìrnice PCI Express &times;1, kterou
je v¹ak mo¾né zapojit i do v¹ech ¹ir¹ích konektorù PCI Express &ndash;
&times;2, &times;4, &times;8 i &times;16</i></p-center>

<p>U karet, které vy¾adují vìt¹í datové toky (napøíklad se jedná o grafické
akcelerátory), je mo¾né pou¾ít nìkolika drah souèasnì zavedených do jednoho
konektoru. Délka konektoru a poèet jeho pinù se samozøejmì zvìt¹uje. Podle
poètu drah se takové konektory a karty oznaèují &times;1 (jedna dráha),
&times;2 (dvì dráhy), &times;4, &times;8, &times;12, &times;16 a¾ &times;32.
V&nbsp;bì¾ných poèítaèích se setkáme pøedev¹ím s&nbsp;konektory typu &times;1 a
&times;16, nìkdy v¹ak konektory &times;16 ve skuteènosti pracují v&nbsp;re¾imu
&times;8, co¾ je pøípad nìkterých základních desek, které obsahují dva
&bdquo;&times;16&ldquo; konektory urèené pro grafické karty. Zajímavé a
u¾iteèné je, ¾e i v&nbsp;konektoru &times;16 je mo¾né pou¾ít kartu, která má
men¹í poèet drah (&times;1, &times;2 atd.). Taková karta bude pracovat, i kdy¾
samozøejmì na ni¾¹í rychlosti. Nìkteré základní desky dokonce obsahují krat¹í
konektory s&nbsp;jedním otevøeným koncem, do kterých je mo¾né zasunout i karty
del¹í, èím¾ se teoreticky dá karta napøíklad s&nbsp;¹estnácti drahami umístit
do konektoru &times;1. O poètu pou¾itých drah se rozhoduje pøi inicializaci
<i>PCI Express</i>.</p>

<image id="7476" original="no" />
<p-center><i>Obrázek 4: Základní deska obsahující ètyøi konektory sbìrnice PCI
Express: &times;16 (modrý), &times;8 (dlouhý oran¾ový), a dvojici &times;4
(krátké oran¾ové).</i></p-center>



<p><a name="k03"></a></p>
<h1>3. Komunikace po PCI Express</h1>

<p>Mo¾ná nejzajímavìj¹í je na sbìrnici <i>PCI Express</i> zpùsob komunikace
jednotlivých karet a mikroprocesoru. Jak jsem se ji¾ zmínil v&nbsp;pøedchozích
odstavcích, není u <i>PCI Express</i> pou¾ita klasická sbìrnicová topologie, u
které jednotlivé karty musí ¾ádat o pøístup na sbìrnici a sdílet pøenosové
pásmo s&nbsp;ostatními zaøízeními. Místo toho vedou od v¹ech konektorù
jednotlivé dráhy do pøepínaèe (<i>switch</i>), který (teoreticky) doká¾e
libovolné dvì dráhy propojit a vytvoøit tak strukturu typu
<i>point-to-point</i>. Na jednu stranu je sice nutné, aby byl na základní desce
pøítomen pomìrnì slo¾itý pøepínaè, na stranu druhou v¹ak odpadá arbitrá¾ní
obvod (který také nebyl zcela jednoduchý) a pøedev¹ím: ka¾dá dráha mù¾e
pøená¹et data maximální rychlostí (samozøejmì obousmìrnì, èeho¾ se v¹ak nedá
v¾dy zcela vyu¾ít) a zaøízení se tak nemusí dìlit o jedno pøenosové pásmo tak,
jak tomu bylo napøíklad u sbìrnice <i>PCI</i>. Proè se v¹ak stále mluví o
&bdquo;sbìrnici&ldquo;, kdy¾ je pou¾ita jiná topologie? Na úrovni øízení se
toti¾ ovládacím programùm zaøízení skuteènì jeví tak, jako by byla pøipojena na
sbìrnici, i kdy¾ se na úrovni vlastních vodièù o sbìrnici nejedná. Podobnì je
tomu ostatnì i u externí &bdquo;sbìrnice&ldquo; <i>USB</i>.</p>

<image id="7477" original="no" />
<p-center><i>Obrázek 5: Vlevo: dvì grafické karty pracující v&nbsp;re¾imu
&times;16. Vpravo: ètyøi grafické karty pracující v&nbsp;re¾imu
&times;8</i></p-center>

<p>Díky tomuto uspoøádání je mo¾né mít v&nbsp;serveru nainstalováno vìt¹í
mno¾ství gigabitových Ethernetových adaptérù (ka¾dému postaèuje konektor
&times;1) èi ve výkonné stanici nìkolik grafických karet (&times;8, &times;16)
&ndash; to nebylo s&nbsp;technologií <i>AGP</i> vùbec mo¾né. Extrémní pøípad je
ukázán na dal¹ím obrázku &ndash; ètyøi grafické karty, ka¾dá pøipojená do
konektoru &times;16 (reálnì v¹ak pou¾ívajícím osm drah). Pøi pøenosu dat je
pou¾ita paketová technologie známá napøíklad ze systému Ethernet,
tj.&nbsp;vlastní u¾iteèná data se pøená¹í spolu s&nbsp;øídicími kódy, kódy pro
detekci chyb atd. To ponìkud sni¾uje reálnou maximální dosa¾itelnou rychlost.
Uvádí se, ¾e cca 5% pøenosové kapacity je pou¾ito právì pro pøenos dodateèných
informací, pøièem¾ se toto èíslo zvìt¹uje v&nbsp;pøípadì, ¾e jsou pøená¹ené
bloky malé. U zaøízení, která mají nejvy¹¹í nároky na pøenosovou rychlost,
zejména u grafických karet, se v¹ak vìt¹inou provádí pøenos vìt¹ích blokù dat,
který je na <i>PCI Express</i> øe¹ený efektivnì.</p>

<image id="7478" original="no" />
<p-center><i>Obrázek 6: Základní deska s&nbsp;jedním konektorem PCI Express
&times;16 (modrý), dvìma konektory &times;8 (oran¾ové) a jedním konektorem
&times;4 (èerný). Kromì toho se na desce nachází i tøi klasické konektory PCI
sbìrnice (bílé).</i></p-center>



<p><a name="k04"></a></p>
<h1>4. Oblasti pou¾ití PCI Express</h1>

<p>Kromì postupného vytlaèování klasické sbìrnice <i>PCI</i> nahradila <i>PCI
Express</i> i minule popsaný akcelerovaný port <i>AGP</i>. Pøitom se
v&nbsp;prakticky v¹ech smìrech jedná o zásadní vylep¹ení &ndash; <i>PCI
Express</i> dovoluje pou¾ití vy¹¹ích rychlostí ne¾ je mo¾né dosáhnout u
<i>AGP</i> a také je mo¾né pou¾ít vìt¹í mno¾ství grafických akcelerátorù.
Napøíklad firma <i>nVidia</i> vytvoøila technologii nazvanou <i>dual-SLI</i>
zalo¾enou na dvojici karet urèených do konektoru &times;16, pøièem¾ je (ov¹em
prozatím pouze pøi pou¾ití èipsetu <i>nForce 4</i>) ¹estnáct drah rozdìleno na
dvì skupiny po osmi drahách, pomocí kterých mohou být do systému zapojeny dvì
shodné grafické karty pracující v&nbsp;tandemu (tyto karty se navíc navzájem
propojují zvlá¹tním &bdquo;mùstkem&ldquo;). Nárùst rychlosti renderingu je
skoro dvojnásobný, proto¾e ka¾dá karta poèítá pouze polovinu obrazu. Podobnou
technologii nabízí i konkurenèní <i>ATI</i>, ov¹em prozatím nejdále jsou
grafické karty systému <i>Alienware Video Array</i>, který dokázal vyøe¹it
problémy s&nbsp;øízením, napájením a chlazením <strong>ètyø</strong> paralelnì
pracujících grafických akcelerátorù.</p>

<image id="7479" original="no" />
<p-center><i>Obrázek 7: Dvì grafické karty Alienware Video
Array.</i></p-center>



<p><a name="k05"></a></p>
<h1>5. Interní sbìrnice: shrnutí</h1>

<p>V&nbsp;pøedchozích ètyøech èástech seriálu o architekturách poèítaèù jsme si
popsali nìkteré interní sbìrnice pou¾ívané pøedev¹ím na osobních poèítaèích.
Pøi pohledu do minulosti na postupný vývoj sbìrnic je mo¾né øíci, ¾e se spolu
s&nbsp;rostoucím výpoèetním výkonem mikroprocesorù a kapacit operaèních pamìtí
mìnily i nároky kladené na sbìrnice. Pøedev¹ím se zvy¹ovala jejich rychlost,
èeho¾ je mo¾né dosáhnout nìkolika zpùsoby: roz¹íøením bitové ¹íøky datové èásti
sbìrnice, zvý¹ením hodinové frekvence, pøenosem více slov v&nbsp;jednom taktu
(nemusí se pou¾ívat pøíli¹ vysoké frekvence hodin) a také vylep¹ením
pøenosového protokolu, pøedev¹ím o mo¾nosti blokových pøenosù dat. Na osobních
poèítaèích se zpoèátku pou¾ívala z&nbsp;dne¹ního pohledu velmi jednoduchá a
pomalá osmibitová sbìrnice <i>PC-BUS</i> (<i>XT-BUS</i>) následovaná
¹estnáctibitovou sbìrnicí <i>ISA</i>. Pøes relativnì neúspì¹nou <i>MCA</i> a
takté¾ v&nbsp;oblasti osobních poèítaèù nepøíli¹ roz¹íøenou sbìrnici
<i>EISA</i> se vývoj ubral dvìma smìry &ndash; relativnì levné a rychlé lokální
sbìrnice (<i>VESA Local Bus</i>) a universální vysokorychlostní sbìrnice
nezávislé na architektuøe mikroprocesoru (<i>PCI</i> a dal¹í).</p>

<image id="7480" original="no" />
<p-center><i>Obrázek 8: Vysokoúrovòová analýza signálù na sbìrnici
PCI-X.</i></p-center>

<p>Vlastnosti lokálních sbìrnic, jmenovitì <i>VESA Local Bus</i>, jsou do
znaèné míry závislé na architektuøe pou¾itého mikroprocesoru, co¾ prakticky
znemo¾òuje jejich vìt¹í roz¹íøení v&nbsp;del¹ím èasovém horizontu. Jejich
pøedností je jednoduchost, a to jak z&nbsp;hlediska øízení sbìrnice, tak i
implementace øadièe sbìrnice (z&nbsp;toho je odvozena i ponìkud vy¹¹í rychlost
pøi stejné hodinové frekvenci vycházející z&nbsp;jednodu¹¹ího protokolu), ov¹em
pøeva¾ují nevýhody &ndash; mo¾nost pøipojení pouze omezeného mno¾ství karet,
nebo» pøi vy¹¹í logické zátì¾i dochází ke zhor¹ení tvaru signálù a tím i
k&nbsp;vìt¹í citlivosti na ¹um a vnìj¹í ru¹ení, komplikovanìj¹í návrh karet
urèených pro tuto sbìrnici, proto¾e výrobci musí poèítat se ¹irokým rozsahem
frekvencí a také jistá neochota výrobcù podporovat lokální sbìrnice závislé na
jedné konkrétní architektuøe mikroprocesoru. Z&nbsp;tìchto dùvodù byla <i>VESA
Local Bus</i> prakticky poslední lokální sbìrnicí pou¾ívanou v&nbsp;osobních
poèítaèích, v¹echny následující sbìrnice byly a jsou universální a to napøíè
velkým mno¾stvím rùzných poèítaèových architektur &ndash; napøíklad sbìrnici
<i>PCI</i> mù¾eme najít jak na deset let starém low-endovém osobním poèítaèi,
tak i ve výkonných serverech a prùmyslových poèítaèích.</p>

<p>Sbìrnice <i>PCI</i> se (i pøes svoji velkou úspì¹nost a roz¹íøenost) pro
nìkteré typy zaøízení, napøíklad grafické karty, øadièe SCSI-320, gigabitové
sí»ové karty atd., stala úzkým hrdlem pøi pøenosu dat, proto opìt nastalo
dilema &ndash; buï bylo mo¾né pøejít na rychlej¹í variantu <i>PCI</i> nebo
zachovat stávající <i>PCI</i> (5V, 33 MHz) a pøidat k&nbsp;ní speciální port
urèený pouze pro pøipojení grafické karty nebo grafického akcelerátoru (tím se
ze samotné sbìrnice <i>PCI</i> odebere datovì nejnároènìj¹í zaøízení). První
øe¹ení, tj.&nbsp;pøechod na 64 bitovou verzi <i>PCI</i> èi na <i>PCI-X</i>, se
prosadilo na nìkterých modelech serverù, druhé øe¹ení, tj.&nbsp;doplnìní
<i>PCI</i> o <i>AGP</i>, bylo doménou prakticky v¹ech osobních poèítaèù
vyrobených v&nbsp;posledních cca deseti letech (teprve v&nbsp;minulém roce
do¹lo k&nbsp;výraznìj¹í zmìnì). Dnes mù¾eme být svìdky opìtovné unifikace a
návratu pouze k&nbsp;jednomu typu sbìrnice, ke které se pøipojí v¹echny karty,
bez ohledu na to, zda se jedná o datovì nároèný grafický akcelerátor èi øadiè
hlemý¾dí rychlostí se plazícího sériového portu.</p>

<image id="7481" original="no" />
<p-center><i>Obrázek 9: Konektory nìkterých popsaných interních
sbìrnic</i></p-center>



<p><a name="k06"></a></p>
<h1>6. Budoucí vývoj interních sbìrnic</h1>

<p>Do budoucna je mo¾né oèekávat buï dal¹í diverzifikaci sbìrnic (rychlá
&ndash; pomalá zaøízení), podobnì jako tomu bylo u lokální sbìrnice <i>VESA
Local Bus</i> pracující na jedné základní desce spoleènì s&nbsp;universální
sbìrnicí <i>ISA</i>; popø.&nbsp;i portu <i>AGP</i> a <i>PCI</i>, nebo pøechod
k&nbsp;odli¹né topologii zapojení jednotlivých zaøízení, co¾ mù¾e být výhodné
napøíklad u poèítaèù pou¾ívajících vìt¹í mno¾ství mikroprocesorù. Ji¾
v&nbsp;pøedchozích èástech tohoto seriálu jsme si øekli, ¾e napøíklad nìkteré
výkonné grafické stanice firmy <i>SGI</i> (a superpoèítaèe <i>Cray</i>)
pou¾ívají topologii møí¾ky popø.&nbsp;hyperkostky, podobnou topologii je
teoreticky mo¾né pou¾ít i u dnes popsané sbìrnice <i>PCI-Express</i>. Otázkou
ov¹em zùstává, zda bude po výkonných nìkolikaprocesorových osobních poèítaèích
poptávka. V&nbsp;oblasti serverù, k&nbsp;nim¾ se pøesouvá stále vìt¹í mno¾ství
aplikací, je situace víceménì jasná, zde se dal¹í výpoèetní výkon bez problémù
vyu¾ije (serverové aplikace psané v&nbsp;dynamicky typovaných jazycích, servery
zpracovávající paralelnì velké mno¾ství po¾adavkù atd.).</p>

<image id="7482" original="no" />
<p-center><i>Obrázek 10: Topologie hyperkostky &ndash; s&nbsp;ka¾dou dal¹í
dimenzí se poèet cest vycházejících z&nbsp;jednoho uzlu zvy¹uje pouze o
jednièku</i></p-center>

<p>Na tomto místì stojí za pøipomenutí jedna zajímavost &ndash;
v&nbsp;moderních poèítaèích se (ponìkud s&nbsp;nadsázkou øeèeno) témìø výhradnì
pou¾ívá sériová forma pøenosu dat. Prakticky v¹echna externí zaøízení jsou
k&nbsp;poèítaèi pøipojována pøes <i>USB</i> èi <i>FireWire</i> (&bdquo;drát
ohnivák&ldquo;), pevné disky a jednotky optických diskù pou¾ívají takté¾
sériové rozhraní <i>SATA</i> a karty jsou urèeny pro sbìrnici
<i>PCI-Express</i>. Taková situace je¹tì v&nbsp;minulosti nikdy nenastala,
proto¾e vìt¹ina sbìrnic a rozhraní uvnitø poèítaèe byla zalo¾ena na paralelním
pøenosu dat a i vnìj¹í vysokorychlostní porty mìly osm, ¹estnáct èi tøicet dva
datových vodièù (paralelní port, vnìj¹í <i>SCSI</i>). Ukazuje se, ¾e
s&nbsp;rostoucí výkonností èipù a souèasnì i jejich klesající cenou je zavedení
sériového pøenosu dat výhodné; v&nbsp;pøípadì po¾adavku na vy¹¹í pøenosové
rychlosti je mo¾né pou¾ít technologii popsanou v&nbsp;prvních kapitolách této
èásti seriálu, tj.&nbsp;nìkolik vzájemnì relativnì nezávislých sériových (a
navíc je¹tì oboustranných) pøenosù.</p>



<p><a name="k07"></a></p>
<h1>7. Pøenosové rychlosti nejpou¾ívanìj¹ích sbìrnic v&nbsp;PC</h1>

<p>V&nbsp;následující tabulce jsou vypsány maximální teoretické pøenosové
rychlosti pro nìkteré typy sbìrnic, se kterými jsme se v&nbsp;pøedchozích
èástech tohoto seriálu mohli seznámit. Pro úplnost jsem do tabulky zahrnul i
nìkteré neoficiální (oficiálnì nepodporované èi standardem neuvádìné)
rychlosti; týká se to zejména obou mezních frekvencí u lokální sbìrnice <i>VESA
Local Bus</i> èi sbìrnice <i>PCI 3.0</i> taktované na 133 MHz. Reálné rychlosti
jsou sní¾ené vlivem nìkolika faktorù &ndash; arbitrá¾í sbìrnice, zpracováním
pøeru¹ení, pøenosem adres pøed zahájením blokových pøesunù, pøenosem CRC u
nìkterých sbìrnic atd.</p>

<table>
<tr><th>Oznaèení</th><th>Hodinová frekvence</th><th>Bitová ¹íøka</th><th>Pøenosù za takt</th><th>Výsledná rychlost</th><th>Poznámka</th></tr>
<tr><td>8bit ISA (XT Bus)        </td><td>4,77 MHz</td><td> 8</td><td>1&times;</td><td>2,38 MB.s<sup>-1</sup></td><td>první takt: adresa, druhý takt: data</td></tr>
<tr><td>16bit ISA (XT Bus)       </td><td>   6 MHz</td><td>16</td><td>1&times;</td><td>   6 MB.s<sup>-1</sup></td><td>první PC AT</td></tr>
<tr><td>16bit ISA (XT Bus)       </td><td>   8 MHz</td><td>16</td><td>1&times;</td><td>   8 MB.s<sup>-1</sup></td><td>standardní frekvence</td></tr>
<tr><td>16bit ISA (XT Bus)       </td><td>8,33 MHz</td><td>16</td><td>1&times;</td><td>8,33 MB.s<sup>-1</sup></td><td>standardní frekvence</td></tr>
<tr><td>16bit ISA (XT Bus)       </td><td>  10 MHz</td><td>16</td><td>1&times;</td><td>  10 MB.s<sup>-1</sup></td><td>nestandardní frekvence</td></tr>
<tr><td>16bit ISA (XT Bus)       </td><td>  12 MHz</td><td>16</td><td>1&times;</td><td>  12 MB.s<sup>-1</sup></td><td>nestandardní frekvence</td></tr>
<tr><td>16bit ISA (XT Bus)       </td><td>  16 MHz</td><td>16</td><td>1&times;</td><td>  16 MB.s<sup>-1</sup></td><td>nestandardní frekvence</td></tr>
<tr><td>VESA Local Bus           </td><td>  25 MHz</td><td>32</td><td>1&times;</td><td> 100 MB.s<sup>-1</sup></td><td>odvozeno od frekvence CPU</td></tr>
<tr><td>VESA Local Bus           </td><td>  33 MHz</td><td>32</td><td>1&times;</td><td> 132 MB.s<sup>-1</sup></td><td>odvozeno od frekvence CPU</td></tr>
<tr><td>VESA Local Bus           </td><td>  40 MHz</td><td>32</td><td>1&times;</td><td> 160 MB.s<sup>-1</sup></td><td>odvozeno od frekvence CPU</td></tr>
<tr><td>VESA Local Bus           </td><td>  50 MHz</td><td>32</td><td>1&times;</td><td> 200 MB.s<sup>-1</sup></td><td>odvozeno od frekvence CPU</td></tr>
<tr><td>PCI 1.x                  </td><td>  33 MHz</td><td>32</td><td>1&times;</td><td> 132 MB.s<sup>-1</sup></td><td>v desktopových PC standard, 5 V</td></tr>
<tr><td>PCI 1.x                  </td><td>  33 MHz</td><td>64</td><td>1&times;</td><td> 264 MB.s<sup>-1</sup></td><td></td></tr>
<tr><td>PCI 2.1                  </td><td>  66 MHz</td><td>32</td><td>1&times;</td><td> 264 MB.s<sup>-1</sup></td><td>úroveò signálù 3,3 V</td></tr>
<tr><td>PCI 2.1                  </td><td>  66 MHz</td><td>64</td><td>1&times;</td><td> 532 MB.s<sup>-1</sup></td><td>úroveò signálù 3,3 V</td></tr>
<tr><td>PCI 3.0                  </td><td> 133 MHz</td><td>32</td><td>1&times;</td><td> 532 MB.s<sup>-1</sup></td><td>ve stavu návrhu, nahrazeno PCI-X</td></tr>
<tr><td>PCI 3.0                  </td><td> 133 MHz</td><td>64</td><td>1&times;</td><td>1066 MB.s<sup>-1</sup></td><td>ve stavu návrhu, nahrazeno PCI-X</td></tr>
<tr><td>AGP 1&times;             </td><td>  66 MHz</td><td>32</td><td>1&times;</td><td> 266 MB.s<sup>-1</sup></td><td>úroveò signálù 3,3 V</td></tr>
<tr><td>AGP 2&times;             </td><td>  66 MHz</td><td>32</td><td>2&times;</td><td> 533 MB.s<sup>-1</sup></td><td>úroveò signálù 3,3 V</td></tr>
<tr><td>AGP 4&times;             </td><td>  66 MHz</td><td>32</td><td>4&times;</td><td>1066 MB.s<sup>-1</sup></td><td>úroveò signálù 1,5 V</td></tr>
<tr><td>AGP 8&times;             </td><td>  66 MHz</td><td>32</td><td>8&times;</td><td>2133 MB.s<sup>-1</sup></td><td>úroveò signálù 0,8 V</td></tr>
<tr><td>PCI-X                    </td><td>  66 MHz</td><td>64</td><td>1&times;</td><td> 533 MB.s<sup>-1</sup></td><td>zpìtnì kompatibilní s PCI</td></tr>
<tr><td>PCI-X                    </td><td> 133 MHz</td><td>64</td><td>1&times;</td><td>1066 MB.s<sup>-1</sup></td><td></td></tr>
<tr><td>PCI-X 2.0                </td><td> 266 MHz</td><td>64</td><td>1&times;</td><td>2133 MB.s<sup>-1</sup></td><td></td></tr> 
<tr><td>PCI-X 2.0                </td><td> 533 MHz</td><td>64</td><td>1&times;</td><td>4266 MB.s<sup>-1</sup></td><td></td></tr> 
<tr><td>PCI Express 1.1 &times;1 </td><td>2525 MHz</td><td>1 </td><td>1&times;</td><td> 250 MB.s<sup>-1</sup></td><td>pøenosová rychlost jedné dráhy</td></tr> 
<tr><td>PCI Express 1.1 &times;2 </td><td>2525 MHz</td><td>2 </td><td>1&times;</td><td> 500 MB.s<sup>-1</sup></td><td>ka¾dá dráha pøená¹í data nezávisle na dal¹ích drahách</td></tr> 
<tr><td>PCI Express 1.1 &times;16</td><td>2525 MHz</td><td>16</td><td>1&times;</td><td>4000 MB.s<sup>-1</sup></td><td>maximální poèet drah ve standardních PC</td></tr> 
<tr><td>PCI Express 1.1 &times;32</td><td>2525 MHz</td><td>32</td><td>1&times;</td><td>8000 MB.s<sup>-1</sup></td><td>maximální normou stanovený poèet drah</td></tr> 
<tr><td>PCI Express 2.0 &times;1 </td><td>5050 MHz</td><td>1 </td><td>1&times;</td><td> 500 MB.s<sup>-1</sup></td><td>pøenosová rychlost jedné dráhy</td></tr> 
<tr><td>PCI Express 2.0 &times;2 </td><td>5050 MHz</td><td>2 </td><td>1&times;</td><td>1000 MB.s<sup>-1</sup></td><td></td></tr> 
<tr><td>PCI Express 2.0 &times;16</td><td>5050 MHz</td><td>16</td><td>1&times;</td><td>8000 MB.s<sup>-1</sup></td><td></td></tr> 
<tr><td>PCI Express 2.0 &times;32</td><td>5050 MHz</td><td>32</td><td>1&times;</td><td>16000 MB.s<sup>-1</sup></td><td>více ne¾ 6500&times; rychlej¹í ne¾ první ISA!</td></tr> 
</table>



<p><a name="k08"></a></p>
<h1>8. Literatura a odkazy na Internetu</h1>

<ol>

<li>PCI Vendor and Device Lists,<br />
<a href="http://www.pcidatabase.com/index.php">http://www.pcidatabase.com/index.php</a></li>

<li>Seznam PCI VID/DID,<br />
<a href="http://www.pcidatabase.com/reports.php?type=csv">http://www.pcidatabase.com/reports.php?type=csv</a></li>

<li>PCI bus pinout,<br />
<a href="http://pinouts.ru/Slots/PCI_pinout.shtml">http://pinouts.ru/Slots/PCI_pinout.shtml</a></li>

<li>How to recognise a 3.3 Volt PCI slot,<br />
<a href="http://www94.web.cern.ch/hsi/s-link/devices/s32pci64/slottypes.html">http://www94.web.cern.ch/hsi/s-link/devices/s32pci64/slottypes.html</a></li>

<li>Computer Bus and BackPlane Design,<br />
<a href="http://www.interfacebus.com/Design_Interface_table.html">http://www.interfacebus.com/Design_Interface_table.html</a></li>

<li>Applied Micro Circuits Corporation:<br />
S5935 PCI product Data Book,<br />
Applied Micro Circuits Corporation, San Diego, 1999</li>

<li>Bhatt Ajay V.:<br />
Creating a PCI Express Interconnect,<br />
Technology and Research Labs, Intel Corporation, 2003</li>

<li>Intel Corporation, Neshati Ramin:<br />
PCI Express Base Specification 1.0a,<br />
Intel Corporation, 2003</li>

<li>Intel Corporation:<br />
PCI Express documentation<br />,
<a href="http://download.intel.com/technology/pciexpress/devnet/docs/pipe2_00.pdf">http://download.intel.com/technology/pciexpress/devnet/docs/pipe2_00.pdf</a>
</li>

<li>PCI Express 3.0 Bandwidth: 8.0 Gigatransfers/s,<br />
<a href="http://www.extremetech.com/article2/0,1697,2169018,00.asp">http://www.extremetech.com/article2/0,1697,2169018,00.asp</a></li>

<li>Wikipedia CZ: Sbìrnice:<br />
<a href="http://cs.wikipedia.org/wiki/Sb%C4%9Brnice">http://cs.wikipedia.org/wiki/Sb%C4%9Brnice</a></li>

<li>Wikipedia CZ: VESA Local Bus,<br />
<a href="http://cs.wikipedia.org/wiki/VESA_Local_Bus">http://cs.wikipedia.org/wiki/VESA_Local_Bus</a></li>

<li>Wikipedia EN: VESA Local Bus,<br />
<a href="http://en.wikipedia.org/wiki/VESA_Local_Bus">http://en.wikipedia.org/wiki/VESA_Local_Bus</a></li>

<li>Wikipedia EN: Industry Standard Architecture:<br />
<a href="http://en.wikipedia.org/wiki/Industry_Standard_Architecture">http://en.wikipedia.org/wiki/Industry_Standard_Architecture</a></li>

<li>Wikipedia EN: Peripheral Component Interconnect,<br />
<a href="http://en.wikipedia.org/wiki/Peripheral_Component_Interconnect">http://en.wikipedia.org/wiki/Peripheral_Component_Interconnect</a></li>

<li>Wikipedia EN: PCI Express,<br />
<a href="http://en.wikipedia.org/wiki/PCI_Express">http://en.wikipedia.org/wiki/PCI_Express</a></li>

<li>Wikipedia EN: PCI-X,<br />
<a href="http://en.wikipedia.org/wiki/Pci-x">http://en.wikipedia.org/wiki/Pci-x</a></li>

<li>Advanced Switching for PCI Express Architecture Intel.<br />
<a href="http://www.intel.com/technology/pciexpress/devnet/AdvancedSwitching.pdf">http://www.intel.com/technology/pciexpress/devnet/AdvancedSwitching.pdf</a></li>

<li>Bhatt, Ajay V. "What Is PCI Express?" Desktop Architecture Labs, Intel.<br />
<a href="http://www.intel.com/technology/pciexpress/devnet/docs/WhatisPCIExpress.pdf">http://www.intel.com/technology/pciexpress/devnet/docs/WhatisPCIExpress.pdf</a></li>

<li>Campbell, John. "PCI Express Explained." CoolTechZone, August 19, 2004.<br />
<a href="http://www.cooltechzone.com/index.php?option=content&amp;task=view&amp;id=506&amp;Itemid=0">http://www.cooltechzone.com/index.php?option=content&amp;task=view&amp;id=506&amp;Itemid=0</a></li>

<li>Fisher, Ken. "PCI Express launched in time for the future." Ars Technica, June 24, 2004.<br />
<a href="http://arstechnica.com/news.ars/post/20040621-3911.html">http://arstechnica.com/news.ars/post/20040621-3911.html</a></li>

<li>Fisher, Ken. "Alienware Announces Dual PCI-Express Graphics Subsystem." Ars Technica, May 12, 2004.<br />
<a href="http://arstechnica.com/news/posts/1084398037.html">http://arstechnica.com/news/posts/1084398037.html</a></li>

<li>"Introduction to PCI Express." PC Stats.<br />
<a href="http://www.pcstats.com/articleview.cfm?articleid=1087&amp;page=2">http://www.pcstats.com/articleview.cfm?articleid=1087&amp;page=2</a></li>

<li>PCI Express FAQ. PCI-SIG.<br />
<a href="http://www.pcisig.com/news_room/faqs/faq_express/pciexpress_faq.pdf">http://www.pcisig.com/news_room/faqs/faq_express/pciexpress_faq.pdf</a></li>

<li>"PCI Express Overview." Intel, October, 2003. http://www.intel.com/technology/pciexpress/devnet/docs/<br />
<a href="PCI-Express-Overview-Oct2003.pdf">PCI-Express-Overview-Oct2003.pdf</a></li>

<li>Tong, Terren. "A Look at PCI Express." Neoseeker, April 21, 2004.<br />
<a href="http://www.neoseeker.com/Articles/Hardware/Features/pciexpresstech/">http://www.neoseeker.com/Articles/Hardware/Features/pciexpresstech/</a></li>

<li>Wasson, Scott. "NVIDIA's SLI Resurrects GPU Teaming." The Tech Report, June 28, 2004.<br />
<a href="http://techreport.com/etc/2004q2/nvidia-sli/index.x?pg=1">http://techreport.com/etc/2004q2/nvidia-sli/index.x?pg=1</a></li>

</ol>



<p><a name="k09"></a></p>
<h1>9. Obsah následující èásti seriálu</h1>

<p>V&nbsp;dal¹í èásti seriálu o architekturách poèítaèù ji¾ opustíme téma
interních sbìrnic, proto¾e se zaèneme zabývat problematikou pøipojení vnìj¹ích
zaøízení k&nbsp;poèítaèùm. Postupnì si popí¹eme jak nìkteré historické zpùsoby
pøipojení, napøíklad sériový a paralelní port (zejména sériový port má dodnes
své oblasti pou¾ití), tak i <i>USB</i> a prùmyslové externí sbìrnice typu
<i>I<sup>2</sup>C</i> apod.</p>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2008</small></p>
</body>
</html>

