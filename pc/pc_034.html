<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Accelerated graphics port (AGP) a sbìrnice PCI-X</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Accelerated graphics port (AGP) a sbìrnice PCI-X</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù bude popsán interní port oznaèovaný zkratkou AGP, vèetnì jeho zvlá¹tních re¾imù a funkcí, je¾ pøispívají k dosa¾ení co nejlep¹ího vyu¾ití pøenosového pásma. Také si øekneme, jaké typy sbìrnic se vyvinuly z pùvodní universální sbìrnice PCI.</p>



<h1>Obsah</h1>
<p>
<a href="#k01">1. Interní port AGP</a><br />
<a href="#k02">2. Verze AGP a jejich vzájemná kompatibilita</a><br />
<a href="#k03">3. Kompatibilita mezi rùznými verzemi AGP</a><br />
<a href="#k04">4. Zvlá¹tní re¾imy AGP</a><br />
<a href="#k05">5. PCI vs AGP</a><br />
<a href="#k06">6. Následovníci sbìrnice PCI a portu AGP</a><br />
<a href="#k07">7. Sbìrnice PCI-X</a><br />
<a href="#k08">8. Literatura a odkazy na Internetu</a><br />
<a href="#k09">9. Obsah dal¹ího pokraèování seriálu</a><br />
</p>



<p><a name="k01"></a></p>
<h1>1. Interní port AGP</h1>

<p>Interní port <i>AGP</i> zaujímá v&nbsp;pomyslné hierarchii sbìrnic zvlá¹tní
místo. Nejedná se toti¾ v&nbsp;pravém slova smyslu o sbìrnici, nebo»
k&nbsp;<i>AGP</i> lze pøipojit pouze jedno zaøízení. Typická souèást prakticky
ka¾dé sbìrnice, tj.&nbsp;arbitrá¾ní obvod (a z&nbsp;toho vyplývající pøedem
známý a v¹emi zaøízeními dodr¾ovaný komunikaèní protokol), zde není
z&nbsp;tohoto dùvodu obsa¾en, jedná se o spojení typu <i>point-to-point</i>,
které je spí¹e typické pro porty urèené k&nbsp;pøipojení externích zaøízení.
Oznaèení <i>AGP</i> vzniklo zkrácením plného názvu <i>Accelerated Graphics
Port</i>, a jak ji¾ tento název napovídá, jedná se o port urèený prakticky
výhradnì k&nbsp;pøipojení grafických adaptérù, zejména pak grafických
akcelerátorù. Hlavním dùvodem vedoucím k&nbsp;zavedení <i>AGP</i> byly
stoupající po¾adavky na rychlost pøenosu grafických dat, pøedev¹ím videa a
textur pro trojrozmìrné scény (po¾adavky na rychlost pøenosu rostou
v&nbsp;pøípadì, kdy se textury musí naèítat dynamicky, tj.&nbsp;bìhem
vykreslování trojrozmìrné scény). Na druhou stranu se po¾adovalo zachování
kompatibility s&nbsp;grafickou kartou VGA, a to a¾ na úroveò jednotlivých
øídicích registrù, co¾ není právì jednoduchá zále¾itost.</p>

<image id="" />
<p-center><i>Obrázek 1: Z&nbsp;tohoto (nám ji¾ dobøe známého) schématu je
patrné, ¾e se komunikace s&nbsp;grafickým akcelerátorem pøipojeným na AGP
odehrává pøes takzvaný north bridge, co¾ je èip s&nbsp;velkou mírou integrace
(a také pomìrnì vysokou &bdquo;inteligencí&ldquo;) umístìný na základní desce
v&nbsp;blízkosti mikroprocesoru. Mikroprocesor bývá na desce umístìný
v&nbsp;horní èásti, tj.&nbsp;na &bdquo;severu&ldquo; (north). Druhý èip &ndash;
south bridge &ndash; zaji¹»uje styk poèítaèe s&nbsp;vnìj¹ím svìtem, emuluje
dnes ji¾ pøekonanou øadu obvodù 82xx (8251, 8255, 8257 a 8259) a také
v&nbsp;nìkterých pøípadech emuluje sbìrnici ISA.</i></p-center>

<p>Z&nbsp;dùvodu zobrazení videa ve velkém rozli¹ení èi trojrozmìrných scén
v&nbsp;reálném èase byl pøi návrhu <i>AGP</i> kladen velký dùraz na dosa¾ení co
nejvy¹¹í rychlosti pøenosu dat s&nbsp;malou latencí (samotná prùmìrná rychlost,
i kdy¾ by byla vysoká, nemusí pro tyto úèely dostaèovat, kritické jsou zejména
výpadky v&nbsp;pøenosu). Reálná rychlost <i>AGP</i> samozøejmì reflektuje
postupný vývoj výpoèetní techniky a pøedstavuje urèitý kompromis mezi
dosa¾itelnou rychlostí a cenou celého grafického subsystému. Tak jak cena
technologií postupnì klesá, je mo¾né pøecházet na rychlej¹í (a pøedev¹ím
univerzálnìj¹í) øe¹ení, co¾ v&nbsp;tomto pøípadì znamená nìkterou
z&nbsp;variant sbìrnice <i>PCI-X</i> èi &ndash; co¾ je dnes z&nbsp;mnoha
dobrých dùvodù preferováno &ndash; na sbìrnici <i>PCI Express</i>.</p>

<p>Technologie <i>AGP</i> vznikla úpravou sbìrnice <i>PCI</i>, proto jsou
pou¾ity velmi podobné øídicí signály, stejnì jako demultiplexing dat a adres
(adresová a datová èást AGP i sbìrnice PCI tedy pro pøenosy vyu¾ívá stejné
vodièe, co¾ v&nbsp;tomto pøípadì není na ¹kodu, zejména kdy¾ vezmeme do úvahy
dále popsané blokové pøenosy, pøi jejich¾ pou¾ití se pøenos adres
minimalizuje). Do¹lo v¹ak také k&nbsp;nìkolika nutným modifikacím, z&nbsp;nich¾
patrnì nejvýraznìj¹í je odstranìní arbitrá¾ního obvodu. Z&nbsp;tohoto dùvodu je
mo¾né k&nbsp;<i>AGP</i> pøipojit pouze jedno zaøízení, co¾ pøispívá
k&nbsp;rychlej¹í práci a zjednodu¹ení øídicích obvodù na pøipojené grafické
kartì èi grafickém akcelerátoru. Mezi dal¹í zmìny patøí podpora vy¹¹í frekvence
hodinového signálu, která se zvý¹ila z&nbsp;33 MHz (standardní
&bdquo;pìtivoltová&ldquo; PCI) na 66 MHz. Na této základní frekvenci by mìly
pracovat v¹echny grafické karty èi grafické akcelerátory pøipojené do
<i>AGP</i>, tato frekvence je také mnohdy pou¾ita pro grafické èipy integrované
pøímo na základní desce.</p>

<image id="" />
<p-center><i>Obrázek 2: Grafický akcelerátor pøipojovaný pøes AGP</i></p-center>



<p><a name="k02"></a></p>
<h1>2. Verze AGP a jejich vzájemná kompatibilita</h1>

<p>Podobnì jako sbìrnice <i>PCI</i>, i <i>AGP</i> existuje v&nbsp;nìkolika
variantách, které se li¹í napìtím signálù i tvarem konektorù. Celkem existuje
dokonce pìt typù navzájem odli¹ných konektorù (a to do celkového poètu
nezahrnuji konektory portù odvozených od <i>AGP</i>, které v¹ak nebyly
standardizovány). Nejvìt¹í rozdíly panují samozøejmì v&nbsp;pøenosové
rychlosti, jedná se toti¾ o dùle¾itý údaj, který se navíc dobøe porovnává :-).
V&nbsp;jednom taktu synchronizaèních hodin <i>AGP</i> se mù¾e provést buï jeden
pøístup do pamìti (tento parametr je opìt shodný s&nbsp;<i>PCI</i> sbìrnicí),
dva pøístupy (pou¾ívá se stejný princip jako u DDR pamìtí), ètyøi pøístupy (dva
hodinové signály otoèené o 90&deg;, QDR pamìti) nebo dokonce osm pøístupù.
Termínem &bdquo;pøístup do pamìti&ldquo; je zde my¹len pøedev¹ím zápis do
<i>framebufferu</i> èi texturovací pamìti grafického akcelerátoru, opaèný smìr
pøenosu se pou¾ívá pouze minimálnì; pøíkladem mohou být výpoèty provádìné
pomocí GPU, jejich¾ výsledek se vrací zpìt do operaèní pamìti
mikroprocesoru.</p>

<p>Pøenosové rychlosti pro základní takt 66 MHz odpovídají 266
MB.s<sup>-1</sup> (jeden pøístup do pamìti), 533 MB.s<sup>-1</sup> (dva
pøístupy do pamìti), 1066 MB.s<sup>-1</sup> (ètyøi pøístupy do pamìti) a
koneènì celých 2133 MB.s<sup>-1</sup> pøi osmi pøístupech do pamìti
v&nbsp;jednom taktu hodinového signálu. V&nbsp;re¾imu jednoho pøístupu do
pamìti se v&nbsp;jednom taktu v¾dy pøenesou ètyøi byty (32 bitù, co¾ je
souèasnì i ¹íøka datové èásti), pøi dvou pøístupech osm bytù, pøi ètyøech
pøístupech ¹estnáct bytù na jeden takt a pøi osmi pøístupech dokonce 32
bytù.</p>

<image id="" />
<p-center><i>Obrázek 3: Velikosti a tvary konektorù AGP spolu s&nbsp;umístìním klíèù</i></p-center>

<p>Oproti <i>PCI</i> sbìrnici se také zmìnily amplitudy v¹ech digitálních
signálù; existuje star¹í verze <i>AGP</i> s&nbsp;amplitudou signálù 3,3 V,
modernìj¹í verze s&nbsp;amplitudou 1,5 V (amplitudou je zde my¹lena napì»ová
úroveò logické hodnoty 1) a u nejnovìj¹í (finální, dále ji¾ patrnì nerozvíjené)
verze se úroveò signálù sní¾ila a¾ na 0,8 V. U star¹í verze <i>AGP</i> lze
vyu¾ívat pouze jeden nebo dva pøístupy do pamìti v&nbsp;jednom taktu,
modernìj¹í verze ji¾ podporuje v¹echny vý¹e popsané mo¾nosti.</p>

<p>Jednotlivé varianty <i>AGP</i> jsou vypsány v&nbsp;následující tabulce spolu
se základní charakteristikou:</p>

<table>
<tr><th>Verze</th><th>Podporované rychlosti</th><th>Úroveò signálù</th></tr>
<tr><td>AGP 1.0</td><td>1&times; 2&times;</td><td>3,3 V</td></tr>
<tr><td>AGP 2.0</td><td>1&times; 2&times; 4&times;</td><td>3,3 V nebo 1,5 V</td></tr>
<tr><td>AGP Pro</td><td>1&times; 2&times; 4&times;</td><td>3,3 V nebo 1,5 V</td></tr>
<tr><td>AGP 3.0</td><td>1&times; 2&times; 4&times; 8&times;</td><td>1,5 V ov¹em pro rychlost 8&times; 0,8 V</td></tr>
</table>

<p>Jednotlivé pøenosové rychlosti, je¾ se oznaèují <i>AGP ?&times;</i>, jsou
vypsány ní¾e:</p>

<table>
<tr><th>Oznaèení</th><th>Hodinová frekvence</th><th>Re¾im pøenosu</th><th>Úroveò signálù</th><th>Výsledná rychlost</th></tr>
<tr><td>AGP 1&times;</td><td>66 MHz</td><td>32 bitù za takt</td><td>3,3 V</td><td>266 MB.s<sup>-1</sup></td></tr>
<tr><td>AGP 2&times;</td><td>66 MHz</td><td>2&times; 32 bitù za takt</td><td>3,3 V</td><td>533 MB.s<sup>-1</sup></td></tr>
<tr><td>AGP 4&times;</td><td>66 MHz</td><td>4&times; 32 bitù za takt</td><td>1,5 V</td><td>1066 MB.s<sup>-1</sup></td></tr>
<tr><td>AGP 8&times;</td><td>66 MHz</td><td>8&times; 32 bitù za takt</td><td>0,8 V</td><td>2133 MB.s<sup>-1</sup></td></tr>
</table>



<p><a name="k03"></a></p>
<h1>3. Kompatibilita mezi rùznými verzemi AGP</h1>

<p>Zaji¹tìní vzájemné kompatibility mezi rùznými verzemi <i>AGP</i> portù,
konektorù a karet nemusí být v¾dy jednoduché. V&nbsp;poslední tabulce jsou
vypsány funkèní i nefunkèní kombinace konektorù a karet. V&nbsp;jednotlivých
øádcích jsou uvedeny typy karet, ve sloupcích pak typy konektorù. Pokud je
v&nbsp;nìkteré buòce tabulky napsáno &bdquo;nelze zapojit&ldquo;, znamená to
nemo¾nost zasunout kartu do daného konektoru kvùli jinak umístìným klíèùm:</p>

<table>
<tr><th>Konektor/karta   </th><th>3.3 Connector</th><th>1.5 Connector</th><th>Universal Connector</th><th>Universal AGP3.0 Connector</th><th>AGP3.3 Connector</th></tr>
<tr><th>AGP 3.3          </th><td>funkèní      </td><td>nelze zapojit</td><td>funkèní            </td><td>nelze zapojit             </td><td>nelze zapojit   </td></tr>
<tr><th>AGP 1.5          </th><td>nelze zapojit</td><td>funkèní      </td><td>funkèní            </td><td>funkèní                   </td><td>nefunkèní       </td></tr>
<tr><th>AGP Universal    </th><td>funkèní      </td><td>funkèní      </td><td>funkèní            </td><td>funkèní                   </td><td>nefunkèní       </td></tr>
<tr><th>Universal AGP 3.0</th><td>nelze zapojit</td><td>funkèní      </td><td>funkèní            </td><td>funkèní                   </td><td>funkèní         </td></tr>
<tr><th>AGP3.0           </th><td>nelze zapojit</td><td>nefunkèní    </td><td>nefunkèní          </td><td>funkèní                   </td><td>funkèní         </td></tr>
</table>

<image id="" />
<p-center><i>Obrázek 4: Rùzné typy konektorù AGP na grafických akcelerátorech</i></p-center>



<p><a name="k04"></a></p>
<h1>4. Zvlá¹tní re¾imy AGP</h1>

<p>Vzhledem k&nbsp;tomu, ¾e <i>AGP</i> je urèen výhradnì pro pøipojení
grafických karet a grafických akcelerátorù, podporuje protokol <i>AGP</i>
nìkteré zvlá¹tní re¾imy pøenosu dat, které nemají u jiných sbìrnic èi portù
obdobu. Tyto re¾imy jsou urèeny pro efektivní pøenos popø. sdílení grafických
dat, zejména textur a/nebo pøenos videa (pro pøedstavu &ndash; video o
rozli¹ení 1024&times;768 pixelù promítané s&nbsp;25 snímky za sekundu
pøedstavuje datový tok pøibli¾nì 56 megabytù za sekundu).</p>

<p>Prvním podporovaným &bdquo;zvlá¹tním&ldquo; re¾imem je pøenos textur,
pøièem¾ pøená¹ená rastrová data textury mají oznaèení (pøíznak) &bdquo;pouze
pro ètení&ldquo;. Tím se zaruèí, ¾e textury nejsou ukládány do vyrovnávací
pamìti, co¾ je vzhledem k&nbsp;povaze textur zbyteèné &ndash; textury jsou
toti¾ vìt¹inou pøedpoèítány, pøièem¾ se nepoèítá s&nbsp;jejich dynamickou
modifikací. Výjimkou jsou samozøejmì run-time výpoèty typu <i>bumpmappingu</i>
èi <i>mipmappingu</i>, výsledky tìchto výpoètù jsou v¹ak pou¾ity pouze pøi
výpoètu jednotlivých <i>fragmentù</i> a nikam jinam se neukládají. Díky
zavedení tohoto re¾imu dochází ke zvý¹ení vyu¾ití vyrovnávacích pamìtí
relevantními daty a¾ o desítky procent.</p>

<p>Pøi práci s&nbsp;texturami je také mo¾né (na úrovni operaèního systému èi
ovladaèe) provést rozhodnutí, zda bude pro textury pou¾ívána výhradnì pamì»
integrovaná na grafickém akcelerátoru, nebo se tato pamì» stane (z&nbsp;pohledu
aplikací) rovnocenná s&nbsp;operaèní pamìtí poèítaèe. Zde se vlastnì vývoj
vrátil zpìt do doby osmibitových poèítaèù, ve kterých byla grafická pamì»
(<i>framebuffer</i>) ulo¾ena v&nbsp;operaèní pamìti, mnohdy na volitelném místì
(bylo mo¾né zmìnit poèáteèní adresu video pamìti, modernì øeèeno
framebufferu):</p>

<ul>

<li><i>Re¾im DMA</i>: v&nbsp;tomto re¾imu jsou ve¹kerá rastrová data textur
ulo¾ena v&nbsp;pamìti grafického akcelerátoru. Pokud ji¾ není v&nbsp;pamìti
grafického akcelerátoru volný prostor pro ulo¾ení dal¹í textury, nebo je
textura ve vykreslované scénì pou¾ita poprvé, musí se data zkopírovat
z&nbsp;operaèní pamìti poèítaèe do pamìti integrované na grafickém
akcelerátoru. Toto kopírování probíhá po velkých blocích (øádovì desítky
kilobytù) pomocí <i>re¾imu DMA</i>. Ka¾dý pøenos tedy znamená velkou zátì¾ pro
celý systém, tato zátì¾ je v¹ak pouze krátkodobá a obèasná. <i>Re¾im DMA</i> se
stává výhodným pøedev¹ím v&nbsp;pøípadech, ¾e na grafickém akcelerátoru je
nainstalována pamì» s&nbsp;dostateènou kapacitou.</li>

<li><i>Re¾im Execute</i>: v&nbsp;tomto re¾imu je z&nbsp;hlediska texturování
pamì» integrovaná na grafickém akcelerátoru a operaèní pamì» rovnocenná. To
znamená, ¾e se pøi texturování nemusí na grafický akcelerátor pøená¹et celá
textura, ale je umo¾nìn pøenos pouze malé èásti, která je v&nbsp;dané chvíli
potøebná. V&nbsp;systému existuje tzv. <i>GART</i> (<i>Graphics Address
Remapping Table</i>), ve které jsou vedeny informace o ulo¾ení a funkci stránek
pamìti. Jedna stránka má konstantní velikost 4 KB. V&nbsp;pøípadì, ¾e jsou data
z&nbsp;nìjaké stránky vy¾adována pro vykreslování a stránka je ulo¾ena
v&nbsp;operaèní pamìti, je proveden pøenos tìchto 4 KB do pamìti grafického
akcelerátoru a následnì se provede úprava záznamu v&nbsp;<i>GART</i>. Vzhledem
k&nbsp;pomìrnì malé velikosti stránek tak nedochází k&nbsp;jednorázovému
zatí¾ení systému, proto¾e se zátì¾ v&nbsp;èase rozlo¾í. Tento re¾im je
populární u &bdquo;integrovaných&ldquo; grafických èipù, vèetnì grafických
karet pou¾itých v&nbsp;noteboocích.</li>

</ul>



<p><a name="k05"></a></p>
<h1>5. PCI vs AGP</h1>

<p>Z&nbsp;vý¹e uvedených informací mù¾eme správnì dojít k&nbsp;závìru, ¾e pro
výkonné grafické karty a grafické akcelerátory bylo pou¾ití <i>AGP</i> mnohem
výhodnìj¹í ne¾ vyu¾ití sbìrnice <i>PCI</i> (v&nbsp;bì¾ných stolních poèítaèích
se toti¾ pou¾ívala vìt¹inou pouze nejpomalej¹í verze <i>PCI</i>
s&nbsp;kapacitou 132 MB.s<sup>-1</sup>). Dùvodù je více, od rychlej¹í
komunikace mezi mikroprocesorem, operaèní pamìtí a grafickým akcelerátorem, a¾
po vyu¾ití &bdquo;zvlá¹tních&ldquo; re¾imù <i>DMA</i> a <i>Execute</i>. Dal¹í
výhodou je fakt, ¾e na <i>PCI</i> sbìrnici je mo¾né pøipojit dal¹í grafickou
kartu èi grafický akcelerátor a vytvoøit tak napøíklad vícemonitorový grafický
systém, a to i pøi pou¾ití bì¾ných grafických karet s&nbsp;výstupem na jeden
monitor (opìt se nejedná o ¾ádnou technologickou novinku, u¾ v&nbsp;dobách
poèítaèù PC AT bylo mo¾né zkombinovat napøíklad grafickou kartu CGA/EGA/VGA a
MDA èi Hercules, takový systém se dal vyu¾ít v&nbsp;nìkterých integrovaných
vývojových prostøedích pro jednodu¹¹í ladìní aplikací nebo napøíklad
v&nbsp;AutoCADu). S&nbsp;nástupem sbìrnice <i>PCI Express</i> v¹ak nastává
útlum v&nbsp;prodeji <i>AGP</i> karet a v&nbsp;nových základních deskách se
mnohdy ji¾ s&nbsp;<i>AGP</i> vùbec nesetkáme.</p>



<p><a name="k06"></a></p>
<h1>6. Následovníci sbìrnice PCI a portu AGP</h1>

<p>Tak jako v¹echny sbìrnice, které jsme si popsali v&nbsp;pøedchozích èástech
tohoto seriálu, i sbìrnice <i>PCI</i> postupnì zastarávala a nedokázala
zajistit dostateènì ¹iroké pøenosové pásmo vy¾adované nìkterými datovì
nároènìj¹ími zaøízeními, napøíklad øadièi SCSI diskù, gigabitovými sí»ovými
kartami atd. Pøenosové pásmo 133 MB.s<sup>-1</sup> (platné pro nejpomalej¹í
verzi <i>PCI</i>) je sice na první pohled dostateèné, musíme si v¹ak uvìdomit,
¾e se o toto pásmo dìlí v¹echna zaøízení pøipojená na <i>PCI</i>, co¾ je
pøedev¹ím u serverù vybavených napøíklad nìkolika sí»ovými kartami
problematické a úzké hrdlo.</p>

<image id="" original="no" />
<p-center><i>Obrázek 5: Postupný vývoj sbìrnic PCI, PCI-X a PCI Express</i></p-center>

<p>Jedním ze zpùsobù urychlení bylo &bdquo;vysunutí&ldquo; grafické karty na
zvlá¹tní rozhraní &ndash; vý¹e popsaný <i>AGP</i>, co¾ pomìrnì zásadním
zpùsobem sní¾ilo tok dat po <i>PCI</i> sbìrnici. Dále se zvy¹ovala jak hodinová
frekvence z&nbsp;33 MHz na 66 MHz (ponìkud nestandardnì pak a¾ na 133 MHz), tak
i ¹íøka datové èásti sbìrnice z&nbsp;32 bitù na 64 bitù. Pro nasazení
v&nbsp;serverech v¹ak i toto zvý¹ení pøenosového pásma v&nbsp;nìkterých
pøípadech nedostaèovalo (<i>AGP</i> zde naopak nebylo vyu¾ito), nehledì na to,
¾e do¹lo ke ztrátì kompatibility s&nbsp;&bdquo;pìtivoltovými&ldquo; <i>PCI</i>
kartami (viz pøedchozí èást tohoto seriálu). Na scénì se z&nbsp;tìchto dùvodù
objevila nejprve sbìrnice <i>PCI-X</i> a posléze <i>PCI Express</i>.</p>

<image id="" original="no" />
<p-center><i>Obrázek 6: Na této základní desce jsou témìø v¹echny zmiòované
sbìrnice a port AGP pìknì pohromadì; jedná se o typickou desku
&bdquo;pøechodového&ldquo; období &ndash; jak mezi PCI+AGP a PCI Express, tak i
mezi pùvodním paralelním rozhraní IDE a jeho následovníkem SATA.</i></p-center>



<p><a name="k07"></a></p>
<h1>7. Sbìrnice PCI-X</h1>

<p>Prvním vá¾nìj¹ím pokusem o vytvoøení náhrady za sbìrnici <i>PCI</i> je
sbìrnice oznaèovaná jako <i>PCI-X</i>, která vznikla pøímým a do znaèné míry i
kompatibilním roz¹íøením pùvodní sbìrnice <i>PCI</i>. Hodinová frekvence se
zvý¹ila na 66 MHz èi na 133 MHz, datová èást sbìrnice byla roz¹íøena na 64 bitù
(zde je oproti 64bitové <i>PCI</i> pouze velmi málo rozdílù). Pøenosové
rychlosti pøi tìchto frekvencích dosahují hodnot 533 MB.s<sup>-1</sup> resp.
1066 MB.s<sup>-1</sup>. V&nbsp;navazujícím standardu <i>PCI-X 2.0</i> se
hodinové frekvence opìt zvý¹ily, konkrétnì na hodnoty 266 MHz a 533 MHz, co¾
samozøejmì vedlo i ke zvý¹ení maximální teoretické pøenosové rychlosti na 2,15
GB.s<sup>-1</sup> a úctyhodných 4,3 GB.s<sup>-1</sup>. Vzhledem k&nbsp;tomu, ¾e
je tato sbìrnice urèena pro servery, objevují se zde nìkteré vlastnosti, které
zaji¹»ují provozuschopnost poèítaèe i v&nbsp;pøípadì závady na nìkteré kartì
&ndash; vadné karty se mohou za bìhu systému znovunastavit (provést reset) nebo
je mo¾né jejich logické odpojení od sbìrnice &ndash; u serverù napøíklad
výpadek jedné sí»ové karty nemusí nutnì znamenat jeho okam¾itý restart
s&nbsp;výmìnou karty.</p>

<p>Pøitom je zachována obousmìrná zpìtná kompatibilita s&nbsp;<i>PCI 2.x</i>
&ndash; karty <i>PCI-X</i> je mo¾né pou¾ít v&nbsp;bì¾ném <i>PCI</i> slotu,
ov¹em pouze na tìch základních deskách, které podporují napájení 3,3 V (viz
pøedchozí díl tohoto seriálu). Naopak lze 3,3 voltové PCI karty pou¾ít i ve
sbìrnici PCI-X, ov¹em v&nbsp;tomto pøípadì je pøenosová rychlost sní¾ena tak,
aby byla korektnì obslou¾ena nejpomalej¹í karta v&nbsp;systému. To
mj.&nbsp;mù¾e znamenat, ¾e &bdquo;u¹etøení&ldquo; v&nbsp;podobì napøíklad
star¹í sí»ové karty urèené pro sbìrnici PCI mù¾e zpomalit napøíklad pøístup na
SCSI disky atd. I pøes nìkteré vylep¹ené vlastnosti se v¹ak sbìrnice
<i>PCI-X</i> neroz¹íøila do té míry, ¾e by se stala ve svìtì PC dominantní;
tuto roli pøevzala a¾ <i>PCI Express</i> popsaná pøí¹tì.</p>

<image id="" original="no" />
<p-center><i>Obrázek 7: Gigabitová sí»ová karta urèená pro sbìrnici PCI-X</i></p-center>



<p><a name="k08"></a></p>
<h1>8. Literatura a odkazy na Internetu</h1>

<ol>

<li>Wikipedia EN: Peripheral Component Interconnect,<br />
<a href="http://en.wikipedia.org/wiki/Peripheral_Component_Interconnect">http://en.wikipedia.org/wiki/Peripheral_Component_Interconnect</a></li>

<li>PCI Vendor and Device Lists,<br />
<a href="http://www.pcidatabase.com/index.php">http://www.pcidatabase.com/index.php</a></li>

<li>Seznam PCI VID/DID,<br />
<a href="http://www.pcidatabase.com/reports.php?type=csv">http://www.pcidatabase.com/reports.php?type=csv</a></li>

<li>PCI bus pinout,<br />
<a href="http://pinouts.ru/Slots/PCI_pinout.shtml">http://pinouts.ru/Slots/PCI_pinout.shtml</a></li>

<li>How to recognise a 3.3 Volt PCI slot,<br />
<a href="http://www94.web.cern.ch/hsi/s-link/devices/s32pci64/slottypes.html">http://www94.web.cern.ch/hsi/s-link/devices/s32pci64/slottypes.html</a></li>

<li>Computer Bus and BackPlane Design,<br />
<a href="http://www.interfacebus.com/Design_Interface_table.html">http://www.interfacebus.com/Design_Interface_table.html</a></li>

<li>VESA Local Bus,<br />
<a href="http://en.wikipedia.org/wiki/VESA_Local_Bus">http://en.wikipedia.org/wiki/VESA_Local_Bus</a></li>

<li>VESA Local Bus,<br />
<a href="http://cs.wikipedia.org/wiki/VESA_Local_Bus">http://cs.wikipedia.org/wiki/VESA_Local_Bus</a></li>

<li>Applied Micro Circuits Corporation:<br />
S5935 PCI product Data Book,<br />
Applied Micro Circuits Corporation, San Diego, 1999</li>

<li>Bhatt Ajay V.:<br />
Creating a PCI Express Interconnect,<br />
Technology and Research Labs, Intel Corporation, 2003</li>

<li>Intel Coproration, Neshati Ramin:<br />
PCI Express Base Specification 1.0a,<br />
Intel Corporation, 2003</li>

<li>PCI-X,<br />
<a href="http://en.wikipedia.org/wiki/Pci-x">http://en.wikipedia.org/wiki/Pci-x</a></li>

<li>PCI Express,<br />
<a href="http://en.wikipedia.org/wiki/PCI_Express">http://en.wikipedia.org/wiki/PCI_Express</a></li>
http://download.intel.com/technology/pciexpress/devnet/docs/pipe2_00.pdf

<li>PCI Express 3.0 Bandwidth: 8.0 Gigatransfers/s,<br />
<a href="http://www.extremetech.com/article2/0,1697,2169018,00.asp">http://www.extremetech.com/article2/0,1697,2169018,00.asp</a></li>

</ol>



<p><a name="k09"></a></p>
<h1>9. Obsah dal¹ího pokraèování seriálu</h1>

<p>V&nbsp;následující èásti tohoto seriálu bude popsán souèasný favorit mezi
sbìrnicemi urèenými nejenom pro osobní poèítaèe. Jedná se o sbìrnici <i>PCI
Express</i> (i kdy¾ oznaèení sbìrnice je v&nbsp;tomto pøípadì ponìkud
nepøesné), která postupnì nahradila jak pùvodní sbìrnici <i>PCI</i>, tak i
interní <i>AGP</i>.</p>

<image id="" original="no" />
<p-center><i>Obrázek 8: Karta urèená do sbìrnice PCI Express 1&times;, kterou
je v¹ak mo¾né zapojit i do v¹ech ¹ir¹ích konektorù PCI Express &ndash;
2&times;, 4&times;, 8&times; i 16&times;</i></p-center>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2008</small></p>
</body>
</html>

