<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Èeskoslovenské osmibitové poèítaèe 2 &ndash; PMD 85</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Èeskoslovenské osmibitové poèítaèe 2 &ndash; PMD 85</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù si popí¹eme osmibitové poèítaèe PMD 85 i nìkteré jejich klony, pøedev¹ím poèítaèe Didaktik Alfa. Kromì popisu architektury poèítaèù PMD 85 se samozøejmì nezapomeneme zmínit ani o jejich grafickém subsystému.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Osmibitové poèítaèe PMD 85</a></p>
<p><a href="#k02">2. Vývoj øady PMD 85</a></p>
<p><a href="#k03">3. Osmibitové poèítaèe Didaktik Alfa</a></p>
<p><a href="#k04">4. Architektura poèítaèù PMD 85</a></p>
<p><a href="#k05">5. Grafický re¾im poèítaèù PMD 85</a></p>
<p><a href="#k06">6. Organizace obrazové pamìti</a></p>
<p><a href="#k07">7. Øekli o PMD 85...</a></p>
<p><a href="#k08">8. Podìkování a obsah následující èásti seriálu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Osmibitové poèítaèe PMD 85</h2>

<p>V&nbsp;pøedchozí èásti seriálu o architekturách poèítaèù jsme si popsali
z&nbsp;dne¹ního pohledu velmi netypický a v&nbsp;mnoha ohledech minimalisticky
pojatý poèítaè <i>Tesla PMI-80</i>, jeho¾ ústøedním prvkem byl mikroprocesor
Tesla MHB 8080A doplnìný jedním kilobajtem pamìti RAM a takté¾ jedním
kilobajtem pamìti ROM (obsahujícím ovladaèe klávesnice, devítimístného
sedmisegmentového displeje, magnetofonu i programových rutin pro zápis programù
v&nbsp;hexadecimálním kódu a jejich ladìní &ndash; krokování a spou¹tìní). Dnes
se zamìøíme na popis dal¹ích èeskoslovenských poèítaèù zalo¾ených takté¾ na
mikroprocesoru MHB 8080A. Jedná se o poèítaèe <i>PMD 85</i> (<i>Personal
Microcomputer with Display</i>) a nìkteré jejich více èi ménì kompatibilní
klony, pøedev¹ím <i>Didaktik Alfa</i> (dal¹í klon, poèítaè <i>MA«O</i>, bude
popsán pøí¹tì). Tyto poèítaèe se ji¾, na rozdíl od vý¹e zmínìného
<i>PMI-80</i>, podobaly vìt¹inì ostatních ¹kolních i domácích osmibitových
mikropoèítaèù, co¾ znamená, ¾e byly vybaveny alfanumerickou klávesnicí,
disponovaly grafickým výstupem, obsahovaly VF modulátor pro pøipojení poèítaèe
k&nbsp;televizoru a kromì monitoru (tj.&nbsp;základního programového vybavení)
obsahovaly i interpret programovacího jazyka Basic, který byl u PMDèek ulo¾en
v&nbsp;zásuvném modulu.</p>

<img src="http://i.iinfo.cz/images/620/pmd85-1.jpg" width="451" height="277" alt="pmd85" />
<p><i>Obrázek 1: Základem poèítaèù PMD-85 byl osmibitový mikroprocesor Tesla
MHB 8080A.</i></p>

<p>Mikropoèítaèe <i>PMD 85</i> byly urèeny pro výuku programování i pro pou¾ití
v&nbsp;prùmyslu, ale (co¾ bylo pro tehdej¹í východní blok typické) oficiálnì
nebylo mo¾né si tyto poèítaèe zakoupit v&nbsp;maloobchodní síti, co¾ znamenalo,
¾e si lidé, kteøí si <i>PMD-85</i> chtìli poøídit domù, museli poèítaè obstarat
pøes nìjakou &bdquo;vhodnou&ldquo; organizaci, napøíklad ¹kolu èi
zamìstnavatele (poøízení mikropoèítaèe bylo obecnì dosti dobrodru¾nou
zále¾itostí, zejména pro toho, kdo nemìl bony na nákup oficiálnì dová¾ených
poèítaèù z&nbsp;Tuzexu). Nicménì i pøes toto omezení bylo <i>PMDèko</i> velmi
roz¹íøené, napøíklad v&nbsp;rùzných krou¾cích výpoèetní techniky (domy pionýrù,
Svazarm) a vzniklo pro nì pomìrnì velké mno¾ství rùzných aplikací, napøíklad
her, textových editorù, rùzných programovacích jazykù, výukových programù atd.
Díky tomu, ¾e vznikly softwarové a dokonce i hardwarové emulátory tohoto
poèítaèe, je mo¾né si nìkteré programy vyzkou¹et i dnes, i kdy¾ autentický
zá¾itek lze získat pouze pøi práci na reálném PMDèku, pøedev¹ím
&bdquo;díky&ldquo; jeho unikátní klávesnici :-)</p>

<a href="http://i.iinfo.cz/images/620/pmd85-2.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-2-prev.jpg" width="370" height="250" alt="pmd85" /></a>
<p><i>Obrázek 2: Typický poèítaè z&nbsp;krou¾kù výpoèetní techniky: PMD
85-2.</i></p>



<p><a name="k02"></a></p>
<h2>2. Vývoj øady PMD 85</h2>

<p>První verzí poèítaèe <i>PMD 85</i> byl prototyp nazvaný <i>PMD 85 (PMD
85-D)</i>, kterého bylo podle dobových pramenù vyrobeno pouze nìkolik kusù. Od
dal¹ích variant poèítaèe PMD se tato prototypová verze odli¹ovala pøedev¹ím
v&nbsp;tom, ¾e modul programovacího jazyka Basic (tj.&nbsp;pamìti EPROM, který
obsahovaly jeho interpret) byl integrován pøímo do skøínì poèítaèe a nikoli
umístìn ve vyjímatelné cartridgi tak, jak tomu bylo o dal¹ích variant PMDèka.
Spolu s&nbsp;Basicem bylo dodáváno i jedno grafické demo (naprogramované pøímo
v&nbsp;Basicu), které si mù¾ete vyzkou¹et napøíklad v&nbsp;emulátoru PMDèka (je
nutné nejdøíve zvolit pøíslu¹nou ROM a posléze provést reset emulátoru).
Prototyp <i>PMD</i> se od ostatních PMDèek v&nbsp;nìkolika ohledech odli¹oval,
co¾ mj.&nbsp;znamenalo, ¾e nebyla dodr¾ena 100% zpìtná programová
kompatibilita. Rozdíly existovaly jak v&nbsp;samotném zapojení poèítaèe, tak i
ve zpùsobu ukládání programù a dat na magnetofon a nìkteré (i kdy¾
z&nbsp;pohledu programátorù pomìrnì drobné) odchylky bylo mo¾né najít i
v&nbsp;základním programovém vybavení. Autorem návrhu první verze tohoto
poèítaèe je <i>Ing.&nbsp;Roman Ki¹¹</i>.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-3.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-3-prev.jpg" width="302" height="270" alt="pmd85" /></a>
<p><i>Obrázek 3: Prototyp poèítaèù PMD.</i></p>

<p>Na vý¹e popsaný prototyp v&nbsp;roce 1985 navázal sériovì vyrábìný poèítaè
<i>PMD 85-1</i>, který byl vyrábìný v&nbsp;Tesle Pie¹»any. <i>PMD 85-1</i> ji¾
má v¹echny znaky &bdquo;klasického&ldquo; PMDèka, vèetnì konektoru umístìného
v&nbsp;horní zadní èásti skøínì poèítaèe, který umo¾òoval pøipojení externího
modulu &ndash; typicky se jednalo o modul obsahující nìkterou verzi interpretru
programovacího jazyka Basic, ale v&nbsp;prùbìhu ¾ivota tohoto poèítaèe bylo
vytvoøeno i mno¾ství dal¹ích modulù obsahujících jak rùzné programovací jazyky,
tak i specializované aplikace (<i>PMD</i> se toti¾ kromì ¹kol pou¾ívalo i
v&nbsp;laboratoøích a prùmyslu, proto vznikly napøíklad moduly osazené A/D
pøevodníky, které umo¾òovaly provádìt a zaznamenávat rùzná mìøení. Vìt¹inou se
jednalo o moduly specializované pro jeden podnik, co¾ znamená, ¾e mnohdy ¹lo o
unikátní kousky).</p>

<a href="http://i.iinfo.cz/images/620/pmd85-4.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-4-prev.jpg" width="361" height="270" alt="pmd85" /></a>
<p><i>Obrázek 4: Osmibitový mikropoèítaè PMD 85-1.</i></p>

<p>Výroba poèítaèù <i>PMD</i> byla v&nbsp;pozdìj¹í dobì pøesunuta z&nbsp;Tesly
Pie¹»any do podniku Tesla Bratislava, v&nbsp;nìm¾ se zaèaly vyrábìt upravené
verze PMDèka nazvané <i>PMD 82-2</i> a <i>PMD 82-2A</i>. V&nbsp;tìchto verzích
do¹lo k&nbsp;úpravì vnitøního zapojení, výmìnì klávesnice za jiný typ, i ke
zmìnám v&nbsp;základním programovém vybavení. Jednou ze zmìn patrných i
laickému u¾ivateli je to, ¾e se po zapnutí poèítaèe automaticky nahraje
interpretr jazyka Basic, samozøejmì pouze v&nbsp;tom pøípadì, ¾e je jeho modul
zasunutý do poèítaèe. U pøedchozích PMDèek se musel interpret Basicu spou¹tìt
ruènì z&nbsp;monitoru. I v&nbsp;samotném interpretru Basicu do¹lo
k&nbsp;nìkolika zmìnám, ty v¹ak nebyly tak velké, aby bylo nutné tisknout nový
manuál. Z&nbsp;tohoto dùvodu se k&nbsp;poèítaèi dodávala pùvodní u¾ivatelská
pøíruèka s&nbsp;dodatkem o rozsahu 22 stran, v&nbsp;nìm¾ byly zmínìny rozdíly
mezi <i>PMD 85-1</i> a <i>PMD 85-2</i>.</p>

<img src="http://i.iinfo.cz/images/620/pmd85-5.jpg" width="405" height="540" alt="pmd85" />
<p><i>Obrázek 5: Poèítaè PMD 85-2 s&nbsp;pøipojeným monitorem Merkur, který byl
typickou periferií pou¾ívanou v&nbsp;ÈSSR mnoha u¾ivateli.</i></p>

<p>Po <i>PMD 85-2</i> následovala verze <i>PMD 85-2A</i> v&nbsp;ní¾ do¹lo
k&nbsp;na první pohled malé, ale pomìrnì významné zmìnì &ndash; byla pou¾ita
odli¹ná základní deska s&nbsp;jinými typy pamìtí, které mìly men¹í spotøebu ne¾
pùvodní pamì»ové moduly. To vedlo k&nbsp;men¹ímu vyzaøování tepla (velký to
problém nìkterých èeskoslovenských poèítaèù, pøedev¹ím IQ-151), co¾ velkou
mìrou pøispívalo ke zvý¹ení provozní spolehlivosti.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-6.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-6-prev.jpg" width="370" height="204" alt="pmd85" /></a>
<p><i>Obrázek 6: Pohled na zadní èást poèítaèe PMD 85-2 ve chvíli, kdy
k&nbsp;nìmu není pøipojen ¾ádný modul.</i></p>

<p>Poslední verzí poèítaèe <i>PMD</i> byl <i>PMD 85-3</i>, který se
v&nbsp;nìkolika ohledech od svých pøedchùdcù odli¹oval. Pøedev¹ím bylo mo¾né i
na bì¾né televizi pou¾ívat barevné zobrazení, modul jazyka Basic obsahoval
pamìti EPROM typu 2716 (2 kB) namísto 2708 (1 kB) a poèítaè pøi svém zapnutí
provádìl autotest (mo¾ná se jeho autoøi inspirovali prvními PCèky s&nbsp;jejich
POSTem, který nás pøi startu poèítaèù zdr¾uje dodnes :-). I pøes nìkteré
odli¹nosti v&nbsp;nové verzi interpretru jazyka Basic bylo mo¾né provést jeho
pøepnutí do re¾imu kompatibility s&nbsp;<i>PMD 82-2</i>. Zajímavé bylo, ¾e pøes
IRPS bylo mo¾né tento poèítaè pou¾ít jako (polo)inteligentní terminál
k&nbsp;poèítaèùm <i>SMEP</i> (&bdquo;Systém Malých Elektronických
Poèítaèù&ldquo;), s&nbsp;nimi¾ se ètenáøi mohli seznámit v&nbsp;paralelnì
bì¾ícím seriálu o historii výpoèetní techniky.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-7.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-7-prev.jpg" width="370" height="202" alt="pmd85" /></a>
<p><i>Obrázek 7: Dva moduly s&nbsp;pamì»mi EPROM, z&nbsp;nich¾ jeden obsahoval
interpret jazyka Basic-G a druhý editor a pøekladaè Pascalu.</i></p>



<p><a name="k03"></a></p>
<h2>3. Osmibitové poèítaèe Didaktik Alfa</h2>

<p>Osmibitové poèítaèe nesoucí jméno <i>Didaktik</i> byly vyrábìny
v&nbsp;závodu Didaktik Skalica sídlícím, jak název tohoto podniku ostatnì
napovídá, ve Skalici (jde o mìsteèko le¾ící poblí¾ hranic mezi dne¹ní ÈR a SR).
V&nbsp;tomto závodì se od poloviny osmdesátých let minulého století i na
zaèátku let devadesátých vyrábìlo nìkolik typù osmibitových poèítaèù nesoucích
název <i>Didaktik</i>. V&nbsp;dne¹ní èásti seriálu se zamìøíme pøedev¹ím na
poèítaèe <i>Didaktik Alfa</i>, <i>Didaktik Alfa 2</i> a <i>Didaktik Beta</i>,
proto¾e se jednalo o poèítaèe zalo¾ené z&nbsp;velké èásti na architektuøe
<i>PMD 85</i>, které byly s&nbsp;tìmito poèítaèi do urèité míry kompatibilní.
Dal¹í poèítaèe øady <i>Didaktik</i>, konkrétnì se jedná o modely <i>Didaktik
Gama</i>, <i>Didaktik M</i> a <i>Didaktik Kompakt</i>, budou popsány
v&nbsp;nìkterém z&nbsp;dal¹ích dílù tohoto seriálu, proto¾e se architektonicky
jedná o zcela odli¹né stroje inspirované pro zmìnu slavným zahranièním
osmibitovým domácím mikropoèítaèem <i>ZX Spectrum</i>.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-8.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-8-prev.jpg" width="370" height="254" alt="pmd85" /></a>
<p><i>Obrázek 8: Mikropoèítaè Didaktik Alfa v&nbsp;èervené variantì.</i></p>

<p>Vra»me se v¹ak nyní k&nbsp;<i>Didaktiku Alfa</i>. Jedná se o poèítaè
z&nbsp;roku 1986, jen¾ byl zalo¾ený na <i>PMD 85.1</i>, ov¹em v&nbsp;designu
tohoto poèítaèe nastalo nìkolik zmìn. Ji¾ na první pohled je patrné (obrázek 8
a 9), ¾e se zmìnila klávesnice, ov¹em mírnì odli¹né bylo i jeho interní
zapojení a struktura pamìti. Napøíklad interpret programovacího jazyka Basic
byl umístìn pøímo v&nbsp;pamìti ROM, která mìla kapacitu 48 kB (jednalo se o
pùvodnì nevyu¾itou oblast adres zaèínající na adrese $9000) a nikoli
v&nbsp;samostatném zásuvném modulu. Tato zmìna ov¹em byla pøi bì¾ném pou¾ití
poèítaèe minimální, proto¾e se kód Basicu pøi inicializaci kopíroval do pamìti
RAM na adresu $0000. Tento poèítaè byl dodáván ve vìt¹ím &bdquo;setu&ldquo;
spoleènì s&nbsp;èernobílým televizorem Junos» sovìtské výroby (podobal se
známému èeskému Merkuru) a takté¾ plotterem. V¹echny tøi èásti celého
&bdquo;setu&ldquo; byly barevnì sladìny &ndash; pùvodnì se jednalo o barvu
bílou, pozdìji i èervenou (pravdìpodobnì nejtypiètìj¹í konfigurace), modrou i
èernou.</p>

<img src="http://i.iinfo.cz/images/618/pmd851-1.jpg" width="320" height="240" alt="pmd851" />
<p><i>Obrázek 9: Detail klávesnice poèítaèe Didaktik Alfa 2. Takové pìkné
symboly PCèkové klávesnice nemají...</i></p>

<p>Dal¹ím poèítaèem vyrábìným ve Skalici byl poèítaè nazvaný <i>Didaktik Alfa
2</i>. Jednalo se o klon <i>PMD 85.2</i> (nikoli <i>PMD 85.1</i> jako
v&nbsp;pøípadì pùvodního <i>Didaktiku Alfa</i>), ov¹em i zde do¹lo
k&nbsp;nìkolika úpravám designu i zapojení. Napøíklad tabulka znakù byla
doplnìna o tuzemská nabodeníèka, pøièem¾ klávesa STOP fungovala jako pøepínaè
pro psaní èeských znakù (znaky pou¾ívaly kódování odpovídající normì KOI-8).
V&nbsp;tomto poèítaèi byla takté¾ pou¾ita nová verze monitoru (základního
programového vybavení) i interpretru jazyka Basic, pøi inicializaci poèítaèe se
testovala pamì» RAM i ROM atd. Tøetím typem poèítaèe ze Skalice, o kterém se
dnes zmíníme, je poèítaè <i>Didaktik Beta</i>. Jedná se o vylep¹enou verzi
<i>Didaktiku Alfa 2</i>, který navíc obsahoval podporu sítì. Ostatní (základní)
parametry tohoto poèítaèe, tj.&nbsp;pou¾itý procesor a podpùrné obvody,
kapacita pamìti RAM èi grafický systém, jsou toto¾né s&nbsp;<i>PMD
85.2</i>.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-9.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-9-prev.jpg" width="370" height="78" alt="pmd85" /></a>
<p><i>Obrázek 10: Detail zadní èásti Didaktiku Alfa s&nbsp;konektory.</i></p>



<p><a name="k04"></a></p>
<h2>4. Architektura poèítaèù PMD 85</h2>

<a href="http://i.iinfo.cz/images/620/pmd85-10.png"><img src="http://i.iinfo.cz/images/620/pmd85-10-prev.png" width="370" height="261" alt="pmd85" /></a>
<p><i>Obrázek 11: Blokové schéma poèítaèe PMD 85.</i></p>

<p>Poèítaèe <i>PMD 85</i> byly postaveny na bázi mikroprocesoru Tesla MHB
8080A, jeho¾ hodinový takt byl nastaven na 2048 kHz. Tato frekvence byla
získána vydìlením frekvence krystalu (18,422 MHz) devíti. Krystal je kromì
zdroje frekvence pro tvorbu hodinového signálu pou¾it i pøi generování obrazu a
k&nbsp;nìmu pøíslu¹ejících synchronizaèních signálù. Mikroprocesor byl doplnìn
dvìma nezbytnými pomocnými obvody 8224 a 8228 a takté¾ dal¹ími obvody
z&nbsp;øady 8080 &ndash; jednalo se o trojici obvodù 8255 (z&nbsp;nich¾ ka¾dý
obsahoval tøi paralelní brány), budièe sbìrnice, èasovaè 8253 a USART 8251
(asynchronní a synchronní sériový pøenos dat, pou¾it pro zápis dat na
magnetofon). Dále byl poèítaè <i>PMD 85</i> vybaven ètyømi kilobajty pamìti ROM
s&nbsp;monitorem a 48 kB operaèní pamìti. Nìkteré vy¹¹í varianty PMDèka
obsahovaly pamìti s&nbsp;vìt¹í kapacitou &ndash; <i>PMD 85-2A</i> i <i>PMD
85-3</i> mìly nainstalovanou operaèní pamì» o velikosti celých 64 kB
(tj.&nbsp;ve¹kerý adresovatelný prostor procesoru) a <i>PMD 85-3</i> se navíc
je¹tì py¹nil pamìtí ROM o kapacitì 8 kB.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-11.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-11-prev.jpg" width="370" height="246" alt="pmd85" /></a>
<p><i>Obrázek 12: Poèítaè PMD 85-2 po odklopení klávesnice.</i></p>

<p>Na dvanáctém obrázku je zobrazen poèítaè <i>PMD 85-2</i> po odstranìní
klávesnice. Z&nbsp;fotky je patrné, ¾e se v&nbsp;poèítaèi nachází dva plo¹né
spoje. Na spodním (vìt¹ím) plo¹ném spoji mù¾eme v&nbsp;pravém dolním rohu vidìt
mikroprocesor s&nbsp;krystalem i podpùrnými obvody, dále se zde nachází èipy
s&nbsp;pamì»mi, rùzné pomocné èipy s&nbsp;men¹í integrací (vìt¹inou jde o
obvody z&nbsp;klasické øady TTL 7400), které mj.&nbsp;slou¾í pro tvorbu video
signálu (tyto èipy mù¾eme chápat jako náhradu zákaznických obvodù, napøíklad
obdoby ULA ze ZX Spectra èi Didaktiku Gama) a takté¾ jeden obvod 8255, na jeho¾
jednu bránu je pøipojena klávesnice. Horní plo¹ný spoj obsahuje
&bdquo;komunikaèní&ldquo; èásti poèítaèe, mj.&nbsp;USART (8251) a dva obvody
8255 (zde v&nbsp;sovìtské variantì pod oznaèením KP580BB55A). Fotku plo¹ného
spoje je mo¾né také porovnat se schématem <i>PMD 85</i> uvedeným na tøináctém
obrázku (pozor na to, ¾e schéma je oproti fotce otoèené &ndash; procesor je na
schématu zobrazen v&nbsp;levém horním rohu, na fotce v&nbsp;rohu pravém
dolním).</p>

<a href="http://i.iinfo.cz/images/620/pmd85-12-orig.png"><img src="http://i.iinfo.cz/images/620/pmd85-12-prev.png" width="192" height="270" alt="pmd85" /></a>
<p><i>Obrázek 13: Schéma zapojení mikropoèítaèe PMD 85.</i></p>



<p><a name="k05"></a></p>
<h2>5. Grafický re¾im poèítaèù PMD 85</h2>

<p>V&nbsp;této kapitole si øekneme, jakým zpùsobem poèítaèe <i>PMD 85</i> i
jejich klony vykreslovaly obraz na televizoru i monitoru. Tyto poèítaèe
dokázaly zobrazit rastrový obraz o rozli¹ení 288&times;256 pixelù (pøesnìji øeèeno
se z&nbsp;312,5 mikroøádkù zobrazovalo pouze 256, ostatní byly zatemnìné). Pøi práci
s&nbsp;textem (tj.&nbsp;pøi ovládání poèítaèe z&nbsp;monitoru, programování
v&nbsp;Basicu èi zápisu textu v&nbsp;editoru Pascalu èi assembleru) toto
rozli¹ení odpovídá textovému re¾imu s&nbsp;32 øádky a 48 znaky na jednom øádku,
pøièem¾ ka¾dý znak byl definován v&nbsp;rastru 6&times;8 pixelù (nikoli tedy
bì¾ných 8&times;8 pixelù, co¾ v¹ak mìlo svùj dùvod pøi nastavování barvových
atributù). Pøi výstupu video signálu na televizor se rozli¹ovaly pouze tøi
stupnì ¹edi (èerná, ¹edá, bílá), proto¾e ètvrtá &bdquo;barva&ldquo; byla
nahrazena blikáním pixelù (pova¾ujme pro jednoduchost blikání za ètvrtou a
pátou barvu, podle toho, zda bliká ¹edý èi bílý pixel). Naproti tomu pøi
výstupu video signálu na monitor bylo mo¾né pou¾ít barevné zobrazení
v&nbsp;celkem pìti barvách (èerná, bílá, zelená, modrozelená a ¾lutá). Takté¾
byl k&nbsp;dispozici zásuvný modul umo¾òující výbìr barev pøi zobrazení na
monitoru (TV výstup zùstal u PMD 85-1 i PMD 85-2 pouze èernobílý kvùli
jednodu¹¹ímu VF modulátoru, co¾ v¹ak velké èásti u¾ivatelù nevadilo, nebo»
stejnì pou¾ívali èernobílý televizor Merkur nebo Junos»).</p>

<a href="http://i.iinfo.cz/images/620/pmd85-13.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-13-prev.jpg" width="360" height="270" alt="pmd85" /></a>
<p><i>Obrázek 14: Ukázka grafických schopností poèítaèe PMD 85. Jedná se o
pùvodní demo dodávané spolu s&nbsp;Basicem, které v¹ak bylo upravené autorem
tohoto snímku i poèítaèe (v&nbsp;roce 1985 skuteènì ¾ádné URL neexistovaly
:-).</i></p>

<p>Pøi vyu¾ití pìti rùzných barev pro zobrazení grafiky na televizoru mù¾e být
teoreticky ka¾dý pixel obarven jednou z&nbsp;tìchto pìti barev (konkrétnì
èernou, ¹edou, bílou, blikající ¹edou a blikající bílou), které by bylo mo¾né
zakódovat do tøí bitù, pøièem¾ zbývající tøi stavy by zùstaly nevyu¾ity &ndash;
jedná se o blikající èernou a dva stavy teoreticky odpovídající dal¹ímu stupni
¹edi. To by ov¹em znamenalo, ¾e kapacita obrazové pamìti by musela být rovna
288&times;256&times;3/8=27 kB. To je ov¹em z&nbsp;pohledu osmibitových poèítaèù
obrovské èíslo, v¾dy» zahrnuje 42% ve¹kerého adresovatelného prostoru
mikroprocesoru 8080, nehledì na to, ¾e jen samotné programové vykreslení
obrázku by bylo velmi nároèné na výpoèetní výkon.</p>

<p><strong>První malý úkol pro znalce 8080:</strong> jak dlouho bude trvat
vymazání 27 kB pamìti pøi pou¾ití toho nejefektivnìj¹ího algoritmu a frekvence
hodin 2048 kHz? A jak dlouho bude trvat pøenos bloku 27 kB pamìti, takté¾ pøi
pou¾ití toho nejefektivnìj¹ího algoritmu, který znáte?</p>

<a href="http://i.iinfo.cz/images/620/pmd85-14.jpg"><img src="http://i.iinfo.cz/images/620/pmd85-14-prev.jpg" width="361" height="270" alt="pmd85" /></a>
<p><i>Obrázek 15: Prototyp PMD 85 po odstranìní vrchního krytu. V&nbsp;zadní
èásti mù¾eme vidìt EPROM s&nbsp;monitorem a interpretrem jazyka Basic.</i></p>



<p><a name="k06"></a></p>
<h2>6. Organizace obrazové pamìti</h2>

<p>Z&nbsp;vý¹e uvedených dùvodù se návrháøi PMDèka uchýlili k&nbsp;triku, který
se v&nbsp;dobách osmibitù pou¾íval velmi èasto: namísto vyhrazení trojice bitù
pro ka¾dý pixel byl pro ka¾dý pixel rezervován pouze jediný bit (rozli¹ení dvou
stavù &ndash; èerná popø.&nbsp;jiný stav) a navíc byly pro ka¾dou ¹estici
sousedních pixelù rezervovány dal¹í dva bity, co¾ znamená, ¾e ¹estice
sousedních pixelù mohla být i se svými atributy ulo¾ena v&nbsp;jednom bajtu. Na
druhou stranu tento zpùsob kódování barev zapøíèinil, ¾e v¾dy ¹estice
sousedních pixelù mohla být obarvena pouze dvìma vybranými barvami (co¾
vzdálenì pøipomíná grafický re¾im Hi-res u C64, popø.&nbsp;slavný
&bdquo;atributový&ldquo; re¾im ZX Spectra), ov¹em na druhou stranu se potøebná
kapacita obrazové pamìti oproti vý¹e zmínìným 27 kB dosti podstatným zpùsobem
sní¾ila, o èem¾ se mù¾eme pøesvìdèit jednoduchým výpoètem. Nejprve zjistíme,
kolik bajtù bylo zapotøebí alokovat pro ulo¾ení ka¾dého obrazového øádku:</p>

<table>
<tr><td>samostatné pixely na obrazovém øádku</td><td>288/8</td><td>36 bajtù</td></tr>
<tr><td>barvové atributy (2 bity/6 pixelù)  </td><td>2&times;288/6/8</td><td>12 bajtù</td></tr>
<tr><td>poèet bajtù na jeden obrazový øádek</td><td>36+12</td><td>48 bajtù</td></tr>
</table>

<p>Celkový poèet bajtù alokovaných pro celou obrazovou pamì» je pøi 256
obrazových øádcích roven: 48&times;256 = 12 kB. Organizace obrazové pamìti v¹ak
byla kvùli zpùsobu generování obrazu (pou¾íval se stejný krystal, který øídil
samotný CPU, jen¾ byl pøipojený na èítaè pixelù) ponìkud netypická. Ka¾dý
obrazový øádek toti¾ zaèínal na hranici 64 bajtù (viz dal¹í obrázek). To
znamená, ¾e prvních 48 bajtù bylo skuteènì vyu¾ito jako obrazová pamì» a
zbývajících 16 bajtù na ka¾dém øádku vyu¾íval buï operaèní systém nebo se
jednalo o oblast, kterou mohl programátor vyu¾ít pro ulo¾ení svých programù
nebo dat. Zatímco tedy vlastní obrazová pamì» vy¾aduje 12 kB pro ulo¾ení barev
pixelù a jejich atributù, je pro ni vyhrazena vìt¹í oblast o velikosti
64&times;256 = 16 kB, tj.&nbsp;celá jedna tøetina operaèní pamìti, která byla
mapována do horní èásti adresového prostoru mikroprocesoru, konkrétnì na adresy
<strong>C000</strong> a¾ <strong>FFFF</strong>.</p>

<a href="http://i.iinfo.cz/images/620/pmd85-15-orig.png"><img src="http://i.iinfo.cz/images/620/pmd85-15-prev.png" width="189" height="270" alt="pmd85" /></a>
<p><i>Obrázek 16: Organizace pamìti u poèítaèe PMD 85.</i></p>

<p><strong>Druhá otázka pro ètenáøe</strong> kteøí si pamatují výklad o zpùsobu
generování video signálu na zahranièních osobních poèítaèích (Spectrum, Atari,
C64) èi funkci prvních grafických karet na PC: z&nbsp;jakého dùvodu je pro
ka¾dý obrazový øádek rezervována pamì» o velikosti 64 bajtù, kdy¾ je ve
skuteènosti pro obraz vyu¾ito pouze 48 bajtù (resp.&nbsp;na co generátor video
signálu onìch zbývajících 16 bajtù vyu¾il)?</p>



<p><a name="k07"></a></p>
<h2>7. Øekli o PMD 85...</h2>

<p><em>S poèítaèem PMD-85 jsem se setkala v páté tøídì a byl to mùj úplnì první
pohled na nìco, co jsem naprosto nechápala a mám pocit, ¾e nechápu dodnes. Bylo
to asi hodinové setkání, které mne do¾ivotnì poznamenalo. Jediné co si
pamatuji, bylo neustálé kontrolování poèítaèe, jak moc høeje a pak vìt¹inou
následovalo protipo¾ární zaopatøení = vypnutí poèítaèe.</em></p>

<p><em>Byla to nespolehlivá obluda s pøekvapující architekturou. BASIC jste
museli natahovat z ROM-ky, videoramka zabrala 16 kB (pozor, tøetinu RAM!), ale
zobrazovala obsah pouze z 12 kB. První verze mìla klávesnici, pøi které jste
nevìdìli, zda "klik" vydala ona nebo prasknutá kost v prstu. Druhá verze byla,
samozøejmì, s první prakticky nekompatibilní, ale mìla aspoò tu výhodu, ¾e to,
co jste nahráli na magnetofon, jste aspoò obèas pøeèetli.</em></p>

<img src="http://i.iinfo.cz/images/618/pmd851-2.png" width="288" height="256" alt="pmd851" />
<p><i>Obrázek 17: Hra Jet Set Willy^H^H^H^H^H^H^H^H^H^H^H^H^H Willy Walker :-)</i></p>



<p><a name="k08"></a></p>
<h2>8. Podìkování a obsah následující èásti seriálu</h2>

<p><strong>Za poskytnutí informací a pøedev¹ím fotografií PMDèka velmi dìkuji
Václavu Bálkovi, Tomá¹i Smetanovi, Michalovi Suchánkovi i dal¹ím
autorùm.</strong></p>

<p>V&nbsp;následující èásti seriálu o architekturách poèítaèù dokonèíme popis
poèítaèe PMD 85 i jeho klonù. Øekneme si, jaké aplikace (samozøejmì pøedev¹ím
hry, ale i programovací jazyky) na tomto poèítaèi vznikly a jakým zpùsobem je
mo¾né si tyto aplikace vyzkou¹et i v&nbsp;souèasnosti. Pro PMD 85 toti¾
existuje nìkolik softwarových emulátorù a dokonce i jeden emulátor hardwarový,
jeho¾ autorovi (Ing. Peter Chrenko) se podaøilo v¹echny èipy PMDèka nasimulovat
na mikroøadièi ATmega128 doplnìném ¹edesáti ètyømi kilobajty operaèní
pamìti.</p>

<img src="http://i.iinfo.cz/images/618/pmd851-3.png" width="288" height="256" alt="pmd851" />
<p><i>Obrázek 18: Geniální hra Hlípa, která byla pozdìji portována z&nbsp;PMD
85 na osmibitové poèítaèe Sharp MZ.</i></p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Muzeum èeskoslovenských mikropoèítaèù<br />
<a href="http://cs-pocitace.ic.cz/">http://cs-pocitace.ic.cz/</a>
</li>

<li>Poèítaèe PMD 85<br />
<a href="http://balek.v.sweb.cz/cs%20pocitace/8bity/pmd_85.htm">http://balek.v.sweb.cz/cs%20pocitace/8bity/pmd_85.htm</a>
</li>

<li>Muzeum starého hardwaru a poèítaèù<br />
<a href="http://hardware.najd.cz/nej.php">http://hardware.najd.cz/nej.php</a>
</li>

<li>Archive.Free8bit.net (archivy her a dal¹ích aplikací)<br />
<a href="http://archive.free8bit.net/index.php?ACTION=1004">http://archive.free8bit.net/index.php?ACTION=1004</a>
</li>

<li>Emulation.Free8bit.net (emulátory osmibitù)<br />
<a href="http://emulation.free8bit.net/">http://emulation.free8bit.net/</a>
</li>

<li>Game Manic Miner PMD-85 remake<br />
<a href="http://freeloc.kopromaster.com/index.php?ACTION=1021&FILE=7&chlng=36&chpjt=1">http://freeloc.kopromaster.com/index.php?ACTION=1021&FILE=7&chlng=36&chpjt=1</a>
</li>

<li>Struèná historie poèítaèe IQ150/IQ151<br />
<a href="http://www.iq151.net/history.htm">http://www.iq151.net/history.htm</a>
</li>

<li>Didaktik Alfa 1<br />
<a href="http://osmi.tarbik.com/cssr/didaktik_alfa.html">http://osmi.tarbik.com/cssr/didaktik_alfa.html</a>
</li>

<li>Didaktik<br />
<a href="http://en.wikipedia.org/wiki/Didaktik">http://en.wikipedia.org/wiki/Didaktik</a>
</li>

<li>Alfy mali vo výbave i sovietske televízory "Junost"<br />
<a href="http://bombara.blog.sme.sk/c/205503/Alfy-mali-vo-vybave-i-sovietske-televizory-Junost.html">http://bombara.blog.sme.sk/c/205503/Alfy-mali-vo-vybave-i-sovietske-televizory-Junost.html</a>
</li>

<li>Hlípa<br />
<a href="http://pmd85.djb-studios.com/wiki/Hlípa">http://pmd85.djb-studios.com/wiki/Hlípa</a>
</li>

<li>Video s&nbsp;øe¹ením hry Hlípa<br />
<a href="http://pmd85.djb-studios.com/w/media/hlipa-riesenie.avi">http://pmd85.djb-studios.com/w/media/hlipa-riesenie.avi</a>
</li>

<li>Urob si sám PMD-85<br />
<a href="http://pmd85.topindex.sk/">http://pmd85.topindex.sk/</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2010</small></p>
</body>
</html>

