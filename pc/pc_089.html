<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Grafické akcelerátory IBM 8514/A a TIGA</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Grafické akcelerátory IBM 8514/A a TIGA</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù navá¾eme na pøedchozí díl, ve kterém byl popsán první grafický akcelerátor pro poèítaèe IBM PC - &bdquo;trojkarta&ldquo; PGC. Dnes si popí¹eme dal¹í dva grafické akcelerátory, jen¾ se od sebe v mnoha ohledech li¹í. Jedná se o IBM 8514/A se specializovaným èipem a kartu TIGA vybavenou programovatelným grafickým procesorem.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Grafický akcelerátor IBM 8514/A</a></p>
<p><a href="#k02">2. Grafické re¾imy podporované na originálním monitoru 8514/A</a></p>
<p><a href="#k03">3. Konfigurace grafického akcelerátoru IBM 8514/A</a></p>
<p><a href="#k04">4. Funkce nabízené grafickým akcelerátorem IBM 8514/A</a></p>
<p><a href="#k05">5. Grafické karty zpìtnì kompatibilní s&nbsp;IBM 8514/A: ATI Mach 8 a ATI Mach 32</a></p>
<p><a href="#k06">6. Grafický akcelerátor TIGA</a></p>
<p><a href="#k07">7. Grafický procesor TMS32010</a></p>
<p><a href="#k08">8. Rastrové operace a instrukce specializované pro práci s&nbsp;grafikou</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Grafický akcelerátor IBM 8514/A</h2>

<p>Grafický akcelerátor <i>IBM 8514/A</i> byl navr¾en, podobnì jako minule
popsaný akcelerátor <i>PGC</i>, firmou IBM, která ho zaèala nabízet ji¾
v&nbsp;roce 1987 ve formì roz¹iøující karty do poèítaèù <i>IBM PS/2</i>, které
byly povìt¹inou vybaveny grafickým adaptérem <i>VGA</i> popø.&nbsp;u
nejlevnìj¹ího modelu i adaptérem <i>MCGA</i>. Vzhledem k&nbsp;tomu, ¾e se
v&nbsp;poèítaèích <i>IBM PS/2</i> pou¾ívala pouze sbìrnice <i>MCA</i> (Micro
Channel Architecture), byl grafický akcelerátor <i>8514/A</i> urèený právì pro
tuto sbìrnici, co¾ se v¹ak negativnì projevilo na jeho pomìrnì malém roz¹íøení
mezi u¾ivateli (sbìrnice <i>MCA</i> nemohla být &bdquo;klonována&ldquo; tak,
jako ISA, proto¾e IBM vy¾adovala za její pou¾ití poplatky, co¾ je ¹koda,
proto¾e z&nbsp;technologického hlediska se jednalo o velký krok kupøedu).
Dùvodù relativnì malého roz¹íøení <i>IBM 8514/A</i> v¹ak bylo více &ndash;
vedle pomìrnì vysoké ceny grafického akcelerátoru (3000 dolarù i
s&nbsp;monitorem) byla problematická i uzavøenost celého systému, nutnost
instalace &bdquo;bì¾né&ldquo; grafické karty spolu s&nbsp;tímto grafickým
akcelerátorem a takté¾ podpora pouze prokládaného øádkování u grafického re¾imu
s&nbsp;vysokým rozli¹ením.</p>

<img src="http://i.iinfo.cz/images/202/pc89-1.jpg" alt="pc89" height="348" width="279" />
<p><i>Obrázek 1: Osobní poèítaè PS/2 vybavený grafickým adaptérem VGA i
grafickým akcelerátorem 8514/A.</i></p>

<p>Nicménì pøes vý¹e uvedené nedostatky se <i>IBM 8514/A</i> stal známým
grafickým akcelerátorem podporovaným v&nbsp;minulosti prakticky v¹emi
významnými profesionálními grafickými aplikacemi (napøíklad <i>AutoCADem</i>,
programem pro pøípravu prezentací <i>Harvard Graphics</i>, operaèními systémy
<i>Microsoft Windows</i> a dodnes i ovladaèi pro <i>X-Window</i>), proto¾e
dal¹í výrobci grafických karet navrhli èipy, které jsou s&nbsp;<i>IBM
8514/A</i> zpìtnì kompatibilní. Tyto èipy byly následnì pou¾ity
v&nbsp;grafických kartách urèených pro sbìrnici ISA a pozdìji i EISA, Vesa
Local Bus (VLB) èi PCI. Jedná se pøedev¹ím o grafické karty postavené na èipech
<i>ATI Mach 8</i> a <i>ATI Mach 32</i>, kterým je v&nbsp;tomto èlánku vìnována
<a href="#k05">samostatná kapitola</a>.</p>

<a href="http://i.iinfo.cz/images/202/pc89-2.jpg"><img src="http://i.iinfo.cz/images/202/pc89-2-prev.jpg" alt="pc89" height="235" width="370" /></a>
<p><i>Obrázek 2: Grafický akcelerátor IBM 8514/A (nahoøe) a roz¹iøující karta
(dole) s&nbsp;pamì»ovými moduly.</i></p>



<p><a name="k02"></a></p>
<h2>2. Grafické re¾imy podporované na originálním monitoru 8514/A</h2>

<p>Grafický akcelerátor <i>IBM 8514/A</i> obsahoval dvojici krystalù pou¾itých
pøi generování obrazu pro vytváøení horizontálních i vertikálních
synchronizaèních signálù i pro øízení pøístupu do obrazové pamìti. První
krystal s&nbsp;rezonanèním kmitoètem 25,175 MHz byl pou¾it v&nbsp;grafickém
re¾imu s&nbsp;rozli¹ením 640&times;480 pixelù a obrazovou frekvencí 60 Hz.
Jedná se o re¾im kompatibilní s&nbsp;pøedminule popsanou grafickou kartou
<i>VGA</i>. Druhý krystal s&nbsp;rezonanèním kmitoètem 44,9 MHz byl vyu¾it pøi
práci v&nbsp;grafickém re¾imu s&nbsp;rozli¹ením 1024&times;768 pixelù a
prokládaným zobrazením obrazových øádkù. Monitor dodávaný spolu
s&nbsp;grafickým adaptérem <i>IBM 8514/A</i> (který mimochodem nesl stejné
oznaèení, tj.&nbsp;takté¾ <i>8514</i>), v¹ak musel umìt zobrazovat i v¹echny
standardní grafické re¾imy karty <i>VGA</i>, které jsou vypsány
v&nbsp;následující tabulce. V&nbsp;nìkterých pøípadech (mód 720&times;400
pixelù) se jedná o rozli¹ení textových re¾imù. Poslední grafický re¾im má
snímkovou frekvenci rovnu 43,5 Hz, ov¹em díky prokládání sudých a lichých øádkù
se pracuje s&nbsp;pùlsnímky (podobnì jako v&nbsp;klasické televizi), jich¾ je
za sekundu zobrazeno 87:</p>

<table>
<tr><th>Horizontální rozli¹ení</th><th>Vertikální rozli¹ení</th><th>Obrazová frekvence (V-sync)</th><th>Frekvence H-sync</th></tr>
<tr><td>640 </td><td>350</td><td>70</td><td>31.5</td></tr>
<tr><td>640 </td><td>400</td><td>70</td><td>31.5</td></tr>
<tr><td>640 </td><td>480</td><td>60</td><td>31.5</td></tr>
<tr><td>720 </td><td>350</td><td>70</td><td>31.5</td></tr>
<tr><td>720 </td><td>400</td><td>70</td><td>31.5</td></tr>
<tr><td>1024</td><td>768</td><td>87 (43,5 prokl.).</td><td>35.5</td></tr>
</table>

<p>Vzhledem k&nbsp;tomu, ¾e monitor <i>IBM 8514/A</i> nedokázal, na rozdíl od
souèasných multifrekvenèních monitorù, automaticky rozeznat právì aktivní
grafický re¾im, bylo nutné, aby ho o nastaveném re¾imu informovala pøímo
grafická karta. In¾enýøi z&nbsp;firmy IBM tento problém (který se ostatnì
vyskytoval ji¾ karet <i>EGA</i> a pøedev¹ím <i>VGA</i>) vyøe¹ili následujícím
zpùsobem &ndash; monitor dokázal rozeznat poèet obrazových øádkù
z&nbsp;polarity vertikálních a horizontálních synchronizaèních signálù. Na
základì tìchto hodnot se zmìnila èasová základna vertikálního vychylování.
Informaci o nastaveném horizontálním rozli¹ení nebylo nutné do pøená¹et,
proto¾e CRT monitory nerozeznávaly jednotlivé pixely &ndash; celý obrazový
øádek byl na stranì monitoru pova¾ován za konstantní dobu trvající spojitý
signál (resp.&nbsp;tøi signály &ndash; pro ka¾dou barvovou slo¾ku jeden)
ukonèený horizontálním synchronizaèním pulsem. V&nbsp;následující tabulce jsou
vypsány v¹echny ètyøi standardní vertikální rozli¹ení:</p>

<table>
<tr><th>Vertikální sync</th><th>Horizontální sync</th><th>Poèet obrazových øádkù</th></tr>
<tr><td>V+</td><td>H+</td><td>350</td></tr>
<tr><td>V+</td><td>H-</td><td>400</td></tr>
<tr><td>V-</td><td>H-</td><td>480</td></tr>
<tr><td>V+</td><td>H-</td><td>768</td></tr>
</table>

<p>K&nbsp;vý¹e uvedené tabulce je vhodné øíci dvì poznámky: grafický re¾im
karty VGA s&nbsp;rozli¹ením 320&times;200 pixelù je identifikován jako re¾im
s&nbsp;400 obrazovými øádky (øádky mají dvojitou tlou¹»ku); podobnì pøedminule
zmínìný <i>X-mode</i> je identifikován jako re¾im s&nbsp;480 obrazovými øádky.
Mnohé dal¹í monitory a grafické karty pou¾ívaly stejný zpùsob pøenosu
vertikálního rozli¹ení, ostatnì mo¾nost zmìny polarit synchronizaèních signálù
byly dostupné i v&nbsp;populárním <i>UniVBE</i> (rezidentním programu, který
zpøístupòoval grafické funkce definované ve standardu VESA i na star¹ích
grafických kartách).</p>



<p><a name="k03"></a></p>
<h2>3. Konfigurace grafického akcelerátoru IBM 8514/A</h2>

<p>Grafický akcelerátor <i>IBM 8514/A</i> byl do osobního poèítaèe pøipojován
jako pøídavná (tj.&nbsp;v&nbsp;podstatì druhá) grafická karta. Toto øe¹ení,
zejména zpùsob &bdquo;sériového&ldquo; napojení karet s&nbsp;výstupem na jeden
monitor, bylo nazýváno <i>AVE &ndash; Auxiliary Video Extension</i> a o mnoho
let pozdìji se s&nbsp;ním u¾ivatelé mohli setkat u prvních 3D akcelerátorù
(<i>Voodoo</i>). Primární kartou nainstalovanou v&nbsp;poèítaèi byl vìt¹inou
grafický adaptér <i>VGA</i>, který zaji¹»oval podporu základních i roz¹íøených
textových a grafických re¾imù (to bylo dùle¾ité, proto¾e <i>8514/A</i>
napøíklad nepodporoval textové re¾imy a ani nebyl ovládán pøes BIOS,
tj.&nbsp;poèítaè by nebylo mo¾né bez primární grafické karty nabootovat ani
ovládat). Akcelerátor <i>IBM 8514/A</i> dokázal generovat rastrový obraz pouze
v&nbsp;rozli¹ení 1024&times;768 pixelù prokládanì (interlaced) nebo
v&nbsp;re¾imu o rozli¹ení 640&times;480 pixelù neprokládanì (non-interlaced)
&ndash; viz té¾ pøedchozí kapitolu, ve které jsou uvedeny øádkové a snímkové
frekvence pou¾ité u obou zmínìných grafických re¾imù.</p>

<p>Barevná hloubka dosahovala podle kapacity nainstalované video pamìti ( 1MB
nebo 1,5 MB) na tomto adaptéru buï ¹estnácti nebo 256 souèasnì zobrazitelných
barev. Kromì zmínìných dvou grafických re¾imù neumo¾òovala tato grafická karta
zobrazovat ani textové re¾imy, ani dal¹í grafické re¾imy &ndash; obraz se
generoval buï pomocí primární grafické karty (<i>VGA</i>) nebo jen pomocí
<i>8514/A</i>. V&nbsp;praxi tedy u¾ivatelé nìkteré moduly (obrazovou pamì»,
øadiè CRT, sekvencér) museli mít v&nbsp;poèítaèi zdvojené a tedy je i dvakrát
zaplatit, i kdy¾ v&nbsp;daný èasový okam¾ik pou¾ívali v¾dy jen jednu
z&nbsp;karet. Zjednodu¹ené schéma grafického adaptéru <i>IBM 8514/A</i> spolu
s&nbsp;jeho pøipojením do poèítaèe je zobrazeno na následujícím obrázku:</p>

<a href="http://i.iinfo.cz/images/202/pc89-3.png"><img src="http://i.iinfo.cz/images/202/pc89-3-prev.png" alt="pc89" height="148" width="370" /></a>
<p><i>Obrázek 3: Zjednodu¹ené schéma grafického akcelerátoru IBM 8514/A a
zpùsob jeho zapojení do poèítaèe (pro zjednodu¹ení zde není uveden blok
pøedstavující primární grafickou kartu).</i></p>



<p><a name="k04"></a></p>
<h2>4. Funkce nabízené grafickým akcelerátorem IBM 8514/A</h2>

<p>Grafický akcelerátor <i>IBM 8514/A</i> patøí do skupiny grafických systémù
urèených pøedev¹ím pro aplikace typu CAD, tedy pro programy orientované
pøevá¾nì na zpracování a rychlé zobrazování vektorù (i písmo se v&nbsp;CAD
systémech vykresluje, resp.&nbsp;v&nbsp;minulosti témìø výhradnì vykreslovalo
pomocí vektorù &ndash; jen tak bylo mo¾né zajistit uspokojivé vykreslení na
perových plotterech a souèasnì rychlou práci s&nbsp;výkresem). Pøi pou¾ití
tohoto grafického akcelerátoru bylo pomocí dodávané programové knihovny
(v&nbsp;podstatì se jednalo o rozsáhlé roz¹íøení BIOSu) nazvané
<i>AI&ndash;Adapter Interface</i> (s&nbsp;umìlou inteligencí tato knihovna
samozøejmì nemá nic spoleèného) podporováno vykreslování základních
geometrických tvarù, jakými jsou napøíklad úseèka, lomená èára (polyèára),
polygon, kru¾nice nebo øetìzec (v&nbsp;datových souborech <i>AI</i> se
nacházely i bitmapové fonty se znaky v&nbsp;rozli¹ení 7&times;15, 8&times;14 a
12&times;20 pixelù).</p>

<a href="http://i.iinfo.cz/images/202/pc89-4.jpg"><img src="http://i.iinfo.cz/images/202/pc89-4-prev.jpg" alt="pc89" height="270" width="351" /></a>
<p><i>Obrázek 4: Historický screenshot &ndash; jeden z&nbsp;prvních obrázkù
vypoèítaných raytracingem (na superpoèítaèi Cray), kterým se mohli kochat i
majitelé 8514/A v&nbsp;plném rozli¹ení.</i></p>

<p>Kromì toho obsahoval tento grafický adaptér také podpùrný modul pro rychlé
vykreslování rastrových obrazcù pomocí operací typu <i>BitBlt &ndash; Bit Block
Transfer</i>. Na rozdíl od minule popsaného akcelerátoru <i>PGC</i> v¹ak mìli
programátoøi pøímý pøístup do obrazové pamìti, co¾ je samozøejmì velmi
dùle¾ité, zejména tehdy, kdy¾ funkce nabízené <i>AI</i> nestaèily pokrýt
po¾adavky aplikací. Obrazová pamì» byla organizována planárnì &ndash;
v&nbsp;grafickém re¾imu s&nbsp;rozli¹ením 1024&times;768 pixelù tedy bylo
pøístupných osm bitových rovin, do nich¾ mohl programátor pøímo zapisovat údaje
(slo¾ky pixelù) èi si naopak tyto údaje zpìtnì pøeèíst.</p>

<a href="http://i.iinfo.cz/images/202/pc89-5.png"><img src="http://i.iinfo.cz/images/202/pc89-5-prev.png" alt="pc89" height="251" width="370" /></a>
<p><i>Obrázek 5: Grafický akcelerátor IBM 8514/A je podporován i v&nbsp;MS
Windows 3. Ostatnì právì po uvedení tohoto akcelerátoru na trh se firma
Microsoft rozhodla, ¾e se rutiny pro øízení grafických karet pøesunou
z&nbsp;jádra Windows do ovladaèù, proto¾e 8514/A ji¾ nebyla zpìtnì kompatibilní
s&nbsp;pøedchozími kartami.</i></p>



<p><a name="k05"></a></p>
<h2>5. Grafické karty zpìtnì kompatibilní s&nbsp;IBM 8514/A: ATI Mach 8 a ATI Mach 32</h2>

<p>Design grafické karty <i>IBM 8514/A</i> byl samozøejmì kopírován rùznými
výrobci periferních zaøízení. Mezi úspì¹né klony, které v&nbsp;mnoha ohledech
svùj originál pøevy¹ují, patøí napøíklad grafické karty postavené na èipech
<i>ATI 38800 (Mach 8)</i>, <i>ATI 68800 (Mach 32)</i>, <i>Chips and
Technologies 82c480</i>, <i>Paradise WD95C00</i> a <i>Paradise WD95C01</i>.
Vìt¹ina klonù byla pøipojitelná do sbìrnice ISA, VLB èi pozdìji PCI, zatímco
originální karta <i>IBM 8514/A</i> byla dostupná, jak ji¾ víme
z&nbsp;pøedchozích kapitol, pouze pro nepøíli¹ roz¹íøenou sbìrnici MCA. Jednou
z&nbsp;nejúspì¹nìj¹ích grafických èipù zpìtnì kompatibilních
s&nbsp;<i>8514/A</i> je èip <i>ATI Mach8</i> pou¾itý napøíklad
v&nbsp;grafických kartách <i>Graphics Vantage</i>, <i>Graphics Ultra</i> èi
<i>VGA Wonder GT</i>. Jedná se o èip, který nabízí zpìtnou kompatibilitu
s&nbsp;kartou <i>VGA</i> i <i>8514/A</i> s&nbsp;tím, ¾e je mo¾né ho pøipojit
jak ke sbìrnici ISA, tak i MCA. Navíc lze pro obrazovou pamì» pou¾ít pamì»ové
moduly DRAM i VRAM (celková kapacita 256 nebo 512 kB), co¾ znamenalo, ¾e
výrobci grafických karet mohli nad jedním èipem postavit hned nìkolik výrobkù
s&nbsp;rùznou výkonností a samozøejmì i cenou.</p>

<a href="http://i.iinfo.cz/images/202/pc89-6.jpg"><img src="http://i.iinfo.cz/images/202/pc89-6-prev.jpg" alt="pc89" height="269" width="370" /></a>
<p><i>Obrázek 6: Grafická karta urèená pro sbìrnici ISA, která obsahuje èip ATI
Mach 8 a je tedy zpìtnì kompatibilní s&nbsp;dnes popisovaným grafickým
akcelerátorem IBM 8514/A.</i></p>

<p>Druhým èipem zaji¹ujícím zpìtnou kompatibilitu s&nbsp;<i>8514/A</i> je èip
<i>ATI Mach 32</i> vyrábìný od roku 1992. Tento èip bylo mo¾né pou¾ít na
grafických kartách urèených pro sbìrnici ISA, EISA, VESA Local Bus, MCA i PCI,
nové grafické re¾imy mohly mít bitovou hloubku 15bpp, 16bpp èi dokonce 24bpp a,
podobnì jako u pøedchozího èipu, i zde byly podporovány pamì»ové moduly DRAM i
VRAM. Ponìkud paradoxní je, ¾e interní datová sbìrnice pro pøenos dat z a do
obrazové pamìti mìla ¹íøku 64 bitù, co¾ bylo 2&times; více, ne¾ ¹íøka datové
sbìrnice v&nbsp;hostitelském poèítaèi. Tento èip byl pou¾it
mj.&nbsp;v&nbsp;následujících grafických kartách:</p>

<ul>
<li>Graphics Wonder (DRAM)</li>
<li>Graphics Ultra + (DRAM, fast RAMDAC)</li>
<li>Graphics Ultra CLX (DRAM, cost-reduced OEM version)</li>
<li>Graphics Ultra Pro (VRAM)</li>
<li>Graphics Ultra XLR (VRAM, cost-reduced OEM version)</li>
</ul>

<a href="http://i.iinfo.cz/images/202/pc89-7.jpg"><img src="http://i.iinfo.cz/images/202/pc89-7-prev.jpg" alt="pc89" height="170" width="370" /></a>
<p><i>Obrázek 7: Grafická karta urèená pro sbìrnici VESA Local Bus, která
obsahuje èip ATI Mach 32.</i></p>



<p><a name="k06"></a></p>
<h2>6. Grafický akcelerátor TIGA</h2>

<p>Dal¹ím známým a po technické stránce velmi zajímavým grafickým akcelerátorem
je <i>TIGA</i>, co¾ je zkratka plného názvu <i>Texas Instruments Graphics
Architecture</i>. Tento akcelerátor je zajímavý pøedev¹ím striktním oddìlením
video pamìti (VRAM) z&nbsp;adresového prostoru mikroprocesoru a pou¾itím
specializovaného programovatelného grafického procesoru namísto
&bdquo;obyèejného&ldquo; procesoru (<i>PGC</i>) èi pevnì naprogramovaného èipu
(<i>8514/A</i>). Vzhledem k&nbsp;tomu, ¾e mikroprocesor nemá k&nbsp;této pamìti
pøímý pøístup, jsou ve¹keré vykreslovací operace øízeny grafickým procesorem
(v&nbsp;této kartì se jedná o dále popsaný procesor <i>TMS34010</i> nebo
<i>TMS34020</i> &ndash; pozor, neplést se slavnými signálovými procesory
<i>32010</i>). Oproti jednodu¹¹í grafické kartì <i>IBM 8514A</i> je u
akcelerátoru <i>TIGA</i> také pøítomna pamì», do které je mo¾né nahrávat
vlastní podprogramy pro øízení vykreslování. Tato pamì» se podle svého významu
nazývá <i>Program RAM</i> a po uvedení <i>TIGA</i> na trh vzniklo pomìrnì velké
mno¾ství èlánkù popisujících nové grafické algoritmy, které je mo¾né na tomto
akcelerátoru implementovat a spou¹tìt.</p>

<p>Grafická karta <i>TIGA</i> podporovala grafický re¾im s&nbsp;rozli¹ením
1024&times;768 pixelù; na rozdíl od vý¹e popsané karty <i>IBM 8514/A</i> se
v¹ak obraz na monitoru zobrazoval neprokládanì, co¾ mu zajistilo vìt¹í
stabilitu (ostatnì pou¾ití prokládaného re¾imu zrovna na kartì 8514/A je
paradoxní, proto¾e se jednalo o kartu urèenou pro CAD systémy; pøitom výkresy
kreslené v&nbsp;CADech obsahují velké mno¾ství vodorovných úseèek se ¹íøkou
jednoho pixelu, které pøi pou¾ití prokládaných re¾imù nepøíjemnì poblikávají).
Zjednodu¹ené schéma grafické karty <i>TIGA</i> je, spolu s&nbsp;jejím
zaèlenìním do celého výpoèetního systému, uvedeno na následujícím obrázku:</p>

<a href="http://i.iinfo.cz/images/202/pc89-8.png"><img src="http://i.iinfo.cz/images/202/pc89-8-prev.png" alt="pc89" height="150" width="370" /></a>
<p><i>Obrázek 8: Zjednodu¹ené schéma grafického adaptéru TIGA</i></p>



<p><a name="k07"></a></p>
<h2>7. Grafický procesor TMS32010</h2>

<p>Grafický procesor <i>TMS34010</i> obsahuje 31 tøicetidvoubitových pracovních
registrù rozdìlených do dvou èástí (bankù), z&nbsp;nich¾ ka¾dá obsahovala 15
pracovních registrù a spoleèný ukazatel na vrchol zásobníku (<i>SP &ndash;
stack pointer</i>). Funkce pracovních registrù ulo¾ených v&nbsp;první skupinì
mohla být libovolná (jejich obsazení plnì záviselo na programátorovi ovladaèe),
av¹ak registry ve druhé skupinì se pou¾ívaly v&nbsp;prùbìhu nìkterých
grafických operací, napøíklad pøi pøesunu bitmap (operace
<strong>PixBlt</strong>) apod. Pokud programátor chtìl tìchto patnáct
pracovních registrù pou¾ívat ve svých programech, musel sám zajistit korektní
ukládání a obnovu jejich obsahu. Kromì zmínìných pracovních registrù a
ukazatele na vrchol zásobníku obsahoval tento grafický procesor samozøejmì také
èítaè instrukcí o ¹íøce 32 bitù. Vzhledem k&nbsp;tomu, ¾e instrukce
(resp.&nbsp;jejich operaèní kódy) byly v¾dy zarovnány na ¹estnáct bitù (dva
bajty), byly nejni¾¹í ètyøi bity registru PC v¾dy nulové (procesor toti¾ na
logické úrovni pracoval s&nbsp;jednotlivými bity, co¾ je kvùli podpoøe
grafických re¾imù s&nbsp;rùznou bitovou hloubkou rozumné, i kdy¾ na úrovni
fyzické v¾dy adresoval ¹estnáctibitová slova).</p>

<p>Posledním registrem pøístupným programátorùm byl stavový registr, takté¾ o
¹íøce 32 bitù, který obsahoval jak klasické pøíznaky výsledkù aritmetických a
logických operací (N &ndash; negative, C &ndash; carry, Z &ndash; zero, V
&ndash; overflow), tak i vícebitové hodnoty pou¾ívané napøíklad pøi pøesunech
bitmap nebo pøi pøístupu do obrazové pamìti (zejména bylo mo¾né nastavit
bitovou hloubku v&nbsp;rozsahu 1 a¾ 32 bitù na pixel). Pro urychlení vykonávání
grafických operací obsahoval procesor <i>TMS34010</i> i rychlou vyrovnávací
pamì» pro kódy instrukcí, která mìla kapacitu 256 bajtù.</p>



<p><a name="k08"></a></p>
<h2>8. Rastrové operace a instrukce specializované pro práci s&nbsp;grafikou</h2>

<p>Velmi zajímavý je instrukèní soubor procesoru <i>TMS34010</i>. Kromì zcela
bì¾ných instrukcí, které programátor vìt¹inou oèekává od 32bitového procesoru
(aritmetické a logické instrukce, bitové posuvy a rotace, podmínìné i
nepodmínìné skoky, práce se zásobníkem atd.) toti¾ tento procesor obsahoval i
nìkolik instrukcí urèených pøedev¹ím pro práci s&nbsp;grafikou. Jedná se
zejména o instrukce, které chápaly obsah pracovního registru (tøicetidvoubitové
èíslo) jako dvojici ¹estnáctibitových souøadnic X a Y:</p>

<table>
<tr><td>Instrukce</td><td>Význam</td></tr>
<tr><td>ADDXY</td><td>souèet dvou registrù nebo registru a dvojice konstant po slo¾kách (souøadnicích)</td></tr>
<tr><td>CMPXY</td><td>porovnání -//-</td></tr>
<tr><td>SUBXY</td><td>rozdíl -//-</td></tr>
<tr><td>MOVX </td><td>pøesun hodnoty souøadnice X do èi z registru</td></tr>
<tr><td>MOVY </td><td>pøesun hodnoty souøadnice Y do èi z registru</td></tr>
</table>

<p>Dále o instrukce pro kreslení základních geometrických útvarù:</p>

<table>
<tr><td>Instrukce</td><td>Význam</td></tr>
<tr><td>LINE</td><td>vykreslení úseèky</td></tr>
<tr><td>FILL</td><td>výplò obrazce</td></tr>
</table>

<p>A koneènì pomìrnì slo¾ité instrukce provádìjící blokové pøesuny dat (pixelù)
èi operace nad blokem pixelù:</p>

<table>
<tr><td>Instrukce</td><td>Význam</td></tr>
<tr><td>PIXT     </td><td>pixel transfer</td></tr>
<tr><td>PIXBLT   </td><td>pixel block transfer</td></tr>
</table>

<p>Pøi pøesunech blokù pixelù se mohlo provádìt maskování prùhledných pixelù
(v&nbsp;podstatì podpora spritù), kontrola, zda kopírované pixely nále¾í do
specifikovaného obdélníkového okna, maskování obrázku bitovou rovinou atd.
Právì podpora této grafické operace uèinila z&nbsp;grafického akcelerátoru
<i>TIGA</i> velmi zajímavý výrobek, který mìl velký vliv na dal¹í vývoj
grafických karet, pøedev¹ím takzvaných &bdquo;windows akcelerátorù&ldquo;
(karet podporujících operace typu pøesunu oken, maskování obdélníkovou oblastí
atd.).</p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Trident 8900D VGA video card Settings and Configuration<br />
<a href="http://stason.org/TULARC/pc/graphics-cards/U-Z/UNIDENTIFIED-VGA-TRIDENT-8900D-MKIIA-VGA.html">http://stason.org/TULARC/pc/graphics-cards/U-Z/UNIDENTIFIED-VGA-TRIDENT-8900D-MKIIA-VGA.html</a>
</li>

<li>Trident 9000 VGA video card Settings and Configuration<br />
<a href="http://stason.org/TULARC/pc/graphics-cards/U-Z/UNIDENTIFIED-XVGA-TRIDENT-9000.html">http://stason.org/TULARC/pc/graphics-cards/U-Z/UNIDENTIFIED-XVGA-TRIDENT-9000.html</a>
</li>

<li>Trident Microsystems company home page<br />
<a href="http://www.tridentmicro.com/Index.asp">http://www.tridentmicro.com/Index.asp</a>
</li>

<li>Trident Microsystems<br />
<a href="http://en.wikipedia.org/wiki/Trident_Microsystems">http://en.wikipedia.org/wiki/Trident_Microsystems</a>
</li>

<li>Texas Instruments Graphics Architecture<br />
<a href="http://en.wikipedia.org/wiki/Texas_Instruments_Graphics_Architecture">http://en.wikipedia.org/wiki/Texas_Instruments_Graphics_Architecture</a>
</li>

<li>TMS34010<br />
<a href="http://en.wikipedia.org/wiki/TMS34010">http://en.wikipedia.org/wiki/TMS34010</a>
</li>

<li>Trident SuperVGA<br />
<a href="http://world.std.com/obi/Standards/VGA/trident.txt">http://world.std.com/obi/Standards/VGA/trident.txt</a>
</li>

<li>TMS34010 Graphics System Processor<br />
<a href="http://focus.ti.com/docs/prod/folders/print/tms34010.html">http://focus.ti.com/docs/prod/folders/print/tms34010.html</a>
</li>

<li>TMS34020A Graphics Processor<br />
<a href="http://focus.ti.com/docs/prod/folders/print/tms34020a.html">http://focus.ti.com/docs/prod/folders/print/tms34020a.html</a>
</li>

<li>25 Microchips That Shook the World<br />
<a href="http://www.synbio.org.uk/scientific-computing-news/1351.html">http://www.synbio.org.uk/scientific-computing-news/1351.html</a>
</li>

<li>IBM 8514<br />
<a href="http://en.wikipedia.org/wiki/IBM_8514">http://en.wikipedia.org/wiki/IBM_8514</a>
</li>

<li>IBM 8514 hardware<br />
<a href="http://pdos.csail.mit.edu/6.828/2009/readings/hardware/vgadoc/8514.TXT">http://pdos.csail.mit.edu/6.828/2009/readings/hardware/vgadoc/8514.TXT</a>
</li>

<li>8514/A info<br />
<a href="http://www.tavi.co.uk/ps2pages/ohland/8514A.html">http://www.tavi.co.uk/ps2pages/ohland/8514A.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

