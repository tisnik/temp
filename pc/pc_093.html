<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>3D akcelerátory</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Grafické akcelerátory pro vykreslování 3D scén</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù se budeme zabývat grafickými akcelerátory urèenými pro vykreslování trojrozmìrných scén reprezentovaných pomocí plo¹ných otexturovaných polygonù. Vývoj tìchto grafických akcelerátorù pro¹el na poèítaèích PC nìkolika fázemi. Dnes bude popsána pøedev¹ím jejich první generace.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Grafické akcelerátory urèené pro vykreslování trojrozmìrných scén</a></p>
<p><a href="#k02">2. Základní operace provádìné 3D akcelerátory</a></p>
<p><a href="#k03">3. GPU, OpenGL a Direct3D</a></p>
<p><a href="#k04">4. Mikroprocesor Intel i860 &ndash; Cray on a Chip?</a></p>
<p><a href="#k05">5. Podpora grafických operací mikroprocesorem Intel i860</a></p>
<p><a href="#k06">6. Grafický akcelerátor Voodoo 1</a></p>
<p><a href="#k07">7. Grafické operace podporované akcelerátorem Voodoo 1</a></p>
<p><a href="#k08">8. Obsah dal¹ího pokraèování seriálu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Grafické akcelerátory urèené pro vykreslování trojrozmìrných scén</h2>

<p>V&nbsp;pøedchozí èásti seriálu o architekturách poèítaèù jsme se zabývali
pøedev¹ím popisem grafických akcelerátorù urèených pro urychlení práce
s&nbsp;plo¹nou (2D) grafikou, popø.&nbsp;pro rychlou dekomprimaci (a
v&nbsp;nìkterých pøípadech i komprimaci) videa. Tyto grafické akcelerátory sice
nabízely dostatek funkcí pro bì¾ná (neherní) PC, ov¹em pøed cca deseti lety se
ve velké míøe roz¹íøily grafické karty a grafické èipy podporující vykreslování
3D scén, které postupnì nahradily 2D akcelerátory (na tento trend zareagovali i
vývojáøi grafických èástí operaèních systémù, ale to je ji¾ téma na nìkteré
z&nbsp;dal¹ích pokraèování tohoto seriálu). V&nbsp;souèasné dobì tedy patøí
mezi nejèastìji pou¾ívané grafické akcelerátory takové systémy, které umo¾òují
rychlé vykreslení prostorových tìles popsaných pomocí hranièní reprezentace
(<i>boundary representation, B-rep</i>). Tìlesa jsou v&nbsp;hranièní
reprezentaci popsána svým povrchem rozdìleným vìt¹inou na plo¹né konvexní
polygony.</p>

<img src="http://i.iinfo.cz/images/660/pc93-1.png" alt="pc93" height="275" width="450" />
<p><i>Obrázek 1: Vykreslovací øetìzec pou¾ívaný grafickými akcelerátory pøi
zpracovávání trojrozmìrných scén. Do vykreslovacího øetìzce vstupují dva typy
dat &ndash; informace o vrcholech polygonù (trojúhelníkù, plo¹ných ètyøúhelníkù
atd.) a rastrová data, vìt¹inou bitmapy (znaky v&nbsp;rastrové podobì, bitové
masky, sprity, kurzory my¹i) a pøedev¹ím textury naná¹ené na vykreslované
polygony.</i></p>

<p>Postupný vývoj èipù urèených pro 3D akceleraci je naznaèen
v&nbsp;následující tabulce. Jsou v&nbsp;ní vypsány nìkteré èipy (i860 je
dokonce samostatnì pracující mikroprocesor), na které zhruba na pøelomu
tisíciletí navázaly výkonnìj¹í 3D akcelerátory druhé generace, kterými se
budeme zabývat pozdìji.</p>

<table>
<tr><th>Akcelerátor/èip</th><th>Rok vydání</th></tr>
<tr><td>Intel i860         </td><td>1989</td></tr>
<tr><td>Voodoo Graphics PCI</td><td>1996</td></tr>
<tr><td>S3 Savage 3D       </td><td>1998</td></tr>
<tr><td>Intel i740         </td><td>1998</td></tr>
</table>



<p><a name="k02"></a></p>
<h2>2. Základní operace provádìné 3D akcelerátory</h2>

<p>Zjednodu¹enì je mo¾né øíci, ¾e základní operací, kterou musí tyto 3D
grafické akcelerátory provádìt, je zobrazení vyplnìných trojúhelníkù
s&nbsp;korektním øe¹ením jejich vzájemného pøekryvu podle vzdálenosti od
pozorovatele (kamery). Tato základní operace v¹ak musí být pro reálné pou¾ití
(pøedev¹ím v&nbsp;poèítaèových hrách) v&nbsp;nìkolika smìrech roz¹íøena,
proto¾e trojúhelník mù¾e být osvìtlený jedním èi nìkolika svìtelnými zdroji
nebo mù¾e být pokrytý texturou, popø.&nbsp;obojím (k&nbsp;tomu je¹tì
pøipoèítejme mo¾nost vykreslení poloprùhledných trojúhelníkù, které vy¾aduje
ponìkud obtí¾nìj¹í pøípravu 3D scény pøed jejím vykreslením). Dále mù¾e být
povrch prostorových tìles reprezentovaný polygony s&nbsp;vìt¹ím poètem vrcholù,
tak¾e je &ndash; v&nbsp;pøípadech, kdy se jedná o polygony nekonvexní &ndash;
zapotøebí provádìt výpoèetnì nároènou <i>tesselaci</i> obecných polygonù na
jednodu¹¹í trojúhelníky. V&nbsp;neposlední øadì je ¾ádoucí provádìt
pokroèilej¹í operace s&nbsp;vykreslovanými tìlesy (resp.&nbsp;s jejich
povrchem), napøíklad postupné skrývání objektù v&nbsp;mlze (<i>fog</i>),
bilineární èi trilineární filtraci textur (pøedev¹ím pøi pou¾ití mipmappingu)
nebo provádìní antialiasingu pøi vykreslování (<i>supersampling, adaptive
antialiasing</i>).</p>

<img src="http://i.iinfo.cz/images/660/pc93-2.jpg" alt="pc93" height="260" width="368" />
<p><i>Obrázek 2: Slavná Uta¾ská èajová konvice (Utah teapot) vykreslená pomocí
grafického akcelerátoru. Povrch konvice byl pøed provedením vykreslování
programovì pøeveden ze spline ploch na sí» trojúhelníkù. Pro ka¾dý vrchol
trojúhelníku bylo vypoètena jeho barva pomocí Phongova osvìtlovacího modelu a
trojúhelníky byly následnì vykresleny s&nbsp;vyu¾itím Gouraudova stínování,
které interpoluje barvu v&nbsp;ka¾dém bodì povrchu trojúhelníku na základì
pozice tohoto bodu oproti vrcholùm trojúhelníku. Algoritmus Gouraudova
stínování je tak jednoduchý, ¾e ho bylo mo¾né relativnì snadno implementovat i
v&nbsp;první generaci 3D grafických akcelerátorù.</i></p>



<p><a name="k03"></a></p>
<h2>3. GPU, OpenGL a Direct3D</h2>

<p>První generace grafických akcelerátorù dostupná pro poèítaèe PC sice
nedokázala provádìt ve¹keré vý¹e zmínìné operace, ov¹em grafické subsystémy se
neustále zrychlují a zdokonalují, èím¾ je umo¾nìna aplikace stále vìt¹ího
mno¾ství grafických algoritmù pøímo na èipech grafického akcelerátoru. To je
dùle¾ité zejména v&nbsp;situacích, kdy se kromì vlastního zobrazování pou¾ívají
i dal¹í výpoèty nad vykreslovanou scénou, napøíklad fyzikální simulace èi
výpoèet trajektorie a pøípadných kolizí pohybujících se tìles. V&nbsp;tomto
pøípadì je vhodné ponechat co nejvíce výpoèetního výkonu mikroprocesoru pro
výpoèet simulací a ve¹keré grafické algoritmy èi co jejich nejvìt¹í èást
provádìt na specializovaném zaøízení &ndash; grafickém procesoru <i>GPU</i>
(<i>Graphics Processor Unit</i>), který se stává nedílnou souèástí prakticky
v¹ech grafických èipù a nìkteré jeho vlastnosti (pøedev¹ím paralelní zpracování
dat, hluboké zøetìzení operací &ndash; <i>pipelining</i>) pøedurèují <i>GPU</i>
i k&nbsp;tomu, ¾e se pomocí nich provádí i dal¹í (negrafické) algoritmy.</p>

<img src="http://i.iinfo.cz/images/660/pc93-3.jpg" alt="pc93" height="260" width="368" />
<p><i>Obrázek 3: Utah teapot zobrazený s&nbsp;odlesky zpùsobenými odrazem
svìtelných paprskù od jeho povrchu. Tento efekt nìkteré grafické akcelerátory
z&nbsp;první generace nedokázaly vytvoøit (neobsahovaly jednotku pro výpoèet
osvìtlovacího modelu), proto se musely odlesky pøedpoèítat (a ulo¾it napøíklad
formou textury, která modulovala texturu základní). Moderní grafické
akcelerátory ji¾ mají implementován celý osvìtlovací model, tedy i výpoèet
odleskù.</i></p>

<p>Za zmínku stojí také skuteènost, ¾e témìø v¹echny postupy, které jsou dnes
implementovány na popisovaných grafických akcelerátorech, je mo¾né vyjádøit èi
popsat pomocí funkcí dvou v&nbsp;souèasnosti nejpou¾ívanìj¹ích rozhraní pro 3D
grafiku: <i>OpenGL</i> a <i>Direct3D</i> (v&nbsp;minulosti bylo pro
akcelerátory s&nbsp;èipy firmy <i>3dfx</i> vyvinuto i pomìrnì populární
rozhraní <i>GLIDE</i>, které dokázalo vyu¾ít i takové vlastnosti grafických
akcelerátorù, které nebyly v&nbsp;tehdej¹ích verzích <i>OpenGL</i> a
vznikajícího <i>DirectX</i> dostupné). Unifikované rozhraní je výhodné
pøedev¹ím pro programátory aplikací, kteøí mohou jednotnì vytváøet aplikace,
které budou funkèní na témìø v¹ech grafických akcelerátorech této kategorie.
Pokud není nìjaký grafický efekt èi trik pøímo implementován na akcelerátoru
(napøíklad skrývání objektù v&nbsp;mlze), je zvolen jeho (obecnì pomalej¹í)
programový výpoèet nebo se efekt vùbec neaplikuje. Pìkným pøíkladem je
napøíklad takzvaný <i>bump mapping</i>, který je mo¾né vynechat za cenu
vizuálního &bdquo;vyrovnání&ldquo; pùvodnì nerovných povrchù.</p>

<img src="http://i.iinfo.cz/images/660/pc93-4.jpg" alt="pc93" height="392" width="410" />
<p><i>Obrázek 4: Trojrozmìrná scéna vykreslená s&nbsp;vyu¾itím efektu mlhy
(fog), který byl ve své nejjednodu¹¹í podobì implementován ji¾ na prvních
grafických 3D akcelerátorech pro PC vybavených èipy 3dfx (Voodoo Graphics
PCI).</i></p>



<p><a name="k04"></a></p>
<h2>4. Mikroprocesor Intel i860 &ndash; Cray on a Chip?</h2>

<p>Je¹tì pøed popisem grafických akcelerátorù reálnì pou¾ívaných na poèítaèích
PC se zmiòme a zajímavém (i kdy¾ komerènì neúspì¹ném) projektu firmy Intel,
který se v&nbsp;nìkolika ohledech podobá ji¾ popsané architektuøe <i>TIGA</i>,
i kdy¾ samotná interní struktura obou èipù byla odli¹ná. Firma Intel navrhla a
následnì na konci roku 1989 pøedstavila nový typ mikroprocesoru
s&nbsp;architekturou <i>RISC</i> a instrukèní sadou typu <i>VLIW</i>
(v&nbsp;jednom instrukèním slovì je zakódováno vìt¹í mno¾ství operací, ka¾dá
z&nbsp;nich urèená pro jinou jednotku na èipu), který nazvala <i>Intel i860</i>
a v&nbsp;propagaèních materiálech ponìkud nadnesenì oznaèovala sloganem
&bdquo;Cray on a Chip&ldquo;. Jednalo se v&nbsp;podstatì o výkonný signálový
procesor (<i>DSP &ndash; Digital Signal Processor</i>) podporující celoèíselné
i základní FP operace, který byl navíc vybavený jednotkou specializovanou pro
provádìní grafických operací pou¾itelných napøíklad pøi vyplòování
trojúhelníkù, vykreslování poloprùhledných ploch atd.</p>

<img src="http://i.iinfo.cz/images/660/pc93-5.jpg" alt="pc93" height="450" width="450" />
<p><i>Obrázek 5: Mikroprocesor Intel i860.</i></p>

<p>Mikroprocesor <i>i860</i> obsahoval 32 tøicetidvoubitových registrù urèených
pro provádìní bì¾ných celoèíselných aritmetických i logických operací a dále
pak 16 registrù o ¹íøce 64 bitù (rozdìlitelných na 32 tøicetidvoubitových
registrù) pou¾itelných pro operace provádìné s&nbsp;hodnotami ulo¾enými ve
formátu plovoucí øádové teèky (èárky). Kromì klasické aritmeticko-logické
jednotky (ALU) tento procesor obsahoval i dvì specializované jednotky, které
dohromady mù¾eme oznaèit jako zjednodu¹ený, ale o to rychlej¹í matematický
koprocesor. První z&nbsp;tìchto jednotek byl <i>FP adder</i>, s&nbsp;jeho¾
pomocí bylo mo¾né provádìt souèty, rozdíly, porovnání a konverze èísel
ulo¾ených v&nbsp;systému plovoucí øádové teèky. Druhá jednotka nazvaná <i>FP
multiplier</i> slou¾ila k&nbsp;souèinu dvou èísel a takté¾ k&nbsp;výpoètu
pøevrácené hodnoty. V¹echny tøi základní jednotky, tj.&nbsp;ALU, FP adder a FP
multiplier pracovaly paralelnì, pøièem¾ paralelismus byl podporován pøímo
v&nbsp;instrukèní sadì (viz vý¹e uvedená zmínka o instrukèní sadì typu <i>VLIW
&ndash; Very Long Instruction Word</i>).</p>

<img src="http://i.iinfo.cz/images/660/pc93-6.png" alt="pc93" height="240" width="320" />
<p><i>Obrázek 6: Pøi výpoètu mlhy (viz pøedchozí obrázek) je nutné provést pro
ka¾dý vykreslovaný fragment (fragment je, zjednodu¹enì øeèeno, entita nesoucí
informaci o jednom pixelu doplnìnou o dal¹í atributy, napøíklad
hloubku/vzdálenost fragmentu od pozorovatele) smíchání pùvodní barvy fragmentu
s&nbsp;barvou mlhy, pøièem¾ pomìr mezi pùvodní barvou a barvou mlhy je urèen na
základì vzdálenosti fragmentu od pozorovatele a hustoty mlhy. Tuto operaci lze
na mikroprocesoru Intel i860 implementovat pomìrnì snadno, pøedev¹ím pøi
pou¾ití jeho &bdquo;grafických&ldquo; operací.</i></p>



<p><a name="k05"></a></p>
<h2>5. Podpora grafických operací mikroprocesorem Intel i860</h2>

<p>Vra»me se v¹ak k&nbsp;podpoøe grafických operací mikroprocesorem <i>Intel
i860</i>. Tyto operace byly implementovány pøímo v&nbsp;jeho instrukèní sadì
&ndash; kromì bì¾ných instrukcí urèených pro provádìní operací s&nbsp;operandy
reprezentovanými v&nbsp;systému pevné i pohyblivé øádové èárky (<i>fixed
point</i>, <i>floating point</i>) rozpoznával mikroprocesor deset instrukcí
provádìjících grafické operace. Jednalo se napøíklad o operace umo¾òující práci
s&nbsp;pixely (ètení, zápis, konverze z&nbsp;rùzných formátù, míchání barev) èi
práci se Z-bufferem (testování hodnoty ulo¾ené v&nbsp;registru oproti hodnotì
ulo¾ené v&nbsp;Z-bufferu). Nejednalo se tedy o stejné operace, jaké mù¾eme
najít na moderních grafických akcelerátorech, ale o urèitou podporu pro
vykreslovací (renderovací) algoritmy, které mohly s&nbsp;výhodou vyu¾ít
mo¾nosti soubì¾ného zpracování nìkolika operací mikroprocesorem (tento typ
paralelismu byl pøímo øízený pøekladaèem, na rozdíl od dne¹ních superskalárních
procesorù vybavených obvody, které instrukce samy rozdìlují mezi jednotlivé
jednotky).</p>

<img src="http://i.iinfo.cz/images/660/pc93-7.png" alt="pc93" height="280" width="450" />
<p><i>Obrázek 7: Operace s&nbsp;fragmenty provádìné pøi rasterizaci
trojúhelníkù èi obecnìj¹ích konvexních polygonù na grafickém akcelerátoru.
Naznaèené operace s&nbsp;fragmenty je mo¾né pomìrnì snadno programovì
implementovat i na mikroprocesoru Intel i860 s&nbsp;vyu¾itím specializovaných
grafických instrukcí.</i></p>

<p>Aby byla rychlost provádìní grafických operací dostateèná, provádìly se
operace v¾dy nad vìt¹ím mno¾stvím dat, napøíklad nad ètveøicí èi osmicí pixelù,
jejich¾ hodnoty byly ulo¾ené v&nbsp;registrech pùvodnì urèených pro operace
s&nbsp;plovoucí øádovou teèkou (FP). Tato technologie byla pozdìji po nìkolika
úpravách pøedstavena i na platformì <i>x86</i> pod jménem <i>MMX</i>. Výkonnost
grafických operací byla na dobu vzniku mikroprocesoru pomìrnì uspokojivá:
mikroprocesor napøíklad dokázal zkonvertovat a následnì vystínovat Gouraudovým
stínováním a¾ 50&nbsp;000 trojúhelníkù za sekundu, pøièem¾ se poèítá
s&nbsp;tím, ¾e plocha ka¾dého trojúhelníku je prùmìrnì 100 pixelù. Jediný
problém, který èásteènì zapøíèinil neúspìch celého mikroprocesoru <i>i860</i>,
spoèíval v&nbsp;tom, ¾e optimalizaci kódu musel provádìt buï pøímo programátor
v&nbsp;assembleru (nepou¾itelné na vìt¹í projekty) nebo pøekladaè; ov¹em
kvalita tehdej¹ích pøekladaèù nebyla tak dobrá do té míry, aby se vyu¾ila celá
výpoèetní síla tohoto mikroprocesoru (viz následující tabulka
s&nbsp;teoretickými hodnotami).</p>

<table>
<tr><th>Mikroprocesor</th><th>Hodinová frekvence</th><th>Výpoèetní výkon</th></tr>
<tr><td>i860  </td><td>40 MHz</td><td>80 MFLOPS (single precision)</td></tr>
<tr><td>i860  </td><td>40 MHz</td><td>60 MFLOPS (double precision)</td></tr>
<tr><td>i860XR</td><td>40 MHz</td><td>80 MFLOPS (double precision)</td></tr>
<tr><td>i860XR</td><td>40 MHz</td><td>42 SPECmark</td></tr>
</table>



<p><a name="k06"></a></p>
<h2>6. Grafický akcelerátor Voodoo 1</h2>

<p>Pøi popisu první generace grafických akcelerátorù urèených pro osobní
poèítaèe PC samozøejmì nesmíme zapomenout na slavný grafický akcelerátor
<i>Voodoo 1</i>, který se záhy po svém uvedení na trh stal po dobu cca 1,5 roku
ikonou akcelerované 3D grafiky. Tento grafický akcelerátor se do poèítaèe
pøipojoval pøes sbìrnici PCI. Jednalo se pøitom &ndash; co¾ je mo¾ná
z&nbsp;dne¹ního pohledu neobvyklé, ale z&nbsp;obchodního hlediska velmi dobré
øe¹ení &ndash; o doplnìk ke grafické kartì, co¾ v&nbsp;praxi znamenalo, ¾e pro
bì¾nou práci s&nbsp;poèítaèem (textové i grafické re¾imy) se vyu¾ívalo funkcí
grafické karty (VGA, SVGA atd.) a teprve pøi práci s&nbsp;trojrozmìrnými
scénami se výstup z&nbsp;grafické karty zakázal a její funkci pøevzal grafický
akcelerátor <i>Voodoo 1</i>, který tak nemusel obsahovat VGA BIOS, zaruèovat
kompatibilitu s&nbsp;VGA ani dal¹í funkce oèekávané od bì¾né 2D grafické karty.
Tvùrci <i>Voodoo 1</i> tak mohli své èipy optimalizovat pouze pro 3D
grafiku.</p>

<a href="http://i.iinfo.cz/images/660/pc93-8.jpg"><img src="http://i.iinfo.cz/images/660/pc93-8-prev.jpg" alt="pc93" height="256" width="370" /></a>
<p><i>Obrázek 8: Grafický akcelerátor Voodoo 1. Na plo¹ném spoji mù¾eme vidìt
dvojici èipù tvoøících srdce grafického akcelerátoru &ndash; FBI a TMU. Po levé
stranì se nachází dvojice patnáctipinových konektorù. Jeden z&nbsp;konektorù
slou¾il k&nbsp;propojení mezi grafickou kartou a grafickým akcelerátorem, druhý
konektor pak k&nbsp;pøipojení monitoru.</i></p>



<p><a name="k07"></a></p>
<h2>7. Grafické operace podporované akcelerátorem Voodoo 1</h2>

<p>Akcelerátor <i>Voodoo 1</i> obsahoval dvojici patnáctipinových konektorù
DVI. Na první konektor se pomocí krátkého kabelu pøipojoval výstup
z&nbsp;grafické karty (karta si tedy &bdquo;myslela&ldquo;, ¾e posílá video
signál na monitor, ve skuteènosti ho v¹ak pøedávala do grafického
akcelerátoru). Na konektor druhý se buï posílal signál z&nbsp;grafické karty
(pøemostìní) nebo naopak signál generovaný pøímo grafickým akcelerátorem
(nìkteré karty <i>Voodoo 1</i> pro pøepínání video signálu pou¾ívaly relé,
které sly¹itelnì &bdquo;cvakalo&ldquo; pøi spu¹tìní 3D akcelerace). O
vykreslování 3D scén se starala dvojice specializovaných èipù nazvaných
<i>FBI</i> a <i>TMU</i>. Èip <i>FBI</i> neboli <i>Pixelfx</i> zaji¹»oval
komunikaci s&nbsp;poèítaèem, pøístup do lineárního framebufferu (obrazové
pamìti), implementoval Gouraudovo stínování (pomocí interpolátorù), funkci
Z-bufferu (pamìti hloubky), ditheringu obrazu a takté¾ výpoèet efektu mlhy.
Naproti tomu èip <i>TMU</i> neboli <i>Texelfx</i> slou¾il pro mapování textur,
bilineární a trilineární filtraci textur a mipmapping.</p>

<p>Video pamì» slo¾ená z&nbsp;modulù EDO DRAM, mìla kapacitu 4 MB, pøièem¾ byla
rozdìlena na dvì poloviny. První 2 MB slou¾ily pro framebuffer, tj.&nbsp;pro
ulo¾ení rastrového obrazu a &bdquo;zadní&ldquo; buffer (pøi pou¾ití double
bufferingu), ale i pro pamì» hloubky (Z-buffer). Tato pamì»ová kapacita
umo¾òovala pou¾ití double bufferingu pro rozli¹ení 640&times;480 pixelù pøi
pou¾ití 16bitové barevné hloubky a 16bitového Z-bufferu (informace v&nbsp;nìm
mohly být ulo¾eny buï jako celá èísla nebo hodnoty v&nbsp;pohyblivé øádové
èárce pøedstavující pøevrácenou hodnotu vzdálenosti fragmentù od pozorovatele,
dùvod si vysvìtlíme pøí¹tì). Potøebná kapacita video pamìti je v&nbsp;tomto
pøípadì rovna: 640&times;480&times;2&times;3=1843200 bajtù (konstanta 3 znamená
pøední buffer + zadní buffer + Z-buffer, konstanta 2 samozøejmì 16 bitù na
pixel èi fragment). Druhé 2 MB video pamìti byly urèeny pro ulo¾ení textur a
jejich zpracování èipem <i>TMU</i>.</p>

<p>Podrobnìj¹í informace o tomto (z&nbsp;hlediska vývoje 3D grafiky) významném
grafickém akcelerátoru si uvedeme v&nbsp;následující èásti seriálu.</p>



<p><a name="k08"></a></p>
<h2>8. Obsah dal¹ího pokraèování seriálu</h2>

<p>V&nbsp;následující èásti seriálu o architekturách poèítaèù si podrobnìji
popí¹eme vnitøní strukturu a funkci dal¹ích grafických akcelerátorù. Pøedev¹ím
se budeme zabývat èipem <i>Intel i740</i>, který jako první nabídl u¾ivatelùm
grafický akcelerátor urèený pro sbìrnici <i>AGP</i> se v¹emi výhodami, které
tato sbìrnice nabízí (Intel mìl v&nbsp;tomto ohledu nad ostatními výrobci
grafických akcelerátorù výhodu, proto¾e kromì detailní znalosti AGP tento
grafický èip pøizpùsobil svému èipsetu i440). Jedná se pøedev¹ím o mo¾nost
ulo¾ení textur pøímo v&nbsp;operaèní pamìti poèítaèe s&nbsp;tím, ¾e grafický
akcelerátor mù¾e automaticky naèítat ty èásti textur, které potøebuje pøi
vykreslování celé trojrozmìrné scény, z&nbsp;operaèní pamìti bez nutnosti
meziulo¾ení textur v&nbsp;pamìti texturovací. Tento zpùsob práce grafického
akcelerátoru je sice pomalej¹í ne¾ pøímé pou¾ití video pamìti (zde speciálnì
texturovací pamìti), ov¹em umo¾òuje pomìrnì výrazné sní¾ení ceny celého
grafického akcelerátoru. Právì z&nbsp;tohoto dùvodu byly grafické akcelerátory
vybavené èipem <i>Intel i740</i> i pøes ni¾¹í grafický výkon v&nbsp;na¹ich
krajinách velmi oblíbené.</p>

<a href="http://i.iinfo.cz/images/660/pc93-9.jpg"><img src="http://i.iinfo.cz/images/660/pc93-9-prev.jpg" alt="pc93" height="270" width="360" /></a>
<p><i>Obrázek 9: Grafická karta osazená èipem Intel i740.</i></p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>25 Microchips That Shook the World<br />
<a href="http://www.synbio.org.uk/scientific-computing-news/1351.html">http://www.synbio.org.uk/scientific-computing-news/1351.html</a>
</li>

<li>Sprite (computer graphics)<br />
<a href="http://en.wikipedia.org/wiki/Sprite_(computer_graphics)">http://en.wikipedia.org/wiki/Sprite_(computer_graphics)</a>
</li>

<li>Sprite (poèítaèová grafika)<br />
<a href="http://cs.wikipedia.org/wiki/Sprite_(poèítaèová_grafika)">http://cs.wikipedia.org/wiki/Sprite_(poèítaèová_grafika)</a>
</li>

<li>Wikipedia: Video Display Controller<br />
<a href="http://en.wikipedia.org/wiki/Video_Display_Controller">http://en.wikipedia.org/wiki/Video_Display_Controller</a>
</li>

<li>3dfx Voodoo1 PCI<br />
<a href="http://www.v3info.de/english/html/v1.shtml">http://www.v3info.de/english/html/v1.shtml</a>
</li>

<li>Glide 2.2 Programming Guide<br />
<a href="http://www.gamers.org/dEngine/xf3D/glide/glidepgm.htm">http://www.gamers.org/dEngine/xf3D/glide/glidepgm.htm</a>
</li>

<li>Glide API<br />
<a href="http://en.wikipedia.org/wiki/Glide_API">http://en.wikipedia.org/wiki/Glide_API</a>
</li>

<li>S3 Graphics<br />
<a href="http://www.s3graphics.com/en/index.aspx">http://www.s3graphics.com/en/index.aspx</a>
</li>

<li>TSENG ET6000 Performance Page<br />
<a href="http://dani75.tripod.com/TSENG.htm">http://dani75.tripod.com/TSENG.htm</a>
</li>

<li>Tseng Labs Ships ET6000 Advanced Graphics Chip, Announces Additional Manufacturing Sources<br />
<a href="http://www.encyclopedia.com/doc/1G1-18088868.html">http://www.encyclopedia.com/doc/1G1-18088868.html</a>
</li>

<li>CyberMax chooses Tseng Labs' ET6000 Graphics and Video Controller for Max and ProMax Series PCs<br />
<a href="http://findarticles.com/p/articles/mi_m0EIN/is_1996_Oct_9/ai_18754932/">http://findarticles.com/p/articles/mi_m0EIN/is_1996_Oct_9/ai_18754932/</a>
</li>

<li>Intel i860<br />
<a href="http://en.wikipedia.org/wiki/Intel_860">http://en.wikipedia.org/wiki/Intel_860</a>
</li>

<li>Intel i860 64-Bit Microprocessor<br />
<a href="http://www.microprocessor.sscc.ru/i860.html">http://www.microprocessor.sscc.ru/i860.html</a>
</li>

<li>S3 Savage<br />
<a href="http://en.wikipedia.org/wiki/S3_Savage">http://en.wikipedia.org/wiki/S3_Savage</a>
</li>

<li>Savage (S3)<br />
<a href="http://www.economy-point.org/s/savage-s3.html">http://www.economy-point.org/s/savage-s3.html</a>
</li>

<li>Intel i740<br />
<a href="http://en.wikipedia.org/wiki/Intel740">http://en.wikipedia.org/wiki/Intel740</a>
</li>

<li>Intel i740 Datasheet<br />
<a href="ftp://download.intel.com/support/graphics/intel740/29061902.pdf">ftp://download.intel.com/support/graphics/intel740/29061902.pdf</a>
</li>

<li>Intel740(TM) Graphics Accelerator P854 Hardware<br />
<a href="ftp://download.intel.com/support/graphics/intel740/29062202.pdf">ftp://download.intel.com/support/graphics/intel740/29062202.pdf</a>
</li>

<li>3dfx Interactive<br />
<a href="http://en.wikipedia.org/wiki/3dfx_Voodoo_Graphics">http://en.wikipedia.org/wiki/3dfx_Voodoo_Graphics</a>
</li>

<li>Intel 860@cpu-collection<br />
<a href="http://www.cpu-collection.de/?l0=co&l1=Intel&l2=i860">http://www.cpu-collection.de/?l0=co&l1=Intel&l2=i860</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

