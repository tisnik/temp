<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Grafické karty MCGA a VGA</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Grafické karty MCGA a VGA</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù a jejich grafických subsystémech budou popsány dal¹í grafické karty pro poèítaèe PC. Jedná se o první karty, které umo¾òovaly pou¾ití grafických re¾imù s 256 barvami, co¾ mìlo velký vliv napøíklad na rozvoj her, grafických editorù nebo animaèních programù (Autodesk Animator).</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Grafický adaptér MCGA</a></p>
<p><a href="#k02">2. Textové a grafické re¾imy MCGA</a></p>
<p><a href="#k03">3. Rozhraní pro pøipojení monitoru k&nbsp;adaptéru MCGA</a></p>
<p><a href="#k04">4. Grafická karta VGA</a></p>
<p><a href="#k05">5. Textové re¾imy podporované kartou VGA</a></p>
<p><a href="#k06">6. Standardní grafické re¾imy karty VGA</a></p>
<p><a href="#k07">7. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Grafický adaptér MCGA</h2>

<p>Grafický adaptér <i>MCGA</i>, neboli celým názvem <i>MultiColor Graphics
Array</i>, navrhla firma IBM pro svoji známou øadu poèítaèù PS/2, konkrétnì pro
modely PS/2 25 a PS/2 30 (jedná se o nejni¾¹í model z&nbsp;celé øady PS/2).
V&nbsp;podstatì se jedná o znaènì zjednodu¹enou (a z&nbsp;tohoto dùvodu i
levnou) variantu grafické karty <i>VGA</i>, která bude popsána v&nbsp;dal¹ím
textu. V&nbsp;pùvodním návrhu firmy IBM byl adaptér <i>MCGA</i> integrován
pøímo na základní desce, co¾ je podstatný rozdíl oproti døíve popsaným
grafickým kartám <i>MDA</i>, <i>CGA</i>, <i>EGA</i> i <i>Hercules</i>, u nich¾
byla striktnì dodr¾ena základní idea poèítaèù IBM PC &ndash; velká variabilita
spoèívající v&nbsp;umístìní vìt¹iny modulù poèítaèe na pøídavné karty a nikoli
pøímo na základní desku (pùvodnì nebyly na základní desce dokonce osazeny ani
obvody pro paralelní èi sériové porty, které bývaly souèástí jiných karet,
vèetnì nìkterých karet grafických &ndash; viz napøíklad grafická karta
<i>Hercules</i> èi zvuková karta <i>AdLib</i>).</p>

<a href="http://i.iinfo.cz/images/577/pc86-1.png"><img src="http://i.iinfo.cz/images/577/pc86-1-prev.png" alt="pc86" height="270" width="360" /></a>
<p><i>Obrázek 1: Èeský textový editor T602 spu¹tìný v&nbsp;dvoubarevném
grafickém re¾imu s&nbsp;rozli¹ením 640&times;480. V&nbsp;obrazové pamìti se pro
tento re¾im muselo alokovat celkem 640&times;480/8=38400 bajtù.</i></p>

<p>Firma IBM se sna¾ila, aby grafický adaptér <i>MCGA</i> nahradil v&nbsp;té
dobì ji¾ zcela nevyhovující a zastaralou grafickou kartu <i>CGA</i>.
Z&nbsp;tohoto dùvodu je <i>MCGA</i> s&nbsp;touto kartou sluèitelná, ov¹em
s&nbsp;tím rozdílem, ¾e není mo¾né pou¾ít pùvodní typy monitorù, proto¾e je zde
pou¾it nový typ rozhraní s&nbsp;analogovými barvonosnými signály. <i>MCGA</i>
v¹ak není zpìtnì kompatibilní s&nbsp;grafickou kartou <i>EGA</i>, na rozdíl od
karty <i>VGA</i>, kde je zpìtná kompatibilita s&nbsp;pøedchozí øadou grafických
karet firmy IBM vyøe¹ena lep¹ím zpùsobem (a¾ na úroveò øídicích registrù),
ov¹em na úkor zvý¹ené slo¾itosti pøi nastavování textových èi grafických
re¾imù, co¾ bylo èásteènì odstínìno slu¾bami BIOSu. Kapacita obrazové pamìti
byla v&nbsp;pøípadì grafického adaptéru <i>MCGA</i> rovna 64 kB, co¾ je obecnì
ménì, ne¾ u grafické karty <i>EGA</i>, která mohla být osazena a¾ 256 kB video
pamìti èi karty <i>VGA</i> osazené v¾dy 256 kB. Z&nbsp;pomìrnì malé kapacity
obrazové pamìti pak vyplývají i omezené mo¾nosti grafických re¾imù popsané
v&nbsp;dal¹ím textu, ale souèasnì i ji¾ zmiòovaná nízká cena.</p>

<img src="http://i.iinfo.cz/images/577/pc86-2.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 2: Úvodní obrazovka populární hry Tank Wars, která vyu¾ívala
grafický re¾im adaptéru MCGA s&nbsp;rozli¹ením 320&times;200 pixelù
s&nbsp;mo¾ností zobrazení 256 barev.</i></p>



<p><a name="k02"></a></p>
<h2>2. Textové a grafické re¾imy MCGA</h2>

<p>Grafický adaptér <i>MCGA</i> podporoval nìkolik nových grafických re¾imù,
které bylo mo¾né nastavit i pomocí slu¾eb BIOSu (pøesnìji øeèeno &ndash; tyto
re¾imy jsou stále souèástí BIOSu, tak¾e jsou dostupné i v&nbsp;souèasnosti).
V&nbsp;textových re¾imech byly znaky ve znakové sadì definovány pomocí masky o
velikosti 8&times;16 pixelù (re¾im s&nbsp;25 textovými øádky), resp. 8&nbsp;8
pixelù (re¾im s&nbsp;padesáti textovými øádky), co¾ znamená, ¾e se oproti dále
popisované grafické kartì <i>VGA</i> (ale i vùèi <i>MDA</i> èi
<i>Herculesu</i>) sní¾ilo horizontální rozli¹ení ze 720 pixelù na 640 pixelù,
tak¾e èitelnost textu byla o poznání hor¹í. Zpùsob uspoøádání video pamìti
v&nbsp;textových re¾imech je kompatibilní se v¹emi pøedchozími kartami: ka¾dý
znak je reprezentován dvojicí bajtù, pøièem¾ do prvního bajtu se ukládal kód
znaku (roz¹íøená sada ASCII) a do bajtu druhého barva popøedí, barva pozadí a
popø.&nbsp;i dal¹í atributy, napøíklad pøíznak podtr¾ení èi blikání
(v&nbsp;závislosti na konfiguraci textového re¾imu).</p>

<img src="http://i.iinfo.cz/images/577/pc86-3.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 3: Prostøedí hry Tank Wars.</i></p>

<p>Kromì textových re¾imù byly u tohoto grafického adaptéru zavedeny dva nové
rastrové grafické re¾imy. V&nbsp;prvním re¾imu bylo mo¾né zobrazit rastrový
obraz o rozli¹ení 640&times;480 pixelù, ale pouze ve dvou barvách,
tj.&nbsp;s&nbsp;vyu¾itím jediné bitové roviny. Více bitových rovin nebylo mo¾né
v&nbsp;tomto re¾imu pou¾ít z&nbsp;dùvodu malé kapacity obrazové pamìti, proto¾e
pro dvoubarevný rastrový obraz v&nbsp;rozli¹ení 640&times;480 pixelù je
zapotøebí alokovat 640&times;480/8=38400 bajtù z&nbsp;dostupných 65536 bajtù.
Ve druhém grafickém re¾imu se zobrazoval rastr o rozli¹ení 320&times;200 pixelù
v&times;256 barvách, pøièem¾ obrazová pamì» byla vyu¾ita témìø stoprocentnì:
320&times;200=64000 bajtù z&nbsp;65536. Tento grafický re¾im se stal velmi
populární, zejména v¹ak ve spojitosti s&nbsp;grafickou kartou <i>VGA</i>, kde
nabízel mnohem více mo¾ností (napøíklad scrolling obrazu v&nbsp;libovolném
smìru, re¾im rozdìlené obrazovky, double èi triple buffering atd.).</p>

<img src="http://i.iinfo.cz/images/577/pc86-4.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 4: Hra Tank Wars potøetí &ndash; zásah protivníka.</i></p>



<p><a name="k03"></a></p>
<h2>3. Rozhraní pro pøipojení monitoru k&nbsp;adaptéru MCGA</h2>

<p>Èasování synchronizaèních signálù v&nbsp;obou vý¹e zmínìných grafických
re¾imech je stejné, jako v&nbsp;pøípadì dále popsané grafické karty <i>VGA</i>.
V&nbsp;re¾imu s&nbsp;rozli¹ením 640&times;480 pixelù je snímková frekvence
nastavena na 60 Hz, v&nbsp;re¾imu s&nbsp;rozli¹ením 320&times;200 pixelù na 70
Hz. Shodné bylo i rozhraní pro pøipojení monitoru ke grafickému adaptéru.
Poprvé se zde objevuje konektor typu DE-15, který je po nepatrných modifikacích
funkce nìkterých pinù (roz¹íøení o DDC a DDC-2) pou¾íván i dnes &ndash; viz <a
href="http://pinouts.ru/Video/VGA15_pinout.shtml">VGA pinout</a>. Díky tomu, ¾e
barvonosné signály (R, G, B) jsou analogové, není maximální poèet barev omezen
na ¹estnáct barev tak, jak je tomu u monitorù pro grafickou kartu <i>EGA</i>, u
ní¾ se ka¾dá barvová slo¾ka pøená¹ela pomocí dvojice binárních (TTL) signálù.
Pro ka¾dou slo¾ku tedy bylo mo¾né nastavit pouze ètyøi intenzity: nulovou,
tøetinovou, dvoutøetinovou a maximální.</p>

<img src="http://i.iinfo.cz/images/577/pc86-5.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 5: Mnohé hry pro IBM PC, napøíklad zde zobrazený dungeon Lands of
Lore, vyu¾ívaly standardní grafický re¾im s&nbsp;rozli¹ením 320&times;200
pixelù.</i></p>

<p>V&nbsp;pøípadì grafických adaptérù <i>MCGA</i> i <i>VGA</i> je v¹ak
intenzita ka¾dé barvové slo¾ky reprezentována ¹esticí bitù, tj.&nbsp;je nutné
rozli¹it 64 úrovní ka¾dé základní barvy (celkový poèet barevných odstínù je
tedy 64<sup>3</sup>=262144). Právì z&nbsp;tohoto dùvodu se informace o barvách
pixelù pøená¹í pomocí analogových signálù, u nich¾ je poèet úrovní omezen
pøedev¹ím ¹umem digitálnì-analogového pøevodníku na stranì grafické karty a
(analogových) obvodù v&nbsp;monitoru (plnì digitální pøenos by sice byl mo¾ný,
napøíklad s&nbsp;vyu¾itím vhodného sériového protokolu, nicménì v&nbsp;dobách
monitorù s&nbsp;CRT by to znamenalo zvý¹enou slo¾itost monitorù, nehledì na
nutnost pou¾ití velkého pøenosového pásma). Roz¹íøení poètu úrovní barvových
slo¾ek je v&nbsp;tomto pøípadì jednoduché, co¾ se ukázalo pøi pøechodu na
modernìj¹í a výkonnìj¹í grafické karty s&nbsp;vìt¹í kapacitou obrazové pamìti,
které umo¾òovaly rozli¹ení 256 úrovní ka¾dé barvové slo¾ky a tím pádem i
mo¾nost zobrazení 256<sup>3</sup>=16777216 barevných odstínù.</p>

<img src="http://i.iinfo.cz/images/577/pc86-6.jpg" alt="pc86" height="400" width="320" />
<p><i>Obrázek 6: První i druhý díl známé plo¹inovky Prince of Persia takté¾
vyu¾ívaly grafický re¾im s&nbsp;rozli¹ením 320&times;200 pixelù.</i></p>



<p><a name="k04"></a></p>
<h2>4. Grafická karta VGA</h2>

<p>Dal¹ím &ndash; a to dosti podstatným &ndash; technologickým roz¹íøením
grafických karet <i>CGA</i> a <i>EGA</i> vznikla grafická karta <i>VGA</i>,
její¾ název je odvozen ze sousloví <i>Video Graphics Array</i>. Slovo
<i>array</i> v&nbsp;tomto kontextu znaèí, ¾e celá karta byla vytvoøena na
jednom èipu, samozøejmì kromì nezbytných krystalù a pamì»ových modulù tvoøících
obrazovou pamì». Tato grafická karta byla poprvé pou¾ita firmou IBM
v&nbsp;poèítaèích øady IBM PS/2 (kromì dvou nejni¾¹ích modelù, ve kterých byl
nainstalován vý¹e popsaný grafický adaptér <i>MCGA</i>). V&nbsp;tìchto typech
poèítaèù v¹ak je¹tì <i>VGA</i> nebyla realizována jako samostatná grafická
karta, ale jednalo se o èipy a pomocné souèástky umístìné pøímo na základní
desce. Teprve pozdìji byla <i>VGA</i> nabízena i jako samostatná karta urèená
pro ¹estnáctibitovou sbìrnici ISA &ndash; právì tuto variantu karty <i>VGA</i>
(vyrábìnou v&nbsp;mnoha obmìnách i dal¹ími firmami, nejenom samotnou IBM) zná
vìt¹ina u¾ivatelù osobních poèítaèù.</p>

<img src="http://i.iinfo.cz/images/577/pc86-7.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 7: Hra F29 Retaliator firmy Ocean kupodivu vyu¾ívala
¹estnáctibarevný grafický re¾im s&nbsp;rozli¹ením 320&times;200 pixelù, který
byl kompatibilní i s&nbsp;kartou EGA.</i></p>

<p>Grafická karta <i>VGA</i> je do znaèné míry, tj.&nbsp;a¾ na úroveò øídicích
registrù, zpìtnì kompatibilní s&nbsp;ji¾ popsanými grafickými kartami
<i>CGA</i>, <i>EGA</i> a <i>MCGA</i> (nikoli v¹ak s&nbsp;<i>Herculesem</i>),
av¹ak s&nbsp;tím pochopitelným rozdílem, ¾e není mo¾né pou¾ít pùvodní monitory,
proto¾e se zmìnily frekvence synchronizaèních signálù i samotné rozhraní pro
pøipojení monitorù. Velikost obrazové pamìti je rovna 256&nbsp;kB, proto¾e
v&nbsp;nejvy¹¹ím oficiálnì podporovaném grafickém re¾imu se pro framebuffer
(obrazovou pamì») alokuje místo o kapacitì 150 kB &ndash; viz dal¹í text.
Vzhledem k&nbsp;omezením daným BIOSem a DOSem (samotné mikroprocesory ji¾
dokázaly v&nbsp;dobì nástupu karty <i>VGA</i> adresovat v&nbsp;chránìném re¾imu
minimálnì ¹estnáctimegabajtový pamì»ový prostor; stejný adresní rozsah nabízela
i sbìrnice ISA) se v¹ak nedá pøímo adresovat
celá obrazová pamì», viditelné je v¾dy jedno èi dvì &bdquo;okna&ldquo;, ka¾dé o
velikosti 64 kB, pøièem¾ ¾ádný z&nbsp;oficiálnì podporovaných grafických re¾imù
nevyu¾ívá souèasnì obì okna.</p>

<img src="http://i.iinfo.cz/images/577/pc86-8.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 8: Dal¹í z&nbsp;¹estnáctibarevných snímkù hry F29 Retaliator.
Dojem, ¾e je vyu¾ito více barev, je zpùsoben pou¾itím ditheringu.</i></p>

<p>Jedním z&nbsp;dùvodù pro toto chování je i to, ¾e v&nbsp;poèítaèi mù¾e být
kromì grafické karty <i>VGA</i> nainstalována napøíklad i karta <i>MDA</i> èi
<i>Hercules</i>, která s&nbsp;kartou <i>VGA</i> jedno pamì»ové okno musí sdílet
(opìt se jedná o dùvody dané omezením BIOSu a DOSu, proto¾e pro mapování
obrazové pamìti do adresního prostoru procesoru byly vyhrazeny pouze dva
segmenty zaèínající na adresách 0xa000:0000 a 0xb000:0000). Prakticky v¹echny
grafické karty, které jsou dnes vyrábìné, jsou s&nbsp;grafickou kartou
<i>VGA</i> zpìtnì kompatibilní; její grafické re¾imy jsou pou¾ity napøíklad pøi
inicializaci nìkterých graficky orientovaných operaèních systémù. Ostatnì
vìt¹ina moderních PCèek má pøi startu BIOSu nastaven jeden z&nbsp;grafických
re¾imù karty <i>VGA</i>, typicky se jedná o ¹estnáctibarevný re¾im
s&nbsp;rozli¹ením 640&times;400 pixelù, popø.&nbsp;720&times;400 pixelù.</p>

<img src="http://i.iinfo.cz/images/577/pc86-9.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 9: Pøi vykreslování palubní desky F29 je opìt pou¾it
dithering.</i></p>



<p><a name="k05"></a></p>
<h2>5. Textové re¾imy podporované kartou VGA</h2>

<p>U grafické karty <i>VGA</i> se pøi práci s&nbsp;textovým re¾imem vìt¹inou
pou¾ívá efektivní rozli¹ení 720&times;400 pixelù, co¾ umo¾òuje v&nbsp;pøípadì
standardního textového módu s&nbsp;25 øádky a 80 sloupci vytváøet znaky
v&times;masce o velikosti 9&times;16 pixelù. Výsledkem je velká èitelnost textu
a souèasnì i pomìrnì ergonomická obnovovací frekvence 70 Hz (v¹echny re¾imy
karty <i>VGA</i>, které zobrazovaly 200 èi 400 øádkù mìly nastavenu tuto
obnovovací frekvenci). Tento textový re¾im se dodnes pou¾ívá, a to jak bìhem
startu poèítaèe (napøíklad pøi zobrazení tabulky s&nbsp;konfigurací zaøízení),
tak i v&nbsp;BIOSu (Award BIOS apod.), DOSu a mnohdy té¾ i pro Linux a BSD
bì¾ící v&nbsp;konzolovém re¾imu (runlevel 3 apod.). Textový re¾im je mo¾né
zmìnou konfiguraèních registrù pøeprogramovat. Napøíklad je mo¾né zvý¹it
vertikální rozli¹ení na 480 obrazových linek (to odpovídá tøiceti textovým
øádkùm pøi pou¾ití masky znakù 9&times;16 pixelù), ale sní¾í se tím obnovovací
frekvence na pouhých 60 Hz.</p>

<a href="http://i.iinfo.cz/images/577/pc86-10.png"><img src="http://i.iinfo.cz/images/577/pc86-10-prev.png" alt="pc86" height="247" width="370" /></a>
<p><i>Obrázek 10: Hra Scorched Earth (ve své podstatì vylep¹ená varianta vý¹e zmínìné
hry Tank Wars) mohla být spu¹tìna jak ve standardním grafickém re¾imu
s&nbsp;rozli¹ením 320&times;200 pixelù, tak i v&nbsp;nìkterém
z&nbsp;roz¹íøených re¾imù (X-mód, Y-mód atd.), zde napøíklad v&nbsp;re¾imu
naprogramovaném pomocí øídicích registrù karty VGA na rozli¹ení 360&times;480
pixelù.</i></p>

<p>Vý¹ku znakù je mo¾né, nezávisle na poètu obrazových øádkù, mìnit
v&nbsp;rozsahu 1&ndash;32 obrazových linek; napøíklad pøi vý¹ce znakù rovné 14
obrazovým øádkùm a pou¾ití efektivního rozli¹ení 720&times;400 pixelù se poèet
textových øádkù zvý¹í z&nbsp;25 na 28. Pro zaji¹tìní co nejvìt¹í programové
kompatibility se star¹ími grafickými kartami se dá zmen¹it i ¹íøka znakù
z&nbsp;devíti pixelù na pixelù osm, ale tento zpùsob vede k&nbsp;pomìrnì znaèné
degradaci èitelnosti. Dal¹í vlastnosti textového re¾imu jsou shodné
s&nbsp;minule popsanou kartou <i>EGA</i> &ndash; znaková sada je umístìna ve
tøetí bitové rovinì (v&nbsp;první rovinì jsou ASCII kódy znakù, v&nbsp;rovinì
druhé pak barvové atributy) a celkový poèet znakù ve znakové sadì je roven buï
256 (standardní nastavení) nebo 512 (vyu¾ito nìkterými vyspìlej¹ími textovými
editory). V&nbsp;pøípadì 512 znakù ve znakové sadì je jeden bit
z&nbsp;atributového bajtu pou¾it pro výbìr spodní nebo horní poloviny tabulky
znakù.</p>

<a href="http://i.iinfo.cz/images/577/pc86-11.png"><img src="http://i.iinfo.cz/images/577/pc86-11-prev.png" alt="pc86" height="247" width="370" /></a>
<p><i>Obrázek 11: Herní prostøedí hry Scorched Earth spu¹tìné v&nbsp;re¾imu o
rozli¹ení 360&times;480 pixelù.</i></p>



<p><a name="k06"></a></p>
<h2>6. Standardní grafické re¾imy karty VGA</h2>

<p>V&nbsp;pøedchozím textu jsme si øekli, ¾e grafická karta <i>VGA</i> je
zpìtnì kompatibilní s&nbsp;kartami <i>MDA</i>, <i>CGA</i> i <i>EGA</i>. Týká se
to samozøejmì i grafických re¾imù, co¾ znamená, ¾e øídicí registry karty
<i>VGA</i> umo¾òovaly takové nastavení, které vedlo k&nbsp;emulaci v¹ech
grafických re¾imù nabízených kartami <i>CGA</i> i <i>EGA</i>, samozøejmì vèetnì
struktury video pamìti (re¾im sudá/lichá u karty <i>CGA</i>, bitové roviny
karty <i>EGA</i>, 64barevná paleta této karty atd.). Navíc je mo¾né pomocí
slu¾eb VGA BIOSu nastavit dva nové standardní grafické re¾imy. První
z&nbsp;tìchto re¾imù nabízí rozli¹ení 640&times;480 pixelù pøi mo¾nosti
zobrazení maximálnì ¹estnácti barev. Ve své podstatì se jedná o roz¹íøení
grafického re¾imu karty <i>EGA</i> s&nbsp;rozli¹ením 640&times;350 pixelù,
proto¾e &bdquo;pouze&ldquo; do¹lo ke zvý¹ení vertikálního rozli¹ení, které je
umo¾nìno vy¹¹ími frekvencemi krystalù, které generují jak oba synchronizaèní
signály (horizontální i vertikální), tak i hodinový signál pou¾itý pøi pøístupu
do obrazové pamìti (pixel clock), který je v&nbsp;pøípadì tohoto re¾imu roven
25,175 MHz.</p>

<a href="http://i.iinfo.cz/images/577/pc86-12.png"><img src="http://i.iinfo.cz/images/577/pc86-12-prev.png" alt="pc86" height="270" width="360" /></a>
<p><i>Obrázek 12: Textový editor T602 bì¾ící v&nbsp;grafickém re¾imu karty VGA
s&nbsp;rozli¹ením 640&times;480 pixelù.</i></p>

<p>Podobnì jako u karty <i>EGA</i>, i v&nbsp;grafickém re¾imu
640&times;480&times;16 je obrazová pamì» rozdìlena do ètyø bitových rovin
mapovaných z&nbsp;hlediska mikroprocesoru do segmentu
<strong>0xa000:0000</strong> a¾ <strong>0xa000:ffff</strong>. Ètení èi zápis
dat do bitových rovin není provádìn pøímo, proto¾e mezi mikroprocesor a
obrazovou pamì» jsou vlo¾eny takzvané záchytné registry (<i>latch</i>) øízené
pomocí nìkolika konfiguraèních registrù. Existuje nìkolik navzájem odli¹ných
re¾imù práce tìchto registrù, z&nbsp;nich¾ pravdìpodobnì nejpou¾ívanìj¹ím
re¾imem je ètení èi zápis dat v¾dy pouze do jedné bitové roviny. Pøi zápisu je
v¹ak mo¾né data souèasnì zapisovat do libovolné kombinace bitových rovin, tak¾e
napøíklad vymazání obrazovky lze v&nbsp;praxi provést pouze zápisem
640&times;480/8=38400 bajtù (zápis do v¹ech ètyø bitových rovin souèasnì)
namísto skuteènì pøemazaných 640&times;480/2=153600 bajtù. Tento grafický re¾im
má je¹tì jedno prvenství &ndash; jedná se o první grafický re¾im poèítaèù IBM
PC, jeho¾ pixely mìly ètvercový tvar, co¾ umo¾nilo zjednodu¹it nìkteré
algoritmy.</p>

<img src="http://i.iinfo.cz/images/577/pc86-13.png" alt="pc86" height="200" width="320" />
<p><i>Obrázek 13: Dungeon Ishar vyu¾ívající grafický re¾im s&nbsp;rozli¹ením
320&times;200 pixelù a 256 barev.</i></p>

<p>Druhý standardní grafický re¾im, známý té¾ pod jménem &bdquo;mód 13h&ldquo;
nabízel programátorùm i u¾ivatelùm rozli¹ení 320&times;200 pixelù, ov¹em poèet
souèasnì zobrazitelných barev byl roven 256 z&nbsp;celkového poètu
2<sup>18</sup>=262144 barevných odstínù. Tento re¾im vznikl zøetìzením v¹ech
bitových rovin tak, ¾e barva prvního pixelu (osm bitù) je zapsána do první
bitové roviny (první bajt), barva druhého pixelu do druhé roviny (druhý bajt),
tøetí pixel (pøekvapivì) do tøetí bitové roviny, ètvrtý pixel do poslední
bitové roviny, barva pátého pixelu opìt do první roviny (pátý bajt) atd.
&ndash; viz té¾ obrázek èíslo 14, na kterém je naznaèena jak kombinace bitových
rovin, tak i metoda zobrazení pixelù na obrazovce. Pøi zøetìzení bitových rovin
je sice celých 75% obrazové pamìti nevyu¾ito, proto¾e v&nbsp;ka¾dé bitové
rovinì je adresovatelný v¾dy ka¾dý ètvrtý bajt, ale z&nbsp;hlediska procesoru
se celá obrazová pamì» jeví jako pole 320&times;200=64000 bajtù, pøièem¾ ka¾dý
bajt pøedstavuje index barvy jednoho pixelu &ndash; v&nbsp;reálném re¾imu
procesoru 80x86 si snad nelze pøedstavit jednodu¹¹í strukturu obrazové pamìti
:-), tak¾e není divu, ¾e se tento grafický re¾im stal velmi populární.</p>

<a href="http://i.iinfo.cz/images/577/pc86-14.png"><img src="http://i.iinfo.cz/images/577/pc86-14-prev.png" alt="pc86" height="270" width="360" /></a>
<p><i>Obrázek 14: Struktura obrazové pamìti v&nbsp;grafickém re¾imu
13h.</i></p>

<p>Na bázi re¾imu 320&times;200&times;256 vzniklo i velké mno¾ství
nestandardních grafických re¾imù, z&nbsp;nich¾ nejznámìj¹í je re¾im-X (mode-X,
X-mode), jím¾ se budeme zabývat v&nbsp;následující èásti tohoto seriálu.</p>



<p><a name="k07"></a></p>
<h2>7. Odkazy na Internetu</h2>

<ol>

<li>Support/peripheral/other chips - 6800 family<br />
<a href="http://www.cpu-world.com/Support/6800.html">http://www.cpu-world.com/Support/6800.html</a>
</li>

<li>Motorola 6845<br />
<a href="http://en.wikipedia.org/wiki/Motorola_6845">http://en.wikipedia.org/wiki/Motorola_6845</a>
</li>

<li>The 6845 Cathode Ray Tube Controller (CRTC)<br />
<a href="http://www.tinyvga.com/6845">http://www.tinyvga.com/6845</a>
</li>

<li>IBM Monochrome Display Adapter<br />
<a href="http://en.wikipedia.org/wiki/Monochrome_Display_Adapter">http://en.wikipedia.org/wiki/Monochrome_Display_Adapter</a>
</li>

<li>Color Graphics Adapter<br />
<a href="http://en.wikipedia.org/wiki/Color_Graphics_Adapter">http://en.wikipedia.org/wiki/Color_Graphics_Adapter</a>
</li>

<li>Wikipedia CZ: Sbìrnice:<br />
<a href="http://cs.wikipedia.org/wiki/Sb%C4%9Brnice">http://cs.wikipedia.org/wiki/Sb%C4%9Brnice</a></li>

<li>Wikipedia EN: Industry Standard Architecture:<br />
<a href="http://en.wikipedia.org/wiki/Industry_Standard_Architecture">http://en.wikipedia.org/wiki/Industry_Standard_Architecture</a></li>

<li>Enhanced Graphics Adapter<br />
<a href="http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter">http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter</a>
</li>

<li>IBM Multicolor Graphics Adapter<br />
<a href="http://en.wikipedia.org/wiki/MCGA">http://en.wikipedia.org/wiki/MCGA</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

