<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Mikroprocesory s architekturou ARM</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Mikroprocesory s architekturou ARM</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù (který je¹tì zdaleka neskonèil) se budeme zabývat popisem dal¹ích typù mikroprocesorù patøících do rodiny RISC. Bude se jednat o mikroprocesory s architekturou ARM, které sice byly navr¾eny ji¾ v polovinì osmdesátých let, ale to neznamená, ¾e by se jednalo o zastaralou technologii &ndash; ve skuteènosti je tomu právì naopak.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Mikroprocesory s&nbsp;architekturou ARM</a></p>
<p><a href="#k02">2. Vznik mikroprocesorù ARM</a></p>
<p><a href="#k03">3. Od projektu RISC I k&nbsp;mikroprocesorùm ARM</a></p>
<p><a href="#k04">4. Základní technické parametry mikroprocesorù ARM</a></p>
<p><a href="#k05">5. Výpoèetní výkon mikroprocesorù ARM</a></p>
<p><a href="#k06">6. Výpoèetní výkon je v¹ak jen jedním z&nbsp;dùle¾itých parametrù</a></p>
<p><a href="#k07">7. Instrukèní sada v&nbsp;pracovním re¾imu ARM</a></p>
<p><a href="#k08">8. Instrukèní sada Thumb</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Mikroprocesory s&nbsp;architekturou ARM</h2>

<p>V&nbsp;dne¹ní èásti snad nikdy nekonèícího :) seriálu <a
href="http://www.root.cz/serialy/co-se-deje-v-pocitaci/">o architekturách
poèítaèù</a> si popí¹eme dal¹í typ mikroprocesorù s&nbsp;architekturou RISC
(<i>Reduced Instruction Set Computers</i>). Jedná se o mikroprocesory
<i>ARM</i>, jejich¾ historie vzniku sice sahá a¾ do první poloviny osmdesátých
let minulého století, ov¹em moderní varianty tìchto èipù se dodnes pou¾ívají
v&nbsp;mnoha rùzných elektronických zaøízeních; dokonce mù¾eme v&nbsp;nìkterých
oblastech sledovat prudce zvý¹ený zájem o pou¾ití tìchto èipù, a to i u
spoleèností, které se v&nbsp;minulosti spoléhaly pøedev¹ím na mikroprocesory
s&nbsp;odli¹nou architekturou (øada <i>i386</i> doplnìná o <i>x86_64</i>
apod.). Mezi jednu z&nbsp;nejvìt¹ích pøedností èipù <i>ARM</i> patøí nízká
energetická nároènost a takté¾ to, ¾e vìt¹í a bohat¹í firmy si mohou zakoupit
licenci na pou¾ití jádra mikroprocesorù ARM ve svých integrovaných obvodech,
kde lze (pøímo na èipu) zkombinovat mikroprocesor s&nbsp;dal¹ími moduly,
napøíklad GPU, øadièem sítì, øadièem LCD atd.</p>

<a href="http://i.iinfo.cz/images/605/pc118sada1-3.jpg"><img src="http://i.iinfo.cz/images/605/pc118sada1-3-prev.jpg" width="370" height="257" alt=" " /></a>
<p><i>Obrázek 1: Osmibitový mikropoèítaè Acorn BBC Micro.</i></p>

<p>V&nbsp;souèasnosti se mù¾eme s&nbsp;integrovanými obvody obsahujícími jádro
mikroprocesoru <i>ARM</i> setkat v&nbsp;celé øadì rùzných elektronických
zaøízení, poèínaje (mo¾ná ponìkud nadnesenì øeèeno) ovladaèem výtahu pøes rùznì
výkonné smartphony, tablety, kapesní herní konzole, netbooky a¾ po, co¾ je
mo¾ná na první pohled ponìkud pøekvapivé, rùzné typy serverù urèených zejména
pro nasazení do dnes populárních <i>cloudù</i>. U v¹ech tìchto zaøízení se
ukazuje být velkou pøedností pomìrnì malá energetická nároènost mikroprocesorù
<i>ARM</i>, a to i v&nbsp;pøípadì serverù, proto¾e s&nbsp;tím, jak cena za
hardware obecnì postupnì klesá, tak souèasnì i celosvìtovì stoupá cena za
elektøinu, která se postupnì stává pomìrnì zásadním faktorem pøi provozování
serverovny èi cloudového centa (i kdy¾ je veøejným tajemstvím, ¾e ve
skuteènosti vypadá celý slavný &bdquo;cloud&ldquo; nìjak <a
href="http://xkcd.com/908/">takto</a> :-).</p>

<img src="http://i.iinfo.cz/images/605/pc118sada1-2.jpg" width="400" height="463" alt=" " />
<p><i>Obrázek 2: Dobový plakát s&nbsp;poèítaèem Acorn BBC Micro.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Vznik mikroprocesorù ARM</h2>

<p>Jak jsem se ji¾ zmínil <a href="#k02">v&nbsp;pøedchozí kapitole</a>, mají
mikroprocesory <i>ARM</i>, èi mo¾ná ponìkud lépe øeèeno procesory
s&nbsp;architekturou <i>ARM</i>, za sebou pomìrnì dlouhý vývoj, který zaèal ji¾
v&nbsp;první polovinì osmdesátých let minulého století. Celá historie vlastnì
zaèala ve spoleènosti, kterou si dnes s&nbsp;informatikou ani pøíli¹
nespojujeme. Jednalo se o britskou <i>BBC</i>, je¾ na poèátku osmdesátých let
minulého století, tedy zhruba v&nbsp;dobì kralování poèítaèù firmy
<i>Sinclair</i> na britských ostrovech, chtìla vytvoøit poèítaè vhodný pro
výuku, který by bylo mo¾né roz¹íøit jak mezi ¹koly, tak i na právì vznikající
trh s&nbsp;domácími osmibitovými mikropoèítaèi. Ov¹em vzápìtí se ukázalo, ¾e
samotná <i>BBC</i> nemá prostøedky na to, aby sama v&nbsp;rozumném èase navrhla
a následnì masovì vyrábìla poèítaè, který by mohl svými parametry i cenou
konkurovat domácím osmibitovým poèítaèùm vyrábìným specializovanými firmami,
které právì zaèaly pomìrnì pøekotným zpùsobem vznikat (popø.&nbsp;se jednalo o
divize ji¾ zavedených technologických firem). Z&nbsp;tohoto dùvodu <i>BBC</i>
vypsala tendr, z&nbsp;nìho¾ nakonec vy¹la vítìznì firma <i>Acorn Computers</i>
z&nbsp;Cambridge.</p>

<a href="http://i.iinfo.cz/images/605/pc118sada1-4.jpg"><img src="http://i.iinfo.cz/images/605/pc118sada1-4-prev.jpg" width="365" height="270" alt=" " /></a>
<p><i>Obrázek 3: Programovací jazyk BBC BASIC byl portován dokonce i na osobní
poèítaèe PC s&nbsp;nainstalovaným operaèním systémem Microsoft Windows.</i></p>

<p>Výsledkem spolupráce spoleènosti <i>BBC</i> s&nbsp;firmou <i>Acorn
Computers</i> byly nejdøíve poèítaèe nazvané <i>Acorn BBC Micro</i> vybavené
mj.&nbsp;i programovacím jazykem nesoucím název <i>BBC BASIC</i>. Jednalo se,
resp.&nbsp;stále se jedná, o velmi roz¹íøený dialekt BASICu, který je dnes
dostupný na nìkolika desítkách historických i souèasných platforem (samotný
interpret byl toti¾ pøepsán z&nbsp;assembleru do portabilního C a C++).
Poèítaèe <i>Acorn BBC Micro</i> byly vybavené levným a ve své dobì i dostateènì
výkonným osmibitovým mikroprocesorem <i>MOS 6502</i>. Tento procesor výkonovì
dostaèoval pro jednodu¹¹í úlohy naprogramované v&nbsp;BASICu èi ve strojovém
kódu (hry), ov¹em spoleènì se snahou o vytvoøení operaèního systému
s&nbsp;grafickým u¾ivatelským rozhraním se ukázalo, ¾e výkon osmibitového
mikroprocesoru nebude pro tyto úèely dostateèný. Nyní stála spoleènosti
<i>Acorn</i> na urèitém rozcestí: buï mohla pro své novìj¹í poèítaèe pou¾ít
nìkterý 16/32bitový mikroprocesor nabízený dal¹ími firmami (<i>Motorola
68000</i>, <i>Intel 80x86</i>), nebo se mohla pokusit navrhnout a implementovat
procesor vlastní. Nakonec bylo rozhodnuto o návrhu vlastního mikroprocesoru
(co¾ bylo mo¾ná ponìkud riskantní), ale díky velmi dobøe navr¾ené architektuøe
se tyto nové procesory &ndash; <i>ARM</i> &ndash; roz¹íøily a zaèaly se tì¹it
stále rostoucí popularitì.</p>

<a href="http://i.iinfo.cz/images/605/pc118sada1-5.png"><img src="http://i.iinfo.cz/images/605/pc118sada1-5-prev.png" width="370" height="210" alt=" " /></a>
<p><i>Obrázek 4: Screenshot obrazovky pùvodního BBC BASICu spu¹tìného
v&nbsp;emulátoru poèítaèe Acorn BBC Micro.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Od projektu RISC I k&nbsp;mikroprocesorùm ARM</h2>

<p>Pøi návrhu nového typu mikroprocesoru, který mìl být pojmenovaný <i>ARM
1</i>, se jeho tvùrci <i>Steve Furber</i> a <i>Sophie Wilson</i> nejprve
zamìøili na studium publikací o konstrukci mikroprocesorù, které byly
v&nbsp;osmdesátých letech dostupné. Nakonec se nechali inspirovat velmi
elegantní a souèasnì i pomìrnì jednoduchou architekturou <i>RISC I</i>. O
projektu <i>RISC I</i>, který vznikl na univerzitì v&nbsp;Berkeley, jsme se <a
href="http://www.root.cz/serialy/co-se-deje-v-pocitaci/">v&nbsp;tomto
seriálu</a> ji¾ zmiòovali, konkrétnì se jednalo <a
href="http://www.root.cz/clanky/mikroprocesory-s-architekturou-risc-i/">o èást
èíslo 147</a>. Pøipomeòme si, ¾e koneèný návrh architektury <i>RISC I</i> byl
zveøejnìn ji¾ v&nbsp;roce 1981 a zpùsobil mezi lidmi zabývajícími se návrhem a
konstrukcí poèítaèù velký zájem, proto¾e se tvùrcùm <i>RISCu I</i> (vývojový
tým se navíc skládal pøevá¾nì ze studentù) podaøilo na jediném èipu
s&nbsp;pøibli¾nì 44 tisíci tranzistory a 31 instrukcemi dosáhnout výpoèetního
výkonu <i>VAXu 11/780</i> (5 MHz).</p>

<img src="http://i.iinfo.cz/images/491/pc148-1.jpg" width="451" height="338" alt=" " />
<p><i>Obrázek 5: Osobní poèítaè firmy Acorn, který byl vybavený mikroprocesorem
ARM s&nbsp;architekturou RISC.</i></p>

<p>Navíc se <i>RISC I</i> mohl hravì srovnávat s&nbsp;v&nbsp;té dobì
nejpou¾ívanìj¹ími 16ti a 32bitovými mikroprocesory typu <i>Motorola 68000</i>
èi <i>Intel 8086</i> (èip <i>Intel 80286</i> byl komerènì dostupný a¾ o rok
pozdìji, ale i ten nijak výkonovì nevynikal nad architekturou <i>RISC I </i>).
<i>Steve Furber</i> a <i>Sophie Wilson</i> si øekli, ¾e pokud doká¾e skupina
studentù a nìkolik profesorù vyrobit èip minimálnì srovnatelný s&nbsp;výrobky
zavedených profesionálních firem, nemìla by s&nbsp;tím mít vìt¹í problémy ani
firma <i>Acorn</i>, samozøejmì za pøedpokladu, ¾e se jí podaøí navrhnout
mikroprocesor typu <i>RISC</i>, který bude implementaènì jednoduchý a pøitom
díky velkému mno¾ství pracovních registrù a víceøezové pipeline i dostateènì
výkonný. Tyto my¹lenky byly realizovány v&nbsp;èipu <i>ARM 1</i>, v&nbsp;nìm¾
mù¾eme vidìt jak inspiraci v&nbsp;<i>RISC I</i>, tak i v&nbsp;konkurenèních
mikroprocesorech <i>MIPS</i>. Velkým rozdílem v¹ak je zpùsob øe¹ení
problematiky podmínìných skokù, který je v&nbsp;pøípadì <i>ARM</i> odli¹ný (a
to dosti podstatným zpùsobem) od øe¹ení, ke kterému se uchýlili konstruktéøi
jiných typù mikroprocesorù typu <i>RISC</i>.</p>

<img src="http://i.iinfo.cz/images/491/pc148-2.png" width="320" height="256" alt=" " />
<p><i>Obrázek 6: Hra Zarch od známého programátora Davida Brabena (který je
spoluautorem slavné hry Elite) pro poèítaè Acorn Archimedes.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Základní technické parametry mikroprocesorù ARM</h2>

<p>Èipy <i>ARM 1</i> byly zalo¾eny na pipeline se tøemi øezy rozdìlujícími
vykonání ka¾dé instrukce do tøí fází: <i>fetch</i> (naètení operaèního kódu),
<i>decode</i> (dekódování a pøíprava operandù) a <i>execute</i> (vykonání
instrukce a zpìtný zápis). Interní i externí datová sbìrnice mìly ¹íøku 32 bitù
a i v¹echny instrukce v&nbsp;instrukèní sadì <i>ARM 1</i> mìly tuté¾ ¹íøku 32
bitù. Díky tomu se zjednodu¹ila øídicí logika v&nbsp;èipu, navíc bylo mo¾né
mìnit obsah èítaèe instrukcí <i>PC (r15)</i> ji¾ ve chvíli, kdy se vykonávala
fáze <i>decode</i> (výjimku samozøejmì tvoøily skoky). Vzhledem k&nbsp;tomu, ¾e
procesory s&nbsp;architekturou <i>RISC</i> pou¾ívají pøi pøístupu do operaèní
pamìti pouze instrukce typu <i>Load</i> a <i>Store</i>, musí být tyto èipy
vybaveny pomìrnì velkým poètem pracovních registrù. V&nbsp;pøípadì <i>ARM 1</i>
bylo na èipu umístìno celkem 37 registrù, z&nbsp;nich¾ ka¾dý mìl pevnou ¹íøku
32 bitù. Nìkteré registry byly pracovní, jiné mìly speciální význam, napøíklad
v&nbsp;nich byly ulo¾eny rùzné bitové pøíznaky. Zajímavé je, ¾e namísto
registrových oken pou¾itých u jiných procesorù typu <i>RISC</i> se
v&nbsp;pøípadì <i>ARM 1</i> objevuje rozdìlení registrù do skupin, podle toho,
v&nbsp;jakém stavu se mikroprocesor v&nbsp;daném okam¾iku nacházel.</p>

<img src="http://i.iinfo.cz/images/394/pc146-3.png" width="441" height="439" alt=" " />
<p><i>Obrázek 7: Jedna z&nbsp;alternativ k&nbsp;ARM: mikroprocesor
s&nbsp;instrukèní sadou MIPS. Èipy obsahující jádra tìchto RISCových
mikroprocesorù se v&nbsp;souèasnosti pou¾ívají v&nbsp;mnoha vestavìných
zaøízeních, napøíklad pøehrávaèích videa, routerech atd. I kdy¾ se jedná o málo
známou skuteènost, patøí mikroprocesory MIPS mezi jedny
z&nbsp;nejroz¹íøenìj¹ích typù procesorù souèasnosti a mo¾ná i pøekonávají
v&nbsp;celkovém poètu prodaných kusù architekturu i386/x86_64.</i></p>

<p>První testovací várka mikroprocesorù <i>ARM 1</i> byla dokonèena 26.4.1985.
Traduje se, ¾e hned první série tìchto èipù fungovala bez chyby, a to dokonce
bez nutnosti prùbì¾ného testování pøi výrobì. Vzhledem k&nbsp;tomu, ¾e se
jednalo o èipy urèené pouze pro demonstraèní úèely, nesetkáme se s&nbsp;nimi
v&nbsp;¾ádných historických poèítaèích. Ov¹em spoleènosti <i>Acorn</i>
výpoèetní výkon i dal¹í vlastnosti èipu <i>ARM 1</i> ukázaly, ¾e se jedná o
správnou cestu vývoje, tak¾e ji¾ v&nbsp;roce 1986 spatøil svìtlo svìta
mikroprocesor <i>ARM 2</i>. Ten se od svého pøedchùdce li¹il pøedev¹ím pøidáním
hardwarové násobièky, která byla, jak je ostatnì u procesorù
s&nbsp;architekturou <i>RISC</i> zvykem, oddìlena od vlastní
aritmeticko-logické jednotky a pracovala nezávisle a paralelnì s&nbsp;ALU. Mezi
dal¹í vylep¹ení patøilo zvý¹ení hodinové frekvence na 8 MHz, která ji¾
napøíklad staèila na to, aby mikroprocesor dokázal programovì a v&nbsp;reálném
èase zobrazit jednodu¹¹í 3D scény do framebufferu s&nbsp;rozli¹ením pøibli¾nì
640&times;400 pixelù vykreslené s&nbsp;vyu¾itím trojúhelníkù s&nbsp;flat
stínováním (a v&nbsp;pøípadì velké snahy i Gouraudovým stínováním).</p>

<a href="http://i.iinfo.cz/images/491/pc147-1.png"><img src="http://i.iinfo.cz/images/491/pc147-1-prev.png" width="355" height="270" alt=" " /></a>
<p><i>Obrázek 8: Maska pou¾itá pøi výrobì mikroprocesoru RISC I.<br />
Zdroj: C.E. Sequin and D.A.Patterson: Design and Implementation of RISC I</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Výpoèetní výkon mikroprocesorù ARM</h2>

<p><a href="#k04">V&nbsp;pøedchozí kapitole</a> jsme se zmínili o pomìrnì
vysokém výpoèetním výkonu èipu <i>ARM 2</i>. Pojïme si nyní pro zajímavost
tento výpoèetní výkon porovnat s&nbsp;konkurenèními èipy instalovanými do tehdy
populárních osobních poèítaèù i nìkterých pracovních stanic. Prvním
z&nbsp;tìchto èipù je <i>Intel 80286</i>, který na stejné hodinové frekvenci 8
MHz dosahoval výpoèetního výkonu pøibli¾nì 1,2 MIPS (¹pièkovì 1,5 MIPS) pro
16bitové operace, pøièem¾ 32bitové operace nebyly nativnì podporovány.
Konkurenèním èipem byl takté¾ slavný mikroprocesor <i>Motorola 68000 (68k)</i>,
který na shodné frekvenci 8 MHz mìl výpoèetní výkon pøibli¾nì 1 MIPS pro
16bitové operace (2 MIPS v&nbsp;syntetických testech) a 1/2 MIPS pro 32bitové
operace. Naproti tomu dosahoval výpoèetní výkon mikroprocesoru <i>ARM 2</i> pøi
pou¾ití 8 MHz hodin hodnoty 4 MIPS(!) co¾ je mimochodem výpoèetní výkon,
kterého dosahoval mikroprocesor <i>Motorola 68020</i>, ov¹em pøi pou¾ití
hodinové frekvence 20 MHz a nikoli jen 8 MHz:</p>

<table>
<tr><th>CPU</th><th>Frekvence</th><th>MIPS 16bit</th><th>MIPS 32bit</th></tr>
<tr><td>Intel 80286</td><td>8 MHz</td><td>1,2</td><td>&times;</td></tr>
<tr><td>Motorola 68000</td><td>8 MHz</td><td>1,0</td><td>0,5</td></tr>
<tr><td>ARM 2</td><td>8 MHz</td><td>&times;</td><td>4,0</td></tr>
</table>

<img src="http://i.iinfo.cz/images/491/pc147-6.jpg" width="450" height="454" alt=" " />
<p><i>Obrázek 9: Mikroprocesor øady UltraSPARC &ndash; jednalo se o alternativu
k&nbsp;procesorùm ARM v&nbsp;segmentu výkonných desktopù a serverù.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Výpoèetní výkon je v¹ak jen jedním z&nbsp;dùle¾itých parametrù</h2>

<p>Jak ji¾ mo¾ná tu¹íte, není pomìrnì velký výpoèetní výkon jediným kladem èipù
<i>ARM 2</i>. Druhou pøedností je malý poèet tranzistorù nutných pro
implementaci èipu. Pokraèujme tedy v&nbsp;porovnávání. Mikroprocesor
<i>Motorola 68000</i> byl realizován s&nbsp;vyu¾itím pøibli¾nì 68&nbsp;000
tranzistorù, z&nbsp;èeho¾ se takté¾ podle nìkterých zdrojù odvozuje jeho
èíselné oznaèení (spí¹e je to v¹ak náhoda a oznaèení odkazuje na vùbec první
mikroprocesor <i>Motoroly</i> &ndash; èip <i>M6800</i>). Na konstrukci
mikroprocesoru <i>Intel 80286</i> firma Intel skuteènì ne¹etøila, proto¾e na
jeho èip umístila celých 134&nbsp;000 tranzistorù. A jak je na tom výpoèetnì
mnohem výkonnìj¹í mikroprocesor <i>ARM 2</i>? Jeho konstruktéøi si vystaèili
s&nbsp;pouhými pøibli¾nì 30&nbsp;000 tranzistory (!), z&nbsp;èeho¾ nutnì
vyplývá, ¾e tyto tranzistory byly mnohem lépe vyu¾ity, ne¾ u obou pøedchozích
èipù. Právì nízký poèet tranzistorù nutných pro implementaci jádra <i>ARM</i>
se stal jedním z&nbsp;dùvodù malé spotøeby tìchto mikroprocesorù na jedné
stranì a na stranì druhé to umo¾nilo na jeden èip umístit vedle vlastního
mikroprocesoru i dal¹í moduly, napøíklad GPU.</p>

<p>Na tomto místì mo¾ná není na ¹kodu si pøipomenout, ¾e mikroprocesor <i>RISC
I</i> (ideový pøedchùdce èipù <i>ARM</i>) z&nbsp;roku 1980 obsahoval pouze 44
tisíc tranzistorù a pøesto bylo na plo¹e èipu implementováno celkem sedmdesát
osm 32bitových pracovních registrù. Jeho následovník <i>RISC II</i> byl dokonce
implementován pouze s&nbsp;vyu¾itím 39000 tranzistorù, co¾ je ji¾ porovnatelné
s&nbsp;ARMy. Zajímavé je porovnání tìchto èipù s&nbsp;typickým zástupcem
architektury <i>CISC</i>, tj.&nbsp;procesory firmy Intel, pøedev¹ím
s&nbsp;osmibitovou øadou <i>Intel 8008/8080</i>, na ní¾ navazuje øada
¹estnáctibitových mikroprocesorù <i>Intel 80x86</i> a posléze i øada
<i>IA-64</i> s&nbsp;procesory <i>Itanium</i>:</p>

<table>
<tr><th>Mikroprocesor</th><th>Bitù</th><th>Datum</th><th>Tranzistorù</th><th>Frekvence [MHz]</th><th>©íøka spojù [nm]</th></tr>
<tr><td>4004</td><td>   4</td><td>1971</td><td>        2 250</td><td>   0.1</td><td>10 000</td></tr>
<tr><td>8008</td><td>   8</td><td>1972</td><td>        3 500</td><td>   0.2</td><td>10 000</td></tr>
<tr><td>8080</td><td>   8</td><td>1974</td><td>        6 000</td><td>   2.0</td><td> 6 000</td></tr>
<tr><td>8088</td><td>16/8</td><td>1979</td><td>       29 000</td><td>   8.0</td><td> 3 000</td></tr>
<tr><td>8086</td><td>  16</td><td>1978</td><td>       29 000</td><td>   8.0</td><td> 3 000</td></tr>
<tr><td>80286</td><td>  16</td><td>1982</td><td>      134 000</td><td>  12.5</td><td> 1 500</td></tr>
<tr><td>80386</td><td>  32</td><td>1985</td><td>      275 000</td><td>  20.0</td><td> 1 500</td></tr>
<tr><td>80486</td><td>  32</td><td>1989</td><td>    1 200 000</td><td>  25.0</td><td> 1 000</td></tr>
<tr><td>Pentium</td><td>  32</td><td>1993</td><td>    3 100 000</td><td>  66.0</td><td>   800</td></tr>
<tr><td>Pentium</td><td>  32</td><td>1994</td><td>    3 300 000</td><td>  75.0</td><td>   600</td></tr>
<tr><td>Pentium</td><td>  32</td><td>1995</td><td>    3 300 000</td><td> 120.0</td><td>   350</td></tr>
<tr><td>Pentium II</td><td>  32</td><td>1997</td><td>    7 500 000</td><td> 233.0</td><td>   350</td></tr>
<tr><td>Pentium II</td><td>  32</td><td>1998</td><td>    7 500 000</td><td> 300.0</td><td>   250</td></tr>
<tr><td>Pentium III</td><td>  32</td><td>1999</td><td>    9 500 000</td><td> 450.0</td><td>   250</td></tr>
<tr><td>Pentium III</td><td>  32</td><td>2000</td><td>   28 000 000</td><td> 533.0</td><td>   180</td></tr>
<tr><td>Pentium 4</td><td>  32</td><td>2000</td><td>   42 000 000</td><td>1500.0</td><td>   180</td></tr>
<tr><td>Pentium 4</td><td>  32</td><td>2002</td><td>   55 000 000</td><td>2200.0</td><td>   130</td></tr>
<tr><td>Pentium 4</td><td>  32</td><td>2004</td><td>  125 000 000</td><td>2800.0</td><td>    90</td></tr>
<tr><td>Pentium 4</td><td>  32</td><td>2006</td><td>  188 000 000</td><td>3200.0</td><td>    65</td></tr>
<tr><td>Itanium</td><td>  64</td><td>2001</td><td>   25 000 000</td><td> 733.0</td><td>   180</td></tr>
<tr><td>Itanium 2</td><td>  64</td><td>2003</td><td>  220 000 000</td><td> 900.0</td><td>   180</td></tr>
<tr><td>Itanium 2</td><td>  64</td><td>2004</td><td>  592 000 000</td><td>1300.0</td><td>   130</td></tr>
<tr><td>Itanium 2</td><td>  64</td><td>2006</td><td>1 720 000 000</td><td>1400.0</td><td>    90</td></tr>
<tr><td>Core 2</td><td>  64</td><td>2006</td><td>  291 000 000</td><td>1860.0</td><td>    65</td></tr>
<tr><td>Core 2</td><td>  64</td><td>2008</td><td>  800 000 000</td><td>&nbsp;</td><td>    45</td></tr>
</table>

<p>Z&nbsp;této tabulky je patrné, ¾e první generace 32bitových mikroprocesorù
<i>ARM</i> èi <i>RISC I/II</i> byla implementována zhruba se stejným poètem
tranzistorù, jako ¹estnáctibitový mikroprocesor <i>8086</i> s&nbsp;mnohem
men¹ím výpoèetním výkonem.</p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Instrukèní sada v&nbsp;pracovním re¾imu ARM</h2>

<p>Mikroprocesory <i>ARM</i> byly zpoèátku vybaveny jedinou instrukèní sadou,
v&nbsp;ní¾ se nacházely instrukce o konstantní ¹íøce 32 bitù. Vzhledem
k&nbsp;tomu, ¾e ¹íøka externí datové sbìrnice byla rovna takté¾ 32 bitùm a
instrukce musely být zarovnané na celá slova, znamenalo to, ¾e se celá
instrukce v¾dy naèetla jedinou operací, co¾ je velký rozdíl oproti typickým
mikroprocesorùm s&nbsp;architekturou <i>CISC</i>, u nich¾ je délka instrukcí
promìnná a mnohdy mù¾e pøesahovat hranici slov (co¾ ve svém dùsledku vedlo
k&nbsp;nutnosti vytvoøení takzvané &bdquo;fronty instrukcí&ldquo;, její¾
vlastnosti se mj.&nbsp;vyu¾ívaly èi spí¹e zneu¾ívaly pøi tvorbì virù, které
ne¹lo odhalit debuggerem). Tuto instrukèní sadu lze na procesorech <i>ARM</i>
pou¾ívat dodnes a její nejvìt¹í pøedností je mo¾nost uvést u
<strong>ka¾dé</strong> instrukce podmínku, pøi jejím¾ splnìní se má instrukce
provést (podrobnosti si øekneme pøí¹tì). Díky tomuto øe¹ení je mo¾né eliminovat
velké mno¾ství skokù, jejich¾ provedení je samozøejmì problematické, a to
nejenom na architektuøe <i>RISC</i>, ale i na procesorech <i>CISC</i>.</p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Instrukèní sada Thumb</h2>

<p>I pøes mnohé pøednosti 32bitové instrukèní sady <i>ARM</i> se v¹ak
v&nbsp;nìkterých pøípadech projevují její nevýhody. Jedná se pøedev¹ím o to, ¾e
pou¾ití 32bitových instrukcí mù¾e zmen¹ovat &bdquo;hustotu&ldquo; kódu, co¾ se
projevuje vìt¹í délkou binárních souborù, vìt¹í pravdìpodobností výpadku
stránky z&nbsp;vyrovnávací pamìti a takté¾ (obecnì) vy¹¹í cenou za zaøízení
v&nbsp;pøípadì, ¾e je mikroprocesor pou¾it ve funkci mikroøadièe (zde se ji¾
mù¾e projevit cena za ka¾dý u¹etøený kilobajt pamìti ROM/EPROM/Flash
s&nbsp;programovým kódem). Z&nbsp;tohoto dùvodu jsou procesory <i>ARM</i>
patøící do novìj¹ích rodin vybaveny navíc dal¹í instrukèní sadou pojmenovanou
<i>Thumb</i>. Jedná se o instrukèní sadu obsahující podmno¾inu instrukcí
vybranou na základì analýzy strojových programù generovaných pøekladaèi jazykù
C a C++. Dále se v&nbsp;této instrukèní sadì neobjevují bity urèené pro
podmínìné provádìní instrukcí, co¾ znamená, ¾e je nutné se vrátit
k&nbsp;pou¾ití podmínìných skokù. Na druhou stranu se v¹ak délka <i>v¹ech</i>
instrukcí zkrátila na ¹estnáct bitù, co¾ dovoluje dosa¾ení vìt¹í
&bdquo;hustoty&ldquo; kódu.</p>

<p>Zavedení nové instrukèní sady není v&nbsp;tomto pøípadì tak slo¾ité, jak by
se mo¾ná mohlo zdát, proto¾e pøevod instrukce <i>Thumb</i> na pùvodní instrukci
<i>ARM</i> je zále¾itostí jednoduchého dekodéru, který mù¾e být napøíklad
umístìn v&nbsp;interní pamìti ROM èi pøímo &bdquo;zadrátován&ldquo; na èipu.
Jedná se tedy o øádovì jednodu¹¹í technologii, ne¾ jaká je pou¾ita na
procesorech <i>x86</i> pro pøeklad <i>CISC</i> instrukcí do sekvence interních
RISC-like instrukcí (zde se mù¾e jediná instrukce CISC rozlo¾it na sekvenci
nìkolika instrukcí RISC, popø.&nbsp;dokonce na celý podprogram). A ta nejlep¹í
zpráva na konec &ndash; s&nbsp;vyu¾itím speciální instrukce skoku je mo¾né se
pøepínat mezi instrukèní sadou <i>Thumb</i> a pùvodní instrukèní sadou
<i>ARM</i>, a to dokonce i v&nbsp;rámci jednotlivých funkcí. Programátor èi
pøekladaè tedy mù¾e vyu¾ívat pøedností obou instrukèních sad. Na závìr
poznamenejme, ¾e je¹tì existuje druhá verze instrukèní sady <i>Thumb 2</i>,
v&nbsp;ní¾ je mo¾né kombinovat 32bitové a 16bitové instrukce.</p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Odkazy na Internetu</h2>

<ol>

<li>Processors - ARM<br />
<a href="http://www.arm.com/products/processors/index.php">http://www.arm.com/products/processors/index.php</a>
</li>

<li>The ARM Instruction Set<br />
<a href="http://simplemachines.it/doc/arm_inst.pdf">http://simplemachines.it/doc/arm_inst.pdf</a>
</li>

<li>ARM Architecture (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/ARM_architecture">http://en.wikipedia.org/wiki/ARM_architecture</a>
</li>

<li>BBC BASIC<br />
<a href="http://www.bbcbasic.co.uk/bbcbasic.html">http://www.bbcbasic.co.uk/bbcbasic.html</a>
</li>

<li>BBC BASIC<br />
<a href="http://mdfs.net/Software/BBCBasic/">http://mdfs.net/Software/BBCBasic/</a>
</li>

<li>BBC BASIC (Z80) for the ZX Spectrum<br />
<a href="http://mdfs.net/Software/BBCBasic/Spectrum/">http://mdfs.net/Software/BBCBasic/Spectrum/</a>
</li>

<li>BBC BASIC (Wikipedia CZ)<br />
<a href="http://en.wikipedia.org/wiki/BBC_BASIC">http://en.wikipedia.org/wiki/BBC_BASIC</a>
</li>

<li>MIPS-3D(r) ASE<br />
<a href="http://www.mips.com/products/architectures/mips-3d-ase/">http://www.mips.com/products/architectures/mips-3d-ase/</a>
</li>

<li>An introduction to SPARC's SIMD offerings<br />
<a href="http://mikeburrell.wordpress.com/2007/12/14/an-introduction-to-sparcs-simd-offerings/">http://mikeburrell.wordpress.com/2007/12/14/an-introduction-to-sparcs-simd-offerings/</a>
</li>

<li>MIPS64<sup>TM</sup> Architecture for Programmers Volume IV-c: The MIPS-3D<sup>TM</sup> Application-Specific Extension to the MIPS64<sup>TM</sup><br />
<a href="http://www.weblearn.hs-bremen.de/risse/RST/docs/MIPS/MD00099-2B-MIPS3D64-AFP-01.11.pdf">http://www.weblearn.hs-bremen.de/risse/RST/docs/MIPS/MD00099-2B-MIPS3D64-AFP-01.11.pdf</a>
</li>

<li>Visual Instruction Set<br />
<a href="http://www.enotes.com/topic/Visual_Instruction_Set">http://www.enotes.com/topic/Visual_Instruction_Set</a>
</li>

<li>NEON<br />
<a href="http://www.arm.com/products/processors/technologies/neon.php">http://www.arm.com/products/processors/technologies/neon.php</a>
</li>

<li>Architecture and Implementation of the ARM Cortex-A8 Microprocessor<br />
<a href="http://www.design-reuse.com/articles/11580/architecture-and-implementation-of-the-arm-cortex-a8-microprocessor.html">http://www.design-reuse.com/articles/11580/architecture-and-implementation-of-the-arm-cortex-a8-microprocessor.html</a>
</li>

<li>Multimedia Acceleration eXtensions (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Multimedia_Acceleration_eXtensions">http://en.wikipedia.org/wiki/Multimedia_Acceleration_eXtensions</a>
</li>

<li>AltiVec (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/AltiVec">http://en.wikipedia.org/wiki/AltiVec</a>
</li>

<li>Visual Instruction Set (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Visual_Instruction_Set">http://en.wikipedia.org/wiki/Visual_Instruction_Set</a>
</li>

<li>MAJC (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/MAJC">http://en.wikipedia.org/wiki/MAJC</a>
</li>

<li>MDMX (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/MDMX">http://en.wikipedia.org/wiki/MDMX</a>
</li>

<li>MIPS Multiply Unit<br />
<a href="http://programmedlessons.org/AssemblyTutorial/Chapter-14/ass14_3.html">http://programmedlessons.org/AssemblyTutorial/Chapter-14/ass14_3.html</a>
</li>

<li>Silicon Graphics Introduces Enhanced MIPS Architecture<br />
<a href="http://bwrc.eecs.berkeley.edu/CIC/otherpr/enhanced_mips.html">http://bwrc.eecs.berkeley.edu/CIC/otherpr/enhanced_mips.html</a>
</li>

<li>MIPS-3D (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/MIPS-3D">http://en.wikipedia.org/wiki/MIPS-3D</a>
</li>

<li>MIPS Technologies, Inc. announces new MIPS-3D technology to provide silicon-efficient 3D graphics acceleration<br />
<a href="http://www.design-reuse.com/news/2057/mips-mips-3d-technology-silicon-efficient-3d-graphics-acceleration.html">http://www.design-reuse.com/news/2057/mips-mips-3d-technology-silicon-efficient-3d-graphics-acceleration.html</a>
</li>

<li>MIPS-3D Built-in Function (gcc.gnu.org)<br />
<a href="http://gcc.gnu.org/onlinedocs/gcc/MIPS_002d3D-Built_002din-Functions.html">http://gcc.gnu.org/onlinedocs/gcc/MIPS_002d3D-Built_002din-Functions.html</a>
</li>

<li>
Baha Guclu Dundar:<br />
Intel MMX, SSE, SSE2, SSE3/SSSE3/SSE4 Architectures
</li>

<li>
SSE (Streaming SIMD Extentions)<br />
<a href="http://www.songho.ca/misc/sse/sse.html">http://www.songho.ca/misc/sse/sse.html</a>
</li>

<li>
Timothy A. Chagnon: SSE and SSE2<br />
<a href="http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf">http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf</a>
</li>

<li>
Intel corporation: Extending the Worldr's Most Popular Processor Architecture<br />
<a href="http://download.intel.com/technology/architecture/new-instructions-paper.pdf">http://download.intel.com/technology/architecture/new-instructions-paper.pdf</a>
</li>

<li>
SIMD architectures:<br />
<a href="http://arstechnica.com/old/content/2000/03/simd.ars/">http://arstechnica.com/old/content/2000/03/simd.ars/</a>
</li>

<li>
Tour of the Black Holes of Computing!: Floating Point<br />
<a href="http://www.cs.hmc.edu/~geoff/classes/hmc.cs105.../slides/class02_floats.ppt">http://www.cs.hmc.edu/~geoff/classes/hmc.cs105.../slides/class02_floats.ppt</a>
</li>

<li>3Dnow! Technology Manual<br />
AMD Inc., 2000</li>

<li>Intel MMX<sup>TM</sup> Technology Overview<br />
Intel corporation, 1996</li>

<li>MultiMedia eXtensions<br />
<a href="http://softpixel.com/~cwright/programming/simd/mmx.php">http://softpixel.com/~cwright/programming/simd/mmx.php</a>i
</li>

<li>AMD K5 ("K5" / "5k86")<br />
<a href="http://www.pcguide.com/ref/cpu/fam/g5K5-c.html">http://www.pcguide.com/ref/cpu/fam/g5K5-c.html</a>
</li>

<li>Sixth Generation Processors<br />
<a href="http://www.pcguide.com/ref/cpu/fam/g6.htm">http://www.pcguide.com/ref/cpu/fam/g6.htm</a>
</li>

<li>Great Microprocessors of the Past and Present<br />
<a href="http://www.cpushack.com/CPU/cpu1.html">http://www.cpushack.com/CPU/cpu1.html</a>
</li>

<li>Very long instruction word (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Very_long_instruction_word">http://en.wikipedia.org/wiki/Very_long_instruction_word</a>
</li>

<li>CPU design (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/CPU_design">http://en.wikipedia.org/wiki/CPU_design</a>
</li>

<li>Control unit (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Control_unit">http://en.wikipedia.org/wiki/Control_unit</a>
</li>

<li>Cray History<br />
<a href="http://www.cray.com/About/History.aspx?404;http://www.cray.com:80/about_cray/history.html">http://www.cray.com/About/History.aspx?404;http://www.cray.com:80/about_cray/history.html</a>
</li>

<li>Cray Historical Timeline<br />
<a href="http://www.cray.com/Assets/PDF/about/CrayTimeline.pdf">http://www.cray.com/Assets/PDF/about/CrayTimeline.pdf</a>
</li>

<li>Computer Speed Claims 1980 to 1996<br />
<a href="http://homepage.virgin.net/roy.longbottom/mips.htm">http://homepage.virgin.net/roy.longbottom/mips.htm</a>
</li>

<li>Superpoèítaèe Cray<br />
<a href="http://www.root.cz/clanky/superpocitace-cray/">http://www.root.cz/clanky/superpocitace-cray/</a>
</li>

<li>Superpoèítaèe Cray (druhá èást)<br />
<a href="http://www.root.cz/clanky/superpocitace-cray-druha-cast/">http://www.root.cz/clanky/superpocitace-cray-druha-cast/</a>
</li>

<li>Superpoèítaèe Cray (tøetí èást)<br />
<a href="http://www.root.cz/clanky/superpocitace-cray-treti-cast/">http://www.root.cz/clanky/superpocitace-cray-treti-cast/</a>
</li>

<li>Superpoèítaèe Cray (ètvrtá èást)<br />
<a href="http://www.root.cz/clanky/superpocitace-cray-ctvrta-cast/">http://www.root.cz/clanky/superpocitace-cray-ctvrta-cast/</a>
</li>

<li>Superpoèítaèe Cray (pátá èást): architektura Cray X-MP<br />
<a href="http://www.root.cz/clanky/superpocitace-cray-pata-cast-architektura-pocitace-cray-x-mp-a-jeho-pouziti-ve-filmovem-prumyslu/">http://www.root.cz/clanky/superpocitace-cray-pata-cast-architektura-pocitace-cray-x-mp-a-jeho-pouziti-ve-filmovem-prumyslu/</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2012</small></p>
</body>
</html>

