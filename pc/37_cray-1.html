<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Superpoèítaèe Cray</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Superpoèítaèe Cray</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V&nbsp;pøedchozích èástech seriálu o historii výpoèetní techniky jsme se zabývali popisem mnoha typù rùzných více èi ménì významných poèítaèù, které dnes ji¾ tvoøí nedílnou souèást historie IT. Jedná se napøíklad o mainframy firmy IBM, Connection Machine, poèítaèe PDP nebo sovìtské poèítaèe Ural. Dnes si pøedstavíme stroje nesoucí jméno pravdìpodobnì nejznámìj¹ího konstruktéra poèítaèù v&nbsp;historii &ndash; Seymoura Craye.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Slavné superpoèítaèe Seymoura Craye</a></p>
<p><a href="#k02">2. Nejznámìj¹í modely superpoèítaèù Cray</a></p>
<p><a href="#k03">3. Základní rysy superpoèítaèù Cray</a></p>
<p><a href="#k04">4. Pracovních registrù není nikdy dost</a></p>
<p><a href="#k05">5. Vektorové operace a podmínìné operace s&nbsp;vektory</a></p>
<p><a href="#k06">6. Podmínìné operace se slo¾kami vektorù</a></p>
<p><a href="#k07">7. MHz nebo MFLOPS?</a></p>
<p><a href="#k08">8. Obsah následující èásti seriálu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Slavné superpoèítaèe Seymoura Craye</h2>

<p>Jak bylo zmínìno v&nbsp;perexu èlánku, v&nbsp;seriálu o historii výpoèetní
techniky jsme se ji¾ seznámili s&nbsp;mnoha typy poèítaèù, které jsou nedílnou
a pøitom dùle¾itou souèástí historie IT. Jedná se jak o první øady mainframù
firmy IBM (<i>IBM 7xx</i> a <i>IBM 7xxx</i>, posléze i <i>IBM/360</i>), tak i
poèítaèe <i>PDP</i>, na nich¾ mimochodem vznikla jak samotná koncepce Unixu,
tak i programovací jazyk C, jen¾ je nedílnou souèástí Unixu. Dále jsme se
zabývali superpoèítaèi <i>Connection Machines</i> programované vìt¹inou
v&nbsp;paralelní verzi LISPu a nakonec jsme se zmínili i o nìkterých poèítaèích
zkonstruovaných v&nbsp;SSSR a v&nbsp;dal¹ích zemích RVHP (samozøejmì vèetnì
bývalého Èeskoslovenska).  V&nbsp;této pøehlídce rùzných a mnohdy i velmi
kuriózních architektur (viz napøíklad poèítaè
&#1057;&#1077;&#1090;&#1091;&#1085;&#1100; pracující v&nbsp;trojkové soustavì,
který vznikl v&nbsp;SSSR) nám v¹ak stále je¹tì chybí jedna z&nbsp;nejznámìj¹ích
a nejpropracovanìj¹ích superpoèítaèových architektur; dokonce by se dalo øíci,
¾e se jedná o synonymum pro slovo &bdquo;superpoèítaè&ldquo;. Øeè je o strojích
nesoucích název <i>Cray</i>, jejich¾ konstruktérem byl <i>Seymour Cray</i>.</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-1.jpg" width="350" height="467" alt=" " />
<p><i>Obrázek 1: Celkový pohled na superpoèítaè Cray-1.</i></p>

<p>Tyto superpoèítaèe, známé pøedev¹ím díky ¹pièkovému výpoèetnímu výkonu a
také astronomickými sumami, za které je bylo mo¾né poøídit :-), byly
optimalizovány pro provádìní výpoètù se skalárními hodnotami, vektory i
maticemi, co¾ znamená, ¾e se jejich architektura pomìrnì znaènì odli¹ovala od
napøíklad ji¾ zmínìných strojù <i>Connection Machine</i>, které spí¹e
excelovaly pøi (symbolickém) zpracovávání strukturovaných údajù &ndash;
seznamù, stromù, grafù atd. Díky tomu, ¾e jedním z&nbsp;cílù poèítaèù
<i>Cray</i> byl co nejvìt¹í výpoèetní výkon, umis»ovaly se tyto stroje mezi
TOP10 nejvýkonnìj¹ích poèítaèù svìta. Dokonce i dnes je nejrychlej¹ím (reálnì
existujícím) poèítaèem na svìtì <i>Jaguar</i> neboli <i>Cray XT5</i>
s&nbsp;výpoèetním výkonem neuvìøitelných 1.75 PFLOPS (petaflops), který
pøekonal i <i>IBM Roadrunner</i>. V&nbsp;následujících kapitolách se v¹ak
alespoò prozatím nebudeme <i>Jaguarem</i> zabýval; spí¹e si popí¹eme první
modely poèítaèù <i>Cray</i>, jejich¾ výpoèetní výkon sice není z&nbsp;dne¹ního
pohledu nijak oslòující (pøekoná je vlastnì i bì¾ný desktop), ale v&nbsp;dobì
svého vzniku se jednalo o stroje, které jak svojí architekturou, tak i designem
o nìkolik let pøedbìhly svoji dobu.</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-2.jpg" width="350" height="438" alt=" " />
<p><i>Obrázek 2: Cray-1 a jeho duchovní otec a konstruktér.</i></p>

<p>Pro ètenáøe mo¾ná mù¾e být zajímavé porovnat výkonové, cenové a prostorové
parametry <i>Crayù</i> s&nbsp;mikroøadièi, tj.&nbsp;výpoèetními stroji le¾ícími
na opaèné stranì výkonnostního spektra ne¾ superpoèítaèe. Popisem mikroøadièù
se zabýváme v&nbsp;paralelnì bì¾ícím seriálu.</p>



<p><a name="k02"></a></p>
<h2>2. Nejznámìj¹í modely superpoèítaèù Cray</h2>

<p>V&nbsp;následující tabulce jsou vypsány nìkteré základní parametry vybraných
typù superpoèítaèù <i>Cray</i>. Rychlost jednotlivých procesorù (CPU) je
vyjádøena v&nbsp;délce trvání jejich hodinového taktu uvedeného
v&nbsp;nanosekundách (tuto hodnotu si mù¾ete pøevést na frekvenci v&nbsp;GHz
výpoètem pøevrácené hodnoty). Kapacita operaèní pamìti je, z&nbsp;pohledu
u¾ivatelù osobních poèítaèù mo¾ná ponìkud netypicky, uvádìna
v&nbsp;megaslovech, nikoli megabajtech. Vzhledem k&nbsp;tomu, ¾e vìt¹ina
superpoèítaèù <i>Cray</i> byla specializována na výpoèty s&nbsp;hodnotami
v&nbsp;pohyblivé øádové èárce, je výpoèetní výkon jednotlivých poèítaèù
vyjádøen v&nbsp;jednotkách <strong>MFLOPS</strong> (<i>MegaFLOPS</i>, kde
<i>FLOPS</i> znaèí <i>FLoating point Operations Per Second</i>), nikoli
<strong>MIPS</strong> (<i>Million Instructions Per Second</i>). Pro porovnání:
první matematický koprocesor pro osobní poèítaèe kompatibilní s&nbsp;PC,
tj.&nbsp;èip <i>Intel 8087</i> taktovaný na 8 MHz, mìl výpoèetní rychlost cca
30000&ndash;50000 FLOPS, tj.&nbsp;0,03 a¾ 0,05 MFLOPS:</p>

<table>
<tr><th>Systém/série</th><th>Architektura</th><th>Poèet CPU</th><th>Cyklus (ns)</th><th>Pamì» (Mslov)</th><th>MFLOPS</th><th>Rok výroby</th></tr>
<tr><td>CRAY 1      </td><td>PVP   </td><td>1 a¾ 2    </td><td>12,5  </td><td> 1 a¾ 4     </td><td>160          </td><td>1977  </td></tr>
<tr><td>CRAY 2      </td><td>PVP   </td><td>1 a¾ 4    </td><td> 4,1  </td><td>64 a¾ 4096  </td><td>488 a¾ 1951  </td><td>1985  </td></tr>
<tr><td>CRAY 3      </td><td>PVP   </td><td>1 a¾ 16   </td><td> 2,11 </td><td>64 a¾ 4096  </td><td>948 a¾ 15168 </td><td>1993  </td></tr>
<tr><td>&nbsp;      </td><td>&nbsp;</td><td>&nbsp;    </td><td>&nbsp;</td><td>&nbsp;      </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>CRAY X-MP   </td><td>PVP   </td><td>1 a¾ 4    </td><td> 9,5  </td><td> 8 a¾ 16    </td><td>200 a¾ 800   </td><td>1986  </td></tr>
<tr><td>CRAY X-MP EA</td><td>PVP   </td><td>1 a¾ 4    </td><td> 8,5  </td><td> 8 a¾ 16    </td><td>235 a¾ 942   </td><td>1987  </td></tr>
<tr><td>CRAY Y-MP   </td><td>PVP   </td><td>1 a¾ 8    </td><td> 6,0  </td><td>32 a¾ 4096  </td><td>333 a¾ 2664  </td><td>1989  </td></tr>
<tr><td>CRAY C90    </td><td>PVP   </td><td>1 a¾ 16   </td><td> 4,2  </td><td>64 a¾ 1024  </td><td>1000 a¾ 15238</td><td>1992  </td></tr>
<tr><td>CRAY T90    </td><td>PVP   </td><td>1 a¾ 32   </td><td> 2,2  </td><td>64 a¾ 1024  </td><td>1800 a¾ 57600</td><td>1995  </td></tr>
<tr><td>&nbsp;      </td><td>&nbsp;</td><td>&nbsp;    </td><td>&nbsp;</td><td>&nbsp;      </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>CS6400      </td><td>SMP   </td><td>4 a¾ 64   </td><td>11,8  </td><td>32 a¾ 2048  </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>&nbsp;      </td><td>&nbsp;</td><td>&nbsp;    </td><td>&nbsp;</td><td>&nbsp;      </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>CRAY Y-MP EL</td><td>PVP   </td><td>2 a¾ 8    </td><td>30,0  </td><td>32 a¾ 512   </td><td> 133 a¾ 532  </td><td>1991  </td></tr>
<tr><td>CRAY J90    </td><td>PVP   </td><td>4 a¾ 32   </td><td>10,0  </td><td>32 a¾ 1024  </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>&nbsp;      </td><td>&nbsp;</td><td>&nbsp;    </td><td>&nbsp;</td><td>&nbsp;      </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>CRAY T3D    </td><td>MPP   </td><td>32 a¾ 2048</td><td> 6,7  </td><td>8/CPU       </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>CRAY T3E    </td><td>MPP   </td><td>16 a¾ 2048</td><td> 3,3  </td><td>8 a¾ 64/CPU </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><td>&nbsp;      </td><td>&nbsp;</td><td>&nbsp;    </td><td>&nbsp;</td><td>&nbsp;      </td><td>&nbsp;       </td><td>&nbsp;</td></tr>
<tr><th>CRAY XT5 (Jaguar)</th><td>MPP   </td><td>224 256   </td><td> 0,38 </td><td>16GB/CPU    </td><td>1750000000   </td><td>2009  </td></tr>
</table>

<img src="http://i.iinfo.cz/images/625/37cray-a-3.jpg" width="405" height="540" alt=" " />
<p><i>Obrázek 3: Detail spodní èásti superpoèítaèe CRAY-1S. Na pravé stranì
fotografie je patrný &bdquo;vstup&ldquo; do vnitøního prostoru stroje.</i></p>

<p>Význam zkratek v&nbsp;pøedchozí tabulce (bude upøesnìno pøi popisu
jednotlivých modelù):</p>

<table>
<tr><th>Zkratka</th><th>Význam</th></tr>
<tr><td>PVP</td><td>parallel vector processor</td></tr>
<tr><td>MPP</td><td>massive parallel processing</td></tr>
<tr><td>SMP</td><td>symmetric multiprocessing</td></tr>
</table>

<a href="http://i.iinfo.cz/images/625/37cray-a-4.jpg"><img src="http://i.iinfo.cz/images/625/37cray-a-4-prev.jpg" width="360" height="270" alt=" " /></a>
<p><i>Obrázek 4: Dal¹í detail spodní èásti superpoèítaèe CRAY-1S, kde mù¾eme
mj.&nbsp;vidìt i jeho chladicí systém.</i></p>



<p><a name="k03"></a></p>
<h2>3. Základní rysy superpoèítaèù Cray</h2>

<p>Ji¾ v&nbsp;úvodní kapitole tohoto èlánku jsme si øekli, ¾e superpoèítaèe
<i>Cray</i> byly (a dodnes jsou) konstruovány s&nbsp;ohledem na dosa¾ení co
nejvy¹¹ího výpoèetního výkonu, pøedev¹ím v&nbsp;oblasti numerických výpoètù
s&nbsp;èíselnými hodnotami ulo¾enými v&nbsp;systému plovoucí øádové èárky
(<i>FP &ndash; Floating Point</i>). Konstruktéøi tìchto poèítaèù se tedy
sna¾ili pøedev¹ím o to, aby numerické operace mohly probíhat co nejrychleji
(prakticky za jakoukoli cenu, a to doslova), a to i v&nbsp;tìch pøípadech,
pokud byly výpoèty provádìny nejenom se skalárními hodnotami, ale i
s&nbsp;vektory (n-ticemi èíslic) a maticemi, nebo pokud se ve výpoètech
objevily (co¾ je v&nbsp;praxi bì¾né) nìjaké podmínky, které se musely pro ka¾dý
zpracovávaný prvek vektoru èi matice vyhodnotit. Výsledkem tìchto snah je
architektura zalo¾ená na vìt¹ím mno¾ství samostatnì pracujících procesorù
(CPU), z&nbsp;nich¾ ka¾dý je rozdìlen do nìkolika specializovaných modulù,
nazývaných takté¾ funkèní jednotky. Dùle¾itou souèástí poèítaèù <i>Cray</i> je
pøedev¹ím jednotka pro provádìní operací s&nbsp;vektory.</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-5.jpg" width="384" height="500" alt=" " />
<p><i>Obrázek 5: Pøíruèka k&nbsp;superpoèítaèi Cray-1.</i></p>

<p>Jména a operace podporované jednotlivými funkèními jednotkami jsou vypsány
v&nbsp;následující tabulce (s&nbsp;postupným zvy¹ováním výpoèetního výkonu se
poèet i typ rùzných jednotek zvy¹oval, tak¾e obsah tabulky je platný pro
poèítaèe <i>Cray</i> zkonstruované zhruba pøed rokem 1985):</p>

<table>
<tr><th>Typ funkèní jednotky</th><th>Provádìné operace</th></tr>
<tr><td>address </td><td>add, multiply</td></tr>
<tr><td>scalar  </td><td>add, shift, logical, pop/parity/leading zero</td></tr>
<tr><td>vector  </td><td>add, shift, logical, pop/parity</td></tr>
<tr><td>floating</td><td>add, multiply, reciprocal approximation</td></tr>
</table>

<img src="http://i.iinfo.cz/images/625/37cray-a-6.jpg" width="382" height="500" alt=" " />
<p><i>Obrázek 6: Pøíruèka k&nbsp;superpoèítaèi Cray-2.</i></p>



<p><a name="k04"></a></p>
<h2>4. Pracovních registrù není nikdy dost</h2>

<p>Jedním z&nbsp;dùvodù, proè superpoèítaèe <i>Cray</i> po dlouhý èas patøily
mezi nejrychlej¹í poèítaèe na svìtì, bylo i to, ¾e jejich konstruktéøi
v&nbsp;¾ádném pøípadì ne¹etøili pracovními registry, s&nbsp;nimi¾ procesorové
jednotky a jejich moduly mohly pracovat. Poèet souèasnì pou¾itelných registrù
byl samozøejmì mnohem vy¹¹í, ne¾ je tomu napøíklad na mikroprocesorech øady
<i>i386</i> (jejich¾ nechvalnì známá instrukèní sada navíc funkce nìkterých
registrù omezuje pouze pro provádìní redukovaného mno¾ství operací), ale
dokonce je i vy¹¹í, ne¾ poèet pracovních registrù vìt¹iny mikroprocesorù
postavených na architektuøe <i>RISC</i>, kde jsou vìt¹inou k&nbsp;dispozici
&bdquo;registrová okna&ldquo; s&nbsp;32 nebo 64 registry (registrové okno
urèuje, se kterými registry je mo¾né v&nbsp;daném èase pracovat, nemusí se
ov¹em jednat o v¹echny registry, který mikroprocesor obsahuje). Navíc
superpoèítaèe <i>Cray</i> kromì &bdquo;klasických&ldquo; registrù
uchovávajících skalární hodnoty mìly i sadu takzvaných vektorových registrù,
tj.&nbsp;registrù urèených pro ulo¾ení a zpracování nìkolika prvkù stejného
typu.</p>

<p>Jako ukázka toho, jak rozsáhlé sady registrù bylo v&nbsp;superpoèítaèích
<i>Cray</i> mo¾né pou¾ít, jsou v&nbsp;tabulce zobrazené pod tímto odstavcem
vypsány v¹echny pracovní registry dostupné v&nbsp;ka¾dé (!) procesorové
jednotce poèítaèe <i>Cray</i> øady <i>Y-MP</i> z&nbsp;roku 1989. Z&nbsp;tabulky
je patrné, ¾e registry jsou podle své funkce rozdìleny do nìkolika kategorií,
pøièem¾ ka¾dá kategorie je oznaèena jedním písmenem (<strong>V</strong> &ndash;
vektorové registry, <strong>S</strong> &ndash; skalární registry,
<strong>A</strong> &ndash; registry pou¾ívané pro adresování atd.). Registry
z&nbsp;rùzných kategorií jsou zpracovávány rùznými funkèními jednotkami, co¾
mj.&nbsp;znamená, ¾e napøíklad s&nbsp;registry pou¾ívanými pro adresování lze
provádìt operace souètu, rozdílu èi násobení konstantou, nikoli v¹ak výpoèet
pøevrácené hodnoty, co¾ je naopak operace dostupná pro registry spadající do
kategorie <strong>S</strong> (skalární registry):</p>

<table>
<tr><th>Oznaèení</th><th>Poèet registrù</th><th>©íøka</th><th>Poznámka</th></tr>
<tr><td>V</td><td> 8</td><td>64&times;64 bitù</td><td>ka¾dý registr je ve skuteènosti 64slo¾kovým vektorem</td></tr>
<tr><td>T</td><td>64</td><td>64 bitù</td><td>&nbsp;</td></tr>
<tr><td>S</td><td> 8</td><td>64 bitù</td><td>sada registrù pro bì¾né skalární operace</td></tr>
<tr><td>B</td><td>64</td><td>32 bitù</td><td>&nbsp;</td></tr>
<tr><td>A</td><td> 8</td><td>32 bitù</td><td>&nbsp;</td></tr>
<tr><td>I</td><td> 4</td><td>32&times;64-bitová slova</td><td>té¾ se zpracovávají jako 128&times;16-bitová slova</td></tr>
</table>



<p><a name="k05"></a></p>
<h2>5. Základní vektorové operace</h2>

<p>Díky tomu, ¾e centrální procesorové jednotky superpoèítaèù <i>Cray</i>
obsahovaly i ji¾ nìkolikrát zmiòované moduly pro provádìní operací
s&nbsp;vektory, bylo mo¾né nìkteré na první pohled zdlouhavé výpoèty
s&nbsp;programovými smyèkami nahradit jedinou instrukcí nebo krátkou sekvencí
instrukcí neobsahující ¾ádné podmínìné ani nepodmínìné skoky. Napøíklad souèet
hodnot prvkù dvou polí s&nbsp;ulo¾ením výsledku do tøetího pole lze ve
<i>Fortranu</i>, tj.&nbsp;programovacím jazyku pou¾ívaném pro numerické výpoèty
ji¾ více ne¾ 50 let, zapsat následujícím zpùsobem (syntaxe je upravena pro
verzi <i>Fortran 90</i>):</p>

<pre>
DO i = 1,42
    c[i] = a[i] + b[i]
END DO
</pre>

<p>Ve skuteènosti je vý¹e uvedená operace provedena doslova v&nbsp;nìkolika
taktech pomocí vektorové jednotky.</p>

<p>To v¹ak není zdaleka v¹e. Vzhledem k&nbsp;tomu, ¾e jednotek pro provádìní
vektorových operací bylo v&nbsp;poèítaèích <i>Cray</i> nainstalováno nìkolik
(jednotek, desítek, stovek), dokázaly tyto jednotky pracovat paralelnì a
nezávisle na sobì; samozøejmì za pøedpokladu, ¾e nedocházelo ke kolizím pøi
zápisu dat do skalárních promìnných nebo polí. Vzhledem k&nbsp;tomu, ¾e
následující blok programového kódu obsahuje dva výpoèty nad nezávislými poli
(vektory), bude tento blok proveden prakticky stejnou rychlostí jako blok
pøedchozí, i kdy¾ výpoètù je ve skuteènosti provedeno prakticky dvakrát
tolik:</p>

<pre>
DO i = 1,42
    c[i] = a[i] + b[i]
    d[i] = e[i] * f[i]
END DO
</pre>

<img src="http://i.iinfo.cz/images/625/37cray-a-7.jpg" width="406" height="540" alt=" " />
<p><i>Obrázek 7: Poèítaè Cray Y-MP.</i></p>



<p><a name="k06"></a></p>
<h2>6. Podmínìné operace se slo¾kami vektorù</h2>

<p>V&nbsp;mnoha typech algoritmù, v&nbsp;nich¾ vystupují vektory nebo matice,
se mù¾eme setkat s&nbsp;tím, ¾e se nìjaká operace má provést pouze pøi splnìní
urèité podmínky. Zatímco v&nbsp;pøípadì implementace takového algoritmu na
skalárním procesoru nedochází k&nbsp;vìt¹ím problémùm (v&nbsp;programové smyèce
je podmínìný skok), v&nbsp;pøípadì zpracování na vektorovém procesoru je nutné,
aby se podmínka vyhodnotila pro ka¾dou slo¾ku zpracovávaných vektorù,
v&nbsp;ideálním pøípadì opìt paralelnì pro v¹echny prvky (jinak se
z&nbsp;paralelního výpoètu stane výpoèet sekvenèní). I tuto èinnost dokázaly
vektorové jednotky v&nbsp;poèítaèích <i>Cray</i> automaticky (a pøedev¹ím
skuteènì paralelnì) provádìt, samozøejmì za pøedpokladu, ¾e se v&nbsp;podmínce
nevyskytovaly výrazy, které by závisely na výpoètech provádìných s&nbsp;jinými
prvky zpracovávaných vektorù. Pøekladaèe <i>Fortranu</i> implementované na
poèítaèích <i>Cray</i> napøíklad dokázaly správnì pøelo¾it
(&bdquo;vektorizovat&ldquo;) následující programový kód takovým zpùsobem, ¾e
byl proveden v&nbsp;nìkolika málo taktech:</p>

<pre>
DO i = 1,42
    IF ( b[i] .gt. 0 ) c[i] = a[ i ]
END DO
</pre>

<p>Poznámka: <strong>.gt.</strong> je relaèní operace &bdquo;vìt¹í ne¾&ldquo;
zapisovaná v&nbsp;jiných jazycích pomocí operátoru &gt;.</p>

<p>Dal¹í operací provádìnou na poèítaèích <i>Cray</i> jedinou instrukcí je
výbìr z&nbsp;pole (nebo zápis do pole) pomocí indexu získaného z&nbsp;jiného
pole. Tento typ výrazu se pou¾ívá napøíklad pøi práci s&nbsp;øídkými
maticemi:</p>

<pre>
DO i = 1,42
    c[i] = a[ b[i] ]
END DO 
</pre>

<img src="http://i.iinfo.cz/images/625/37cray-a-8.jpg" width="220" height="340" alt=" " />
<p><i>Obrázek 8: Poèítaè Cray J90.</i></p>



<p><a name="k07"></a></p>
<h2>7. MHz nebo MFLOPS?</h2>

<p>Pokud si uvìdomíme, jak rozdílným zpùsobem by byly demonstraèní programové
bloky uvedené v&nbsp;pøedchozích dvou kapitolách zpracovány pomocí
&bdquo;klasického&ldquo; skalárního procesoru, napøíklad <i>Intel 486</i> nebo
i <i>Pentium 1</i>, pochopíme, proè je v&nbsp;tìchto pøípadech zcela nesmyslné
porovnávat výpoèetní výkon architektonicky rozdílných poèítaèù pouze na základì
hodinové frekvence jejich procesorù (jinými slovy &ndash; porovnávat výpoèetní
rychlost na základì frekvence je mo¾né pouze u procesorù s&nbsp;toto¾nou
architekturou). Procesor, jen¾ doká¾e v&nbsp;jeden okam¾ik provádìt souèasnì
nìkolik operací nad celými vektory, bude v&nbsp;pøípadì správného
naprogramování rychlej¹í, ne¾ procesor pracující pouze se skalárními hodnotami,
i kdy¾ pøi porovnání hodinových frekvencí by se mohlo zdát, ¾e je skalární
procesor je rychlej¹í. Právì z&nbsp;tìchto dùvodù se výpoèetní výkon
superpoèítaèù udává v&nbsp;<i>MFLOPS</i> (milionech operací s&nbsp;èíselnými
hodnotami v&nbsp;pohyblivé øádové èárce za sekundu), popø.&nbsp;se je¹tì pro
vìt¹í vìrohodnost dodává výsledek nìjakého syntetického benchmarku
(výkonnostního testu), kterých pro oblast numerických výpoètù existuje nìkolik
(nìkteré z&nbsp;nich si popí¹eme pøí¹tì).</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-9.gif" width="256" height="301" alt=" " />
<p>Obrázek 9: Seymour Cray</p>



<p><a name="k08"></a></p>
<h2>8. Obsah následující èásti seriálu</h2>

<p>V&nbsp;následující èásti seriálu o historii výpoèetní techniky si do vìt¹ích
podrobností popí¹eme historii vývoje i technické parametry první generace
superpoèítaèù <i>Cray</i>. Jedná se pøedev¹ím o legendární <i>Cray-1</i>,
zejména pak o modely <i>Cray 1S</i> a <i>Cray 1M</i>. Historie tìchto strojù je
velmi zajímavá. Kdy¾ byl napøíklad v&nbsp;roce 1975 zveøejnìn zámìr
zkonstruovat superpoèítaè optimalizovaný na numerické výpoèty (jednalo se právì
o model <i>Cray 1S</i>), zaèalo mezi nìkterými firmami, universitami a
výzkumnými ústavy, pøedev¹ím mezi Lawrence Livermore National Laboratory a Los
Alamos National Laboratory, pøetahování o to, který z&nbsp;tìchto subjektù
získá první model poèítaèe <i>Cray 1S</i> pro své výzkumné úèely. Vítìzem byla
nakonec laboratoø v&nbsp;Los Alamos, která se mù¾e py¹nit poèítaèem <i>Cray</i>
se sériovým èíslem 001, jen¾ jí byl dodán v&nbsp;roce 1976. Právì v&nbsp;tomto
roce zaèalo být jméno <i>Cray</i> skloòováno prakticky po celém IT svìtì a pro
mnoho lidí a¾ do konce devadesátých let minulého století bylo <i>Cray</i>
synonymem pro slovo superpoèítaè. Ostatnì i mimo IT bylo jméno <i>Cray</i>
pomìrnì známé, mj.&nbsp;i díky tomu, ¾e na <i>Crayi 1</i> byl vyrendrován film
<strong>TRON</strong> a navíc byl jeden z&nbsp;tìchto poèítaèù (ne ten, který
rendering provádìl :-) ve filmu i zachycen. Mimochodem &ndash; jednalo se o
poèítaè se sériovým èíslem 38.</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-10.jpg" width="400" height="300" alt=" " />
<p>Obrázek 10: Dal¹í pohled na superpoèítaè Cray-1.</p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Cray History<br />
<a href="http://www.cray.com/About/History.aspx?404;http://www.cray.com:80/about_cray/history.html">http://www.cray.com/About/History.aspx?404;http://www.cray.com:80/about_cray/history.html</a>
</li>

<li>Cray Historical Timeline<br />
<a href="http://www.cray.com/Assets/PDF/about/CrayTimeline.pdf">http://www.cray.com/Assets/PDF/about/CrayTimeline.pdf</a>
</li>

<li>Seymour Cray Biography<br />
<a href="http://www.cray.com/Assets/PDF/about/SeymourCray.pdf">http://www.cray.com/Assets/PDF/about/SeymourCray.pdf</a>
</li>

<li>Company: Cray Research, Inc. (Computer History)<br />
<a href="http://www.computerhistory.org/brochures/companies.php?alpha=a-c&amp;company=com-42b9d5d68b216">http://www.computerhistory.org/brochures/companies.php?alpha=a-c&amp;company=com-42b9d5d68b216</a>
</li>

<li>Cray Wiki<br />
<a href="http://www.craywiki.com/index.php?title=Main_Page">http://www.craywiki.com/index.php?title=Main_Page</a>
</li>

<li>Seymour Cray<br />
<a href="http://www.craywiki.com/index.php?title=Seymour_Cray">http://www.craywiki.com/index.php?title=Seymour_Cray</a>
</li>

<li>Cray (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray">http://en.wikipedia.org/wiki/Cray</a>
</li>

<li>Cray-1 (Cray Wiki)<br />
<a href="http://www.craywiki.com/index.php?title=Cray_1S">http://www.craywiki.com/index.php?title=Cray_1S</a>
</li>

<li>Cray-1 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray-1">http://en.wikipedia.org/wiki/Cray-1</a>
</li>

<li>Cray X-MP (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray_X-MP">http://en.wikipedia.org/wiki/Cray_X-MP</a>
</li>

<li>Cray-2 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray-2">http://en.wikipedia.org/wiki/Cray-2</a>
</li>

<li>What Limits Forecast Accuracy?<br />
<a href="http://weather.mailasail.com/Franks-Weather/Forecast-Accuracy-Limitations">http://weather.mailasail.com/Franks-Weather/Forecast-Accuracy-Limitations</a>
</li>

<li>Remembering the Cray-1<br />
<a href="http://www.theregister.co.uk/2008/01/05/tob_cray1/">http://www.theregister.co.uk/2008/01/05/tob_cray1/</a>
</li>

<li>Cray Supercomputer FAQ and other documents<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/index.html">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/index.html</a>
</li>

<li>Cray Research and Cray computers FAQ Part 1<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp1.html#TOC">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp1.html#TOC</a>
</li>

<li>Cray Research and Cray computers FAQ Part 2<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp2.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp2.html#TOC1</a>
</li>

<li>Cray Research and Cray computers FAQ Part 3<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp3.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp3.html#TOC1</a>
</li>

<li>Cray Research and Cray computers FAQ Part 4<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp4.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp4.html#TOC1</a>
</li>

<li>Cray Research and Cray computers FAQ Part 5<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp5.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp5.html#TOC1</a>
</li>

<li>The making of a CRAY-3<br />
<a href="http://www.cisl.ucar.edu/docs/SCD_Newsletter/News_summer93/04e.cray3.html">http://www.cisl.ucar.edu/docs/SCD_Newsletter/News_summer93/04e.cray3.html</a>
</li>

<li>Computer Speed Claims 1980 to 1996<br />
<a href="http://homepage.virgin.net/roy.longbottom/mips.htm">http://homepage.virgin.net/roy.longbottom/mips.htm</a>
</li>

<li>Speed of Intel 8087 co-processor in FLOPS ($100)<br />
<a href="http://answers.google.com/answers/threadview/id/542435.html">http://answers.google.com/answers/threadview/id/542435.html</a>
</li>

<li>Million instructions per second<br />
<a href="http://en.wikipedia.org/wiki/Mflops">http://en.wikipedia.org/wiki/Mflops</a>
</li>

<li>Million instructions per second<br />
<a href="http://en.wikipedia.org/wiki/Million_instructions_per_second#Million_instructions_per_second">http://en.wikipedia.org/wiki/Million_instructions_per_second#Million_instructions_per_second</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2010</small></p>
</body>
</html>

