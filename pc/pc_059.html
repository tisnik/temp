<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Poèítaèe Amiga a zvukový èip Paula</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Poèítaèe Amiga a zvukový èip Paula</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ním pokraèování seriálu o architekturách poèítaèù bude popsán princip pøehrávání zvukù i vícekanálové hudby na poèítaèích Amiga obsahujících èip Paula, jen¾ vlastní pøehrávání i mixování zvukù znaèným zpùsobem zjednodu¹uje. Takté¾ si popí¹eme princip hudebních modulù (MOD).</p>



<h1>Obsah</h1>
<p>
<a href="#k01">1. Syntéza zvuku vs.&nbsp;samply (vzorky)</a><br />
<a href="#k02">2. Poèítaèe Amiga a zvukový èip Paula</a><br />
<a href="#k03">3. Princip èinnosti zvukového èipu Paula</a><br />
<a href="#k04">4. Pøehrávání vícebitových samplù, zvý¹ení vzorkovací frekvence a vyu¾ití vìt¹ího poètu hudebních kanálù</a><br />
<a href="#k05">5. Dìdictví Amigy &ndash; hudební moduly (MOD, STM, OKT, NST, S3M)</a><br />
<a href="#k06">6. Pøehrávaèe hudebních modulù</a><br />
<a href="#k07">7. Odkazy na Internetu</a><br />
<a href="#k08">8. Obsah dal¹ího pokraèování seriálu</a><br />
</p>



<p><a name="k01"></a></p>
<h1>1. Syntéza zvuku vs.&nbsp;samply (vzorky)</h1>

<p>V&nbsp;pøedchozích ¹esti èástech tohoto seriálu jsme si popsali nìkteré
známé hudební èipy pou¾ité pøevá¾nì v&nbsp;osmibitových domácích poèítaèích a
herních konzolách. Jednalo se o èip <i>POKEY</i> (<i>POT-KEYBOARD</i>)
zabudovaný do v¹ech osmibitových poèítaèù Atari a nìkterých herních automatù
té¾e firmy, èip <i>SID</i> (<i>Sound Interface Device</i>) firmy Commodore
Business Machines, zvukový èip <i>AY-3-8910</i> firmy General Instruments
(tento èip byl zabudován napøíklad do ZX Spectra 128+, Atari ST èi poèítaèù
Amstrad CPC) a koneènì minule popsaný zvukový èip <i>SN76489</i> vyu¾ívaný
napøíklad v&nbsp;osmibitových domácích poèítaèích Sharp MZ-800. V¹echny vý¹e
zmínìné èipy se vyznaèovaly tím, ¾e obsahovaly jeden èi více samostatnì
pracujících generátorù harmonického signálu (typicky obdélníkového, nìkdy té¾
trojúhelníkového èi pilového) øízených externím hodinovým signálem, dále
generátor èi vìt¹í mno¾ství generátorù ¹umu a v&nbsp;nìkterých pøípadech té¾
obvod pro amplitudovou modulaci generovaného signálu takzvanou obálkou
(<i>envelope</i>).</p>

<image id="8874" />
<p-center><i>Obrázek 1: Pseudonáhodný signál generovaný èipem POKEY (jedná se o
výsledek simulace práce poly-èítaèe, proto¾e reálné èipy POKEY výstupní signál
ponìkud zkreslovaly, pøièem¾ míra zkreslení závisela na
frekvenci).</i></p-center>

<p>Zvukový èip <i>SID</i> takté¾ umo¾òoval provádìt kruhovou modulaci (<i>ring
modulation</i>) mezi dvojicí hudebních kanálù a navíc obsahoval v&nbsp;koncové
èásti celého zvukového øetìzce analogové filtry &ndash; dolní, horní a pásmovou
propust tvoøenou RC èlánky, pøièem¾ kombinací dolní a horní propusti bylo mo¾né
vytvoøit pásmovou zádr¾. S&nbsp;vyu¾itím tìchto modulù (hudebníci pracující
s&nbsp;analogovými èi digitálními syntetizéry by spí¹e øekli <i>operátorù</i>)
bylo mo¾né vytvoøit pøekvapivì slo¾ité zvuky a (s&nbsp;pøihlédnutím k&nbsp;dobì
vzniku) kvalitní hudební skladby s&nbsp;relativnì malými nároky na potøebnou
kapacitu operaèní pamìti èi výpoèetní výkon mikroprocesoru &ndash; vìt¹ina
jednodu¹¹ích pøehrávacích rutin napøíklad 25&times; èi 50&times; za sekundu
pouze pøepsala nìkolik hodnot v&nbsp;øídicích registrech hudebního èipu, co¾ je
tak jednoduchá a souèasnì i rychlá operace, ¾e ji bylo mo¾né provádìt
v&nbsp;dobì pøeru¹ení &bdquo;soubì¾nì&ldquo; s&nbsp;dal¹ími èinnostmi
(napøíklad vykreslováním scény hry, pøepoètu stavù objektù ve høe atd.).
Analogové èásti tìchto èipù (koncové filtry èi nelineární D/A pøevodníky, vazby
mezi zvukovými kanály) navíc vytváøely charakteristicky zabarvené tóny, které
se dodnes s&nbsp;men¹í èi vìt¹í úspì¹ností v&nbsp;mnoha skladbách
napodobují.</p>

<image id="8875" />
<p-center><i>Obrázek 2: Obdélníkový, trojúhelníkový a pilový signál
vygenerovaný zvukovým èipem s&nbsp;rozli¹ením 256 úrovní
signálu.</i></p-center>

<p>Na druhou stranu v¹ak není snadné pouze s&nbsp;vyu¾itím vý¹e zmínìných
generátorù harmonických signálù èi generátorù ¹umu pøehrát v¹echny mo¾né tóny a
zvuky &ndash; problematická je napøíklad mluvená øeè èi kvalitní zvuky
perkusních nástrojù (ty lze èásteènì nahradit právì generátorem ¹umu).
Z&nbsp;tohoto dùvodu se autoøi hudby v&nbsp;nìkterých pøípadech uchýlili
k&nbsp;pøehrávání zvukù ulo¾ených ve formì vzorkù (samplù) metodou <i>pulsní
kódové modulace</i> (PCM) èi <i>pulsní ¹íøkové modulace</i> (PWM). Pøehrávání
s&nbsp;vyu¾itím pulsní kódové modulace bylo na vìt¹inì èipù zmínìných
v&nbsp;prvním odstavci omezeno na ètyøbitové vzorky a celé pøehrání a pøípadné
mixování zvukù muselo být provedeno programovì, tj.&nbsp;s&nbsp;pou¾itím
výpoèetní kapacity mikroprocesorù, co¾ bylo samozøejmì problematické, kdy¾ si
uvìdomíme, jak nevýkonné tehdej¹í osmibitové mikroprocesory (<i>MOS 6502</i>,
<i>Z-80</i>, <i>Intel 8080</i>, <i>Motorola 6809</i>) byly v&nbsp;porovnání se
souèasným stavem (frekvence zápisu do øídicích registrù zvukových èipù pøi
pou¾ití PCM musí být mnohonásobnì vy¹¹í, ne¾ uvedená hodnota 25 èi 50 Hz).</p>

<image id="8876" />
<p-center><i>Obrázek 3: Obdélníkový, trojúhelníkový a pilový signál
vygenerovaný zvukovým èipem s&nbsp;rozli¹ením 16 úrovní signálu (pøi výpoètech
prùbìhu signálu jsou pou¾ity ètyøi bity a D/A pøevodník je takté¾ ètyøbitový).
&bdquo;Schody&ldquo; do generovaného zvuku pøiná¹í vy¹¹í harmonické frekvence,
èím¾ je ovlivnìna barva výsledného tónu.</i></p-center>

<p>Alternativu k&nbsp;pulsní kódové modulaci pøedstavovala pulsní ¹íøková
modulace. Výsledkem aplikace této modulace na pùvodní data ulo¾ená ve formì
vzorkù je signál se dvìma úrovnìmi, ov¹em s&nbsp;mnohem vy¹¹í frekvencí, ne¾ je
frekvence vzorkovací. Pøi pou¾ití této modulace jsou ov¹em nároky na výpoèetní
výkon mikroprocesoru a pøesné èasování pøi pøehrávání je¹tì vy¹¹í ne¾
v&nbsp;pøípadì PCM. Výhodou PWM je v¹ak to, ¾e se tvùrci hudby nemuseli
omezovat pouze na ètyøbitové vzorky. Pøíkladem mù¾e být hudba vytvoøená pro
pùvodní osmibitový domácí poèítaè ZX Spectrum (48k) s&nbsp;jednobitovým
zvukovým výstupem (<i>beeper</i>) èi hudba pro PC Speaker (zde se takté¾ jedná
o reproduktor pøipojený na dvoustavový &ndash; binární &ndash; výstup).
Podrobnìji se budeme pulsní ¹íøkovou modulací zabývat v&nbsp;následující èásti
tohoto seriálu v&nbsp;souvislosti právì s&nbsp;PC Speakerem. Na tomto místì je
vhodné uvést, ¾e se PWM pou¾ívá i v&nbsp;nìkterých pøehrávaèích CD, proto¾e
jednobitový pøevodník pou¾itý v&nbsp;PWM má oproti 16bitovému D/A pøevodníku
v&nbsp;PCM nìkolik výhod &ndash; napøíklad nedochází ke zkreslení zvuku
v&nbsp;pøípadì, ¾e se jednotlivé tranzistory v&nbsp;D/A pøevodníku zapínají
s&nbsp;rùzným zpo¾dìním, do jisté míry se odstraòuje nelinearita výstupního
zesilovaèe apod.</p>

<image id="8877" />
<p-center><i>Obrázek 4: Sinusový signál vzorkovaný s&nbsp;osmibitovým
rozli¹ením (256 úrovní) a tentý¾ signál vzorkovaný s&nbsp;rozli¹ením
ètyøbitovým (16 úrovní).</i></p-center>



<p><a name="k02"></a></p>
<h1>2. Poèítaèe Amiga a zvukový èip Paula</h1>

<p>Tvùrci poèítaèe <i>Amiga</i> se vydali ponìkud odli¹nou cestou ne¾ mnozí
dal¹í výrobci domácích a osobních poèítaèù &ndash; místo návrhu èi pou¾ití ji¾
hotového zvukového èipu s&nbsp;rùznými více èi ménì sofistikovanými generátory
signálù, tvarovaèi obálky a analogovými filtry vytvoøili èip nazvaný
<i>Paula</i> (èíselné oznaèení 8364) urèený pøevá¾nì k&nbsp;mixování a
pøehrávání zvukù ulo¾ených v&nbsp;operaèní pamìti poèítaèe ve formì vzorkù
(samplù). <i>Paula</i> podporuje soubì¾né pøehrávání ètyø hlasù, ka¾dý
s&nbsp;osmibitovým rozli¹ením (poèet reprezentovatelných úrovní je tedy roven
256, co¾ pøedstavuje dynamický rozsah cca 48 dB). Zvukové vzorky sice zabírají
pomìrnì velké mno¾ství operaèní pamìti &ndash; napøíklad jednosekundový zvuk
vzorkovaný s&nbsp;frekvencí 22050 Hz a osmibitovým rozli¹ením obsadí cca 21,5
kB RAM &ndash; ov¹em ji¾ první <i>Amigy</i> byly osazeny 512 kB RAM a pøi
vhodném zpùsobu ulo¾ení hudby (viz dal¹í kapitoly) byla velikost skuteènì
obsazené pamìti pro celou hudební skladbu pomìrnì malá. Aby nebyl mikroprocesor
poèítaèe pøi pøehrávání zvukù pøíli¹ zatí¾ený, bylo mo¾né jednotlivé vzorky
pøená¹et z&nbsp;operaèní pamìti do èipu <i>Paula</i> pomocí DMA, neboli pøímého
pøístupu do operaèní pamìti (<i>Direct Memory Access</i>).</p>

<image id="8878" />
<p-center><i>Obrázek 5: Zvukový èip Paula R7 v&nbsp;pouzdøe DIL.</i></p-center>

<p>Zvukový èip <i>Paula</i> existuje v&nbsp;nìkolika verzích (nìkteré verze se
navíc vyrábìly v&nbsp;rùzných pouzdrech), které jsou vypsány v&nbsp;následující
tabulce:</p>

<table>
<tr><th>Oznaèení èipu</th><th>Rozli¹ující kód</th><th>Pou¾ito v&nbsp;poèítaèi</th></tr>
<tr><td>Paula 8364 R4</td><td></td><td>A1000</td></tr>
<tr><td>Paula 8364 R7</td><td>252127-02</td><td>A3000, AA3000</td></tr>
<tr><td>Paula 8364 R7</td><td>391077-01</td><td>A600, A4000</td></tr>
</table>

<image id="8879" />
<p-center><i>Obrázek 6: Dal¹í varianta zvukového èipu Paula R7.</i></p-center>

<p>Zapojení pinù èipu <i>Paula</i> platné pro pouzdro DIL:</p>

<table>
<tr><th>Pin</th><th>Oznaèení</th><th>Význam</th></tr>
<tr><td>01-07</td><td>D8-D2     </td><td>Data Bus Lines 8 to 2   </td></tr>
<tr><td>08   </td><td>VSS       </td><td>Ground                  </td></tr>
<tr><td>09-10</td><td>D1-D0     </td><td>Data Bus Lines 1 and 0  </td></tr>
<tr><td>11   </td><td>/RES      </td><td>System Reset            </td></tr>
<tr><td>12   </td><td>DMAL      </td><td>DMA Request Line        </td></tr>
<tr><td>13-15</td><td>/IPL0-ILP2</td><td>Interrupt Lines 0-2     </td></tr>
<tr><td>16   </td><td>/INT2     </td><td>Interrupt Level 2       </td></tr>
<tr><td>17   </td><td>/INT3     </td><td>Interrupt Level 3       </td></tr>
<tr><td>18   </td><td>/INT6     </td><td>Interrupt Level 6       </td></tr>
<tr><td>19-26</td><td>RGA8-RGA1 </td><td>Register Address Bus 8-1</td></tr>
<tr><td>27   </td><td>VCC       </td><td>+5 Volt                 </td></tr>
<tr><td>28   </td><td>CCK       </td><td>Color Clock             </td></tr>
<tr><td>29   </td><td>CCKQ      </td><td>Color Clock Delay       </td></tr>
<tr><td>30   </td><td>AUDB      </td><td>Right Audio             </td></tr>
<tr><td>31   </td><td>AUDA      </td><td>Left Audio              </td></tr>
<tr><td>32   </td><td>POT0X     </td><td>Pot 0X                  </td></tr>
<tr><td>33   </td><td>POT0Y     </td><td>Pot 0Y                  </td></tr>
<tr><td>34   </td><td>VSSANA    </td><td>Analog Ground           </td></tr>
<tr><td>35   </td><td>POT1X     </td><td>Pot 1X                  </td></tr>
<tr><td>36   </td><td>POT1Y     </td><td>Pot 1Y                  </td></tr>
<tr><td>37   </td><td>/DKRD     </td><td>Disk Read Data          </td></tr>
<tr><td>38   </td><td>/DKWD     </td><td>Disk Write Data         </td></tr>
<tr><td>39   </td><td>DKWE      </td><td>Disk Write Enable       </td></tr>
<tr><td>40   </td><td>TXD       </td><td>Serial Transmit Data    </td></tr>
<tr><td>41   </td><td>RXD       </td><td>Serial Receive Data     </td></tr>
<tr><td>42-48</td><td>D15-D9    </td><td>Data Bus Lines 15 to 8  </td></tr>
</table>



<p><a name="k03"></a></p>
<h1>3. Princip èinnosti zvukového èipu Paula</h1>

<p>Zvukový èip <i>Paula</i> podporuje ve standardním re¾imu ètyøi zvukové
kanály se stereo výstupem, pøièem¾ první dva kanály jsou pøivádìny do levého
reproduktoru a dal¹í dva kanály do reproduktoru pravého. Toto striktní oddìlení
kanálù je sice akceptovatelné pro výstup na reprobedny, ale pøi poslechu ve
sluchátkách (kde nedochází k&nbsp;témìø ¾ádným interferencím) je vhodnìj¹í
provést externí &bdquo;promíchání&ldquo; v¹ech kanálù s&nbsp;pomìrem od 30% do
65%. Toto míchání lze napøíklad navolit i v&nbsp;emulátorech poèítaèù Amiga,
provádí ho i mnohé pøehrávaèe hudebních modulù (viz dal¹í kapitoly). Vzorkovací
frekvence ka¾dého zvukového kanálu mù¾e dosahovat a¾ 28867 Hz, co¾ je omezení
dané originálním èipsetem (OCS) a zpùsobem práce s&nbsp;pamìtí pøi generování
obrazu (pro ka¾dý kanál lze zvolit odli¹nou frekvenci). Rozli¹ení vzorkù je osm
bitù, pøièem¾ pro jejich ulo¾ení je pou¾it dvojkový doplnìk (støední hodnota je
rovna nule, nikoli 127). Navíc je mo¾né pro ka¾dý kanál nastavit hlasitost
pomocí ¹estice bitù, co¾, jak si øekneme dále, mù¾e být vyu¾ito pro zvý¹ení
poètu bitù ve vzorcích/samplech z&nbsp;pùvodních osmi na ètrnáct. Dùle¾ité je,
¾e jak o naèítání jednotlivých vzorkù z&nbsp;operaèní pamìti, tak i o jejich
mixování, se z&nbsp;velké míry stará pøímo èip <i>Paula</i>, tj.&nbsp;pro tuto
èinnost není zapotøebí pou¾ívat mikroprocesor.</p>

<image id="8880" original="no" />
<p-center><i>Obrázek 7: Plo¹ný spoj poèítaèe Amiga 500 se zvukovým èipem
Paula.</i></p-center>

<p>Do zvukového èipu se na základì zadané vzorkovací frekvence zvukového kanálu
postupnì pøená¹í jednotlivé vzorky z&nbsp;operaèní pamìti s&nbsp;vyu¾itím
pøímého pøístupu do pamìti (<i>DMA</i>).  Mixování vzorkù je provádìno pøímo na
èipu (soubì¾nì s&nbsp;pøevodem vzorkù na analogový signál pomocí D/A
pøevodníkù). To znamená, ¾e se tato èinnost obvykle nemusí vykonávat
programovì, co¾ v&nbsp;mnoha ohledech pøiná¹í velmi významnou úsporu strojového
èasu &ndash; na poèítaèích PC se zvukovými kartami <i>Sound Blaster</i> se
musely jednotlivé zvukové kanály mixovat programovì, co¾ je výpoèetnì nároèné a
takté¾ to vede k&nbsp;men¹ím mo¾nostem vyu¾ití <i>DMA</i>. Za D/A pøevodníky
èipu <i>Paula</i> je zaøazen RC èlánek, pomocí nìho¾ se výstupní signál vyhladí
&ndash; RC èlánek pracuje jako dolní filtr s&nbsp;útlumem cca 12 dB na oktávu,
jeho¾ mezní frekvence je rovna 3,3 kHz. Tento filtr je mo¾né programovì
vypínat, co¾ je na nìkterých poèítaèích <i>Amiga</i> indikováno zmìnou jasu èi
úplným vypnutím LED (která je bì¾nì na zapnutém poèítaèi rozsvícena). Zapojení
filtru je zobrazeno na (externím) obrázku, kde je také modrou barvou naznaèena
mo¾ná zmìna zapojení v&nbsp;pøípadì, ¾e u¾ivatel potøebuje filtr ovládat nikoli
programovì ale ruènì pomocí pøepínaèe:</p>

<img src="http://theweeks.org/toms-stuff/pics/1000mod1.jpg" />
<p-center><i>Obrázek 8: Zapojení externího filtru typu dolní propust a zpùsob
jeho pøemostìní pomocí pøepínaèe.</i></p-center>



<p><a name="k04"></a></p>
<h1>4. Pøehrávání vícebitových samplù, zvý¹ení vzorkovací frekvence a vyu¾ití vìt¹ího poètu hudebních kanálù</h1>

<p>Vý¹e popsaná a do znaèné míry automatická èinnost zvukového èipu
<i>Paula</i> nemusí pro v¹echny úèely vyhovovat. V&nbsp;nìkterých pøípadech je
nutné pøehrávat vícebitové samply (zvy¹uje se tak dynamika zvuku), pou¾ívat
vy¹¹í vzorkovací frekvenci èi pøehrávat polyfonní vícekanálovou hudbu.
S&nbsp;vyu¾itím nìkterých technik je to samozøejmì mo¾né. V&nbsp;pøípadì, ¾e je
nutné pou¾ít vy¹¹í vzorkovací frekvenci (napøíklad máme k&nbsp;dispozici samply
vzorkované frekvencí 44,1 kHz), je mo¾né místo <i>DMA</i> pøená¹et vzorky do
zvukového èipu pomocí programu, co¾ na druhou stranu mù¾e znamenat vìt¹í
zatí¾ení mikroprocesoru (na èipsetu ECS èi AGA se navíc dá frekvence pøehrávání
zvý¹it tím, ¾e se zvolí jiný video re¾im, který èást pøenosového pásma ponechá
i pro èip <i>Paula</i>). Pøi pøehrávání vícebitových samplù lze zkombinovat
v¾dy dva kanály, pøièem¾ ka¾dý kanál ma nastavenou odli¹nou hlasitost &ndash;
jeden kanál má hlasitost minimální, druhý maximální. Ve výsledku tak lze
dosáhnout rozsahu 14 bitù (8+6), co¾ odpovídá zhruba 84 dB, ov¹em poèet
pou¾itelných kanálù se sni¾uje ze ètyø na dva (levý a pravý). Tuto techniku
pou¾ívá napøíklad Christian Buchner (CyberSound, DeliTracker apod.).
Z&nbsp;programového hlediska nejslo¾itìj¹í a výpoèetnì nejnároènìj¹í je
pøehrávání vícekanálové hudby, tj.&nbsp;hudby, ve které jsou pou¾ity více jak
ètyøi hlasy. Zde je nutné provést mixá¾ jednotlivých hlasù programovì.
Optimálnì naprogramovaná aplikace doká¾e na mikroprocesoru 68030 pøehrát a¾ 32
hlasù souèasnì, ale i na star¹ích a pomalej¹ích mikroprocesorech bylo mo¾né
pøehrát osmikanálovou hudbu.</p>

<image id="8881" />
<p-center><i>Obrázek 9: Amiga 500.</i></p-center>



<p><a name="k05"></a></p>
<h1>5. Dìdictví Amigy &ndash; hudební moduly (MOD, STM, OKT, NST, S3M)</h1>

<p>V&nbsp;pøedchozích kapitolách jsme si øekli, ¾e zvukový èip <i>Paula</i>
dokázal v&nbsp;základním nastavení pracovat se ètyømi zvukovými kanály, u nich¾
bylo mo¾né mìnit frekvenci pøehrávání osmibitových samplù. Pomìrnì záhy po
roz¹íøení poèítaèù Amiga vznikly aplikace nazvané <i>trackery</i>, které této
vlastnosti <i>Pauly</i> dùslednì vyu¾ívaly. Pomocí trackerù bylo (èi spí¹e je)
mo¾né vytvoøit hudbu slo¾enou ze samplù, které se pøehrávají s&nbsp;rùznou
frekvencí na základì údajù ulo¾ených ve ètyøech hudebních stopách &ndash; jedná
se vlastnì o obdobu notové osnovy, ov¹em zapisovanou ve formì tabulky s&nbsp;64
øádky a pùvodnì ètyømi sloupci (ka¾dý sloupec odpovídá jednomu hudebnímu
kanálu). V&nbsp;ka¾dém øádku je mo¾né do sloupce zapsat notu a oktávu
(tj.&nbsp;vý¹ku èi frekvenci pøehrávaného tónu), èíslo nástroje (tomu odpovídá
zvolený sampl, pøesnìji více samplù mù¾e v&nbsp;nìkterých trackerech být
pøiøazeno jednomu nástroji v&nbsp;závislosti na vý¹ce tónu), hlasitost a
pøíznak, zda se má souèasnì provést i nìjaký zvukový efekt. Tabulka s&nbsp;vý¹e
popsanými 64 øádky se nazývá <i>pattern</i>, pøièem¾ celá hudební skladba mù¾e
být slo¾ena z&nbsp;libovolného mno¾ství patternù &ndash; viz následující
obrázky trackerù, v&nbsp;jejich¾ dolní èásti je v¾dy èást tabulky
zobrazena.</p>

<image id="8882" />
<p-center><i>Obrázek 10: Soundtracker &ndash; jeden z&nbsp;prvních trackerù pro
poèítaèe Amiga, jeho¾ grafické rozhraní je pou¾ito v&nbsp;prakticky v¹ech jeho
pokraèovatelích.</i></p-center>

<p>Soubory, do kterých se skladby vytvoøené pomocí trackerù ukládají, se
nazývají <i>moduly</i>. Pùvodní moduly se ètyømi stopami, patternem dlouhým 64
øádkù a osmibitovými samply (mohlo jich být maximálnì 31) byly vytváøeny
programem <i>ProTracker</i> &ndash; jím vytváøené soubory mají pøíponu
<i>.mod</i> a i dnes se s&nbsp;nimi mù¾eme pomìrnì èasto setkat (v&nbsp;na¹ich
konèinách byl populární napøíklad modul <strong>mrazik.mod</strong>). Formát
modulù je pomìrnì jednoduchý &ndash; v&nbsp;souboru jsou ulo¾eny jak jednotlivé
samply hudebních nástrojù (u pùvodních modulù v&nbsp;nekomprimované podobì),
tak i jména samplù, jednotlivé patterny (tabulky) a dal¹í dùle¾ité informace,
napøíklad rychlost posunu mezi øádky patternu (tato rychlost odpovídá tempu
skladby a lze ji bìhem pøehrávání mìnit).</p>

<image id="8883" />
<p-center><i>Obrázek 11: ProTracker &ndash; v&nbsp;dolní èásti opìt mù¾eme
vidìt tabulku se ètyømi sloupci. V&nbsp;ka¾dém sloupci je èíslo noty, oktáva,
èíslo nástroje, hlasitost a kód efektu.</i></p-center>

<p>Spoleènì s&nbsp;dal¹ím roz¹iøováním mo¾ností trackerù se mìnil i formát
souborù, i kdy¾ základní struktura zùstala zachována. Pøedev¹ím se zvy¹oval
poèet zvukových kanálù z&nbsp;pùvodních ètyø pøes osm kanálù (<i>Octalyzer</i>)
a¾ na 32 kanálù ve formátu podporovaném <i>ScreamTrackerem</i> (soubory
s&nbsp;pøíponou <i>.stm</i> a <i>.s3m</i>). Nìkteré formáty také dokázaly
ukládat samply hudebních nástrojù v&nbsp;komprimované podobì, pou¾ívat
¹estnáctibitové samply, samply se smyèkou (<i>loop</i>) atd. Ji¾ zmínìný
<i>ScreamTracker</i> (vytvoøený mimo jiné známou demo skupinou <i>Future
Crew</i>) dokonce dokázal do samplované hudby pøimíchat hudbu generovanou
pomocí FM syntézy.  <i>FastTracker II</i> (od konkurenèní skupiny
<i>Triton</i>) naproti tomu podporoval &bdquo;obousmìrnou&ldquo; smyèku, kdy se
sampl po dosa¾ení konce smyèky støídavì pøehrával v&nbsp;pøímém smìru a posléze
odzadu apod.</p>

<image id="8884" original="no" />
<p-center><i>Obrázek 12: ScreamTracker pro DOS. Program bì¾í, i kdy¾ to mo¾ná
není na první pohled patrné, v&nbsp;textovém re¾imu.</i></p-center>

<image id="8885" original="no" />
<p-center><i>Obrázek 13: Fasttracker II pro DOS pøi pøehrávání
skladby.</i></p-center>

<image id="8886" original="no" />
<p-center><i>Obrázek 14: Fasttracker II pro DOS pøi editaci
samplu.</i></p-center>



<p><a name="k06"></a></p>
<h1>6. Pøehrávaèe hudebních modulù</h1>

<p>Hudební moduly se staly jak mezi autory hudby, tak i mezi posluchaèi velice
populární, pøedev¹ím díky pomìrnì velké kvalitì pøehrávané hudby a rozumné
velikosti souborù &ndash; vìt¹ina skladeb se bez problémù dala nahrát na
jedinou disketu (880 kB v&nbsp;pøípadì Amigy) a pozdìji stáhnout
z&nbsp;Internetu i s&nbsp;vyu¾itím pomalého modemu. Vzhledem ke stále velké
popularitì modulù a jejich relativnì jednoduchému formátu (navíc nezatí¾enému
patenty) není divu, ¾e pro velkou èást dne¹ních multimediálních pøehrávaèù
existují pluginy, které doká¾ou alespoò ty nejroz¹íøenìj¹í typy modulù (.mod,
.stm, .s3m) pøehrát. Jedná se jak o pøehrávaèe pro Linux (XMMS, Audacious), tak
i pro Microsoft Windows (WinAmp). Kromì toho je mo¾né pou¾ít i specializované
pøehrávaèe, napøíklad multiplatformní MikMod for Java (odvozený od pùvodního
MikModu napsaného v&nbsp;ANSI C), viz následující screenshot:</p>

<pre>
-= MikMod for Java v2.14 - development version, 22 Nov 97 =---
 - main code (in ANSI C) by MikMak &lt;mikmak@via.nl&gt;
 - ported to Java by Shlomi Fish ( http://www.shlomifish.org/ )
 - Java sound drivers by Shlomi Fish ( http://www.shlomifish.org/ )
 - interface / zip code by Steve McIntyre &lt;stevem@chiark.greenend.org.uk&gt;
 - This program is SHAREWARE - Read MIKMOD.TXT for more info 
-= MikMod for Java v2.14 - development version, 22 Nov 97 =---
'||'                          '||   ||
 ||         ...    ....     .. ||  ...  .. ...    ... . 
 ||       .|  '|. '' .||  .'  '||   ||   ||  ||  || ||  
 ||       ||   || .|' ||  |.   ||   ||   ||  ||   |''   
.||.....|  '|..|' '|..'|' '|..'||. .||. .||. || .'||||. 
                                                .|....'
-= MikMod for Java v2.14 - development version, 22 Nov 97 =---
JavaX-Driver: 16 bit normal stereo, 44100 Hz
File: usb/2nd_pm.s3m            
Name: UnreaL ][ / PM
Type: Screamtracker 3.xx, Periods: mod type,Log
pat:4/84 pos:58 spd:3 bpm:100.0% vol:100%
</pre>

<image id="8887" />
<p-center><i>Obrázek 15: WinAmp s&nbsp;pluginem pro pøehrávání hudebních modulù.</i></p-center>

<image id="8888" original="no" />
<p-center><i>Obrázek 16: WinAmp &ndash; informace o pøehrávaném modulu.</i></p-center>



<p><a name="k07"></a></p>
<h1>7. Odkazy na Internetu</h1>

<ol>

<li>Custom Chips: Paula<br />
<a href="http://www.amiga-hardware.com/showhardware.cgi?HARDID=1460">http://www.amiga-hardware.com/showhardware.cgi?HARDID=1460</a>
</li>

<li>Big Book of Amiga Hardware<br />
<a href="http://www.amiga-resistance.info/bboahfaq/">http://www.amiga-resistance.info/bboahfaq/</a>
</li>

<li>Amiga Hardware Database<br />
<a href="http://amiga.resource.cx/">http://amiga.resource.cx/</a>
</li>

<li>ExoticA<br />
<a href="http://www.exotica.org.uk/wiki/Main_Page">http://www.exotica.org.uk/wiki/Main_Page</a>
</li>

<li>The absolute basics of Amiga audio<br />
<a href="http://www.sufo.estates.co.uk/amiga/amimus.html">http://www.sufo.estates.co.uk/amiga/amimus.html</a>
</li>

<li>Wikipedia: Tracker<br />
<a href="http://en.wikipedia.org/wiki/Tracker">http://en.wikipedia.org/wiki/Tracker</a>
</li>

<li>Wikipedia: Trackers<br />
<a href="http://en.wikipedia.org/wiki/Trackers">http://en.wikipedia.org/wiki/Trackers</a>
</li>

<li>Ultimate Soundtracker<br />
<a href="http://en.wikipedia.org/wiki/Ultimate_Soundtracker">http://en.wikipedia.org/wiki/Ultimate_Soundtracker</a>
</li>

<li>Protracker<br />
<a href="http://en.wikipedia.org/wiki/ProTracker">http://en.wikipedia.org/wiki/ProTracker</a>
</li>

<li>Impulse Tracker<br />
<a href="http://en.wikipedia.org/wiki/Impulse_Tracker">http://en.wikipedia.org/wiki/Impulse_Tracker</a>
</li>

<li>Scream Tracker<br />
<a href="http://en.wikipedia.org/wiki/ScreamTracker">http://en.wikipedia.org/wiki/ScreamTracker</a>
</li>

<li>MikMod for Java<br />
<a href="http://jmikmod.berlios.de/">http://jmikmod.berlios.de/</a>
</li>

<li>List of audio trackers<br />
<a href="http://en.wikipedia.org/wiki/List_of_audio_trackers">http://en.wikipedia.org/wiki/List_of_audio_trackers</a>
</li>

<li>Wikipedia: Module File<br />
<a href="http://en.wikipedia.org/wiki/Module_file">http://en.wikipedia.org/wiki/Module_file</a>
</li>

<li>Wikipedia: Chiptune<br />
<a href="http://en.wikipedia.org/wiki/Chiptune">http://en.wikipedia.org/wiki/Chiptune</a>
</li>

</ol>

<image id="8889" original="no" />
<p-center><i>Obrázek 17: Star¹í typ pøehrávaèe hudebních modulù pro DOS - známý
Cubic Player.</i></p-center>



<p><a name="k08"></a></p>
<h1>8. Obsah dal¹ího pokraèování seriálu</h1>

<p>V&nbsp;následující èásti seriálu o architekturách poèítaèù se (koneènì)
zaèneme zabývat problematikou vytváøení zvukù a hudby na osobních poèítaèích
odvozených od IBM PC. Pùvodní IBM PC i vìt¹ina jeho pokraèovatelù byla
v&nbsp;poèátcích vybavena pouze <i>PC Speakerem</i>, té¾ známým pod pojmy
<i>beeper</i> èi <i>squeezer</i>, co¾ byl reproduktor zapojený pùvodnì na
integrované obvody 8253 (èasovaè) a 8255 (tøi osmibitové vstupnì/výstupní
brány). Osobní poèítaèe kompatibilní s&nbsp;IBM PC, pøedev¹ím pozdìj¹í modely
XT a AT, se roz¹íøily z&nbsp;kanceláøí i do domácností a spoleènì
s&nbsp;vývojem her se pro tyto poèítaèe zaèaly vyrábìt zvukové karty &ndash;
nejprve slavná zvuková karta <i>Adlib</i> vybavená èipem <i>Yamaha YM3812
(OPL2)</i> a pozdìji zvukové karty <i>Sound Blaster</i> èi &bdquo;karta&ldquo;
<i>Covox</i> pøipojovaná na paralelní port. Právì tyto zvukové karty si
popí¹eme pøí¹tì.</p>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2009</small></p>
</body>
</html>

