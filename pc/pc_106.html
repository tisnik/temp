<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Èeskoslovenské osmibitové poèítaèe 4 &ndash; grafické mo¾nosti a programové vybavení IQ-151</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Èeskoslovenské osmibitové poèítaèe 4 &ndash; grafické mo¾nosti a programové vybavení IQ-151</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V&nbsp;dne¹ní èásti seriálu o architekturách poèítaèù si øekneme, jakým zpùsobem se generoval televizní obraz na èeskoslovenském osmibitovém mikropoèítaèi IQ-151. Takté¾ se budeme zabývat programovacími jazyky dostupnými pro tento poèítaè a v&nbsp;neposlední øadì i slavným tuzemským operaèním systémem AMOS, který IQ-151 pozvedl na témìø profesionální úroveò.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Textové re¾imy poèítaèe IQ-151 a modul VIDEO 32</a></p>
<p><a href="#k02">2. Pseudografika a modul VIDEO 64</a></p>
<p><a href="#k03">3. Grafický re¾im nabízený modulem GRAFIK</a></p>
<p><a href="#k04">4. Pøístup do obrazové pamìti modulu GRAFIK</a></p>
<p><a href="#k05">5. Programovací jazyky dostupné pro poèítaèe IQ-151</a></p>
<p><a href="#k06">6. Operaèní systém AMOS &ndash; bravurní ukázka èeské programátorské ¹koly</a></p>
<p><a href="#k07">7. Moduly operaèního systému AMOS</a></p>
<p><a href="#k08">8. Obsah dal¹ího pokraèování seriálu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Textové re¾imy poèítaèe IQ-151 a modul VIDEO 32</h2>

<p>V&nbsp;pøedchozí èásti seriálu o architekturách poèítaèù jsme si øekli
základní informace o známém èeskoslovenském osmibitovém mikropoèítaèi
<i>IQ-151</i>, který byl pou¾íván ve druhé polovinì osmdesátých let minulého
století v&nbsp;pomìrnì velkém mno¾ství ¹kol (na nì byl dodávám pøes Komenium) i
rùzných krou¾cích výpoèetní techniky. Ov¹em prozatím jsme si neøekli nic o jeho
grafických schopnostech. Tento poèítaè disponoval pouze základními obvody
podporujícími zobrazení grafické informace na televizorech. Pøímo
v&nbsp;poèítaèi byl pøítomen pøedev¹ím zdroj øádkových a snímkových
synchronizaèních signálù <strong>SS</strong> a <strong>SR</strong> odvozených
od frekvence krystalového oscilátoru. Pomocí tìchto dvou signálù se
mj.&nbsp;generovala i dvojice pøeru¹ení vyu¾itelná pro rùzné úèely, pøedev¹ím
pøi vlastním generování grafiky. Dále se v&nbsp;poèítaèi nacházely obvody
urèené pro modulaci pùvodnì digitálního video signálu a jeho následný výstup na
televizor.</p>

<a href="http://i.iinfo.cz/images/443/pc105-a-5.jpg"><img src="http://i.iinfo.cz/images/443/pc105-a-5-prev.jpg" width="361" height="270" alt="pc106_1" /></a>
<p><i>Obrázek 1: Èeskoslovenský osmibitový mikropoèítaè IQ-151.</i></p>

<p>Ov¹em pro samotné vytváøení video signálu, který byl mimochodem pøená¹en po
spoleèné interní sbìrnici poèítaèe, musely být pou¾ity dal¹í obvody
nainstalované v&nbsp;pøídavných modulech (bez podpory pøídavných modulù by
nebyl poèítaè <i>IQ-151</i> schopen zobrazování). Základním modulem, který byl
urèený pro vytváøení video signálu, byl modul nazvaný pøíhodnì <strong>VIDEO
32</strong>. Tento modul, jen¾ byl dodáván spolu s&nbsp;poèítaèem <i>IQ-151</i>
a modulem <strong>BASIC 6</strong> jako jeden celek, podporoval pouze jediný
textový re¾im, ve kterém bylo mo¾né zobrazit 32 èernobílých znakù na 32
textových øádcích, pøièem¾ ka¾dý znak byl definován v&nbsp;rastru 6&times;8
pixelù, podobnì jako na ji¾ døíve popsaném poèítaèi <i>PMD 85</i>. Pøi
porovnání s&nbsp;ostatními typy osmibitových poèítaèù se jednalo o raritu,
proto¾e po výpoètu horizontálního a vertikálního rozli¹ení tohoto textového
re¾imu dojdeme k&nbsp;hodnotì 192&times;256 pixelù, tj.&nbsp;horizontální
rozli¹ení bylo u <i>IQ-151</i> ni¾¹í ne¾ rozli¹ení vertikální.</p>

<img src="http://i.iinfo.cz/images/443/pc105-a-8.jpg" width="200" height="183" alt="pc106_2" />
<p><i>Obrázek 2: Pohled na pìtici patic urèených pro zapojení zásuvných modulù
do poèítaèe IQ-151.</i></p>



<p><a name="k02"></a></p>
<h2>2. Pseudografika a modul VIDEO 64</h2>

<p>Ve vý¹e zmínìném textovém re¾imu 32&times;32 znakù bylo mo¾né vytváøet i
pseudografiku s&nbsp;rozli¹ením 64&times;64 ètvereèkù, pøi ní¾ se namísto
rozsvìcování èi zhasínání jednotlivých pixelù &bdquo;bitmapa&ldquo; skládala
z&nbsp;vhodnì zvolených pseudografických znakù, podobnì jako napøíklad na
poèítaèích <i>ZX-80</i> a <i>ZX-81</i>. Urèité vylep¹ení pøedstavoval modul
nazvaný <strong>VIDEO 64</strong>, který podporoval takté¾ textový re¾im
s&nbsp;32 øádky, ov¹em ka¾dý øádek obsahoval ji¾ 64 znakù. Tento modul dokázal
zobrazovat i 32 znakù na ka¾dém textovém øádku, tak¾e byl zpìtnì kompatibilní
s&nbsp;vý¹e zmínìným modulem <strong>VIDEO 32</strong>. Pro ulo¾ení znakù bylo
zapotøebí alokovat 64&times;32=2048 bajtù pamìti, která byla na tomto modulu
realizována pomocí ètyø pamì»ových èipù <i>MHB 2114</i> se strukturou
1024&times;4 bity. Tyto pamì»ové èipy byly umístìny v&nbsp;pouzdru DIL 18,
pøièem¾ se pøi ètení èi zápisu dat nemuselo pou¾ívat multiplexování adresy a
datových bitù (deset adresových pinù bylo oddìleno od ètyø pinù datových), co¾
návrh celého modulu <strong>VIDEO 64</strong> i jeho pøedchùdce <strong>VIDEO
32</strong> zjednodu¹ilo.</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-1.jpg" alt="pc106" height="210" width="200" /></p>
<p><i>Obrázek 3: V&nbsp;místech, kde mají dne¹ní notebooky nalepenou (prakticky
zbyteènou) nálepku Windows Compatible, mìly novìj¹í verze poèítaèù IQ-151
nati¹tìné písmeno G, které znaèilo novou verzi monitoru (&bdquo;BIOSu&ldquo;) i
pøipravenost pro pou¾ití modulu GRAFIK.</i></p>



<p><a name="k03"></a></p>
<h2>3. Grafický re¾im nabízený modulem GRAFIK</h2>

<p>Pro zobrazení plnohodnotné rastrové grafiky v¹ak pøídavné moduly
<strong>VIDEO 32</strong> a <strong>VIDEO 64</strong> nedostaèovaly, co¾ byl u
poèítaèe urèeného pro potøeby výuky pomìrnì zásadní nedostatek. Ov¹em právì zde
se projevily nìkteré pøednosti modulární architektury poèítaèe <i>IQ-151</i>.
Právì díky modulární architektuøe tohoto mikropoèítaèe a takté¾ díky tomu, ¾e
se video signál pøená¹el po spoleèné interní sbìrnici (na ní¾ se pøídavné
moduly pøipojovaly a mohly navzájem komunikovat), bylo mo¾né <i>IQ-151</i>
vybavit i dal¹ím zásuvným modulem, který by ji¾ skuteènou grafiku podporoval.
Tento modul sice zpoèátku nebyl dostupný, ale posléze se zaèal vyrábìt a
nabízet pod (opìt pøíznaèným) názvem <strong>GRAFIK</strong>. Byl urèen pro
<i>IQ-151</i> verze &bdquo;G&ldquo; (písmeno znaèící verzi poèítaèe bylo
vyti¹tìno pod klávesnicí na pravé stranì). Po instalaci tohoto modulu, který se
musel pou¾ívat souèasnì s&nbsp;modulem <strong>VIDEO 32</strong> nebo
<strong>VIDEO 64</strong>, bylo mo¾né pracovat v&nbsp;monochromatickém
grafickém re¾imu o pomìrnì vysokém rozli¹ení 512&times;256 pixelù&bdquo;.</p>

<a href="http://i.iinfo.cz/images/250/pc10512.jpg"><img src="http://i.iinfo.cz/images/250/pc10512-prev.jpg" width="370" height="223" alt="pc10512" /></a>
<p><i>Obrázek 4: Je¹tì jeden pohled na zadní èást skøínì poèítaèe IQ-151
s&nbsp;trojicí nainstalovaných zásuvných modulù.</i></p>



<p><a name="k04"></a></p>
<h2>4. Pøístup do obrazové pamìti modulu GRAFIK</h2>

<p>Základem modulu <strong>GRAFIK</strong> bylo nìkolik èipù typu <i>8255</i>
(o kterých jsme se ji¾ nìkolikrát v&nbsp;tomto seriálu zmiòovali) doplnìných o
pamì»ové èipy a dal¹í podpùrné obvody. Grafická pamì» nainstalovaná
v&nbsp;modulu <strong>GRAFIK</strong> mìla velikost 512&times;256/8=16384
bajtù, tj.&nbsp;16 kB, co¾ je v&nbsp;porovnání s&nbsp;ostatními osmibitovými
poèítaèi nadprùmìrná hodnota (typická velikost obrazové pamìti se u
nejpopulárnìj¹ích osmibitových poèítaèù pohybovala v&nbsp;okolí hodnoty 8 kB).
Nejvìt¹í nedostatek modulu <strong>GRAFIK</strong> spoèíval v&nbsp;tom, ¾e, na
rozdíl od naprosté vìt¹iny ostatních osmibitových poèítaèù, nebyla obrazová
pamì» mapována do adresního prostoru mikroprocesoru, ale muselo se k&nbsp;ní
pøistupovat nepøímo pomocí instrukcí <strong>IN</strong> a
<strong>OUT</strong>, co¾ bylo jak zdlouhavé, tak i nepøíjemné a nepraktické
z&nbsp;programátorského hlediska, proto¾e nebylo mo¾né vyu¾ít v¹ech mo¾ností
adresování, které procesor <i>8080</i> nabízel.</p>

<img src="http://i.iinfo.cz/images/411/pc10511.jpg" width="400" height="300" alt="pc10511" />
<p><i>Obrázek 5: Nìkteré èasto pou¾ívané zásuvné moduly &ndash; VIDEO 32 pro
zobrazení textu a podporu generování obrazu, GRAFIK pro podporu grafického
re¾imu a BASIC G obsahující mj.&nbsp;i pøíkazy pro tvorbu grafiky.</i></p>

<p>Namísto toho se nejdøíve musel pomocí instrukce <strong>OUT</strong> pøes
jeden I/O port nastavit po¾adovaný re¾im ètení èi zápisu, zapsat dvoubajtovou
adresu ve video pamìti, ze které se mìla obrazová informace èíst èi zapisovat,
na dal¹í dva porty a pøes ètvrtý I/O port provádìt vlastní operaci ètení èi
zápisu barev osmice vedle sebe le¾ících pixelù. Kromì &bdquo;blokového
pøístupu&ldquo; byl takté¾ podporován <i>bitový pøístup</i>, pøi nìm¾ se mìnila
barva jednoho zvoleného pixelu (pøipomeòme ¾e u monochromatického re¾imu
odpovídá ka¾dému pixelu jen jeden bit). Zajímavým dùsledkem souèasného pou¾ití
modulù <strong>VIDEO xx</strong> a <strong>GRAFIK</strong> byla mo¾nost
souèasného zobrazení textu i grafiky, které se mohly na obrazovce pøekrývat.
Nìkteøí programátoøi dokonce dokázali modul <strong>GRAFIK</strong>, pøesnìji
øeèeno pamì» nainstalovanou na tomto modulu, vyu¾ít jako RAM-disk (napøíklad
pøi kopírování programù, pøekladu atd.), jeho¾ výhodou bylo mj.&nbsp;i to, ¾e
jeho obsah zùstal zachován i po resetu poèítaèe.</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-2.jpg" alt="pc106" height="150" width="200" /></p>
<p><i>Obrázek 6: Dal¹í moduly pro poèítaè IQ-151. Na této fotografii mù¾eme
vidìt jak moduly pro obsluhu videa, tak i moduly s&nbsp;rùznými programovacími
jazyky. Nahoøe se nachází modul s&nbsp;rozhraním pro Minigraf (jedná se o plotr
Aritma 0507; periferiemi vyrábìnými v&nbsp;ÈSSR se budeme zabývat
v&nbsp;nìkterém z&nbsp;dal¹ích dílù tohoto seriálu).</i></p>



<p><a name="k05"></a></p>
<h2>5. Programovací jazyky dostupné pro poèítaèe IQ-151</h2>

<p>Opus»me nyní na chvíli popis hardwarového vybavení poèítaèe <i>IQ-151</i> a
pojïme se vìnovat stejnì dùle¾ité (a mo¾ná i dùle¾itìj¹í) problematice &ndash;
jeho programovému vybavení. Zaèneme samozøejmì u programovacích jazykù, proto¾e
ty tvoøily základ, s&nbsp;jeho¾ vyu¾itím bylo mo¾né vytváøet dal¹í typy
aplikací. Poèítaè <i>IQ-151</i> byl pùvodnì dodáván pouze s&nbsp;monitorem
(základním ovládacím programem) a zásuvným modulem obsahujícím interpret
programovacího jazyka <i>BASIC 6</i>. Tento interpret obsahoval kromì bì¾ných
øídicích pøíkazù a funkcí i pøíkazy zabezpeèující vstup a výstup dat na
magnetofon i spolupráci s&nbsp;moduly <strong>VIDEO xx</strong>, tj.&nbsp;tisk
znakù na televizní obrazovku. Pozdìji byl interpret jazyka BASIC roz¹íøen o
nìkolik grafických pøíkazù a spolu s&nbsp;tím i o mo¾nost spolupráce
s&nbsp;vý¹e popsaným modulem <strong>GRAFIK</strong>. Tento interpret, který
byl opìt dodávaný ve formì zásuvného modulu, byl u¾ivatelùm IQèek známý pod
oznaèením <i>BASIC G</i>.</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-3.jpg" alt="pc106" height="540" width="382" /></p>
<p><i>Obrázek 7: V&nbsp;ÈSSR vy¹lo nìkolik uèebnic programovacího jazyka BASIC.
Zde je vyfocena obálka jedné z&nbsp;nejstar¹ích èeských knih o tomto jazyce,
která vy¹la ji¾ v&nbsp;roce 1979. Popisuje dialekt BASICu dostupný na
poèítaèích SMEP.</i></p>

<p>V&nbsp;pozdìj¹ích letech, kdy byl na poèítaè <i>IQ-151</i> pøenesen operaèní
systém <i>CP/M</i>, byla vyvinuta dal¹í varianta interpretru jazyka BASIC
pojmenovaná <strong>BASIC F</strong>. Tato verze BASICu byla doplnìna o pøíkazy
a funkce umo¾òující práci se soubory a zaøízeními operaèního systému
<i>CP/M</i>. Takté¾ do¹lo ke zmìnì chování nìkterých funkcí BASICu, zejména pøi
naèítání a ukládání textových dat. To bylo nutné z&nbsp;toho dùvodu, ¾e se
zmìnil význam nìkterých øídicích znakù tak, aby to odpovídalo konvencím
zavedeným v&nbsp;<i>CP/M</i>. Ostatnì nìkteré z&nbsp;tìchto konvencí platí
doposud, pøedev¹ím na platformì Windows, proto¾e byly z&nbsp;pùvodního
<i>CP/M</i> pøevzaty nejprve do DOSu a posléze i do systému MS Windows (CTRL+Z
= konec souboru, znak 0x0a má funkci <i>line feed</i>, 0x0d odpovídá
<i>carriage return</i> atd.). Mezi nové pøíkazy patøí pøedev¹ím
<strong>OPEN</strong> (otevøení souboru pro ètení èi zápis a pøiøazení èísla
kanálu k&nbsp;otevøenému souboru), <strong>CLOSE</strong> (zavøení zvoleného
kanálu), <strong>PRINT #</strong> (výstup do zvoleného kanálu) a <strong>INPUT
#</strong> (ètení dat ze zvoleného kanálu).</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-4.jpg" alt="pc106" height="540" width="405" /></p>
<p><i>Obrázek 8: Dal¹í (velmi dobrá) uèebnice jazyka BASIC, která je zamìøená
na numerické algoritmy. Tato uèebnice, resp.&nbsp;algoritmy v&nbsp;ní popsané,
je dodnes velmi dobøe pou¾itelná.</i></p>

<p>Kromì programovacího jazyka BASIC bylo pro poèítaèe <i>IQ-151</i> vytvoøeno
i nìkolik dal¹ích programovacích jazykù. Pøedev¹ím se jedná o <i>assembler</i>
a jazyk <i>Pascal</i>, které byly nabízené buï ve formì samostatného zásuvného
modulu nebo jako souèást operaèního systému <i>AMOS</i> (viz té¾ <a
href="#k06">dal¹í kapitoly</a>), v&nbsp;minulosti u nás pomìrnì populární
programovací jazyk <i>Forth</i> (podle názoru nìkterých programátorù se jednalo
o jediný vy¹¹í programovací jazyk, který mìlo smysl pou¾ívat na osmibitových
poèítaèích), základní dialekt programovacího jazyka <i>LISP</i> a
v&nbsp;neposlední øadì té¾ programovací jazyk <i>Karel</i> urèený pøedev¹ím pro
výuku programování, proto¾e studentùm nev¹tìpoval tolik ¹patných návykù jako
BASIC :-), naopak je vedl k&nbsp;øe¹ení zadávaných úloh pomocí strukturovanì
zapsaných algoritmù.</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-5.jpg" alt="pc106" height="540" width="374" /></p>
<p><i>Obrázek 9: V&nbsp;této knize je popsána pomìrnì moderní ANSI norma BASICu
z&nbsp;roku 1985. Nìkteré pøíkazy definované v&nbsp;této normì nebyly
v&nbsp;&bdquo;osmibitových&ldquo; BASICech dostupné.</i></p>

<p>Proè byla vlastnì v&nbsp;minulosti programovacím jazykùm a programování
vùbec vìnována taková pozornost? ©lo o dùsledek toho, ¾e se (pøedev¹ím u nás)
teprve zaèal formovat nový typ pracovníka &ndash; programátor. V&nbsp;minulosti
bylo mnoho u¾ivatelù poèítaèù (pøedev¹ím lidí z&nbsp;technických oborù) nuceno
se nauèit alespoò v&nbsp;minimální míøe programovat, aby si mohli napsat ty
aplikace, které pro svou práci potøebovali. A právì pro úèely rychlé tvorby
pomìrnì malých programù (maximálnì tisíce øádkù) programátory&ndash;amatéry, se
velmi èasto pou¾íval BASIC. Ostatnì tato praxe je v&nbsp;urèité míøe zachována
doposud &ndash; napøíklad tvorba tabulek se vzorci v&nbsp;tabulkovém procesoru
není nic jiného ne¾ algoritmizace nìjaké úlohy a tudí¾ i programování.
V&nbsp;minulosti, kdy nebyly tabulkové procesory tak roz¹íøené, by se musela
podobná úloha øe¹it plnohodnotnou aplikací.</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-6.jpg" alt="pc106" height="540" width="399" /></p>
<p><i>Obrázek 10: Ve své dobì velmi populární uèebnice hned tøí programovacích
jazykù &ndash; BASICu, Pascalu a Prologu.</i></p>



<p><a name="k06"></a></p>
<h2>6. Operaèní systém AMOS &ndash; bravurní ukázka èeské programátorské ¹koly</h2>

<p>Pùvodní programové vybavení mikropoèítaèe <i>IQ-151</i> bylo pomìrnì chudé,
ov¹em díky umu tehdej¹ích programátorù vznikly pro tento poèítaè velmi zajímavé
produkty, které mnohdy pøekonaly i profesionální aplikace ze Západu. Jedním
z&nbsp;nejzajímavìj¹ích a také neju¾iteènìj¹ích produktù je operaèní systém
nazvaný <strong>AMOS</strong>, který z&nbsp;velké èásti naprogramovali studenti
MFF UK (známý Matfyz). Název tohoto systému znamená buï <i>Autonomní
Mikropoèítaèový Operaèní Systém</i> popø.&nbsp;v&nbsp;anglické variantì
<i>Almost Memory Oriented System</i>, ov¹em hlavní dùvod, proè byl zvolen název
<strong>AMOS</strong>, spoèíval v&nbsp;tom, ¾e se tento systém distribuoval
pøes národní podnik Komenium. Ov¹em samotný název není a¾ tak podstatný, hlavní
je architektura celého operaèního systému a jeho vlastnosti. U¾iteènost
<strong>AMOSe</strong> spoèívala v&nbsp;tom, ¾e programátorùm i dal¹ím
u¾ivatelùm poskytoval (vývojové) prostøedí na profesionální úrovni, a to i
v&nbsp;pøípadì, ¾e u¾ivatelé nemìli k&nbsp;dispozici disketové jednotky
(jediným záznamovým zaøízením pro vìt¹inu u¾ivatelù toti¾ zùstával magnetofon,
situace se zmìnila a¾ s&nbsp;nástupem ¹estnáctibitových osobních poèítaèù).</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-7.jpg" alt="pc106" height="540" width="381" /></p>
<p><i>Obrázek 11: Známá hra &bdquo;Let balónem&ldquo; implementovaná
v&nbsp;BASICu G pro poèítaèe IQ-151.</i></p>

<p>Operaèní systém <strong>AMOS</strong> byl dodáván ve formì zásuvných modulù,
co¾ je vlastnì jediné rozumné øe¹ení pro poèítaèe bez disketových jednotek (a
samozøejmì bez pevných diskù :-). Tyto moduly obsahovaly pamì» EPROM o kapacitì
16 kB nebo 32 kB (viz <a href="#k07">dal¹í kapitolu</a>), pøièem¾ byly navr¾eny
tak, aby mohly spolupracovat s&nbsp;prakticky v¹emi dal¹ími standardními
zásuvnými moduly, pøedev¹ím s&nbsp;<i>VIDEO 32</i>, <i>VIDEO 64</i>,
<i>GRAFIK</i>, <i>MINIGRAF</i> èi <i>STAPER</i> (to, ¾e se spolu moduly
v&nbsp;jednom poèítaèi &bdquo;snesly&ldquo; nebylo zdaleka samozøejmostí).
Systém <strong>AMOS</strong> nabízel u¾ivatelùm pøedev¹ím plnohodnotný
celoobrazovkový editor, pøekladaè assembleru, debugger, plnohodnotný pøekladaè
Pascalu (odpovídající ve v¹ech dùle¾itých aspektech mezinárodní normì, na
rozdíl od známého Turbo Pascalu), podporu pro práci se soubory bez ohledu na
to, na jakém zaøízení jsou soubory ulo¾eny, vylep¹ené subrutiny pro zápis a
ètení dat z&nbsp;magnetofonu (zrychlení zápisu, jeho verifikace, nezávislost na
polaritì signálu)  a v&nbsp;neposlední øadì i podporu pro spooling, kdy bylo
mo¾né tiskové úlohy pøesmìrovat do pamì»ového èi diskového souboru (spooling je
dnes sice zcela samozøejmá vìc, ale napøíklad v&nbsp;prvních verzích MS DOSu ho
nenajdeme).</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-8.jpg" alt="pc106" height="540" width="403" /></p>
<p><i>Obrázek 12: Známý algoritmus bublinkového tøídìní (bubble sort)
implementovaný v&nbsp;BASICu.</i></p>



<p><a name="k07"></a></p>
<h2>7. Moduly operaèního systému AMOS</h2>

<p>V&nbsp;pøedchozí kapitole jsme si øekli, ¾e operaèní systém
<strong>AMOS</strong> byl ¹íøen na zásuvných modulech s&nbsp;pamì»mi EPROM o
celkové kapacitì 16 kB nebo 32 kB. V&nbsp;¹estnácti kilobajtovém modulu byl
obsa¾en vlastní operaèní systém (interpret, podpora pro rychlý zápis na
magnetofon, pojmenované soubory atd.) celoobrazovkový textový editor
s&nbsp;podporou blokù (co¾ v&nbsp;té dobì nebylo zdaleka tak bì¾né jako dnes),
pøekladaè assembleru a debugger. Jednotlivé aplikace se do operaèní pamìti
nahrávaly a¾ ve chvíli, kdy byly skuteènì zapotøebí, co¾ napøíklad znamenalo,
¾e u¾ivatel mohl v&nbsp;textovém editoru vytvoøit velmi dlouhý zdrojový kód
v&nbsp;assembleru, editor zavøít (uvolnit ho z&nbsp;pamìti), naèíst assembler a
provést pøeklad. Z&nbsp;popisu tohoto modulu je zøejmé, ¾e byl urèen pøedev¹ím
programátorùm v&nbsp;assembleru, ale i neprogramátoøi mohli jeho slu¾eb vyu¾ít
&ndash; zejména se to týká textového editoru, vylep¹eného zápisu na magnetofon
a spoolovaného tisku.</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-9.jpg" alt="pc106" height="540" width="264" /></p>
<p><i>Obrázek 13: Algoritmus výpoètu soustavy rovnic Gauss-Sidelovou metodou
implementovaný v&nbsp;programovacím jazyku BASIC.</i></p>

<p>Druhý modul systému <strong>AMOS</strong> byl v&nbsp;nìkolika ohledech
zajímavìj¹í. První zvlá¹tnost spoèívala v&nbsp;tom, ¾e mìl kapacitu pamìti
EPROM 32 kB, co¾ je dvakrát tolik, ne¾ maximální povolená kapacita standardních
modulù. Z&nbsp;tohoto dùvodu byla celá pamì» modulu rozdìlena na dvì èásti,
které se podle potøeby pøepínaly, tak¾e modul z&nbsp;hlediska poèítaèe
obsazoval pouze standardní pamì»ový prostor ¹estnácti kilobajtù. Tento modul
obsahoval, podobnì jako modul první, základní operaèní systém a celoobrazovkový
editor, ov¹em namísto assembleru a debuggeru zde byl pøítomen plnohodnotný
pøekladaè Pascalu, jeho¾ délka byla men¹í ne¾ 15 kB (!) a takté¾ cca
sedmikilobajtová knihovna potøebná pro bìh pøelo¾ených pascalovských programù
(knihovna obsahovala funkce a metody pro vstup a výstup dat, správu pamìti
atd.). U¾ivatelé si mohli koupit buï pouze jeden z&nbsp;modulù systému
<strong>AMOS</strong> (proto oba moduly obsahovaly nìkteré spoleèné nástroje),
nebo mohli souèasnì pou¾ít oba moduly, co¾ bylo velmi u¾iteèné a zajímavé,
nebo» to umo¾òovalo napøíklad provést pøeklad programù z&nbsp;Pascalu do
strojového kódu a jejich následné ladìní na úrovni assembleru (èi strojového
kódu) debuggerem. To v¹e na poèítaèi s&nbsp;kapacitou operaèní pamìti 64 kB a
zastaralým procesorem 8080!</p>

<p><img src="http://i.iinfo.cz/images/526/pc106-10.jpg" alt="pc106" height="540" width="333" /></p>
<p><i>Obrázek 14: Program zapsaný v&nbsp;dialektu jazyka BASIC odpovídajícího
ANSI normì z&nbsp;roku 1985. Pov¹imnìte si pøedev¹ím pou¾ití strukturovaných
konstrukcí typu IF-THEN-ELSE a universální smyèky DO-LOOP, pomocí nich¾ lze
nahradit nepøehledné a nestrukturované GOTO.</i></p>



<p><a name="k08"></a></p>
<h2>8. Obsah dal¹ího pokraèování seriálu</h2>

<p>V&nbsp;následující èásti seriálu o architekturách poèítaèù dokonèíme popis
osmibitového poèítaèe <i>IQ-151</i>. Pøedev¹ím se zmíníme o implementaci
operaèního systému <i>CP/M (Mikros)</i> na tìchto poèítaèích a také o zajímavé
poèítaèové síti <i>FELNET</i>, která byla zalo¾ena právì na mikropoèítaèích
<i>IQ-151</i>. Poté se ji¾ zaèneme zabývat èeskoslovenskými poèítaèi
s&nbsp;architekturou odvozenou od mikroprocesorù <i>Z80</i>, popø.&nbsp;od
jejich klonù <i>U880</i>. Jedná se napøíklad o poèítaèe <i>Ondra</i> i
populární <i>Didaktiky</i> (Gama, M, Kompakt).</p>

<p><a href="http://i.iinfo.cz/images/526/pc106-11.jpg"><img src="http://i.iinfo.cz/images/526/pc106-11-prev.jpg" alt="pc106" height="172" width="370" /></a></p>
<p><i>Obrázek 15: Populární poèítaè Didaktik M zalo¾ený na mikroprocesoru Z80
(U880) a zákaznickém obvodu ULA.</i></p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Muzeum èeskoslovenských mikropoèítaèù<br />
<a href="http://cs-pocitace.ic.cz/">http://cs-pocitace.ic.cz/</a>
</li>

<li>Popis modulù a aplikací pro IQ-151<br />
<a href="http://cs.felk.cvut.cz/~bily/iq151/">http://cs.felk.cvut.cz/~bily/iq151/</a>
</li>

<li>IQ 151<br />
<a href="http://osmi.tarbik.com/cssr/iq151.html">http://osmi.tarbik.com/cssr/iq151.html</a>
</li>

<li>&bdquo;Domácí poèítaèe&ldquo; nedávné minulosti<br />
<a href="http://www.fi.muni.cz/usr/jkucera/pv109/xkrejcir.htm">http://www.fi.muni.cz/usr/jkucera/pv109/xkrejcir.htm</a>
</li>

<li>ZPA: IQ-151<br />
<a href="http://www.homecomputer.de/pages/easteurope_cz.html#iq151">http://www.homecomputer.de/pages/easteurope_cz.html#iq151</a>
</li>

<li>Zrození IQ-151<br />
<a href="http://www.iq151.net/index.htm">http://www.iq151.net/index.htm</a>
</li>

<li>Struèná historie poèítaèe IQ150/IQ151<br />
<a href="http://www.iq151.net/history.htm">http://www.iq151.net/history.htm</a>
</li>

<li>Old Computers &ndash; IQ 151<br />
<a href="http://www.old-computers.com/MUSEUM/computer.asp?st=1&c=1045">http://www.old-computers.com/MUSEUM/computer.asp?st=1&c=1045</a>
</li>

<li>Wikipedia EN: IQ 151<br />
<a href="http://en.wikipedia.org/wiki/IQ_151">http://en.wikipedia.org/wiki/IQ_151</a>
</li>

<li>Wikipedia CZ: IQ 151<br />
<a href="http://cs.wikipedia.org/wiki/IQ_151">http://cs.wikipedia.org/wiki/IQ_151</a>
</li>

<li>Archive.Free8bit.net (archivy her a dal¹ích aplikací)<br />
<a href="http://archive.free8bit.net/index.php?ACTION=1004">http://archive.free8bit.net/index.php?ACTION=1004</a>
</li>

<li>Emulation.Free8bit.net (emulátory osmibitù)<br />
<a href="http://emulation.free8bit.net/">http://emulation.free8bit.net/</a>
</li>

<li>Muzeum starého hardwaru a poèítaèù<br />
<a href="http://hardware.najd.cz/nej.php">http://hardware.najd.cz/nej.php</a>
</li>

<li>Poèítaèe PMD 85<br />
<a href="http://balek.v.sweb.cz/cs%20pocitace/8bity/pmd_85.htm">http://balek.v.sweb.cz/cs%20pocitace/8bity/pmd_85.htm</a>
</li>

<li>Didaktik Alfa 1<br />
<a href="http://osmi.tarbik.com/cssr/didaktik_alfa.html">http://osmi.tarbik.com/cssr/didaktik_alfa.html</a>
</li>

<li>Didaktik<br />
<a href="http://en.wikipedia.org/wiki/Didaktik">http://en.wikipedia.org/wiki/Didaktik</a>
</li>

<li>Alfy mali vo výbave i sovietske televízory "Junost"<br />
<a href="http://bombara.blog.sme.sk/c/205503/Alfy-mali-vo-vybave-i-sovietske-televizory-Junost.html">http://bombara.blog.sme.sk/c/205503/Alfy-mali-vo-vybave-i-sovietske-televizory-Junost.html</a>
</li>

<li>Hlípa<br />
<a href="http://pmd85.djb-studios.com/wiki/Hlípa">http://pmd85.djb-studios.com/wiki/Hlípa</a>
</li>

<li>Video s&nbsp;øe¹ením hry Hlípa<br />
<a href="http://pmd85.djb-studios.com/w/media/hlipa-riesenie.avi">http://pmd85.djb-studios.com/w/media/hlipa-riesenie.avi</a>
</li>

<li>Urob si sám PMD-85<br />
<a href="http://pmd85.topindex.sk/">http://pmd85.topindex.sk/</a>
</li>

<li>Stránky Martina &bdquo;Schotka&ldquo; o PMD 85, jeho klonech i emulátorech<br />
<a href="http://www.schotek.cz/pmd/index.htm">http://www.schotek.cz/pmd/index.htm</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2010</small></p>
</body>
</html>

