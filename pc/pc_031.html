<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Sbìrnice v domácích a osobních poèítaèích</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Sbìrnice v domácích a osobních poèítaèích</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o architekturách poèítaèù se budeme zabývat popisem sbìrnicových systémù, s jejich¾ pomocí se ke dvìma základním jednotkám poèítaèe (mikroprocesoru a operaèní pamìti) pøipojují dal¹í zaøízení, napøíklad øadièe pevných diskù, grafický a zvukový subsystém, sí»ové rozhraní atd.</p>



<h1>Obsah</h1>
<p>
<a href="#k01">1. Sbìrnice v&nbsp;domácích a osobních poèítaèích</a><br />
<a href="#k02">2. Interní a externí sbìrnice</a><br />
<a href="#k03">3. Universální sbìrnice a lokální sbìrnice</a><br />
<a href="#k04">4. Jednoduchá sbìrnice pou¾itá u systému s&nbsp;mikroøadièem</a><br />
<a href="#k05">5. Typická sbìrnice osmibitových domácích poèítaèù &ndash; ZX-81</a><br />
<a href="#k06">6. Universální interní sbìrnice ISA</a><br />
<a href="#k07">7. Literatura a odkazy na Internetu</a><br />
<a href="#k08">8. Obsah dal¹ího pokraèování seriálu</a><br />
</p>



<p><a name="k01"></a></p>
<h1>1. Sbìrnice v&nbsp;domácích a osobních poèítaèích</h1>

<p>Pojmem <i>sbìrnice</i> (<i>bus</i>) se ve výpoèetní technice oznaèuje
soustava minimálnì dvou, vìt¹inou v¹ak a¾ nìkolika desítek vodièù, které slou¾í
k&nbsp;pøenosu dat i øídicích instrukcí mezi rùznými èástmi poèítaèe, pøièem¾
se pro pøenos pou¾ívá (mnohdy standardizovaný) <i>protokol</i>, který musí
akceptovat v¹echny èásti poèítaèe, je¾ jsou ke sbìrnici pøipojeny. Vodièe
tvoøící sbìrnici se podle své funkce rozdìlují do tøí základních skupin. Jedná
se o <i>adresové vodièe</i>, <i>datové vodièe</i> a vodièe, po nich¾ jsou
rozvádìny <i>øídicí signály</i>. U sériových sbìrnic je situace ponìkud
odli¹ná, proto¾e tam jsou adresy, data a øídicí signály pøená¹eny sériovým
protokolem po jednom èi nìkolika málo vodièích. U bì¾ných desktopových poèítaèù
slou¾í sbìrnice ke vzájemnému propojení mikroprocesoru, operaèní pamìti a
dal¹ích zaøízení, napøíklad grafických a zvukových karet, sí»ového rozhraní a
øadièù pevných diskù, disket, vnìj¹ích sbìrnic (<i>USB</i>,
<i>I<sup>2</sup>C</i>) atd.</p>

<image id="" />
<p-center><i>Obrázek 1: Schéma typického (i kdy¾ ponìkud star¹ího) desktopového
PC s&nbsp;dvojicí standardních sbìrnic PCI a ISA, AGP portem a sbìrnicí urèenou
pouze pro pøipojení synchronních dynamických operaèních pamìtí.</i></p-center>

<p>Mikroprocesor, jeho vyrovnávací pamì» první i druhé úrovnì (<i>L1 cache, L2
cache</i>) a operaèní pamì» jsou na sbìrnici zapojeny buï pøímo (co¾ je pøípad
pøedev¹ím architektonicky jednodu¹¹ích poèítaèù, viz navazující kapitoly) nebo
pøes takzvaný most (<i>bridge</i>), který sbìrnici od mikroprocesoru elektricky
oddìluje, èím¾ se sni¾uje logická zátì¾ na obou stranách mostu. V&nbsp;pøípadì,
¾e je sbìrnice standardizována, bývá souèástí její specifikace vìt¹inou i popis
funkce jednotlivých vodièù, øídicích signálù, jejich¾ èasování a vzájemné
návaznosti odpovídá pøenosovému protokolu, napì»ové (èi proudové) úrovnì v¹ech
signálù, èasování signálù a v&nbsp;neposlední øadì také popis konektorù, které
slou¾í k&nbsp;pøipojení zaøízení na sbìrnici. Výrobci zaøízení urèených pro
danou sbìrnici by mìli standard dodr¾ovat, co¾ se v¹ak mnohdy nedìje. O
nìkterých známých problémech a zpùsobech jejich øe¹ení se v&nbsp;tomto seriálu
je¹tì na vhodném místì zmíníme.</p>

<p>V&nbsp;následujících kapitolách si popí¹eme jak velmi jednoduché interní
sbìrnice, které se napøíklad pou¾ívají v&nbsp;zaøízeních osazených osmibitovými
mikroprocesory nebo mikroøadièi, tak i sbìrnice, které jsou ji¾ slo¾itìj¹í,
napøíklad v&nbsp;tom smyslu, ¾e pou¾ívají sofistikovanìj¹í pøenosový protokol,
jednotlivá zaøízení mohou pøevzít øízení sbìrnice (øízení tedy nemusí provádìt
pouze mikroprocesor) atd. Popsány budou pøedev¹ím vývojovì star¹í sbìrnice,
které jsou velmi jednoduché, co¾ je pøi jejich popisu spí¹e výhoda. A¾
v&nbsp;navazující èásti tohoto seriálu si popí¹eme ty interní i externí
sbìrnice, které lze najít v&nbsp;moderních poèítaèích a jejich¾ parametry
(zejména pøenosová rychlost) odpovídají vysokým po¾adavkùm kladeným dne¹ními
desktopovými i serverovými aplikacemi.</p>

<image id="" original="no" />
<p-center><i>Obrázek 2: Vìt¹ina interních sbìrnic bývá vytvoøena pøímo na
základní desce úhlednými spojovacími cestièkami v&nbsp;nìkolikavrstvém plo¹ném
spoji, ov¹em &ndash; jak je patrné z&nbsp;tohoto obrázku &ndash; je mo¾né
vytvoøit i interní sbìrnici typu &bdquo;vrabèí hnízdo&ldquo;, která kupodivu i
funguje.</i></p-center>



<p><a name="k02"></a></p>
<h1>2. Interní a externí sbìrnice</h1>

<p>Ji¾ v&nbsp;úvodních odstavcích tohoto èlánku jsem napsal, ¾e sbìrnice je
mo¾né rozdìlit podle nìkolika kritérií. Jedno z&nbsp;kritérií, které se
vyznaèuje tím, ¾e je snadno rozpozná i bì¾ný u¾ivatel, je rozdìlení sbìrnic na
<i>sbìrnice interní</i> a <i>sbìrnice externí</i>. Rozdíl mezi tìmito
sbìrnicemi je zøejmý &ndash; zatímco interní sbìrnice jsou navr¾eny
s&nbsp;ohledem na jejich pou¾ití uvnitø poèítaèe, externí sbìrnice se pou¾ívají
pøedev¹ím pro pøipojení vnìj¹ích zaøízení. Obecnì je mo¾né øíci, ¾e interní
sbìrnice umo¾òují dosa¾ení vìt¹ích pøenosových rychlostí, proto¾e bývá
ekonomicky únosné pou¾ít vìt¹í poèet adresových i datových vodièù a také vy¹¹í
frekvence hodinových signálù. U sbìrnic externích se naopak jejich tvùrci
vìt¹inou sna¾í o konstrukci kvalitních konektorù, pou¾ití pøenosového protokolu
odolného vùèi chybám, je¾ vznikají napøíklad kvùli ru¹ení pøenosu a
v&nbsp;neposlední øadì také o prodlou¾ení maximální délky vodièù, z&nbsp;èeho¾
vyplývají i maximální vzdálenosti mezi zaøízeními, které jsou sbìrnicí
propojené (u sbìrnic interních toti¾ platí mnohdy velmi pøísná omezení na
maximální délku vodièù, co¾ vyplývá z&nbsp;vysokých pøenosových rychlostí).</p>

<p>Pøedstavitelem interních sbìrnic jsou sbìrnice <i>ISA</i> a <i>PCI</i>. Obì
zmínìné sbìrnice jsou paralelní, tj.&nbsp;adresy, data a øídicí signály se
pøená¹í po nìkolika vodièích souèasnì (nìkteré vodièe v¹ak pøesto mají více
funkcí, napøíklad slou¾í pro pøenos adresy v&nbsp;jednom taktu synchronizaèních
hodin i dat v&nbsp;taktu dal¹ím). Z&nbsp;externích sbìrnic je dnes snad nejvíce
známá universální sériová sbìrnice neboli <i>Universal Serial Bus (USB)</i>,
existují ov¹em i sbìrnice dal¹í, z&nbsp;nich¾ nìkteré jsou velmi roz¹íøené
&ndash; jedná se napøíklad o prùmyslovou sbìrnici <i>I<sup>2</sup>C</i>, která
je pou¾ita v&nbsp;mnoha zaøízeních. Pøi popisu externích sbìrnic budu dbát na
rozli¹ení skuteèných sbìrnic od <i>portù</i>. <i>Port</i> je z&nbsp;hlediska
pøipojení zaøízení mnohem jednodu¹¹í, proto¾e umo¾òuje vzájemnì propojit v¾dy
jen dvojici zaøízení, z&nbsp;èeho¾ vyplývají i rozdíly v&nbsp;øízení èi
pøenosovém protokolu. Ke sbìrnici mù¾e být zapojeno více zaøízení, co¾ je nutné
zohlednit pøi návrhu pøenosového protokolu, adresování zaøízení i napøíklad
øe¹ení kolizí více zaøízení, je¾ se sna¾í pøipojit se ve stejný èas ke
sbìrnici (jedná se o takzvanou <i>arbitrá¾</i>).</p>

<image id="" />
<p-center><i>Obrázek 3: Standardizovaný konektor externí sériové sbìrnice
USB.</i></p-center>



<p><a name="k03"></a></p>
<h1>3. Universální sbìrnice a lokální sbìrnice</h1>

<p>Sbìrnice je mo¾né dìlit také na <i>universální</i> a <i>lokální</i>.
Universální i lokální sbìrnice slou¾í k&nbsp;vzájemnému propojení pøídavných
zaøízení uvnitø výpoèetního systému. Na tyto sbìrnice je, jak jsme si ji¾ øekli
v&nbsp;první kapitole, buï pøímo nebo pøes takzvaný most (bridge) pøipojen i
mikroprocesor spolu s&nbsp;lokální pamìtí cache a operaèní pamìtí. Rozdíl mezi
universálními a lokálními sbìrnicemi spoèívá pøedev¹ím ve stupni oddìlení
mikroprocesoru od sbìrnice. U <i>lokálních sbìrnic</i> je procesor ke sbìrnici
pøipojen pøímo, nebo pouze pøes pøípadný budiè sbìrnice. To s&nbsp;sebou
pøiná¹í (snad kromì jednoduchosti øe¹ení a z&nbsp;toho vyplývající nízké ceny)
znaèné nevýhody, proto¾e vlastnosti lokální sbìrnice jsou determinovány
vlastnostmi procesoru, napøíklad jeho externím taktovacím kmitoètem a
napì»ovými úrovnìmi signálù. Na lokální sbìrnice je také obecnì mo¾né pøipojit
ménì zaøízení, co¾ souvisí zejména se signálovými pomìry datových a øídicích
vodièích a logickém zatí¾ení výstupù samotného mikroprocesoru. Pøíklad pou¾ití
lokální sbìrnice je zobrazen na ètvrtém obrázku.</p>

<image id="" />
<p-center><i>Obrázek 4: Pøipojení mikroprocesoru, operaèní pamìti, grafické
karty a øadièe dal¹ích zaøízení na lokální sbìrnici poèítaèe.</i></p-center>

<p>U <i>sbìrnic universálních</i> je mezi interní sbìrnicí procesoru
(procesorovou sbìrnicí) a samotnou universální sbìrnicí umístìno pøesnì
definované rozhraní, tak¾e zaøízení pøipojená na tuto sbìrnici mezi sebou
komunikují relativnì nezávisle na mikroprocesoru. Vzhledem k&nbsp;oddìlení
interní sbìrnice od universální sbìrnice sice mù¾e docházet k&nbsp;urèitému
zpomalení (latenci) pøi pøenosu dat, co¾ je v¹ak vyvá¾eno mo¾ností pøipojení
vìt¹ího mno¾ství zaøízení na sbìrnici. Také je mo¾né pøevzetí øízení sbìrnice
jedním ze zaøízení, pøièem¾ vzájemná komunikace zaøízení mezi sebou mù¾e
probíhat bez zásahu mikroprocesoru. Pou¾ití universální sbìrnice je uvedeno na
pátém obrázku (konkrétní zpùsob pou¾ití byl zobrazen i na obrázku prvním).
Z&nbsp;universálních sbìrnic si postupnì popí¹eme dnes ji¾ ponìkud zastaralou
sbìrnici typu <i>ISA</i>, dále pak stále pou¾ívanou sbìrnici <i>PCI</i> a její
pokraèovatele. Z&nbsp;lokálních sbìrnic bude popsána sbìrnice <i>VESA Local
Bus</i>, kterou je dnes také mo¾né pova¾ovat za zastaralou. Na této sbìrnici
jsou v¹ak prezentovány vlastnosti spoleèné v¹em lokálním sbìrnicím, zejména
jejich pomìrnì velká závislost na procesorové architektuøe.</p>

<image id="" />
<p-center><i>Obrázek 5: Pøipojení mikroprocesoru, operaèní pamìti, grafické
karty a dal¹ích zaøízení na universální sbìrnici.</i></p-center>



<p><a name="k04"></a></p>
<h1>4. Jednoduchá sbìrnice pou¾itá u systému s&nbsp;mikroøadièem</h1>

<p>Velmi jednoduché (lokální) sbìrnice jsou pou¾ity napøíklad v&nbsp;systémech,
ve kterých je pou¾it <i>mikroøadiè</i>, tj.&nbsp;èip, který v&nbsp;sobì
integruje mikroprocesor, operaèní pamì» s&nbsp;relativnì malou kapacitou,
nevolatilní pamì» (také s&nbsp;relativnì malou kapacitou) a dal¹í podpùrné
obvody, napøíklad A/D pøevodník èi sériový port. V&nbsp;pøípadì, ¾e kapacity
pamìtí vytvoøených pøímo v&nbsp;èipu mikroøadièe pro nìkterou aplikaci nejsou
dostaèující, pøipojují se k&nbsp;nim externí pamì»ové èipy. Vzniká tak
jednoduchá sbìrnice, na kterou je mo¾né v&nbsp;pøípadì potøeby pøipojit i dal¹í
obvody slou¾ící napøíklad k&nbsp;ovládání LCD èi ètení kláves stisknutých na
pøipojené klávesnici. V&nbsp;dal¹ím odstavci si popí¹eme jednoduchou sbìrnici
pou¾ívanou mikroøadièem <i>8051</i> (jedná se o mikroøadiè pùvodnì navr¾ený a
vyrábìný firmou Intel, dnes je v&nbsp;mnoha konfiguracích nabízen celou øadou
dal¹ích výrobcù; pøedchùdcem tohoto èipu je první komerènì úspì¹ný mikroøadiè
&ndash; <i>Intel 8048</i>).</p>

<image id="" original="no" />
<p-center><i>Obrázek 6: Pøíklad jednoduché sbìrnice, která slou¾í ke komunikaci
mezi mikroøadièem 8051 a pamìtmi RAM, ROM, popø.&nbsp;i dal¹ími zaøízeními,
které lze ke sbìrnici pøipojit.</i></p-center>

<p>Na ¹estém obrázku je zobrazeno schéma pøipojení pamìtí RAM a ROM
k&nbsp;mikroøadièi. Vodièe vedoucí od mikroøadièe tvoøí sbìrnici, která je
rozdìlena &ndash; jak je ostatnì pro paralelní sbìrnice typické &ndash; do tøí
èástí: na adresové vodièe, datové vodièe a øídicí vodièe (nìkteré vodièe plní
dvojí funkci, jsou multiplexovány). Vzhledem k&nbsp;tomu, ¾e mikroøadiè typu
8051 pøi adresování externích pamìtí nejprve vytvoøí ¹estnáctibitovou adresu na
portu <strong>0</strong> a <strong>2</strong> (ka¾dý port je pøedstavován osmi
vývody) a teprve poté zapisuje èi naopak ète data z&nbsp;portu
<strong>0</strong>, musí být spodních osm bitù adresy zachyceno a zapamatováno
pomocí obvodu <i>74HCT573</i> (nebo jiného záchytného registru), který je øízen
signálem <strong>ALE</strong> (<i>Address Latch Enable</i>). Tento signál a
k&nbsp;nìmu pøíslu¹ný vývod tvoøí èást øídicí sbìrnice. Horních osm bitù adresy
nemusí být zachyceno, jsou toti¾ pøístupné na portu <strong>2</strong>, který
jinou funkci neprovádí.</p>

<p>Port <strong>2</strong> tedy tvoøí spolu s&nbsp;portem <strong>0</strong>
adresovou èást sbìrnice, port <strong>0</strong> souèasnì i datovou èást.
Øídicí èást sbìrnice je navíc doplnìna o signály <strong>RD</strong>
(<i>Read</i>), <strong>WR</strong> (<i>Write</i>) a <strong>PSEN</strong>
(povolení ètení z&nbsp;externí pamìti programu). I u dal¹ích lokálních a
universálních sbìrnic se mù¾eme setkat s&nbsp;podobným vyu¾itím vodièù &ndash;
adresy a data bývají multiplexovány, proto¾e ve vìt¹inì pøípadù stejnì nìjaký
èas trvá, ne¾ pamì» (èi jiné zaøízení) adresu nìjakým zpùsobem zpracuje, tak¾e
je zbyteèné, aby sbìrnice mìla napøíklad 32 adresových a navíc je¹tì
samostatných 32 datových vodièù. V&nbsp;pøípadì, ¾e by se mikroøadièem mìlo
ovládat dal¹í zaøízení, lze na sbìrnici pøipojit napøíklad obvod <i>8255</i>
(paralelní rozhraní). Rozhodnutí, zda mají být data ètena/zapisována do pamìti
èi obvodu <i>8255</i>, lze provést napøíklad tak, ¾e se pomocí nejvy¹¹ího
adresového vodièe bude pøíslu¹ný koncový bod vybírat (ov¹em vyu¾itelná kapacita
pamìti RAM bude polovièní).</p>



<p><a name="k05"></a></p>
<h1>5. Typická sbìrnice osmibitových domácích poèítaèù &ndash; ZX-81</h1>

<p>V&nbsp;první èásti tohoto seriálu jsme slíbil, ¾e si nìkteré principy práce
poèítaèù budeme vysvìtlovat na pøíkladu slavného domácího osmibitového poèítaèe
<i>ZX-81</i>. I pøes svoji jednoduchost mìl <i>ZX-81</i> vytvoøenou sbìrnici
s&nbsp;mo¾ností pøipojení dal¹ích externích zaøízení. Pùvodnì se jednalo
napøíklad o jednoduché tiskárny, v&nbsp;pozdìj¹í dobì se v¹ak objevily i
návody, kterak k&nbsp;<i>ZX-81</i> pøipojit napøíklad disketovou jednotku
z&nbsp;poèítaèù <i>Commodore</i>.</p>

<image id="" />
<p-center><i>Obrázek 7: Slavný ZX-81</i></p-center>

<p>Tento poèítaè obsahuje pouze <strong>¹est</strong> hlavních souèástek.
Pøedev¹ím se jedná o mikroprocesor, kterým je <strong>Z80</strong>, pøesnìji
øeèeno jeho klon vyrábìný firmou NEC (vedle mikroprocesoru se skrývá i krystal
s&nbsp;oscilací 6,5 MHz, co¾ je pøesnì dvojnásobek taktovací frekvence
mikroprocesoru). Dále mù¾eme na plo¹ném spoji vidìt dva men¹í integrované
obvody pøedstavující pamì» typu RAM, tj.&nbsp;pamì», do které se dají zapisovat
informace. Dùvod, proè jsou pou¾ity dva obvody je jednoduchý &ndash; jednalo se
toti¾ o ètyøbitové pamìti, tj.&nbsp;pro jejich pøipojení k&nbsp;osmibitovému
procesoru se muselo pou¾ít paralelní spojení dvou pamìtí. Statické i dynamické
pamìti RAM se bì¾nì dávaly do obalù s&nbsp;malým poètem vývodù, z&nbsp;toho
vyplývají i ony ètyøi bity (je toti¾ výhodnìj¹í "obìtovat" vývody na roz¹íøení
adresové sbìrnice na úkor sbìrnice datové, co¾ je snadné ovìøit jednoduchým
výpoètem.</p>

<image id="" />
<p-center><i>Obrázek 8: Plo¹ný spoj ZX-81, vpravo nahoøe je konektor pro
pøipojení dal¹ího zaøízení na interní sbìrnici</i></p-center>

<p>Dal¹í souèástkou je pamì» typu ROM, která obsahovala základní rutiny pro
ovládání poèítaèe (zobrazení na televizi, vstup z&nbsp;klávesnice) a pøedev¹ím
interpret programovacího jazyka BASIC &ndash; jde tedy o jednoduchou obdobu
dne¹ních EEPROM èi Flash pamìtí s&nbsp;BIOSem; mimochodem star¹í
&bdquo;originální&ldquo; poèítaèe PC od IBM také obsahovaly BASIC zapsaný
v&nbsp;ROM. Po levé stranì se nachází èip ULA, co¾ je zákaznický obvod, který
v&nbsp;ZX81 slou¾il pøedev¹ím ke generování obrazu (k&nbsp;tomu v¹ak také
vyu¾íval mikroprocesor, proto zobrazování pomìrnì znaènì zdr¾ovalo bìh
programù). V¹echny zmiòované obvody jsou zapojené na spoleènou sbìrnici, která
je rozdìlená (jak jinak), na <i>adresovou</i>, <i>datovou</i> a <i>øídicí
èást</i>. Pøi vytváøení sbìrnice tvùrci <i>ZX-81</i> vyu¾ili známé vlastnosti
Z80 &ndash; ten je schopen sám celou sbìrnici øídit, dokonce doká¾e
obèerstvovat i dynamické pamìti. Naproti tomu pøedchùdce Z80,
tj.&nbsp;mikroprocesor Intel 8080, k&nbsp;øízení sbìrnice potøebovat dal¹í dva
podpùrné obvody, které nesly oznaèení 8224 a 8228.</p>

<image id="" original="no" />
<p-center><i>Obrázek 9: Schéma zapojení ZX-81, vpravo nahoøe jsou popisy vývodù
konektoru, na nìj¾ lze pøipojit dal¹í zaøízení</i></p-center>

<p>Adresové vodièe, jich¾ je ¹estnáct, jsou rozvedeny do v¹ech pøipojených
souèástek, slou¾í také k&nbsp;podpoøe ètení stisknutých kláves. Kromì toho jsou
v¹echny adresové vodièe vyvedeny na externí konektor. Datová èást sbìrnice
obsahuje osm vodièù, které jsou takté¾ vyvedeny na externí konektor.
Z&nbsp;øídicích signálù jsou pøítomny nám ji¾ známé signály <strong>RW</strong>
(<i>Read</i>) a <strong>WR</strong> (<i>Write</i>), novì se v¹ak objevují
signály, které mohou na urèitou dobu mikroprocesor zastavit
(<strong>HALT</strong>) èi pøeru¹it jeho bì¾nou èinnost a vyvolat obsluhu
pøeru¹ení (<strong>MI</strong>, <strong>NMI</strong>). Vzhledem k&nbsp;tomu, ¾e
i tyto signály jsou vyvedeny na externí konektor, lze k&nbsp;poèítaèi pøipojit
zaøízení, které bude samo vy¾adovat &bdquo;pozornost&ldquo; mikroprocesoru.
Samotný zpùsob øízení sbìrnice je v&nbsp;pøípadì <i>ZX-81</i> ponìkud slo¾itý,
proto¾e mikroprocesor spolu s&nbsp;ULA generuje obrazový signál. Externí
pøeru¹ení tedy mù¾e zpùsobit viditelné zmìny v&nbsp;obraze, èeho¾ je v¹ak mo¾né
vyu¾ít a udìlat ze <i>ZX-81</i> zajímavý hybrid mezi osciloskopem a logickým
analyzátorem. Bli¾¹í informace o zpùsobu generování obrazového signálu a
pøebírání øízení sbìrnice mezi CPU a ULA si øekneme v&nbsp;èásti vìnované
grafickým kartám.</p>



<p><a name="k06"></a></p>
<h1>6. Universální interní sbìrnice ISA</h1>

<p>Mezi nejstar¹í a souèasnì i nejjednodu¹¹í sbìrnice pou¾ívané v&nbsp;osobních
poèítaèích typu IBM PC a kompatibilních, patøí sbìrnice typu <i>ISA</i>.
Zkratka ISA vychází z&nbsp;anglického názvu <i>Industry Standard
Architecture</i>. Tato sbìrnice byla navr¾ena firmou IBM v&nbsp;roce 1980
v&nbsp;laboratoøích IBM Development Lab Bocaraton na Floridì. V&nbsp;roce 1981
byla pou¾ita osmibitová verze této sbìrnice pro první poèítaèe typu IBM PC.
Tato verze podporovala pøipojení pøídavných karet s&nbsp;osmibitovým rozhraním
a konektorem, který obsahoval celkem 62 pinù. Od roku 1984 se zaèíná
v&nbsp;poèítaèích IBM PC AT a kompatibilních pou¾ívat ¹estnáctibitová verze
této sbìrnice, která podporuje karty s&nbsp;98pinovým konektorem. Tato sbìrnice
se ve firemních materiálech IBM také nazývá <i>AT Bus</i>, ostatní výrobci v¹ak
pou¾ívají oznaèení ISA. ©estnáctibitová sbìrnice ISA se ve výpoèetní technice
pou¾ívala velmi dlouho, zejména díky její konstrukèní jednoduchosti (konektor
¹lo vytvoøit pøímo na plo¹ném spoji bez dal¹ích konstrukèních souèástí) a
detailnímu popisu komunikaèního protokolu a prùbìhù signálù. Dnes ji lze
spatøit napøíklad v&nbsp;mnoha prùmyslových PC.</p>

<image id="" />
<p-center><i>Obrázek 10: Na této desce urèené pro prùmyslová PC (takzvaná
backplane) je osm èerných konektorù ¹estnáctibitové sbìrnice ISA. Na
konektorech je patrné oddìlení pùvodní osmibitové ISA od
&bdquo;¹estnáctibitového&ldquo; roz¹íøení</i></p-center>

<p>©estnáctibitová sbìrnice ISA obsahovala adresovou èást, která mìla ¹íøku 24
bitù, co¾ odpovídá mo¾nostem adresování a¾ 16MB pamìti (pomocí ètyø nejvy¹¹ích
adresových bitù bylo mo¾né ovládat takzvaný <i>latch</i>, tj. záchytný
registr). Kromì pamìti bylo mo¾né obsluhovat maximálnì 64kB vstupnì/výstupních
portù pomocí ¹estnáctibitové IO sbìrnice (adresová èást IO sbìrnice mìla ¹íøku
¹estnácti bitù, maximální poèet portù je tedy 2<sup>16</sup>=65536). Datová
èást sbìrnice mìla ¹íøku osm èi ¹estnáct bitù. Blokový pøenos dat byl øe¹en buï
pomocí pøevzetí øízení sbìrnice zaøízením (jednodu¹¹í obdoba <i>bus master</i>
pøenosu pou¾ívaného ve vyspìlej¹ích sbìrnicích) nebo pomocí ètyø (pozdìji osmi)
DMA kanálù. Pro pøenos dat se pou¾íval synchronní protokol, oscilátor mìl
èasovou základnu 70 ns, co¾ odpovídá frekvenci 14,285 MHz. Tato frekvence byla
dále dìlena tøemi, tak¾e skuteèná taktovací frekvence sbìrnice byla u prvních
verzí rovna necelým 4,77 MHz. Existovaly také rychlej¹í varianty s taktovací
frekvencí 8 MHz, 8.33 MHz, 10 MHz, 12 MHz a 16 MHz.</p>

<image id="" />
<p-center><i>Obrázek 11: Uspoøádání signálù na konektoru pùvodní osmibitové
sbìrnice ISA</i></p-center>



<p><a name="k07"></a></p>
<h1>7. Literatura a odkazy na Internetu</h1>

<ol>

<li>Wikipedia CZ: Sbìrnice:<br />
<a href="http://cs.wikipedia.org/wiki/Sb%C4%9Brnice">http://cs.wikipedia.org/wiki/Sb%C4%9Brnice</a></li>

<li>Wikipedia EN: Industry Standard Architecture:<br />
<a href="http://en.wikipedia.org/wiki/Industry_Standard_Architecture">http://en.wikipedia.org/wiki/Industry_Standard_Architecture</a></li>

</ol>

<image id="" />
<p-center><i>Obrázek 12: Karta urèená pro relativnì neúspì¹nou (proto¾e drahou
a souèasnì i nevýkonnou) sbìrnici EISA</i></p-center>



<p><a name="k08"></a></p>
<h1>8. Obsah dal¹ího pokraèování seriálu</h1>

<p>V&nbsp;následujícím pokraèování seriálu o architekturách poèítaèù si
popí¹eme nechvalnì známou lokální sbìrnici <i>VESA Local Bus</i>, universální
sbìrnici <i>PCI</i> a její moderní následovníky. Také nezapomeneme na
modifikaci sbìrnice <i>PCI</i> ve formì portu <i>AGP</i>, který slou¾í
k&nbsp;pøipojení grafických akcelerátorù.</p>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2008</small></p>
</body>
</html>

