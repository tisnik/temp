<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Èeskoslovenské osmibitové poèítaèe</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Èeskoslovenské osmibitové poèítaèe</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní i nìkolika následujících èástech seriálu o architekturách poèítaèù na chvíli odboèíme od popisu grafických subsystémù pou¾ívaných na hi-end grafických stanicích. Budeme se toti¾ zabývat osmibitovými poèítaèi navr¾enými a vyrábìnými v bývalé ÈSSR. Jedná se napøíklad o chvalnì i nechvalnì známé poèítaèe PMI-80, IQ-151, PMD 85 (a jeho rùzné varianty), Ondra, MA«O èi øadu Didaktik.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Èeskoslovenské osmibitové poèítaèe</a></p>
<p><a href="#k02">2. Rozdíly mezi osmibitovými poèítaèi vyrábìnými v&nbsp;ÈSSR a zahranièními poèítaèi</a></p>
<p><a href="#k03">3. Mikroprocesor MHB 8080A</a></p>
<p><a href="#k04">4. Poèítaè Tesla PMI-80</a></p>
<p><a href="#k05">5. Technické parametry poèítaèe Tesla PMI-80</a></p>
<p><a href="#k06">6. Klávesnice a displej poèítaèe PMI-80</a></p>
<p><a href="#k07">7. Programování poèítaèe PMI-80</a></p>
<p><a href="#k08">8. Obsah dal¹í èásti seriálu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Èeskoslovenské osmibitové poèítaèe</h2>

<p>V&nbsp;dne¹ní èásti seriálu o architekturách poèítaèù se zaèneme vìnovat
popisu osmibitových poèítaèù, které byly navr¾eny a vyrábìny v&nbsp;bývalé
ÈSSR. Èeskoslovenská socialistická republika pravdìpodobnì v&nbsp;polovinì
osmdesátých let minulého století dr¾ela celosvìtový primát v&nbsp;pomìru poètu
typù (osmibitových) poèítaèù k&nbsp;celkovému poètu obyvatel. Skuteènì, ve
snaze pøedehnat kapitalistický Západ ve vývoji výpoèetní techniky nedo¹lo
k&nbsp;logickému seskupení sil a vytvoøení jednoho typu poèítaèe
(popø.&nbsp;dvou èi maximálnì tøí typù &ndash; &bdquo;domácího&ldquo;,
&bdquo;prùmyslového&ldquo; a &bdquo;¹kolního&ldquo;). Naopak, zcela
v&nbsp;cimrmanovském duchu hledání slepých cest bylo vytvoøeno velké mno¾ství
typù poèítaèù, které nejen¾e vìt¹inou nebyly kompatibilní s&nbsp;poèítaèi
vyrábìnými v&nbsp;okolním svìtì, ale ani samy mezi sebou (nìkdy se dokonce
znaènì li¹ily i jednotlivé verze stejného typu), co¾ je docela zvlá¹tní
v&nbsp;zemi, která mìla centrálnì plánovanou a øízenou výrobu (pamìtníci, kteøí
dobu centrálního plánování za¾ili, se v¹ak vìt¹inou nediví :-).</p>

<img src="http://i.iinfo.cz/images/454/pc102-01.jpg" width="400" height="219" alt="pc102_01" />
<p><i>Obrázek 1: Pokud by mìl nìjaký poèítaè reprezentovat stav výpoèetní
techniky v&nbsp;bývalé ÈSSR, byl by to pravdìpodobnì ¹kolní poèítaè IQ-151.
Pomìrnì zajímavá my¹lenka modulárního poèítaèe (obdoba Apple-II) byla odsouzena
k&nbsp;neúspìchu kvùli zcela nedostateèné souèástkové základnì a nìkterým
technickým nedostatkùm (&bdquo;topící&ldquo; zdroj uvnitø poèítaèe), co¾ je
ostatnì patrné ji¾ pøi pohledu na klávesnici, konstrukènì zcela nevhodnou pro
¹kolní poèítaè.</i></p>

<p>Jediným jednotícím prvkem bylo, ¾e vìt¹ina osmibitových poèítaèù vyrábìných
v&nbsp;ÈSSR byla postavena na mikroprocesoru <i>Intel 8080</i>, a to
pravdìpodobnì z&nbsp;toho dùvodu, ¾e tento mikroprocesor byl pod oznaèením
<i>MHB 8080A</i> vyrábìn mj.&nbsp;i v&nbsp;tuzemské Tesle. Tento mikroprocesor
byl pou¾it napøíklad v&nbsp;poèítaèích <i>PMI-80</i>, <i>PMD 85</i>,
<i>Didaktik Alfa</i> (varianta <i>PMD 85</i>), <i>MA«O</i> (dal¹í varianta
<i>PMD 85</i>) a <i>Consul 2717</i> (&bdquo;zbrojováèek&ldquo;) a dal¹ích.
Teprve pøi návrhu jednoho z&nbsp;klonù ZX Spectra (jedná se o známou øadu
<i>Didaktik</i>, konkrétnì <i>Didaktik Gama</i>, <i>Didaktik M</i> a
<i>Didaktik Kompakt</i>) jeho tvùrci pou¾ili v&nbsp;mnoha ohledech lep¹í
mikroprocesor <i>Z80</i> vyrábìný pro zmìnu v&nbsp;DDR pod jménem <i>U880</i>.
Tento mikroprocesor byl pou¾it i v&nbsp;dal¹ím èeskoslovenském poèítaèi, který
se jmenoval <i>Ondra</i>; ov¹em tento poèítaè nebyl se ZX Spectrem a tím pádem
ani s&nbsp;Didaktikem Gama zpìtnì kompatibilní.</p>

<a href="http://i.iinfo.cz/images/232/pc102-02.jpg"><img src="http://i.iinfo.cz/images/232/pc102-02-prev.jpg" width="355" height="270" alt="pc102_02" /></a>
<p><i>Obrázek 2: Osmibitový poèítaè PMD 85-2.</i></p>



<p><a name="k02"></a></p>
<h2>2. Rozdíly mezi osmibitovými poèítaèi vyrábìnými v&nbsp;ÈSSR a zahranièními poèítaèi</h2>

<p>Výsledkem vý¹e popsaného chaosu ve vývoji a následné výrobì tuzemských
osmibitových poèítaèù bylo, ¾e se ka¾dého typu poèítaèe vyrobilo pouze nìkolik
stovek, maximálnì tisícù kusù, programové vybavení zpoèátku prakticky
neexistovalo, stejnì jako nebyla k&nbsp;dispozici literatura ani vhodná
periferní zaøízení, o servisu ani nemluvì (nìkteré typy dále popisovaných
poèítaèù byly tak poruchové, ¾e v&nbsp;servisu byly del¹í dobu ne¾
v&nbsp;provozu). Typickým znakem tuzemských poèítaèù byla absence zákaznických
integrovaných obvodù (co¾ je ostatnì pøi malém poètu prodaných poèítaèù
logické), tak¾e konstruktéøi tìchto poèítaèù byli oproti svým zahranièním
kolegùm ve velké nevýhodì. Pøitom právì tyto èipy v&nbsp;minulosti rozhodovaly
a úspìchu èi naopak neúspìchu osmibitových poèítaèù. Staèí si ostatnì
vzpomenout na legendární poèítaèe firmy <i>Sinclair</i>, pøedev¹ím
<i>ZX-80</i>, <i>ZX-81</i> a <i>ZX Spectrum</i>, jejich¾ úspìch byl
mj.&nbsp;zalo¾en i na velmi jednoduchém plo¹ném spoji s&nbsp;minimem souèástek
a zákaznickým èipem <i>ULA</i>, který úzce spolupracoval s&nbsp;mikroprocesorem
<i>Zilog Z80</i>. Men¹í poèet souèástek umo¾nil sní¾it výrobní cenu poèítaèe a
souèasnì i zvý¹it jeho spolehlivost.</p>

<a href="http://i.iinfo.cz/images/597/pc6708.png"><img src="http://i.iinfo.cz/images/597/pc6708-prev.png" width="271" height="270" alt="pc6708" /></a>
<p><i>Obrázek 3: Osazený plo¹ný spoj mikropoèítaèe ZX81. Poèet èipù je zde
skuteènì minimální, a to pøedev¹ím díky pou¾itému mikroprocesoru Z80 (který
nevy¾aduje dal¹í podpùrné èipy, na rozdíl od procesoru 8080) a zákaznickému
èipu ULA.</i></p>

<p>Dal¹ími zahranièními poèítaèi, jejich¾ úspìch byl do velké míry zpùsoben
pou¾itím vhodných zákaznických integrovaných obvodù, byly osmibitové poèítaèe
<i>Atari</i> s&nbsp;èipy <i>ANTIC</i> (rastrová grafika a text), <i>GTIA</i>
(sprity a barvová paleta) a <i>POKEY</i> (vstup/výstup a zvukový syntetizér) a
samozøejmì také slavný poèítaè <i>Commodore C64</i> vybavený èipy <i>VIC-II</i>
(rastrová grafika a sprity) a <i>SID</i> (legendární zvukový syntetizér). Návrh
zákaznických èipù je finanènì nároèný, tak¾e se vyplatí a¾ ve chvíli, kdy jsou
poèítaèe vyrábìny ve vìt¹ím poètu kusù &ndash; a právì v&nbsp;tomto ohledu
zpùsobilo rozdìlení u¾ tak velmi malého èeskoslovenského trhu mezi vìt¹í poèet
výrobcù (<i>Tesla Pie¹»any</i>, <i>Tesla Bratislava</i>, <i>Tesla Liberec</i>,
<i>Tesla Blatná</i>, <i>ZPA Nový Bor</i> atd.) to, ¾e se v&nbsp;prakticky
¾ádném pùvodním èeskoslovenském osmibitovém poèítaèi ¾ádný podobný zákaznický
èip nepou¾il. Výjimkou jsou pouze ji¾ zmiòované klony ZX-Spectra, u nich¾ byl
pou¾it ekvivalent pùvodního èipu <i>ULA</i>.</p>

<img src="http://i.iinfo.cz/images/182/pc6904.png" width="400" height="350" alt="pc6904" />
<p><i>Obrázek 4: Tok dat mezi operaèní pamìtí, mikroprocesorem a èipy ANTIC i
GTIA pøi generování video signálu na domácích osmibitových poèítaèích
Atari.</i></p>

<p>Nìkomu mo¾ná bude pøipadat porovnání èeskoslovenských poèítaèù se
&bdquo;svìtovými&ldquo; výrobky ponìkud nespravedlivé, ale podobné porovnání
skuteènì lze provádìt, proto¾e prakticky v¹echny osmibitové poèítaèe
z&nbsp;osmdesátých let minulého století pou¾ívaly mikroprocesor <i>Intel
8080</i> (popø.&nbsp;jeho klony vyrábìné rùznými výrobci), <i>Zilog Z80</i>
nebo øadu <i>MOS 65xx</i> (velmi vzácnì té¾ <i>Motorola M6809</i>). Kapacita
operaèní pamìti byla u vìt¹iny tìchto poèítaèù rovna 1 kB a¾ 64 kB (typické
rozmezí je 32 kB a¾ 64 kB), grafický výstup byl provádìn vìt¹inou na televizor
(pøes VF modulátor). Poèítaèe se tedy mohly odli¹ovat &bdquo;pouze&ldquo;
pou¾itými zákaznickými obvody, designem (pøedev¹ím se to týká designu
klávesnice), základním programovým vybavením, mo¾ností pøipojení periferií a
dostupnou literaturou i dal¹ími aplikacemi (v&nbsp;neposlední øadì samozøejmì
hrami).</p>

<a href="http://i.iinfo.cz/images/106/pc7003.jpg"><img src="http://i.iinfo.cz/images/106/pc7003-prev.jpg" width="370" height="172" alt="pc7003" /></a>
<p><i>Obrázek 5: Jedna z&nbsp;variant základní desky poèítaèe C64. Tento
poèítaè byl postaven na mikroprocesoru MOS 6510, grafickém èipu VIC-II,
zvukovém èipu SID a dvojici vstupnì-výstupních èipù SIO. Právì zákaznické èipy
zpùsobily velkou oblibu tohoto poèítaèe, který patøil mezi nejprodávanìj¹í
osmibitové poèítaèe vùbec (soupeøit v&nbsp;poètu prodaných kusù s&nbsp;ním mohl
pouze ZX-Spectrum a jeho klony).</i></p>



<p><a name="k03"></a></p>
<h2>3. Mikroprocesor MHB 8080A</h2>

<p>V&nbsp;pøedchozích kapitolách jsme si øekli, ¾e velká èást èeskoslovenských
osmibitových poèítaèù byla zalo¾ena na mikroprocesoru <i>MHB 8080A</i>, co¾ je
klon pùvodního mikroprocesoru <i>8080</i> vyrábìného firmou Intel. Tento
mikroprocesor má kvùli svému relativnímu stáøí (jde o jeden z&nbsp;prvních
¹iroce roz¹íøených osmibitových mikroprocesorù vyrábìných od roku 1974)
nìkolik vlastností, které pomìrnì významným zpùsobem ovlivnily (=komplikovaly)
konstrukci poèítaèù. Jednou z&nbsp;ne zcela dobrých vlastností bylo to, ¾e
mikroprocesor <i>8080</i> vy¾adoval troje napájecí napìtí: +5V, -5V a +12V, co¾
samozøejmì komplikovalo konstrukci napájecích zdrojù. Dal¹í vlastností tohoto
mikroprocesoru bylo, ¾e ke své èinnosti vy¾adoval nejménì dva podpùrné èipy.
Jednalo se o generátor hodinových impulsù (èip <i>8224</i>), který
mikroprocesoru dodával dvoufázové hodinové impulsy s&nbsp;po¾adovanou
amplitudou 8V (co¾ zajisté neodpovídá TTL :-). Dále se k&nbsp;mikroprocesoru
pøipojoval øadiè sbìrnice (èip <i>8228</i>), jen¾ umo¾òoval zapojení
<i>8080</i> ke sbìrnici se standardními øídicími signály (MEMR, MEMW, IOR, IOW
&ndash; v¹e negované), na ní¾ bylo mo¾né zapojit dal¹í programovatelné obvody
ze &bdquo;stavebnice 8080&ldquo;:</p>

<table>
<tr><th>Typové oznaèení</th><th>Popis obvodu</th></tr>
<tr><td>8251</td><td>zaji¹»uje synchronní èi asynchronní sériový pøenos dat &ndash; USART</td></tr>
<tr><td>8253</td><td>programovatelný èítaè a èasovaè</td></tr>
<tr><td>8255</td><td>trojice osmibitových vstupnì-výstupních bran</td></tr>
<tr><td>8257</td><td>pøímý pøístup do pamìti (blokové pøenosy dat) &ndash; DMA</td></tr>
<tr><td>8259</td><td>øadiè pøeru¹ení</td></tr>
</table>

<p>Mikroprocesor <i>8080A</i> (tj.&nbsp;první revize pùvodního mikroprocesoru
<i>8080</i>) obsahoval necelých 6000 tranzistorù a jeho hodinová frekvence se
pohybovala v&nbsp;rozsahu 500 kHz a¾ 2 MHz. Programátoøi mìli k&nbsp;dispozici
78 instrukcí, sedm pracovních registrù (<strong>A</strong>, <strong>B</strong>,
<strong>C</strong>, <strong>D</strong>, <strong>E</strong>, <strong>H</strong>
a <strong>L</strong>), registr pøíznakù (<strong>Flags</strong>), ukazatel na
vrchol zásobníku (<strong>SP</strong>) a èítaè instrukcí (<strong>PC</strong>).
Jednalo se o procesor typu CISC, tj.&nbsp;nìkteré instrukce byly pomìrnì
slo¾ité, pøièem¾ doba jejich trvání byla v&nbsp;rozsahu 4 a¾ 17 taktù. Pro
ilustraci &ndash; jednou z&nbsp;nejslo¾itìj¹ích instrukcí je instrukce
<strong>XTHL</strong>, která prohazuje obsah dvou bajtù ulo¾ených na vrcholu
zásobníku s&nbsp;obsahy pracovních registrù <strong>H</strong> a
<strong>L</strong>. Interní datová sbìrnice procesoru je osmibitová, proto musí
být pøi interpretaci této instrukce provedeno hned nìkolik pøístupù do pamìti a
pøesunù dat mezi pamìtí a mikroprocesorem.</p>

<a href="http://i.iinfo.cz/images/366/pc102-06.jpg"><img src="http://i.iinfo.cz/images/366/pc102-06-prev.jpg" width="240" height="270" alt="pc102_06" /></a>
<p><i>Obrázek 6: Èást plo¹ného spoje osmibitového poèítaèe PMD 85, na nìm¾ je
vidìt mikroprocesor 8080 (nejvìt¹í èip se ètyøiceti piny uprostøed fotografie),
doplnìný o dva podpùrné obvody &ndash; 8224 (¹edá patice v&nbsp;horní èásti
fotografie) s&nbsp;pøipojeným krystalem a 8228 (zelená patice v&nbsp;dolní
èásti fotografie).</i></p>



<p><a name="k04"></a></p>
<h2>4. Poèítaè Tesla PMI-80</h2>

<p>Prvním pùvodním osmibitovým èeskoslovenským poèítaèem, se kterým se
v&nbsp;dne¹ní èásti seriálu o architekturách poèítaèù seznámíme, je poèítaè
nazvaný <i>PMI-80</i>, jen¾ byl vyrábìný od roku 1982 v&nbsp;Tesle Pie¹»any
(mimochodem &ndash; zde se takté¾ zrodil poèítaè <i>PMD 85</i>, se kterým se
blí¾e seznámíme v&nbsp;následující èásti tohoto seriálu). Jedná se o poèítaè,
který byl urèený pøedev¹ím pro výuku programování (konkrétnì se jedná o
programování v&nbsp;assembleru èi pøímo ve strojovém kódu mikroprocesoru
<i>Intel 8080</i>), jeho¾ architektura byla z&nbsp;velké èásti postavena na
tuzemské souèástkové základnì. Velká èást pou¾itých souèástek byla vyrábìna
pøímo v&nbsp;Tesle Pie¹»any, co¾ na jednu stranu umo¾nilo sní¾it výrobní a
prodejní cenu tohoto poèítaèe, na stranu druhou v¹ak byly jeho mo¾nosti znaènì
omezené, jak si ostatnì øekneme v&nbsp;následujících dvou kapitolách.</p>

<a href="http://i.iinfo.cz/images/216/pc102-07.jpg"><img src="http://i.iinfo.cz/images/216/pc102-07-prev.jpg" width="370" height="230" alt="pc102_07" /></a>
<p><i>Obrázek 7: Poèítaè Tesla PMI-80. Vlevo nahoøe (zelený soket) mù¾eme vidìt
mikroprocesor MHB 8080A i dal¹í podpùrné obvody (vèetnì pamìtí), vpravo je
klávesnice a nad ní (èervený pruh) devítimístný sedmisegmentový displej.
Poèítaè zobrazený na tomto snímku byl upravený &ndash; LED na spodní èásti
plo¹ného spoje ani dvojice tlaèítek "0" a "D" nejsou v&nbsp;originálním PMI-80
pou¾ity.</i></p>



<p><a name="k05"></a></p>
<h2>5. Technické parametry poèítaèe Tesla PMI-80</h2>

<p>Základem osmibitového poèítaèe <i>PMI-80</i> byl mikroprocesor <i>Intel
8080</i> (který se v&nbsp;ÈSSR vyrábìl, jak ji¾ víme z&nbsp;pøedchozího textu,
pod oznaèením <i>MHB 8080A</i>) taktovaný v&nbsp;pøípadì tohoto poèítaèe na 1
MHz, ov¹em frekvence se dala pomìrnì jednodu¹e zvý¹it: postaèilo pouze zmìnit
rutiny pro ètení a zápis dat na magnetofon. Tento mikroprocesor byl doplnìn o
operaèní pamì» s&nbsp;kapacitou 1 KB, pamì» ROM takté¾ s&nbsp;kapacitou 1 KB a
dal¹í nezbytné podpùrné obvody, pøedev¹ím ji¾ zmiòované èipy <i>8224</i> a
<i>8228</i>, ke kterým byl v&nbsp;poèítaèi <i>PMI-80</i> pøidán je¹tì obvod
<i>8255</i> nabízející tøi konfigurovatelné osmibitové vstupnì/výstupní brány
zaji¹»ující jak øízení displeje a klávesnice (viz dal¹í kapitolu), tak i
umo¾òující pøipojení dal¹ích periferních zaøízení k&nbsp;tomuto poèítaèi. Jako
vnìj¹í pamì» se pou¾íval bì¾ný magnetofon (páskový èi kazetový). Ve ¹kolních
laboratoøích se v&nbsp;pozdìj¹ích dobách tento poèítaè doplòoval obvodem UART
umo¾òujícím komunikaci s&nbsp;osobním poèítaèem PC, tak¾e se jako vnìj¹í pamì»
dal pou¾ít i jeho pevný disk (ponìkud paradoxní pøitom je, ¾e DSP procesor na
disku má mnohem vìt¹í výkonnost ne¾ celý <i>PMI-80</i>). K&nbsp;tomuto poèítaèi
se dále pøipojoval zdroj, který musel generovat v¹echna tøi napìtí vy¾adovaná
mikroprocesorem <i>MHB 8080A</i>, tj.&nbsp; +5V, -5V a +12V.</p>



<p><a name="k06"></a></p>
<h2>6. Klávesnice a displej poèítaèe PMI-80</h2>

<p>V&nbsp;pøedchozí kapitole jsem se zmínil o klávesnici a displeji poèítaèe
<i>PMI-80</i>. V&nbsp;obou pøípadech se v¹ak nejedná o bì¾né periferie
v&nbsp;tom smyslu, jak je známe dnes (dokonce ani v&nbsp;tom smyslu, jak je
znají majitelé &bdquo;klasických&ldquo; osmibitových domácích poèítaèù).
Klávesnice poèítaèe <i>PMI-80</i> toti¾ obsahovala pouze 25 kláves (viz té¾
následující obrázek). Jak je z&nbsp;druhého obrázku patrné, obsahovala tato
klávesnice jak ¹estnáct kláves urèených pro zápis numerických hodnot
v&nbsp;hexadecimální soustavì, tak i dal¹ích devìt kláves urèených pro
spou¹tìní programù od zadané adresy v&nbsp;pamìti, prohlí¾ení obsahu pamìti i
registrù procesoru, vyvolání pøeru¹ení atd. U¾ivatelské programy mohly èíst
kódy stlaèených kláves a to buï pøes funkce ulo¾ené v&nbsp;pamìti ROM nebo
pøímo pøes jednu ze vstupnì&ndash;výstupních bran obvodu 8255. Displej, kterým
byl poèítaè <i>PMI-80</i> vybaven, dokázal zobrazit devìt znakù pomocí
sedmisegmentových LED jednotek, co¾ postaèovalo jak na výpisy obsahu operaèní
pamìti a registrù (hexadecimální znaky 0123456789ABCDEF), tak i nìkterých
dal¹ích znakù. I displej bylo mo¾né ovládat buï pøes funkce ulo¾ené v&nbsp;ROM
nebo pøímo pøes jednu brány obvodu 8255.</p>

<img src="http://i.iinfo.cz/images/275/pc102-08.jpg" width="250" height="244" alt="pc102_08" />
<p><i>Obrázek 8: Detail klávesnice poèítaèe PMI-80.</i></p>



<p><a name="k07"></a></p>
<h2>7. Programování poèítaèe PMI-80</h2>

<p>V&nbsp;pøedchozích kapitolách jsme si mj.&nbsp;øekli, ¾e osmibitový poèítaè
<i>PMI-80</i> byl vytvoøen pro výuku programování. Ov¹em pro tyto úèely byl
<i>PMI-80</i> vybaven pouze spartánsky, proto¾e se programy musely zapisovat
pøímo ve strojovém kódu mikroprocesoru <i>8080</i>, co¾ vlastnì vedlo
k&nbsp;návratu ke zpùsobu programování prvních mainframù vybavených øídicími
panely. Pøi praktických cvièeních programování se tedy postupovalo tím
zpùsobem, ¾e se po¾adovaný algoritmus nejprve napsal na papír v&nbsp;assembleru
8080 a posléze se tento program ruènì pøelo¾il do strojového kódu, tj.&nbsp;do
posloupnosti hexadecimálních èísel pøedstavujících osmibitové kódy instrukcí i
hodnoty jejich operandù (studenti tedy provádìli stejnou èinnost, jako
<i>assembler</i>, vèetnì výpoètù adres relativních skokù atd.). Následnì bylo
nutné sled hexadecimálních èísel pøes klávesnici zapsat do vhodného místa
operaèní pamìti <i>PMI-80</i>, poté program spustit a pøi jeho pádu (pokud
program neskonèil v&nbsp;nekoneèné smyèce ukonèené pøeru¹ením vyvolaným pøes
klávesnici) doufat, ¾e se nepøepsala operaèní pamì» a nebude nutné celý program
zapisovat znovu (ov¹em pokud bylo zapotøebí nìjakou instrukci pøidat doprostøed
programu, pøepisùm alespoò jeho èásti se student stejnì nevyhnul).</p>

<img src="http://i.iinfo.cz/images/177/pc102-09.jpg" width="450" height="268" alt="pc102_09" />
<p><i>Obrázek 9: Integrované obvody, které tvoøily ústøední èást poèítaèe
PMI-80: mikroprocesor MHB 8080A, podpùrné obvody 8224 a 8228, pamì» ROM, pamì»
RAM (2&times;1024&times;4 bity) a paralelní vstupnì-výstupní brány realizované
obvody 8255. Pamì»ové èipy typu MHB 2114 mìly strukturu 1024&times;4 bity, doba
pøístupu do pamìti dosahovala 450 ns a maximální pøíkon byl 500 mW. Tyto èipy
mìly 10 adresových pinù, 4 vstupnì/výstupní piny pro data, pin pro výbìr èipu
(!CS) a pin pro øízení ètení/zápisu (!WE), co¾ spolu s&nbsp;dvìma piny pro
napájení (Ucc, GND) znamenalo, ¾e se tento èip umis»oval do pouzdra DIL
s&nbsp;18 no¾ièkami a pøitom nebylo nutné pou¾ívat multiplexování adresy.</i></p>

<p>V&nbsp;pozdìj¹ích letech bylo mo¾né pøeklad programu zapsaného
v&nbsp;assembleru do strojového kódu provést na nìjakém domácím osmibitovém
poèítaèi (vybaveným pøíslu¹ným assemblerem), popøípadì, zejména po roce 1990, i
na osobním poèítaèi. Pro tyto poèítaèe existovalo nìkolik assemblerù procesorù
<i>Intel 8080</i> èi <i>Zilog Z80</i>, jeho¾ instrukce byly nadmno¾inou
instrukcí <i>8080</i>. Pøedností takto pojatého zpùsobu výuky programování bylo
to, ¾e studenti skuteènì pracovali témìø na té nejni¾¹í úrovni &ndash; mohli
ovládat jak samotný mikroprocesor, tak i klávesnici, displej a popø.&nbsp;i
dal¹í pøipojená periferní zaøízení, napøíklad reproduktor pøipojený buï na
jeden pin obvodu 8255 nebo na externí D/A pøevodník (dal¹ím triviálnì
pøipojitelným zaøízením byl tehdy ¹iroce roz¹íøený digitální joystick nebo A/D
pøevodník). Poèet vrstev vlo¾ených mezi hardware a u¾ivatele se tak zmen¹il na
minimální úroveò, co¾ umo¾nilo lep¹í pochopení práce celého poèítaèe (dne¹ní PC
jsou pro naprostou vìt¹inu u¾ivatelù i programátorù èernými skøíòkami, co¾ pøi
jejich velké slo¾itosti ostatnì není nic pøekvapivého). Na druhou stranu v¹ak
tvorba programù v&nbsp;assembleru a jejich ruèní pøeklad do strojového kódu
odvádìlo studenty i vyuèující od vlastní algoritmizace øe¹eného problému, co¾
v¹ak není problém samotného poèítaèe <i>PMI-80</i> (podobné
&bdquo;poèítaèe&ldquo; se vyrábí dodnes, jde napøíklad o vývojové desky
s&nbsp;mikroøadièi), ale zpùsobu jeho pou¾ití pøi výuce.</p>

<p>I pøes velmi malou kapacitu operaèní pamìti (1 kB) se na tomto poèítaèi daly
realizovat typické &bdquo;¹kolní&ldquo; algoritmy, napøíklad: matematické úlohy
s&nbsp;celými èísly vyu¾ívající programové smyèky (výpoèet faktoriálu, výpoèet
nejvìt¹ího spoleèného dìlitele, pøevody mezi èíselnými soustavami), numerické
úlohy s&nbsp;reálnými èísly (implementace FP, iterativní výpoèet druhé
odmocniny, algoritmus CORDIC), základní úlohy zpracování dat (vyhledávání
v&nbsp;setøídìné i nesetøídìné sekvenci hodnot, øazení), programový generátor
hudby (i jednooktávové elektronické varhany :-), jednoduché úlohy s&nbsp;èidly
(teplomìr), øízení svìtelné køi¾ovatky, jednoduché hry (pøistání na mìsíci,
ov¹em s&nbsp;pouhým numerickým výstupem) èi øízení perového plotteru.</p>

<p>Poznámka: autor s&nbsp;tímto poèítaèem pracoval na zaèátku devadesátých let
minulého století na SP©E, tj.&nbsp;v&nbsp;dobì, kdy se v&nbsp;na¹ich krajích
ji¾ kromì osmibitových domácích poèítaèù rozmáhaly i osobní poèítaèe (PC), ale
napøíklad i Amigy èi Atari ST. Pøi pøechodu z&nbsp;programování na tìchto
poèítaèích zpìt na <i>PMI-80</i> to vytváøelo zajímavý kontrast.</p>



<p><a name="k08"></a></p>
<h2>8. Obsah dal¹í èásti seriálu</h2>

<p>V&nbsp;následujících èástech seriálu o architekturách poèítaèù si popí¹eme
dal¹í osmibitové poèítaèe vyrábìné v&nbsp;ÈSSR. Jedná se pøedev¹ím o poèítaèe
<i>PMD 85</i>, <i>IQ-151</i>, <i>MA«O</i> i øadu poèítaèù nesoucích spoleèný
název <i>Didaktik</i>, v&nbsp;ní¾ mù¾eme najít jak poèítaèe architektonicky
velmi podobné s&nbsp;<i>PMD 85</i> (<i>Didaktik Alfa</i> a <i>Didaktik Alfa
2</i>), tak i klony legendárního <i>ZX Spectra</i>. Není bez zajímavosti, ¾e
právì èeskoslovenské klony <i>ZX Spectra</i>, konkrétnì se jedná o <i>Didaktik
Gama</i>, <i>Didaktik Kompakt</i> a <i>Didaktik M</i>, byly pova¾ovány za
nejlep¹í osmibitové poèítaèe, které byly v&nbsp;ÈSSR vyrábìny, a to jak po
stránce designu (slu¹ná klávesnice, pøedev¹ím v&nbsp;porovnání s&nbsp;pùvodní
klávesnicí <i>PMD 85</i> èi <i>IQ-151</i>), tak i po stránce programové,
proto¾e díky zpìtné kompatibilitì se ZX Spectrem bylo mo¾né témìø ihned
(popø.&nbsp;po mírných úpravách) vyu¾ít tisíce u¾ivatelských programù i her,
nehledì na pomìrnì velké mno¾ství dostupné literatury.</p>

<a href="http://i.iinfo.cz/images/9/pc102-10.jpg"><img src="http://i.iinfo.cz/images/9/pc102-10-prev.jpg" width="370" height="246" alt="pc102_10" /></a>
<p><i>Obrázek 10: V&nbsp;následující èásti tohoto seriálu se zamìøíme pøedev¹ím
na popis architektury poèítaèe PMD 85, který byl v&nbsp;osmdesátých letech
minulého století u nás velmi roz¹íøený, a to jak na ¹kolách èi v&nbsp;rùzných
poèítaèových krou¾cích, tak i v&nbsp;prùmyslu.</i></p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Martin Schotek a PMD 85<br />
<a href="http://www.schotek.cz/pmd/index.htm">http://www.schotek.cz/pmd/index.htm</a>
</li>

<li>Scanované informace o PMD 85<br />
<a href="http://www.schotek.cz/pmd/scan.htm">http://www.schotek.cz/pmd/scan.htm</a>
</li>

<li>Czechoslovakian Home-Computers<br />
<a href="http://www.homecomputer.de/pages/easteurope_cz.html">http://www.homecomputer.de/pages/easteurope_cz.html</a>
</li>

<li>Minimalism (computing)<br />
<a href="http://en.wikipedia.org/wiki/Minimalism_(computing)">http://en.wikipedia.org/wiki/Minimalism_(computing)</a>
</li>

<li>PMD 85 (Personal Microcomputer with Display) emulator<br />
<a href="http://pmd85.djb-studios.com/wiki/PMD_85&setlang=en">http://pmd85.djb-studios.com/wiki/PMD_85&setlang=en</a>
</li>

<li>PMD 85 Emulator - Screenshots<br />
<a href="http://pmd85.djb-studios.com/wiki/Emulator/Screenshots">http://pmd85.djb-studios.com/wiki/Emulator/Screenshots</a>
</li>

<li>PMD-85<br />
<a href="http://www.old-computers.com/museum/computer.asp?c=730&st=1">http://www.old-computers.com/museum/computer.asp?c=730&st=1</a>
</li>

<li>Peripherals of PMD-85 and compatibles<br />
<a href="http://pmd85.djb-studios.com/wiki/Peripherals">http://pmd85.djb-studios.com/wiki/Peripherals</a>
</li>

<li>BASIC<br />
<a href="http://cs.wikipedia.org/wiki/BASIC">http://cs.wikipedia.org/wiki/BASIC</a>
</li>

<li>BASIC<br />
<a href="http://en.wikipedia.org/wiki/BASIC">http://en.wikipedia.org/wiki/BASIC</a>
</li>

<li>IQ-151<br />
<a href="http://www.old-computers.com/MUSEUM/computer.asp?st=1&c=1045">http://www.old-computers.com/MUSEUM/computer.asp?st=1&c=1045</a>
</li>

<li>IQ-151<br />
<a href="http://osmi.tarbik.com/cssr/iq151.html">http://osmi.tarbik.com/cssr/iq151.html</a>
</li>

<li>PMD 85<br />
<a href="http://osmi.tarbik.com/cssr/pmd_85.html">http://osmi.tarbik.com/cssr/pmd_85.html</a>
</li>

<li>Tesla PMI-80<br />
<a href="http://osmi.tarbik.com/cssr/pmi80.html">http://osmi.tarbik.com/cssr/pmi80.html</a>
</li>

<li>PMI-80<br />
<a href="http://en.wikipedia.org/wiki/PMI-80">http://en.wikipedia.org/wiki/PMI-80</a>
</li>

<li>PMI-80<br />
<a href="http://www.old-computers.com/MUSEUM/computer.asp?st=1&c=1016">http://www.old-computers.com/MUSEUM/computer.asp?st=1&c=1016</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2010</small></p>
</body>
</html>

