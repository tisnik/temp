<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Superpoèítaèe Cray (tøetí èást)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Superpoèítaèe Cray (tøetí èást)</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V&nbsp;dne¹ní èásti seriálu o historii výpoèetní techniky si popí¹eme základní technické parametry superpoèítaèe Cray-2, který se díky svému vysokému výpoèetnímu výkonu 1,9 GFLOPS stal v&nbsp;dobì svého vzniku nejrychlej¹ím poèítaèem na svìtì, pøièem¾ si tuto presti¾ní pozici udr¾el témìø pìt let (pøekonán byl a¾ v&nbsp;roce 1990 strojem ETA-10G).</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Superpoèítaè Cray-2</a></p>
<p><a href="#k02">2. Vznik superpoèítaèe Cray-2</a></p>
<p><a href="#k03">3. Boj o dosa¾ení co nejvy¹¹ího výpoèetního výkonu</a></p>
<p><a href="#k04">4. Nový zpùsob uspoøádání plo¹ných spojù</a></p>
<p><a href="#k05">5. Chlazení funkèních jednotek (procesorù)</a></p>
<p><a href="#k06">6. Architektura superpoèítaèe Cray-2</a></p>
<p><a href="#k07">7. Superpoèítaè Cray-2 v&nbsp;praxi</a></p>
<p><a href="#k08">8. Obsah následující èásti seriálu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Superpoèítaè Cray-2</h2>

<p>V&nbsp;pøedchozích dvou èástech seriálu o historii výpoèetní techniky jsme
si øekli základní informace o superpoèítaèi <i>Cray-1</i>. Kromì historie
vzniku tohoto poèítaèe jsme si popsali jak jeho architekturu, tak i zpùsoby,
jakými bylo dosa¾eno jeho velmi vysokého výpoèetního výkonu (v&nbsp;dobì
uvedení na trh se jednalo o nejrychlej¹í poèítaè na svìtì, pozdìji se toto
umístìní stalo pro poèítaèe <i>CRAY</i> typické). Dále jsme si øekli, ¾e pro
tento superpoèítaè vznikl kromì assembleru nazvaného jednodu¹e <i>CAL</i>
(<i>Cray Assembler Language</i>) i speciální pøekladaè programovacího jazyka
<i>Fortran</i> nazvaný <i>CFT</i> (<i>Cray-1 Fortran Compiler</i>), který
dokázal optimalizovanì pøekládat nìkteré typy programových smyèek
<strong>DO</strong> takovým zpùsobem, aby se co nejlépe vyu¾ily mo¾nosti
funkèních jednotek provádìjících výpoèty s&nbsp;vektory pevné délky (ka¾dý
vektor byl pøedstavován registrem s&nbsp;64 prvky, kde ka¾dý prvek byl
reprezentován 64bitovou numerickou hodnotou).</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-1.jpg" width="350" height="467" alt=" " />
<p><i>Obrázek 1: Celkový pohled na superpoèítaè Cray-1.</i></p>

<p>Návrh poèítaèe <i>Cray-1</i> v¹ak byl pro jeho hlavního konstruktéra a
z&nbsp;velké èásti i autora celé koncepce &bdquo;vektorových&ldquo;
superpoèítaèù &ndash; <i>Seymoura Craye</i> &ndash; pouhým zaèátkem pro návrh
dal¹ích, mnohem výkonnìj¹ích a technologicky vyspìlej¹ích strojù. Po modelu
<i>Cray-1S</i> pou¾ívajícího bipolární pamìti s&nbsp;kapacitou a¾ ètyøi miliony
slov a na nìj navazujícího <i>Cray-1M</i> (zde do¹lo ke zmìnì technologie
pamì»ových modulù z&nbsp;bipolárních obvodù na levnìj¹í obvody typu MOS)
následoval poèítaè <i>Cray X-MP</i> s&nbsp;výpoèetním výkonem 800 MFLOPS,
pøièem¾ pùvodní <i>Cray-1</i> se mohl py¹nit výkonem 160 MFLOPS (obì zmínìné
hodnoty byly je¹tì na konci sedmdesátých let minulého století pova¾ovány témìø
za sci-fi). Superpoèítaè <i>Cray X-MP</i>, na nìj¾ pozdìji navázala øada
<i>Cray Y-MP</i>, se samozøejmì :-) stal nejrychlej¹ím poèítaèem své doby aby
byl z&nbsp;této presti¾ní pozice sesazen technologicky mnohem vyspìlej¹ím
poèítaèem <i>Cray-2</i> s&nbsp;výpoèetním výkonem témìø 1,9 GFLOPS. Právì tímto
zajímavým superpoèítaèem se budeme zabývat v&nbsp;navazujících kapitolách.</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-3.jpg" width="405" height="540" alt=" " />
<p><i>Obrázek 2: Detail spodní èásti superpoèítaèe Cray-1S. Na pravé stranì
fotografie je patrný &bdquo;vstup&ldquo; do vnitøního prostoru stroje.</i></p>



<p><a name="k02"></a></p>
<h2>2. Vznik superpoèítaèe Cray-2</h2>

<p>Práce na vývoji superpoèítaèe <i>Cray-2</i> byly, i kdy¾ pomìrnì pozvolna,
zahájeny ji¾ v&nbsp;dobì, kdy byla uvádìna do ostrého provozu první série
superpoèítaèù <i>Cray-1</i>. Ov¹em vývoj nového a v&nbsp;mnoha ohledech i
odli¹ného stroje provázely znaèné potí¾e, a to jak technologické, tak i
organizaèní. Po úspì¹ném uvedení poèítaèe <i>Cray-1</i> na trh se Seymour Cray
chtìl zaèít plnì vìnovat vývoji jeho následovníka, ov¹em (mo¾ná ponìkud
paradoxnì) vedl úspìch <i>Craye-1</i> k&nbsp;tomu, ¾e se firma Cray Research
rozrostla a Seymour Cray sám zaèal být obtì¾ován ka¾dodenními starostmi
s&nbsp;øízením vznikajícího molochu, co¾ byla povinnost, která ho &ndash; podle
jeho vlastních slov &ndash; v&nbsp;¾ádném pøípadì nebavila, proto¾e ho odvádìla
od skuteèné práce (ostatnì je pomìrnì zajímavé porovnat tento postoj Seymoura
Craye s&nbsp;ostatními tehdej¹ími vizionáøi v&nbsp;oboru IT; napøíklad ani
Steve &bdquo;Woz&ldquo; Wozniak nebyl nijak nad¹ený z&nbsp;vedoucích
pozic).</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-2.jpg" width="350" height="438" alt=" " />
<p><i>Obrázek 3: Superpoèítaè Cray-1 a jeho duchovní otec a konstruktér.</i></p>

<p>Seymour Cray se za této situace zachoval podobnì jako o nìkolik let døíve
(konkrétnì v&nbsp;roce 1972) ve firmì Control Data &ndash; rezignoval na svoji
funkci jednoho z&nbsp;mana¾erù Cray Research a zaèal se chystat na to, ¾e
vytvoøí novou laboratoø, která by mìla pracovat zcela samostatnì a nezávisle na
dal¹ích oddìleních firmy. Podle nìkterých zdrojù Seymour Cray dokonce uva¾oval
o úplném odchodu z&nbsp;firmy a zalo¾ení spoleènosti nové. Vedení Cray Research
ov¹em neudìlalo podobnou chybu jako mana¾eøi z&nbsp;Control Data. Naopak plnì
podpoøilo Craye a výsledkem byl vznik zcela nové laboratoøe v&nbsp;Boulderu ve
státì Colorado. V&nbsp;této nové laboratoøi zaèal Seymour Cray se svým týmem
navrhovat superpoèítaè, který mìl mít zcela novou architekturu a samozøejmì mìl
být mnohem výkonnìj¹í ne¾ jeho pøedchùdci <i>Cray-1</i>, <i>Cray-1S</i>,
<i>Cray-1M</i> a <i>Cray X-MP</i>. Cílem bylo dosa¾ení desetinásobného
výpoèetního výkonu oproti pùvodnímu <i>Crayi-1</i>, co¾ je spí¹e revoluce ne¾
pomalá a po malých krocích dìlaná evoluce.</p>

<img src="http://i.iinfo.cz/images/625/37cray-a-6.jpg" width="382" height="500" alt=" " />
<p><i>Obrázek 4: Pøíruèka k&nbsp;superpoèítaèi Cray-2.</i></p>



<p><a name="k03"></a></p>
<h2>3. Boj o dosa¾ení co nejvy¹¹ího výpoèetního výkonu</h2>

<p>Pøekroèení hranice desetinásobného navý¹ení výpoèetního výkonu v¹ak
v&nbsp;¾ádném pøípadì nebylo snadné, u¾ jen z&nbsp;toho dùvodu, ¾e superpoèítaè
<i>Cray-1</i> pøedstavoval pomìrnì vysoko polo¾enou la»ku. Seymour Cray dosáhl
velmi vysokého výpoèetního výkonu pøedchozího modelu <i>Cray-1</i> tøemi
metodami. Pøedev¹ím pou¾il velké mno¾ství funkèních jednotek (funkèní jednotka
zhruba odpovídá na¹emu chápání procesoru), které mohly pracovat paralelnì a
mnohonásobnì tak urychlit výpoèty optimalizované pro danou architekturu. Dále
se sna¾il o vytvoøení velmi kompaktního stroje, co¾ bylo vedeno snahou o
minimalizaci zpo¾dìní signálù pøi vzájemné komunikaci jednotlivých funkèních
jednotek (&bdquo;smaller means faster&ldquo;). Výsledkem byl svìtoznámý design
stroje s&nbsp;pùdorysem ve tvaru písmena <strong>C</strong> (tøíètvrteèní
kruh), který byl pomìrnì malý, zejména pøi srovnání s&nbsp;mainframy firmy IBM
èi superpoèítaèi dal¹ích firem. Tøetím zpùsobem urychlení bylo nahrazení
diskrétních elektronických souèástek integrovanými obvody, samozøejmì tìmi
nejrychlej¹ími, které byly v&nbsp;dané dobì k&nbsp;dispozici (co¾ mimochodem
vedlo k&nbsp;pou¾ití technologie ECL).</p>

<img src="http://i.iinfo.cz/images/279/hist3905.jpg" width="355" height="412" alt=" " />
<p><i>Obrázek 5: Superpoèítaè Cray-2 &ndash; pohled na výpoèetní moduly a moduly
s&nbsp;operaèní pamìtí.<br />
(zdroj: Cray Research)</i></p>

<p>Prakticky stejnou metodu pou¾il Seymour Cray i pøi vývoji superpoèítaèe
<i>Cray-2</i>. Nejprve se rozhodl vyu¾ít integrované obvody s&nbsp;vìt¹í
integrací ne¾ u pøedchozích modelù, co¾ je samozøejmì logické, proto¾e vývoj
tìchto obvodù pokraèoval v&nbsp;osmdesátých letech minulého století velmi
rychle kupøedu. Následnì zkrátil délku hodinových cyklù z&nbsp;12,5 nanosekund
na 4,1 nanosekundy a podstatným zpùsobem roz¹íøil jak poèet funkèních jednotek,
tak i kapacitu operaèní pamìti z&nbsp;pùvodních 1&ndash;4 megaslov na
64&ndash;4096 megaslov (ka¾dé slovo mìlo ¹íøku 64 bitù, vìt¹ina zpracovávaných
operandù byly numerické hodnoty ulo¾ené ve formátu plovoucí øádové èárky).
Zbývalo v¹ak vyøe¹it tøi pomìrnì zásadní problémy &ndash; zpùsob propojení
jednotlivých integrovaných obvodù, chlazení celého poèítaèe a v&nbsp;neposlední
øadì takté¾ odstranìní èi alespoò minimalizaci následkù toho, ¾e výkon
funkèních jednotek (procesorù) vzrostl rychleji ne¾ rychlost operaèních pamìtí.
Jak se s&nbsp;tìmito problémy konstruktéøi vypoøádali si øekneme
v&nbsp;následujících kapitolách.</p>

<img src="http://i.iinfo.cz/images/296/hist3906.jpg" width="375" height="253" alt=" " />
<p><i>Obrázek 6: Èásteènì demontovaný Cray-2.</i></p>



<p><a name="k04"></a></p>
<h2>4. Nový zpùsob uspoøádání plo¹ných spojù</h2>

<p>Jedním z&nbsp;nejvìt¹ích technologických problémù, se kterým se konstruktéøi
superpoèítaèe <i>Cray-2</i> museli ji¾ na zaèátku své práce vypoøádat, byl
zpùsob umístìní integrovaných obvodù na plo¹né spoje a uspoøádání tìchto
plo¹ných spojù ve skøíních, z&nbsp;nich¾ se poèítaè skládal podobným zpùsobem,
jako u <i>Craye-1</i>. V&nbsp;prvních návrzích superpoèítaèe <i>Cray-2</i> se
objevovaly pomìrnì velké plo¹né spoje s&nbsp;nìkolika desítkami a¾ stovkami
integrovaných obvodù. Ov¹em toto øe¹ení bylo z&nbsp;nìkolika dùvodù
nevyhovující; jak kvùli obtí¾nému pájení pøi osazování desek, tak pøedev¹ím
z&nbsp;toho dùvodu, ¾e se nepodaøilo v&nbsp;dostateèné míøe zmen¹it vzdálenost
mezi jednotlivými èipy. Pøi velké vzdálenosti komunikujících èipù by toti¾
nastalo takové zpo¾dìní binárního signálu, které by si vy¾ádalo prodlou¾ení
doby strojového cyklu, èemu¾ se Seymour Cray samozøejmì vehementnì bránil.
Navíc by se kvùli vìt¹ímu mno¾ství èipù na jednom plo¹ném spoji pomìrnì
zdlouhavì hledaly a diagnostikovaly chyby.</p>

<a href="http://i.iinfo.cz/images/130/hist3907.jpg"><img src="http://i.iinfo.cz/images/130/hist3907-prev.jpg" width="370" height="110" alt=" " /></a>
<p><i>Obrázek 7: Osm plo¹ných spojù obsazených èipy, které tvoøí jeden modul
poèítaèe Cray-2. Mezi plo¹nými spoji mù¾eme vidìt propojky (z-pins).<br />
(zdroj: http://bobodyne.com/web-docs/robots/cray2/)</i></p>

<p>Situace pøi pokusech o konstrukci vhodných plo¹ných spojù dokonce do¹la tak
daleko, ¾e Seymour Cray uva¾oval o zru¹ení celého projektu, proto¾e se se svým
konstrukèním týmem nedokázal pøiblí¾it k&nbsp;po¾adovanému výpoèetnímu výkonu.
Ov¹em po cca pùl roce Seymoura Craye napadlo mnohem lep¹í a elegantnìj¹í
øe¹ení: ka¾dý rozmìrný plo¹ný spoj nahradil osmicí men¹ích plo¹ných spojù,
ov¹em umístìných nad sebe. Mezi tìmito plo¹nými spoji byly navr¾eny propojky
nazývané <i>z-pins</i>. Vzhledem k&nbsp;tomu, ¾e vzdálenosti mezi jednotlivými
plo¹nými spoji v&nbsp;osmici byly relativnì malé, byla tlou¹»ka celého takto
vzniklého &bdquo;balíèku karet&ldquo; pouhé tøi palce. Díky tomuto
trojrozmìrnému uspoøádání se vzdálenost mezi jednotlivými èipy zmen¹ila na
po¾adovanou úroveò, ov¹em objevil se dal¹í technologický problém &ndash;
chlazení takto uspoøádaných plo¹ných spojù a èipù na nich. Zpùsobem øe¹ení
tohoto problému se budeme zabývat <a href="#k05">v&nbsp;navazující
kapitole</a>.</p>

<a href="http://i.iinfo.cz/images/192/hist3908.jpg"><img src="http://i.iinfo.cz/images/192/hist3908-prev.jpg" width="370" height="174" alt=" " /></a>
<p><i>Obrázek 8: Pohled na jeden modul (osmici plo¹ných spojù) ze strany
konektoru. Pøes tyto piny komunikoval modul s&nbsp;ostatními moduly
nainstalovanými v&nbsp;superpoèítaèi.<br />
(zdroj: http://bobodyne.com/web-docs/robots/cray2/)</i></p>



<p><a name="k05"></a></p>
<h2>5. Chlazení funkèních jednotek (procesorù)</h2>

<p>Vzhledem k&nbsp;tomu, ¾e v&nbsp;superpoèítaèi <i>Cray-2</i> byly v¹echny
èipy uspoøádány &bdquo;3D&ldquo; systémem popsaným <a
href="#k04">v&nbsp;pøedchozí kapitole</a>, bylo nutné navrhnout zcela nový
systém chlazení, proto¾e klasické chlazení proudícím vzduchem by nebylo kvùli
malým vzdálenostem mezi jednotlivými plo¹nými spoji úèinné a spolehlivé (a pøi
oddálení jednotlivých plo¹ných spojù od sebe by opìt docházelo
k&nbsp;ne¾ádoucím zpo¾dìním binárních signálù, propojky mezi plo¹nými spoji by
pracovaly jako antény atd.). Pro pøiblí¾ení a porovnání s&nbsp;moderními
osobními poèítaèi: <strong>ka¾dý</strong> ze 750 modulù, z&nbsp;nich¾ se
superpoèítaè <i>Cray-2</i> skládal, vyzaøoval 300 a¾ 500 Wattù tepelné
energie.</p>

<img src="http://i.iinfo.cz/images/554/hist3909.jpg" width="357" height="414" alt=" " />
<p><i>Obrázek 9: Detailní pohled na moduly ponoøené do chladicí
kapaliny.<br />
(zdroj: Cray Research)</i></p>

<p>Z&nbsp;tohoto dùvodu se namísto chlazení vzduchem vyu¾ilo mnohem úèinnìj¹í
(a samozøejmì také dra¾¹í) chlazení pomocí tekutiny.  V&nbsp;<i>Crayi-2</i> se
pou¾ívalo v&nbsp;té dobì unikátní pøímé chlazení, co¾ znamená, ¾e plo¹né spoje
byly ponoøeny do chladicí kapaliny nazvané <a
href="http://solutions.3m.com/wps/portal/3M/en_US/electronics/home/productsandservices/products/chemicals/ElectronicLiquids/?WT.mc_id=keymatch">Fluorinert</a>,
která byla dodávána firmou <i>3M</i>. Chladicí kapalina byla pod tlakem
rozvádìna rychlostí cca jeden palec za sekundu ze zásobní nádr¾e do v¹ech
funkèních modulù poèítaèe <i>Cray-2</i> a poté se pøes tepelný výmìník vracela
zpìt do zásobní nádr¾e.</p>

<img src="http://i.iinfo.cz/images/287/hist3910.jpg" width="307" height="268" alt=" " />
<p><i>Obrázek 10: V&nbsp;pozadí vidíme superpoèítaè Cray-2, v&nbsp;popøedí pak
jeho &bdquo;chladicí vì¾&ldquo; s&nbsp;prùhledným zásobníkem vody.</i></p>

<p>V&nbsp;tepelném výmìníku byla ohøátá kapalina <i>Fluorinert</i> ochlazována
vodou proudící v&nbsp;sekundárním okruhu. Právì kvùli unikátnímu pøímému
chlazení kapalinou se superpoèítaèi <i>Cray-2</i> bì¾nì pøezdívalo
&bdquo;Bubbles&ldquo; a na poèítaèích se bì¾nì objevovaly nápisy typu
&bdquo;Zákaz lovu ryb&ldquo;, popø.&nbsp;technici do sekundárního (vodního)
chladicího okruhu skuteènì vlo¾ili plastové ryby (viz té¾ pøedchozí obrázek).
Poznámka: chlazení kapalinou se pou¾ívá i v&nbsp;nìkterých souèasných osobních
poèítaèích (a» ji¾ se jedná o profesionální èi amatérské øe¹ení), ov¹em
vìt¹inou je chladicí kapalina rozvádìna do chladièù umístìných nad jednotlivými
(vybranými) èipy &ndash; vìt¹inou jde o mikroprocesor a GPU. Ov¹em toto øe¹ení
nemohlo být v&nbsp;<i>Crayi-2</i> pou¾ito, nebo» bylo nutné chladit tisíce
èipù; navíc je pøímé chlazení spolehlivìj¹í &ndash; napøíklad netìsnost
nìkterého modulu by nezpùsobila vìt¹í ¹kody, nebylo nutné kontrolovat, zda
jednotlivé chladièe jsou spolehlivì upevnìny a dosedají na celou plochu èipù
atd.</p>

<img src="http://i.iinfo.cz/images/393/hist3911.jpg" width="358" height="412" alt=" " />
<p><i>Obrázek 11: Pøezdívka &bdquo;Bubbles&ldquo; byla vlastnì pomìrnì
trefná.</i></p>



<p><a name="k06"></a></p>
<h2>6. Architektura superpoèítaèe Cray-2</h2>

<p>V&nbsp;pøedchozích kapitolách jsme si øekli, ¾e v¹echny funkèní jednotky i
operaèní pamì» superpoèítaèe <i>Cray-2</i> byly implementovány v&nbsp;modulech,
pøièem¾ ka¾dý modul byl zkonstruován z&nbsp;osmi vzájemnì propojených plo¹ných
spojù osazených jak diskrétními souèástkami, tak i &ndash; a to pøedev¹ím
&ndash; integrovanými obvody. Pomìrnì zajímavá je informace, ¾e cca 30% a¾
maximálnì 75% plochy ka¾dého plo¹ného spoje bylo skuteènì obsazeno èipy, tak¾e
plo¹ný spoj byl z&nbsp;tohoto pohledu vyu¾it optimálnì (musíme si uvìdomit, ¾e
nezanedbatelnou plochu zabraly té¾ propojky mezi plo¹nými spoji). Èipy tvoøící
jeden modul byly, a» ji¾ se jednalo o modul funkèní jednotky, nebo i o modul
operaèní pamìti, uspoøádány v&nbsp;pravidelné trojrozmìrné møí¾ce o rozmìrech
8&times;8&times;12 èipù. Celý superpoèítaè <i>Cray-2</i> se skládal z&nbsp;320
takových modulù, tak¾e snadným výpoètem mù¾eme zjistit, ¾e v&nbsp;celém stroji
bylo nainstalováno zhruba ètvrt milionu (!) èipù o pomìrnì vysoké
integraci.</p>

<img src="http://i.iinfo.cz/images/584/hist3912.jpg" width="384" height="512" alt=" " />
<p><i>Obrázek 12: Detail horní èásti &bdquo;chladicí vì¾e&ldquo;.</i></p>

<p>Ka¾dý modul vyzaøoval, jak jsme si ji¾ øekli <a href="#k05">v&nbsp;kapitole
vìnované systému chlazení</a>, cca 300 a¾ 500 Wattù tepelné energie, celkem
tedy bylo generováno pomìrnì slu¹ných 128 kW tepla. Z&nbsp;modulù bylo
vytvoøeno nìkolik do znaèné míry paralelnì a nezávisle na sobì pracujících
jednotek. Pøedev¹ím se jedná o hlavní pamì» (<i>main memory</i>), ètveøici
lokálních pamìtí (<i>local memory</i>), ètveøici procesorù pou¾ívaných pro
výpoèty (<i>background processors</i>), ètveøici øadièù diskù (<i>disk
controllers</i>) a koneènì o pátý procesor (<i>foreground processor</i>), který
øídil jak ostatní ètyøi procesory, tak i pøenosy dat mezi hlavní pamìtí a
pamì»mi lokálními. Ka¾dému procesoru pou¾ívanému pro výpoèty je pøiøazena jeho
lokální velmi rychlá pamì» o kapacitì 16 kiloslov (1 MB), øadiè diskù a logika
pro komunikaci s&nbsp;pátým (øídicím) procesorem. Dùvodem, proè je
z&nbsp;hlavní pamìti vyèlenìna ètveøice rychlých lokálních pamìtí, se budeme
zabývat v&nbsp;dal¹ím textu.</p>

<a href="http://i.iinfo.cz/images/630/hist3913.png"><img src="http://i.iinfo.cz/images/630/hist3913-prev.png" width="243" height="270" alt=" " /></a>
<p><i>Obrázek 13: Architektura superpoèítaèe Cray-2.</i></p>



<p><a name="k07"></a></p>
<h2>7. Superpoèítaè Cray-2 v&nbsp;praxi</h2>

<p>Superpoèítaèe <i>Cray-2</i>, které byly pùvodnì vyvinuty na objednávku
Ministerstva energetiky (<i>DOE</i>) a Ministerstva obrany USA (<i>DOD</i>), se
ji¾ tradiènì pou¾ívaly pøedev¹ím v&nbsp;tìch oblastech kde bylo nutné provádìt
velké mno¾ství výpoètù s&nbsp;reálnými èísly, popø.&nbsp;s&nbsp;vektory a
maticemi reálných èísel. Jedná se pøedev¹ím o trojrozmìrnou grafiku (napøíklad
raytracing, který byl na <i>Crayích</i> podporován hned nìkolika programy),
výpoèty proudìní, výpoèty provádìné v&nbsp;nukleární fyzice, aplikace
numerických modelù poèasí atd. Pro tvorbu aplikací z&nbsp;oblasti numerické
matematiky byly ke <i>Crayùm</i> dodávány pøekladaèe jazyka <i>Fortran</i>,
které generovaly kód optimalizovaný pro bìh na vektorových jednotkách.
V&nbsp;pøípadì poèítaèe <i>Cray-2</i> se jednalo o <i>FORTRAN 77</i>, jen¾,
podobnì jako jeho implementace pro jeho pøedchùdce <i>Cray-1</i>, dokázal
optimálnì pøelo¾it i programové smyèky, v&nbsp;nich¾ se vyskytovala podmínka,
popø.&nbsp;se v&nbsp;nich provádìl pøístup k&nbsp;prvkùm vektorù nebo
dvourozmìrných matic.</p>

<a href="http://i.iinfo.cz/images/277/hist3915.jpg"><img src="http://i.iinfo.cz/images/277/hist3915-prev.jpg" width="338" height="270" alt=" " /></a>
<p><i>Obrázek 14: Jeden z&nbsp;plo¹ných spojù obsahujících pamì»ové èipy, mezi
nimi¾ mù¾eme vidìt z-piny slou¾ící k&nbsp;propojení jednotlivých plo¹ných spojù
v&nbsp;rámci jednoho modulu.</i></p>

<p>Navíc se díky existenci ètyø relativnì samostatnì pracujících výkonných
procesorù vybavených lokálními pamì»mi eliminovala jedna velmi nepøíjemná
vlastnost <i>Craye-1</i>, která zpùsobovala zpomalení výpoètù pøi práci
s&nbsp;maticemi, jejich¾ øádky byly del¹í ne¾ 64 prvkù (v&nbsp;takovém pøípadì
se napøíklad pøi pøístupu po øádcích a nikoli po sloupcích musel neustále
naplòovat &bdquo;vektorový&ldquo; registr, co¾ u nìkterých algoritmù vedlo
k&nbsp;podstatnému zpomalení výpoètu). Kromì programovacího jazyka
<i>FORTRAN</i> se na <i>Crayi-2</i> pou¾íval i programovací jazyk <i>C</i>
(spí¹e v¹ak pro systémové úlohy) a takté¾ programovací jazyk <i>Ada</i>, co¾ je
pravdìpodobnì jeden z&nbsp;dùsledkù pou¾ití <i>Craye-2</i> v&nbsp;NASA. Pozdìji
bylo nìkolik modelù poèítaèe <i>Cray-2</i> prodáno i rùzným universitám a
vìt¹ím firmám. Jeliko¾ cena za hodinu práce jednoho procesoru byla pomìrnì
nízká &ndash; cca 140 dolarù, byly tyto poèítaèe pou¾ity i v&nbsp;mnoha
projektech vedených napøíklad MIT èi dal¹ími vìt¹ími universitami.</p>

<a href="http://i.iinfo.cz/images/105/hist3915.jpg"><img src="http://i.iinfo.cz/images/105/hist3915-prev.jpg" width="208" height="270" alt=" " /></a>
<p><i>Obrázek 15: Titulní strana referenèní pøíruèky jazyka Ada ve verzi pro
poèítaèe Cray.</i></p>



<p><a name="k08"></a></p>
<h2>8. Obsah následující èásti seriálu</h2>

<p>V&nbsp;následující èásti seriálu o historii výpoèetní techniky si podrobnìji
popí¹eme architekturu superpoèítaèe <i>Cray-2</i>. Zamìøíme se pøedev¹ím na to,
proè byla pùvodnì homogenní operaèní pamì» rozdìlena na èást dostupnou v¹em
ètyøem výkonným procesorùm a na èást lokální a jaký mìlo toto rozdìlení dopad
na reálné úlohy provozované na <i>Crayi-2</i>. Posléze se zamìøíme na
superpoèítaèe <i>Cray X-MP</i> (který byl urèitým mezièlánkem mezi
<i>Cray-1</i> a <i>Cray-2</i>) a takté¾ na rùzné varianty stroje <i>Cray
Y-MP</i>, který na øadu <i>X-MP</i> navazoval.</p>

<a href="http://i.iinfo.cz/images/111/hist3916.png"><img src="http://i.iinfo.cz/images/111/hist3916-prev.png" width="370" height="153" alt=" " /></a>
<p><i>Obrázek 16: Nìkteré typy programových smyèek optimalizovaných pøekladaèem FORTRANu 77 pro poèítaèe Cray-2.<br />
(zdroj: materiály firmy Cray Research)</i></p>



<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>Cray History<br />
<a href="http://www.cray.com/About/History.aspx?404;http://www.cray.com:80/about_cray/history.html">http://www.cray.com/About/History.aspx?404;http://www.cray.com:80/about_cray/history.html</a>
</li>

<li>Cray Historical Timeline<br />
<a href="http://www.cray.com/Assets/PDF/about/CrayTimeline.pdf">http://www.cray.com/Assets/PDF/about/CrayTimeline.pdf</a>
</li>

<li>Seymour Cray Biography<br />
<a href="http://www.cray.com/Assets/PDF/about/SeymourCray.pdf">http://www.cray.com/Assets/PDF/about/SeymourCray.pdf</a>
</li>

<li>Company: Cray Research, Inc. (Computer History)<br />
<a href="http://www.computerhistory.org/brochures/companies.php?alpha=a-c&amp;company=com-42b9d5d68b216">http://www.computerhistory.org/brochures/companies.php?alpha=a-c&amp;company=com-42b9d5d68b216</a>
</li>

<li>Cray Wiki<br />
<a href="http://www.craywiki.com/index.php?title=Main_Page">http://www.craywiki.com/index.php?title=Main_Page</a>
</li>

<li>Seymour Cray<br />
<a href="http://www.craywiki.com/index.php?title=Seymour_Cray">http://www.craywiki.com/index.php?title=Seymour_Cray</a>
</li>

<li>Cray (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray">http://en.wikipedia.org/wiki/Cray</a>
</li>

<li>Cray-1 (Cray Wiki)<br />
<a href="http://www.craywiki.com/index.php?title=Cray_1S">http://www.craywiki.com/index.php?title=Cray_1S</a>
</li>

<li>Cray-1 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray-1">http://en.wikipedia.org/wiki/Cray-1</a>
</li>

<li>Cray X-MP (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray_X-MP">http://en.wikipedia.org/wiki/Cray_X-MP</a>
</li>

<li>Cray-2 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Cray-2">http://en.wikipedia.org/wiki/Cray-2</a>
</li>

<li>What Limits Forecast Accuracy?<br />
<a href="http://weather.mailasail.com/Franks-Weather/Forecast-Accuracy-Limitations">http://weather.mailasail.com/Franks-Weather/Forecast-Accuracy-Limitations</a>
</li>

<li>Remembering the Cray-1<br />
<a href="http://www.theregister.co.uk/2008/01/05/tob_cray1/">http://www.theregister.co.uk/2008/01/05/tob_cray1/</a>
</li>

<li>Cray Supercomputer FAQ and other documents<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/index.html">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/index.html</a>
</li>

<li>Cray Research and Cray computers FAQ Part 1<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp1.html#TOC">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp1.html#TOC</a>
</li>

<li>Cray Research and Cray computers FAQ Part 2<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp2.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp2.html#TOC1</a>
</li>

<li>Cray Research and Cray computers FAQ Part 3<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp3.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp3.html#TOC1</a>
</li>

<li>Cray Research and Cray computers FAQ Part 4<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp4.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp4.html#TOC1</a>
</li>

<li>Cray Research and Cray computers FAQ Part 5<br />
<a href="http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp5.html#TOC1">http://www.spikynorman.dsl.pipex.com/CrayWWWStuff/Cfaqp5.html#TOC1</a>
</li>

<li>Fluorinert<br />
<a href="http://solutions.3m.com/wps/portal/3M/en_US/electronics/home/productsandservices/products/chemicals/ElectronicLiquids/?WT.mc_id=keymatch">http://solutions.3m.com/wps/portal/3M/en_US/electronics/home/productsandservices/products/chemicals/ElectronicLiquids/?WT.mc_id=keymatch</a>
</li>

<li>Fluorinert<br />
<a href="http://en.wikipedia.org/wiki/Fluorinert">http://en.wikipedia.org/wiki/Fluorinert</a>
</li>

<li>Historic Computer Images<br />
<a href="http://ftp.arl.army.mil/ftp/historic-computers/">http://ftp.arl.army.mil/ftp/historic-computers/</a>
</li>

<li>Cray-2 logic module<br />
<a href="http://bobodyne.com/web-docs/robots/cray2/">http://bobodyne.com/web-docs/robots/cray2/</a>
</li>

<li>The making of a CRAY-3<br />
<a href="http://www.cisl.ucar.edu/docs/SCD_Newsletter/News_summer93/04e.cray3.html">http://www.cisl.ucar.edu/docs/SCD_Newsletter/News_summer93/04e.cray3.html</a>
</li>

<li>Computer Speed Claims 1980 to 1996<br />
<a href="http://homepage.virgin.net/roy.longbottom/mips.htm">http://homepage.virgin.net/roy.longbottom/mips.htm</a>
</li>

<li>Speed of Intel 8087 co-processor in FLOPS ($100)<br />
<a href="http://answers.google.com/answers/threadview/id/542435.html">http://answers.google.com/answers/threadview/id/542435.html</a>
</li>

<li>Million instructions per second<br />
<a href="http://en.wikipedia.org/wiki/Mflops">http://en.wikipedia.org/wiki/Mflops</a>
</li>

<li>Million instructions per second<br />
<a href="http://en.wikipedia.org/wiki/Million_instructions_per_second#Million_instructions_per_second">http://en.wikipedia.org/wiki/Million_instructions_per_second#Million_instructions_per_second</a>
</li>

<li>Rosetta Code &ndash; Category:Fortran<br />
<a href="http://rosettacode.org/wiki/Fortran">http://rosettacode.org/wiki/Fortran</a>
</li>

<li>IBM 36-bit computers<br />
<a href="http://www.36bit.org/ibm/">http://www.36bit.org/ibm/</a>
</li>

<li>Symbolics 36-bit computers<br />
<a href="http://www.36bit.org/symbolics/">http://www.36bit.org/symbolics/</a>
</li>

<li>IBM System 360/370 Compiler and Historical Documentation<br />
<a href="http://www.edelweb.fr/Simula/">http://www.edelweb.fr/Simula/</a>
</li>

<li>Who Was Who in IBM's Programming Research? Early FORTRAN Days<br />
<a href="http://www.trailing-edge.com/~bobbemer/PRORES.HTM">http://www.trailing-edge.com/~bobbemer/PRORES.HTM</a>
</li>

<li>Emitter-coupled logic<br />
<a href="http://en.wikipedia.org/wiki/Emitter-coupled_logic">http://en.wikipedia.org/wiki/Emitter-coupled_logic</a>
</li>

<li>ECL &ndash; Emitter Coupled Logic<br />
<a href="http://ppd.fnal.gov/elec/ecl/ecl.html">http://ppd.fnal.gov/elec/ecl/ecl.html</a>
</li>

<li>Cray's Mark Remains Speed With Simplicity<br />
<a href="http://www.mbbnet.umn.edu/hoff/hoff_sc.html">http://www.mbbnet.umn.edu/hoff/hoff_sc.html</a>
</li>

<li>Control Data Corporation (CDC) 6600: 1966-1977<br />
<a href="http://www.cisl.ucar.edu/computers/gallery/cdc/6600.jsp">http://www.cisl.ucar.edu/computers/gallery/cdc/6600.jsp</a>
</li>

<li>Control Data Corporation (CDC) 7600: 1971-1983<br />
<a href="http://www.cisl.ucar.edu/computers/gallery/cdc/7600.jsp">http://www.cisl.ucar.edu/computers/gallery/cdc/7600.jsp</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2010</small></p>
</body>
</html>

