<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Grafické uživatelské rozhraní v Pythonu: knihovna Tkinter</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Grafické uživatelské rozhraní v Pythonu: knihovna Tkinter</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p></p>



<h2>Obsah</h2>

<p><a href="#k01">*** 1. Grafické uživatelské rozhraní v Pythonu: knihovna Tkinter</a></p>
<p><a href="#k02">2. Widgety</a></p>
<p><a href="#k03">3. Kontejnery</a></p>
<p><a href="#k04">4. Základní typy widgetů v&nbsp;knihovně Tk/Tkinter</a></p>
<p><a href="#k05">*** 5. Vlastnosti widgetů</a></p>
<p><a href="#k06">*** 6. První příklad: zobrazení okna s&nbsp;textem &bdquo;Hello world!&ldquo;</a></p>
<p><a href="#k07">*** 7. Události a reakce na ně</a></p>
<p><a href="#k08">*** 8. Druhý příklad: tlačítko reagující na stisk</a></p>
<p><a href="#k09">*** 9. Třetí příklad: použití anonymní funkce pro reakci na stlačení tlačítka</a></p>
<p><a href="#k10">*** 10. Správci umístění (geometrie) widgetů</a></p>
<p><a href="#k11">*** 11. Čtvrtý a pátý příklad: umístění čtyř tlačítek do mřížky</a></p>
<p><a href="#k12">*** 12. Šestý a sedmý příklad: prázdná místa v&nbsp;mřížce</a></p>
<p><a href="#k13">*** 13. &bdquo;Přilepení&ldquo; widgetů k&nbsp;okrajům buněk mřížky</a></p>
<p><a href="#k14">*** 14. Příklady 8 až 11 &ndash; různé varianty &bdquo;přilepení&ldquo; tlačítek k&nbsp;mřížce</a></p>
<p><a href="#k15">*** 15. Repositář s&nbsp;demonstračními příklady</a></p>
<p><a href="#k16">*** 16. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Grafické uživatelské rozhraní v Pythonu: knihovna Tkinter</h2>



<p><a name="k02"></a></p>
<h2 id="k02">2. Widgety</h2>

<p>Základem prakticky všech v&nbsp;současnosti používaných grafických
uživatelských rozhraní jsou takzvané <strong>widgety</strong>, které jsou někdy
poněkud nepřesně označovány také jako <strong>komponenty</strong>.
Z&nbsp;pohledu uživatele aplikací s&nbsp;grafickým uživatelským rozhraním se
jedná o grafické prvky zobrazené na obrazovce, které mají předem známé chování
a předvídatelnou funkci. V&nbsp;mnoha případech je chování
<strong>widgetů</strong> standardizováno či alespoň doporučováno &ndash; viz
například doporučení pro (dnes již notně zastaralý) Motif, Microsoft Windows,
Mac OS a v&nbsp;neposlední řadě také doporučení pro GNOME a KDE. Velká část
widgetů se snaží svým vzhledem do jisté míry reflektovat objekty
z&nbsp;reálného světa (tlačítka, &bdquo;teploměry&ldquo;, přepínače programů,
objekty známé z&nbsp;papírových formulářů apod.). Z&nbsp;pohledu programátora
je naproti tomu <strong>widget</strong> objektem, kterému lze nastavit určitý
stav a který reaguje na události, které při své práci generuje uživatel
(přesouvání objektů na obrazovce, stlačování obrazů tlačítek pomocí myši či
stylusu, psaní textu, gesta na dotykové obrazovce atd.).</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Kontejnery</h2>

<p>Samotné widgety nejsou na obrazovce prakticky nikdy zcela osamocené, ostatně
většina knihoven pro GUI by samostatný widget nedokázala zobrazit. Ve
skutečnosti se téměř vždy nachází v&nbsp;nějakém okně, dialogu či dalším
nadřazeném widgetu. Programátoři grafických uživatelských rozhraní se často
setkají s&nbsp;pojmem <strong>kontejner</strong>. Jedná se o komponentu, na
kterou lze vkládat různé <a href="#k02">widgety</a> a mnohdy i další
kontejnery.  Obecně tak interně vzniká stromová datová struktura jejíž kořen je
představován plochou na obrazovce, na které jsou umístěna okna aplikací (dnes
je ovšem i samotná plocha obrazovky součástí větší virtuální plochy zobrazované
obecně na více monitorech). V&nbsp;těchto oknech se dále nachází kontejnery a
widgety. V&nbsp;mnoha grafických uživatelských rozhraních přitom mohou být
vybrané widgety (zdaleka ne však všechny) současně i kontejnery. Kontejnery
kromě jiného řeší i rozmístění widgetů na své ploše.</p>

<p>Způsobů pro rozmisťování widgetů do kontejnerů existuje více. Základní
dělení je na kontejnery, kde jsou widgety umisťovány absolutně (do této
kategorie patří WinAPI, MFC, OWL a VCL) a naopak kontejnery, které widgety
většinou umisťují podle své velikosti a vzájemných vztahů (zde se nachází
javovské AWT, Swing, GTK, Qt, Tk/Tkinter a mnoho dalších). V&nbsp;toolkitu
<strong>Tk</strong> a tím pádem i v&nbsp;Tkinteru se mohou widgety umisťovat
několika různými způsoby (pack, place a grid).</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Základní typy widgetů v&nbsp;knihovně Tk/Tkinter</h2>

<p>V&nbsp;průběhu mnoha let se množina widgetů používaných v&nbsp;různých
grafických uživatelských rozhraních postupně rozšiřovala, ostatně postačí se
podívat na obrázky z&nbsp;prvních grafických rozhraní navržených ve společnosti
Xerox a porovnat je s&nbsp;moderním desktopem. Současně však také docházelo ke
sjednocování vzhledu jednotlivých widgetů i jejich chování na různých
platformách. Vzhled samozřejmě není na všech platformách přesně stejný, to však
pro uživatele většinou nemusí představovat významnější praktický problém, na
rozdíl od odlišného chování celého prostředí i jednotlivých widgetů.</p>

<p>V&nbsp;toolkitu <strong>Tk</strong> je k&nbsp;dispozici poměrně velké
množství widgetů, podobně jako v&nbsp;dalších moderních toolkitech. Navíc dnes
widgety existují ve dvou podobách &ndash; starší (původní) a novější (Ttk
neboli &bdquo;themed Tk&ldquo;), které lépe odpovídají požadavkům uživatelů
současných desktopových prostředí a jejichž vzhled a chování se může od
původních widgetů odlišovat. V&nbsp;následující tabulce je uveden seznam
základních typů widgetů. Pro mnoho aplikací je níže uvedená skupina widgetů
dostačující, avšak v&nbsp;případě, že aplikace potřebuje vytvořit nový widget,
je to samozřejmě možné, protože knihovna <strong>Tk</strong> je navržena tak,
že ji lze poměrně jednoduchým způsobem rozšiřovat. V&nbsp;následující tabulce
si také můžete všimnout toho, že některé widgety jsou pojmenovány odlišným
způsobem od dnes používané terminologie. Vychází to z&nbsp;faktu, že
<strong>Tcl/Tk</strong> je mnohem starší než většina dnešních toolkitů.</p>

<table>
<tr><th>Jméno widgetu</th><th>Význam a funkce</th></tr>
<tr><td><strong>label</strong></td><td>widget, který zobrazuje v&nbsp;okně či dialogu měnitelný text</td></tr>
<tr><td><strong>button</strong></td><td>graficky zobrazené tlačítko, které implicitně reaguje na levé tlačítko myši</td></tr>
<tr><td><strong>checkbutton</strong></td><td>dvoustavový přepínač, který implicitně reaguje na levé tlačítko myši</td></tr>
<tr><td><strong>radiobutton</strong></td><td>widget, jichž může být sdruženo větší množství, vždy pouze jeden je vybraný</td></tr>
<tr><td><strong>scale</strong></td><td>dnes nazýván pojmem slider atd., jedná se o widget s&nbsp;posuvnou částí a přidruženým textem, kde se zobrazuje hodnota v&nbsp;závislosti na poloze posuvné části</td></tr>
<tr><td><strong>entry</strong></td><td>widget, do kterého je možné zapisovat text, k&nbsp;tomu má přidruženo mnoho klávesových zkratek (jde o kombinaci staršího a novějšího standardu)</td></tr>
<tr><td><strong>spinbox</strong></td><td>widget určený pro zadávání číselných hodnot kombinací klávesnice a myši (i s&nbsp;kontrolou mezí)</td></tr>
<tr><td><strong>menu</strong></td><td>vertikální menu, které se skládá z&nbsp;více položek</td></tr>
<tr><td><strong>menubutton</strong></td><td>používá se spolu s&nbsp;<strong>menu</strong> pro vytváření jednotlivých položek</td></tr>
<tr><td><strong>listbox</strong></td><td>widget, jež nabízí na výběr libovolné množství řádků s&nbsp;textem</td></tr>
<tr><td><strong>scrollbar</strong></td><td>podobné widgetu <strong>scale</strong> s&nbsp;tím rozdílem, že zobrazuje posuvné šipky a naopak nezobrazuje přidruženou číselnou hodnotu</td></tr>
<tr><td><strong>frame</strong></td><td>jeden z&nbsp;několika nabízených kontejnerů; tento má tvar obdélníka (může být také neviditelný nebo může mít 3D rámeček)</td></tr>
<tr><td><strong>toplevel</strong></td><td>další z&nbsp;kontejnerů, tento se chová jako samostatné okno či dialog</td></tr>
<tr><td><strong>bitmap</strong></td><td>bitmapa, tj.&nbsp;rastrový obrázek</td></tr>
<tr><td><strong>photo/photoimage</strong></td><td>rastrový obrázek, jež může být načten z&nbsp;externího souboru v&nbsp;mnoha různých formátech</td></tr>
<tr><td><strong>canvas</strong></td><td>widget, na který lze programově vkládat další grafické komponenty (úsečky, oblouky, kružnice, polyčáry, text atd.)</td></tr>
</table>

<p>Výše zmíněné widgety budou podrobněji popsány v&nbsp;navazujícíh částech
tohoto seriálu. Zde se pouze chci zmínit o pěkně pojatých menu. Jednotlivá
vertikální menu se totiž mohou od mateřského okna &bdquo;odpoutat&ldquo; a
chovat se jako samostatné okno či dialog. Díky tomu lze celou aplikaci zachovat
po grafické stránce velmi kompaktní a nechat na uživateli, zda a kdy si
jednotlivá menu zobrazí v&nbsp;samostatných oknech. Aplikace přitom může
používat jak hlavní menu, tak i libovolné množství menu příručních
(kontextových, pop-up). Podobný způsob práce s&nbsp;menu je k&nbsp;vidění
například u textového editoru <a
href="http://www.vim.org/"><strong>Vim</strong></a> (ovšem pouze
v&nbsp;některých prostředích) nebo v&nbsp;grafickém editoru MtPaint.</p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Vlastnosti widgetů</h2>

<p>Ke každému widgetu je možné nastavit mnoho různých vlastností, které mění
buď jeho vizuální vzhled na obrazovce počítače nebo jeho chování,
tj.&nbsp;způsob reakce widgetu na akce uživatele. Mezi tyto akce počítáme
například kliknutí tlačítkem myši, použití klávesových zkratek (<i>hot
keys</i>), přesunutí widgetu atd. Některé vlastnosti jsou všem widgetům
společné, další vlastnosti jsou však jedinečné pro jeden či pouze několik typů
widgetů. Je to ostatně logické, některé widgety mají speciální chování.
Vlastnosti lze nastavovat již při vytváření widgetů, na druhou stranu je také
možné vlastnosti měnit až při běhu aplikace. Způsob nastavení vlastností si
ukážeme na demonstračních příkladech. V&nbsp;následující tabulce jsou uvedeny
vlastnosti, které jsou společné prakticky všem widgetům (kromě speciálních
widgetů typu &bdquo;položka menu&ldquo;, které mají vlastnosti omezeny, stejně
tak jako jejich reakce na uživatelovu činnost). Pozor! &ndash; při použití Ttk
se nastavování vizuálních vlastností musí provádět přes styly, což si
samozřejmě taktéž ukážeme:</p>

<table>
<tr><th>Jméno vlastnosti</th><th>Popis vlastnosti</th></tr>
</table>

<p>Vlastnosti se nastavují dvěma způsoby &ndash; u původních widgetů přímo
nastavením vlastnosti (například <i>background="red"</i>) u &bdquo;themed
Tk&ldquo; pak změnou takzvaných <i>stylů</i>, což je sice nepatrně složitější,
ovšem mnohem flexibilnější způsob.</p>



<p><a name="k06"></a></p>
<h2 id="k06">6. První příklad: zobrazení okna s&nbsp;textem &bdquo;Hello world!&ldquo;</h2>



<p><a name="k07"></a></p>
<h2 id="k07">7. Události a reakce na ně</h2>



<p><a name="k08"></a></p>
<h2 id="k08">8. Druhý příklad: tlačítko reagující na stisk</h2>



<p><a name="k09"></a></p>
<h2 id="k09">9. Třetí příklad: použití anonymní funkce pro reakci na stlačení tlačítka</h2>



<p><a name="k10"></a></p>
<h2 id="k10">10. Správci umístění (geometrie) widgetů</h2>



<p><a name="k11"></a></p>
<h2 id="k11">11. Čtvrtý a pátý příklad: umístění čtyř tlačítek do mřížky</h2>



<p><a name="k12"></a></p>
<h2 id="k12">12. Šestý a sedmý příklad: prázdná místa v&nbsp;mřížce</h2>



<p><a name="k13"></a></p>
<h2 id="k13">13. &bdquo;Přilepení&ldquo; widgetů k&nbsp;okrajům buněk mřížky</h2>



<p><a name="k14"></a></p>
<h2 id="k14">14. Příklady 8 až 11 &ndash; různé varianty &bdquo;přilepení&ldquo; tlačítek k&nbsp;mřížce</h2>



<p><a name="k15"></a></p>
<h2 id="k15">15. Repositář s&nbsp;demonstračními příklady</h2>

<p>Zdrojové kódy všech dnešních demonstračních příkladů naleznete na
následujících odkazech:</p>

<table>
<tr><th>Příklad</th><th>Odkaz</th></tr>
<tr><td></td><td><a href=""></a></td></tr>
<tr><td></td><td><a href=""></a></td></tr>
<tr><td></td><td><a href=""></a></td></tr>
<tr><td></td><td><a href=""></a></td></tr>
</table>



<p><a name="k16"></a></p>
<h2 id="k16">16. Odkazy na Internetu</h2>

<ol>

<li>TkDocs: Styles and Themes<br />
<a href="http://www.tkdocs.com/tutorial/styles.html">http://www.tkdocs.com/tutorial/styles.html</a>
</li>

<li>Drawing in Tkinter<br />
<a href="http://zetcode.com/gui/tkinter/drawing/">http://zetcode.com/gui/tkinter/drawing/</a>
</li>

<li>Changing ttk widget text color (StackOverflow)<br />
<a href="https://stackoverflow.com/questions/16240477/changing-ttk-widget-text-color">https://stackoverflow.com/questions/16240477/changing-ttk-widget-text-color</a>
</li>

<li>Hra Breakout napísaná v Tkinteri<br />
<a href="https://www.root.cz/clanky/hra-breakout-napisana-v-tkinteri/">https://www.root.cz/clanky/hra-breakout-napisana-v-tkinteri/</a>
</li>

<li>The Hitchhiker's Guide to Pyhton: GUI Applications<br />
<a href="http://docs.python-guide.org/en/latest/scenarios/gui/">http://docs.python-guide.org/en/latest/scenarios/gui/</a>
</li>

<li>7 Top Python GUI Frameworks for 2017<br />
<a href="http://insights.dice.com/2014/11/26/5-top-python-guis-for-2015/">http://insights.dice.com/2014/11/26/5-top-python-guis-for-2015/</a>
</li>

<li>GUI Programming in Python<br />
<a href="https://wiki.python.org/moin/GuiProgramming">https://wiki.python.org/moin/GuiProgramming</a>
</li>

<li>Cameron Laird's personal notes on Python GUIs<br />
<a href="http://phaseit.net/claird/comp.lang.python/python_GUI.html">http://phaseit.net/claird/comp.lang.python/python_GUI.html</a>
</li>

<li>Python GUI development<br />
<a href="http://pythoncentral.io/introduction-python-gui-development/">http://pythoncentral.io/introduction-python-gui-development/</a>
</li>

<li>Graphic User Interface FAQ<br />
<a href="https://docs.python.org/2/faq/gui.html#graphic-user-interface-faq">https://docs.python.org/2/faq/gui.html#graphic-user-interface-faq</a>
</li>

<li>TkInter<br />
<a href="https://wiki.python.org/moin/TkInter">https://wiki.python.org/moin/TkInter</a>
</li>

<li>Tkinter 8.5 reference: a GUI for Python<br />
<a href="http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/index.html">http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/index.html</a>
</li>

<li>TkInter (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Tkinter">https://en.wikipedia.org/wiki/Tkinter</a>
</li>

<li>appJar<br />
<a href="http://appjar.info/">http://appjar.info/</a>
</li>

<li>appJar (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/AppJar">https://en.wikipedia.org/wiki/AppJar</a>
</li>

<li>appJar na Pythonhosted<br />
<a href="http://pythonhosted.org/appJar/">http://pythonhosted.org/appJar/</a>
</li>

<li>Stránky projektu PyGTK<br />
<a href="http://www.pygtk.org/">http://www.pygtk.org/</a>
</li>

<li>PyGTK (Wikipedia)<br />
<a href="https://cs.wikipedia.org/wiki/PyGTK">https://cs.wikipedia.org/wiki/PyGTK</a>
</li>

<li>Stránky projektu PyGObject<br />
<a href="https://wiki.gnome.org/Projects/PyGObject">https://wiki.gnome.org/Projects/PyGObject</a>
</li>

<li>Stránky projektu Kivy<br />
<a href="https://kivy.org/#home">https://kivy.org/#home</a>
</li>

<li>Stránky projektu PyQt<br />
<a href="https://riverbankcomputing.com/software/pyqt/intro">https://riverbankcomputing.com/software/pyqt/intro</a>
</li>

<li>PyQt (Wikipedia)<br />
<a href="https://cs.wikipedia.org/wiki/PyGTK">https://cs.wikipedia.org/wiki/PyGTK</a>
</li>

<li>Stránky projektu PySide<br />
<a href="https://wiki.qt.io/PySide">https://wiki.qt.io/PySide</a>
</li>

<li>PySide (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/PySide">https://en.wikipedia.org/wiki/PySide</a>
</li>
<li>Stránky projektu Kivy<br />
<a href="https://kivy.org/#home">https://kivy.org/#home</a>

<li>Kivy (framework, Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Kivy_(framework)">https://en.wikipedia.org/wiki/Kivy_(framework)</a>

<li>QML Applications<br />
<a href="http://doc.qt.io/qt-5/qmlapplications.html">http://doc.qt.io/qt-5/qmlapplications.html</a>
</li>

<li>KDE<br />
<a href="https://www.kde.org/">https://www.kde.org/</a>
</li>

<li>Qt<br />
<a href="https://www.qt.io/">https://www.qt.io/</a>
</li>

<li>GNOME<br />
<a href="https://en.wikipedia.org/wiki/GNOME">https://en.wikipedia.org/wiki/GNOME</a>
</li>

<li>Category:Software that uses PyGTK<br />
<a href="https://en.wikipedia.org/wiki/Category:Software_that_uses_PyGTK">https://en.wikipedia.org/wiki/Category:Software_that_uses_PyGTK</a>
</li>

<li>Category:Software that uses PyGObject<br />
<a href="https://en.wikipedia.org/wiki/Category:Software_that_uses_PyGObject">https://en.wikipedia.org/wiki/Category:Software_that_uses_PyGObject</a>
</li>

<li>Category:Software that uses wxWidgets<br />
<a href="https://en.wikipedia.org/wiki/Category:Software_that_uses_wxWidgets">https://en.wikipedia.org/wiki/Category:Software_that_uses_wxWidgets</a>
</li>

<li>GIO<br />
<a href="https://developer.gnome.org/gio/stable/">https://developer.gnome.org/gio/stable/</a>
</li>

<li>GStreamer<br />
<a href="https://gstreamer.freedesktop.org/">https://gstreamer.freedesktop.org/</a>
</li>

<li>GStreamer (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/GStreamer">https://en.wikipedia.org/wiki/GStreamer</a>
</li>

<li>Wax Gui Toolkit<br />
<a href="https://wiki.python.org/moin/Wax">https://wiki.python.org/moin/Wax</a>
</li>

<li>Python Imaging Library (PIL)<br />
<a href="http://infohost.nmt.edu/tcc/help/pubs/pil/">http://infohost.nmt.edu/tcc/help/pubs/pil/</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2017</small></p>
</body>
</html>

