<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Historie vývoje poèítaèových her (45. èást - grafický subsystém herní konzole SNES)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Historie vývoje poèítaèových her (45. èást - grafický subsystém herní konzole SNES)</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o historii vývoje výpoèetní techniky si podrobnìji popí¹eme grafický subsystém herní konzole SNES. Takté¾ si øekneme, jaké dal¹í podpùrné èipy bylo mo¾né ke konzoli pøipojit - jedná se zejména o èip Nintendo Super FX, který lze pova¾ovat za jeden z prvních ¹iroce dostupných grafických akcelerátorù.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Historie vývoje poèítaèových her (45. èást - grafický subsystém herní konzole SNES)</a></p>
<p><a href="#k02">2. Grafické re¾imy v&nbsp;herní konzoli SNES</a></p>
<p><a href="#k03">3. Generování pozadí (background)</a></p>
<p><a href="#k04">4. Zobrazování spritù</a></p>
<p><a href="#k05">5. Alternativní podpùrné èipy dostupné pro herní konzoli SNES</a></p>
<p><a href="#k06">6. Èip MARIO aneb Nintendo Super FX</a></p>
<p><a href="#k07">7. Podpora pro akceleraci vykreslování prostorových (3D) objektù èipem Super FX</a></p>
<p><a href="#k08">8. Podpora pro akceleraci vykreslování 2D spritù èipem Super FX</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Historie vývoje poèítaèových her (45. èást - grafický subsystém herní konzole SNES)</h2>

<p>V&nbsp;dne¹ní èásti <a
href="http://www.root.cz/serialy/unixove-vykopavky/">seriálu o historii vývoje
výpoèetní techniky</a> se zamìøíme na popis grafického subsystému herní konzole
<i>SNES</i>. Pøipomeòme si, ¾e tato herní konzole byla zalo¾ena na
¹estnáctibitovém mikroprocesoru <i>Ricoh 5A22</i> odvozeného od èipu <i>WDC
65c816</i>. Tento mikroprocesor je souèástí mikroprocesorové øady <i>6502</i>,
na jejím¾ zaèátku stál osmibitový èip <i>MOS 6502</i> (technologie NMOS)
následovaný takté¾ osmibitovým èipem <i>65c02</i> (technologie CMOS).
Roz¹íøením instrukèní sady, zvìt¹ením interní ¹íøky pracovních registrù i ¹íøky
operandù zpracovávaných v&nbsp;aritmeticko-logické jednotce a dále doplnìním
tøí dal¹ích registrù pak vznikl ¹estnáctibitový mikroprocesor <i>WDC 65c816</i>
s&nbsp;24bitovými adresami. Kromì mikroprocesoru byla herní konzole <i>SNES</i>
vybavena i samostatnì pracujícím zvukovým subsystémem a grafickým subsystémem.
Zajímavé je, ¾e tyto subsystémy obsahovaly vlastní RAM, tak¾e skuteènì dokázaly
pracovat do znaèné míry nezávisle na èinnosti mikroprocesoru.</p>

<img src="http://i.iinfo.cz/images/403/106-01.jpg" width="450" height="340" alt="&#160;" />
<p><i>Obrázek 1: Herní konzole SNES ve variantì urèené pro pøipojení
k&nbsp;televizorùm pracujícím v&nbsp;normì PAL.</i></p>

<p>Grafický subsystém herní konzole <i>SNES</i> byl postaven na podobných
principech jako tomu bylo u grafického subsystému pùvodního <i>NESu</i>. Obraz
posílaný na televizor byl poskládán z&nbsp;nìkolika objektù rùzných typù.
Pøedev¹ím se jednalo o pozadí (<i>background</i>), dále pak o okna
(<i>window</i>) a koneènì o sprity, tj.&nbsp;objekty, které se mohly pohybovat
nezávisle na sobì i nezávisle na pozadí. První zmìnou oproti <i>NESu</i> je
nabídka více rozli¹ení pozadí. Pøipomeòme si, ¾e v&nbsp;<i>NESu</i> bylo pøi
pou¾ití televizní normy PAL rozli¹ení obrazu rovno 256&times;240 pixelùm,
zatímco u normy SECAM bylo horních osm øádkù a spodních osm øádkù zatemnìných,
tj.&nbsp;rozli¹ení bylo sní¾eno na 256&times;224 pixelù. V&nbsp;pøípadì herní
konzole <i>SNES</i> mìli programátoøi pøi výbìru rozli¹ení pozadí více
mo¾ností: od 256&times;224 pixelù (neprokládané re¾imy) a¾ po 512&times;448
pixelù v&nbsp;pøípadì prokládaných re¾imù (<i>interlaced modes</i>).</p>

<img src="http://i.iinfo.cz/images/361/106-02.jpg" width="450" height="300" alt="&#160;" />
<p><i>Obrázek 2: Detail pøipojení modulu se hrou ke konzoli SNES.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Grafické re¾imy v&nbsp;herní konzoli SNES</h2>

<p>Grafický subsystém herní konzole <i>SNES</i> má pro svoje potøeby vyhrazenou
samostatnou oblast pamìti o kapacitì 64 kB. Tato oblast je (zjednodu¹enì
øeèeno) rozdìlena na ètyøi podoblasti:</p>

<ol>
<li>Tvary znakù, z&nbsp;nich¾ ka¾dý má velikost 8&times;8 pixelù.</li>
<li>2D pole s&nbsp;dla¾dicemi (z&nbsp;tìch jsou slo¾ena pozadí), odkazuje se na indexy znakù.</li>
<li>Dvì tabulky spritù, které se odkazují na indexy znakù.</li>
<li>Barvovou paletu o délce 512 bajtù</li>
</ol>

<img src="http://i.iinfo.cz/images/398/106-03.jpg" width="450" height="262" alt="&#160;" />
<p><i>Obrázek 3: Jedna z&nbsp;variant ovladaèe herní konzole SNES.</i></p>

<p>Podporováno je celkem devìt re¾imù pozadí, pøièem¾ ka¾dý re¾im má odli¹né
vlastnosti. Z&nbsp;následující tabulky lze vyèíst, kolik souèasnì
zobrazitelných pozadí je v&nbsp;daném re¾imu podporováno a takté¾ i poèet barev
pro jednotlivá pozadí (ta si mù¾eme pøedstavit jako pøes sebe se posunující
poloprùhledné vrstvy). Pokud je v&nbsp;nìkterém sloupci zobrazena pomlèka,
znamená to, ¾e daný grafický re¾im nepodporuje souèasné zobrazení tolika
rùzných pozadí:</p>

<table>
<tr><th>Re¾im èíslo</th><th>Pozadí 1</th><th>Pozadí 2</th><th>Pozadí 3</th><th>Pozadí 4</th></tr>
<tr><td>0     </td><td>  4</td><td>  4</td><td>  4</td><td>  4</td></tr>
<tr><td>1     </td><td> 16</td><td> 16</td><td>  4</td><td>  -</td></tr>
<tr><td>2     </td><td> 16</td><td> 16</td><td>  -</td><td>  -</td></tr>
<tr><td>3     </td><td>256</td><td> 16</td><td>  -</td><td>  -</td></tr>
<tr><td>4     </td><td>256</td><td>  4</td><td>  -</td><td>  -</td></tr>
<tr><td>5     </td><td> 16</td><td>  4</td><td>  -</td><td>  -</td></tr>
<tr><td>6     </td><td> 16</td><td>  -</td><td>  -</td><td>  -</td></tr>
<tr><td>7     </td><td>256</td><td>  -</td><td>  -</td><td>  -</td></tr>
<tr><td>7EXTBG</td><td>256</td><td>128</td><td>  -</td><td>  -</td></tr>
</table>

<p>Re¾im èíslo 7 má zvlá¹tní postavení, proto¾e pozadím bylo mo¾né rotovat a
takté¾ mìnit jeho zvìt¹ení. Díky jednoduchému triku se zvìt¹ení mohlo mìnit pro
ka¾dý obrazový øádek zvlá¹», co¾ se mohlo vyu¾ít napøíklad pøi simulaci
perspektivní projekce. Zvlá¹tnosti tohoto re¾imu si je¹tì pøipomeneme
v&nbsp;dal¹ích dílech tohoto seriálu pøi popisu her, které tento re¾im
vyu¾ívaly.</p>

<img src="http://i.iinfo.cz/images/224/106-04.jpg" width="450" height="270" alt="&#160;" />
<p><i>Obrázek 4: Tato varianta ovladaèe byla dodávána s&nbsp;konzolemi urèenými
pro pøipojení k&nbsp;televizorùm pracujícím v&nbsp;normì PAL.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Generování pozadí (background)</h2>

<p>Pozadí (<i>background</i>) není v&nbsp;pøípadì herní konzole <i>SNES</i>
ulo¾eno v&nbsp;pamìti ve formì normálního framebufferu, tj.&nbsp;jako bitmapa
s&nbsp;urèitým poètem bitù na jeden pixel. Namísto toho se pou¾ívají podobné
datové struktury, s&nbsp;nimi¾ jsme se ji¾ v&nbsp;tomto seriálu nìkolikrát
setkali &ndash; pozadí je toti¾ slo¾eno z&nbsp;takzvaných dla¾dic
(<i>tiles</i>) a ty jsou dále slo¾eny ze znakù (<i>characters</i>). Základní
datovou strukturou urèující, co se má na pozadí zobrazit, je dvourozmìrné pole
o rozmìrech 32&times;32, 64&times;32, 32&times;64 èi 64&times;64 dla¾dic. Pro
ka¾dou dla¾dici jsou v&nbsp;tomto poli vyhrazeny dva bajty, v&nbsp;nich¾ jsou
zakódovány následující informace:</p>

<table>
<tr><th>Index</th><th>Struktura</th><th>Poèet bitù</th><th>Význam</th></tr>
<tr><td>15</td><td>V</td><td>1</td><td>povoluje/zakazuje vertikální zrcadlení dla¾dice</td></tr>
<tr><td>14</td><td>H</td><td>1</td><td>povoluje/zakazuje horizontální zrcadlení</td></tr>
<tr><td>13</td><td>O</td><td>1</td><td>priorita pozadí (oproti spritùm a dal¹ím pozadím)</td></tr>
<tr><td>10</td><td>P</td><td>3</td><td>index barvové palety (0-7)</td></tr>
<tr><td>0</td><td>C</td><td>10</td><td>index znaku, z&nbsp;nich¾ se dla¾dice skládá (jedná se v¾dy o ètyøi znaky za sebou)</td></tr>
</table>

<p>Ka¾dá dla¾dice mù¾e mít rozli¹ení 8&times;8 èi 16&times;16 pixelù, co¾
znamená, ¾e horizontální èi vertikální rozmìry pozadí mohou nabývat hodnot:
32&times;8=256 pixelù, 64&times;8=32&times;16=512 pixelù èi 64&times;16=1024
pixelù. Tyto rozmìry jsou v&nbsp;obou smìrech vìt¹í, ne¾ horizontální i
vertikální rozli¹ení obrazovky, co¾ v¹ak nevadí, proto¾e pozadí mù¾e (nezávisle
na ostatních pozadích) scrollovat.</p>

<img src="http://i.iinfo.cz/images/496/106-05.jpg" width="520" height="464" alt="&#160;" />
<p><i>Obrázek 5: Vytvoøení paralelnì scrollujícího pozadí ze dvou bitmap, které
musí být rozlo¾eny na dla¾dice.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Zobrazování spritù</h2>

<p>Kromì pozadí mù¾e být grafická informace zobrazená na televizoru je¹tì
doplnìna o <i>sprity</i>, tj.&nbsp;objekty s&nbsp;mìnitelnou pozicí (vùèi
pozadí) a takté¾ mìnitelnou prioritou, která urèuje, jak se jednotlivé sprity a
pozadí budou pøekrývat. V&nbsp;pøípadì herní konzole <i>SNES</i> je mo¾né
vykreslit a¾ 128 na sobì nezávislých spritù, ov¹em s&nbsp;tím omezením, ¾e na
jednom øádku mù¾e být zobrazeno pouze 32 spritù. Ka¾dý sprite mù¾e mít a¾
patnáct barev, pøièem¾ nultý index barvy je vyhrazen pro prùhledné pixely
&ndash; oblasti spritù, pøes nì¾ je vidìt na pozadí a/nebo sprity s&nbsp;ni¾¹í
prioritou.</p>

<img src="http://i.iinfo.cz/images/509/106-06.png" width="450" height="435" alt="&#160;" />
<p><i>Obrázek 6: Sprity získané z&nbsp;pamì»ového modulu hry Final Fantasy IV
(dvakrát zvìt¹eno).</i></p>

<p>Pro v¹ech 128 spritù je v&nbsp;grafické pamìti (64kB celkem) vyhrazena
oblast o velikosti 544 bajtù, která je rozdìlená na dvì èásti: tabulku o
velikosti 512 bajtù a pomocnou tabulku o velikosti 32 bajtù. V&nbsp;první
tabulce jsou pro ka¾dý sprite vyhrazeny ètyøi bajty s&nbsp;následujícím
významem:</p>

<table>
<tr><th>Bajt èíslo</th><th>Struktura</th><th>Význam</th></tr>
<tr><td>1</td><td>xxxxxxxx</td><td>Horizontální pozice spritu</td></tr>
<tr><td>2</td><td>yyyyyyyy</td><td>Vertikální pozice spritu</td></tr>
<tr><td>3</td><td>cccccccc</td><td>Index prvního znaku, z nìho¾ je sprite slo¾en</td></tr>
<tr><td>4</td><td>vhoopppc</td><td>Vertikální/horizontální zrcadlení, priorita, barvová paleta, 9.bit znaku</td></tr>
</table>

<p>Ve druhé tabulce o velikosti 32 bajtù jsou pro ka¾dý sprite vyhrazeny pouze
dva bity, v&nbsp;nich¾ je ulo¾en nejvy¹¹í bit x-ové a y-ové pozice spritu.
V&nbsp;ka¾dém bajtu této tabulky jsou tedy ulo¾ena data pro ètyøi sousedící
sprity.</p>

<img src="http://i.iinfo.cz/images/615/106-07.png" width="450" height="495" alt="&#160;" />
<p><i>Obrázek 7: Dal¹í série spritù získaných z&nbsp;pamì»ového modulu hry
Final Fantasy IV (dvakrát zvìt¹eno).</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Alternativní podpùrné èipy dostupné pro herní konzoli SNES</h2>

<p>Mezi jednu ze zajímavých vlastností herní konzole <i>SNES</i>, o ní¾ jsme se
prozatím nezmínili, patøí i mo¾nost pøidat na zásuvný modul se hrou dal¹í
podpùrné integrované obvody. To znamená, ¾e tento modul (<i>cartridge</i>)
nemusel obsahovat pouze èip (E)PROM s&nbsp;binárním kódem a daty hry, ale
k&nbsp;vybraným herním titulùm bylo navíc mo¾né dodat dal¹í èip urèený pro
generování zvukù èi podpùrné èipy pro grafický subsystém. Vzhledem
k&nbsp;relativnì dlouhé dobì morální ¾ivotnosti herní konzole <i>SNES</i> se
její výrobce dostal do situace, kdy u¾ivatelé zaèali vy¾adovat hry
s&nbsp;kvalitnìj¹í 3D grafikou, kterou ji¾ nebylo mo¾né vykreslit programovì,
zvlá¹tì kdy¾ vezmeme v&nbsp;potaz spí¹e prùmìrný výpoèetní výkon mikroprocesoru
<i>65c816</i> v&nbsp;porovnání s&nbsp;konkurenèními èipy. Jen pro porovnání: na
pøelomu osmdesátých a devadesátých let minulého století ji¾ byly
k&nbsp;dispozici výkonné mikroprocesory <i>Motorola 68040</i> a <i>Intel
80486DX</i> pracující na vy¹¹ích frekvencích, ne¾ byla frekvence 3,58 MHz
v&nbsp;pøípadì <i>65c816/Ricoh 5A22</i> ve <i>SNESu</i> (80486DX mìlo frekvence
20, 25, 33 a posléze dokonce 50 MHz, Motorola 68040 pak frekvence 25, 33 a
pozdìji té¾ 40 MHz).</p>

<img src="http://i.iinfo.cz/images/638/10608.jpg" width="450" height="391" alt="&#160;" />
<p><i>Obrázek 8: Díky existenci výkonných èipù 80386, 80486DX a Motorola
68030/68040 ji¾ bylo mo¾né vytváøet hry, v&nbsp;nich¾ se vykreslovala
prostorová scéna programovì. Na tomto screenshotu pravdìpodobnì vìt¹ina ètenáøù
pozná slavný Doom, který bylo mo¾né provozovat i na poèítaèi
s&nbsp;mikroprocesorem AMD 80386 40MHz (v&nbsp;nìkterých pøípadech se v¹ak
vykreslování na takto výkonném poèítaèi zpomalilo, napøíklad v&nbsp;závìreèné
úrovni hry Doom 2).</i></p>

<p>Pro herní konzoli <i>SNES</i> bylo navr¾eno popø.&nbsp;upraveno vìt¹í
mno¾ství alternativních podpùrných èipù. Asi nejznámìj¹í je èip nazvaný
<i>Nintendo Super FX</i> (té¾ <i>MARIO</i>), který akceleroval vykreslování 2D
a 3D grafiky. Popisem tohoto zajímavého integrovaného obvodu se budeme zabývat
v&nbsp;následující kapitole. Ov¹em kromì èipu <i>Nintendo Super FX</i> se na
modulech s&nbsp;nìkterými hrami nacházely i dal¹í integrované obvody. Jedná se
napøíklad o <i>SA-1</i> neboli <i>Super Accelerator 1</i>, co¾ je ve
skuteènosti mikroprocesor <i>65c816</i>, ov¹em taktovaný na 10 MHz,
tj.&nbsp;zhruba tøikrát rychleji, ne¾ hlavní mikroprocesor herní konzole
<i>SNES</i>. Tento mikroprocesor byl doplnìný dal¹ími moduly
s&nbsp;programovatelnými èasovaèi, podporou pøímého pøístupu do pamìti (DMA),
bitmapovými operacemi atd. Dal¹ím podpùrným obvodem byl èip <i>S-DD1</i>, jen¾
podporoval práci s&nbsp;komprimovanými daty (data bylo nutné komprimovat kvùli
omezené kapacitì cartridge). Vykreslování 3D grafiky bylo podporováno i èipem
nazvaným <i>Cx4</i>, jen¾ obsahoval moduly pro matematické operace (vèetnì
rotací). Zapomenout nesmíme ani na èipy <i>DSP</i> a <i>DSP-2</i>, které bylo
mo¾né pou¾ít pro implementaci bitmapových operací, konverzí, výpoètù
s&nbsp;vektory dat atd.</p>

<img src="http://i.iinfo.cz/images/328/10609.jpg" width="450" height="394" alt="&#160;" />
<p><i>Obrázek 9: Dungeon Master ve verzi pro SNES obsahoval èip DSP.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Èip MARIO aneb Nintendo Super FX</h2>

<p>Jedním z&nbsp;nejznámìj¹ích podpùrných integrovaných obvodù, které vznikly
pro herní konzoli <i>SNES</i> je èip <i>Nintendo Super FX</i>, který byl
pùvodnì vyvíjen pod názvem <i>MARIO</i> (co¾ byla pomìrnì násilnì vytvoøená
zkratka ze sousloví &bdquo;Mathematical, Argonaut, Rotation and I/O&ldquo;).
Tento èip vznikl spoleènì s&nbsp;vývojem hry <i>StarFox</i>, její¾ herní
prostøedí bylo z&nbsp;velké èásti zalo¾ené na vykreslování prostorových modelù
slo¾ených z&nbsp;polygonù. Z&nbsp;tohoto dùvodu bylo jedním z&nbsp;hlavních
úkolù èipu <i>Nintendo Super FX</i> právì vykreslování polygonù
s&nbsp;konstantním stínováním (<i>flat shading</i>), ov¹em o jejich správné
umístìní do 3D scény se musel postarat programátor, který musel vyøe¹it jejich
správnou rotaci, zmìnit barvu polygonu v&nbsp;závislosti na osvìtlení atd.
(tyto operace dnes doká¾e provádìt pøímo GPU na grafickém akcelerátoru). Ani
dal¹í pokroèilej¹í efekty, napøíklad prùhlednost èi efekt mlhy, nebyly pøímo
tímto èipem podporovány (dnes se naopak bì¾nì pou¾ívají).</p>

<img src="http://i.iinfo.cz/images/159/10610.jpg" width="450" height="390" alt="&#160;" />
<p><i>Obrázek 10: Hra Super Mario Bros - the Lost Levels je typickou ukázkou 2D
hry masivnì pou¾ívající sprity.</i></p>

<p>Odkazy na dal¹í informaèní zdroje o èipu <i>Nintendo Super FX</i>:</p>

<ol>

<li>MyMedia Games Network Retrospective - Nintendo Super FX chip<br />
<a href="http://psp.mmgn.com/News/MyMedia-Games-Network-Retrospe-G6W">http://psp.mmgn.com/News/MyMedia-Games-Network-Retrospe-G6W</a>
</li>

<li>Wikipedia: Super FX<br />
<a href="http://en.wikipedia.org/wiki/Super_FX">http://en.wikipedia.org/wiki/Super_FX</a>
</li>

</ol>

<img src="http://i.iinfo.cz/images/489/10611.jpg" width="450" height="341" alt="&#160;" />
<p><i>Obrázek 11: Hra Super Mario World 2: Yoshi's Island vyu¾ívající mo¾ností
èipu Nintendo Super FX.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Podpora pro akceleraci vykreslování prostorových (3D) objektù èipem Super FX</h2>

<p>Èip <i>Super FX</i> byl zalo¾en na mikroprocesoru s&nbsp;architekturou RISC,
jen¾ byl taktovaný hodinovým signálem o frekvenci 21 MHz. Ov¹em v&nbsp;první
verzi tohoto èipu byla hodinová frekvence internì dìlena dvìma na 10,5 MHz, a
teprve druhá verze <i>Super FX II</i> dokázala pracovat na plné frekvenci 21
MHz. Internì se jednalo o 16bitový procesor obsahující ¹estnáct pracovních
registrù. Data bylo mo¾né pøená¹et do pamìti RAM rychlostí a¾ 1MB za sekundu,
co¾ spoleènì s&nbsp;hodinovou frekvencí 10,5/21 MHz omezovalo celkový poèet a
velikost vykreslovaných polygonù na nìkolik set a¾ jednotky tisíc. To sice mù¾e
z&nbsp;dne¹ního pohledu vypadat jako smì¹ná vykreslovací rychlost, ale na
zaèátku devadesátých let to bylo s&nbsp;ohledem na rozli¹ení obrazovky
dostaèující. Celá dvourozmìrná èi prostorová scéna se vykreslovala do
framebufferu vytvoøeného v&nbsp;pamìti RAM umístìné vedle èipu <i>Super FX</i>.
Aby se v¹ak scéna skuteènì zobrazila, musel se obsah framebufferu pøenést
s&nbsp;vyu¾itím pøímého pøístupu do pamìti (DMA) do video pamìti konzole. Toto
øe¹ení sice nevypadá pøíli¹ elegantnì, ale bylo funkèní a nevy¾adovalo zmìny
v&nbsp;interním zapojení <i>SNESu</i>.</p>

<img src="http://i.iinfo.cz/images/171/10612.jpg" width="450" height="338" alt="&#160;" />
<p><i>Obrázek 12: Hra Super Mario World 2: Yoshi's Island vyu¾ívající mo¾ností
èipu Nintendo Super FX.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Podpora pro akceleraci vykreslování 2D spritù èipem Super FX</h2>

<p>Ve høe <i>StarFox</i> se s&nbsp;vyu¾itím 3D polygonù zobrazovaly napøíklad
kosmické lodi, ov¹em znaèná èást men¹ích pøedmìtù byla zobrazována ve formì 2D
spritù s&nbsp;promìnnou velikostí (docházelo ke zmen¹ování a/nebo zvìt¹ování
bitmapy se vzdáleností od pozorovatele a tím pádem i k&nbsp;simulaci
perspektivy), co¾ byla dal¹í funkce, kterou èip <i>Nintendo Super FX</i>
podporoval. Na této funkci vlastnì není nic pøekvapivého, kdy¾ si uvìdomíme, ¾e
velká èást 3D her, zejména FPS (her vidìných z&nbsp;pohledu hráèe) pùvodnì
kombinovala 3D prostøedí s&nbsp;2D sprity. Pøíkladem mù¾e být svìtoznámá hra
<i>Wolfenstein 3D</i> èi neménì známá hra <i>Doom</i>, kde se jak 3D scéna, tak
i 2D sprity vykreslovaly programovì. Mo¾nost podpory práce s&nbsp;2D sprity,
kterou èip <i>Nintendo Super FX</i> programátorùm nabízel, byla vyu¾ita
napøíklad v&nbsp;èistì dvourozmìrné høe <i>Super Mario World 2: Yoshi's
Island</i>, kde se <i>Super FX</i> staral o vykreslování spritù, závìreèných
bossù (jejich¾ obrazy pøekraèovaly bì¾nou velikost spritù) i pro podporu
paralaxního scrollingu, tj.&nbsp;pro vytvoøení pozadí z&nbsp;nìkolika bitmap
zobrazených pøes sebe (s&nbsp;vyu¾itím prùhledné barvy), pøièem¾ ka¾dá bitmapa
se pohybovala jinou rychlostí.</p>

<img src="http://i.iinfo.cz/images/594/10613.jpg" width="450" height="360" alt="&#160;" />
<p><i>Obrázek 13: Wolfenstein 3D ve verzi pro poèítaèe PC. Zatímco herní
prostøedí bylo tvoøeno otexturovanými polygony, v¹echny pøedmìty ve høe i
v¹ichni protivníci byli vykreslováni formou prostých 2D spritù, u nich¾ se
pouze mìnila jejich velikost v&nbsp;závislosti na vzdálenosti od
pozorovatele.</i></p>

<p>Èip <i>Nintendo Super FX</i> byl pou¾it v&nbsp;nìkolika hrách, zejména
v&nbsp;ji¾ zmínìném herním titulu StarFox a dále pak ve hrách Stunt Race FX
(v&nbsp;Japonsku prodáván pod jménem Wild Trax), ve høe Vortex a upravený èip
<i>Super FX 2</i> byl pozdìji dokonce pou¾it pro portaci slavné hry Doom na
konzoli <i>SNES</i>, i kdy¾ zde musela být plocha obrazovky vyhrazená pro 3D
pohled oproti PC verzi ponìkud zmen¹ena &ndash; zde zvítìzila hrubá výpoèetní
síla mikroprocesorù <i>80386</i> a <i>80486</i> nad sofistikovanìj¹ím øe¹ením
pou¾itým v&nbsp;pøípadì <i>SNESu</i>. Nicménì ani s&nbsp;nástupem dal¹í
generace herních konzolí vybavených ji¾ skuteènými 3D akcelerátory nebyla
technologie pou¾itá v&nbsp;<i>Super FX</i> ztracena, proto¾e základ tohoto èipu
poslou¾il pro návrh u¾ivatelsky modifikovatelných (zákaznických) mikroprocesorù
s&nbsp;architekturou RISC, které byly urèeny pøedev¹ím pro vestavné systémy
(zde má mo¾nost konfigurace schopností mikroprocesoru u¾ivatelem pomìrnì velký
smysl s&nbsp;ohledem na celkovou cenu èipu, jeho energetické nároky atd.).</p>

<img src="http://i.iinfo.cz/images/256/10614.jpg" width="450" height="360" alt="&#160;" />
<p><i>Obrázek 14: Sloupy, lustry, kvìtina na pozadí, protivníci, støílející
zbraò hlavního hrdiny &ndash; to v¹e je zde vykresleno formou 2D
spritù.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Odkazy na Internetu</h2>

<ol>

<li>Super NES Programming/Initialization Tutorial<br />
<a href="http://en.wikibooks.org/wiki/Super_NES_Programming/Initialization_Tutorial">http://en.wikibooks.org/wiki/Super_NES_Programming/Initialization_Tutorial</a>
</li>

<li>SNES Development sites<br />
<a href="http://www.snescentral.com/development.php">http://www.snescentral.com/development.php</a>
</li>

<li>Super NES Programming<br />
<a href="http://en.wikibooks.org/wiki/Super_NES_Programming">http://en.wikibooks.org/wiki/Super_NES_Programming</a>
</li>

<li>Super Nintendo Development Wiki<br />
<a href="http://wiki.superfamicom.org/snes/show/HomePage">http://wiki.superfamicom.org/snes/show/HomePage</a>
</li>

<li>6502.org<br />
<a href="http://www.6502.org/">http://www.6502.org/</a>
</li>

<li>The 6502/65C02/65C816 Instruction Set Decoded<br />
<a href="http://www.llx.com/~nparker/a2/opcodes.html">http://www.llx.com/~nparker/a2/opcodes.html</a>
</li>

<li>6502 Addressing Modes<br />
<a href="http://www.obelisk.demon.co.uk/6502/addressing.html">http://www.obelisk.demon.co.uk/6502/addressing.html</a>
</li>

<li>HuC6280 CPU<br />
<a href="http://shu.emuunlim.com/download/pcedocs/pce_cpu.html">http://shu.emuunlim.com/download/pcedocs/pce_cpu.html</a>
</li>

<li>Hudson Soft HuC6280 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Hudson_Soft_HuC6280">http://en.wikipedia.org/wiki/Hudson_Soft_HuC6280</a>
</li>

<li>William D. Mensch jr.<br />
<a href="http://www.computerhalloffame.org/index.php?option=com_content&amp;view=article&amp;id=31&amp;Itemid=4">http://www.computerhalloffame.org/index.php?option=com_content&amp;view=article&amp;id=31&amp;Itemid=4</a>
</li>

<li>Bill Mensch<br />
<a href="http://en.wikipedia.org/wiki/Bill_Mensch">http://en.wikipedia.org/wiki/Bill_Mensch</a>
</li>

<li>SPC 700 Documentation<br />
<a href="http://emureview.ztnet.com/developerscorner/SoundCPU/spc.htm">http://emureview.ztnet.com/developerscorner/SoundCPU/spc.htm</a>
</li>

<li>Super NES Programming/SPC700 reference<br />
<a href="http://en.wikibooks.org/wiki/Super_NES_Programming/SPC700_reference">http://en.wikibooks.org/wiki/Super_NES_Programming/SPC700_reference</a>
</li>

<li>Mega Lo Mania<br />
<a href="http://www.mobygames.com/game/mega-lo-mania">http://www.mobygames.com/game/mega-lo-mania</a>
</li>

<li>Mega Lo Mania<br />
<a href="http://en.wikipedia.org/wiki/Mega_Lo_Mania">http://en.wikipedia.org/wiki/Mega_Lo_Mania</a>
</li>

<li>Cannon Fodder<br />
<a href="http://www.allgame.com/game.php?id=739">http://www.allgame.com/game.php?id=739</a>
</li>

<li>Cannon Fodder [European]<br />
<a href="http://www.allgame.com/game.php?id=15717">http://www.allgame.com/game.php?id=15717</a>
</li>

<li>Retrospective: Cannon Fodder<br />
<a href="http://www.rockpapershotgun.com/2007/11/11/retrospective-cannon-fodder/">http://www.rockpapershotgun.com/2007/11/11/retrospective-cannon-fodder/</a>
</li>

<li>Cannon Fodder<br />
<a href="http://en.wikipedia.org/wiki/Cannon_Fodder_(video_game)">http://en.wikipedia.org/wiki/Cannon_Fodder_(video_game)</a>
</li>

<li>BC Racers<br />
<a href="http://en.wikipedia.org/wiki/BC_Racers">http://en.wikipedia.org/wiki/BC_Racers</a>
</li>

<li>Desert Strike Advance<br />
<a href="http://www.ign.com/articles/2002/06/03/desert-strike-advance">http://www.ign.com/articles/2002/06/03/desert-strike-advance</a>
</li>

<li>Three Strikes And You're Out<br />
<a href="http://www.eurogamer.net/articles/three-strikes-and-youre-out-article">http://www.eurogamer.net/articles/three-strikes-and-youre-out-article</a>
</li>

<li>Head 2 Head: Desert Strike - SNES vs MegaDrive<br />
<a href="http://www.retrogamescollector.com/head-2-head-desert-strike-snes-vs-megadrive/">http://www.retrogamescollector.com/head-2-head-desert-strike-snes-vs-megadrive/</a>
</li>

<li>Desert Strike: Return to the Gulf<br />
<a href="http://en.wikipedia.org/wiki/Desert_Strike:_Return_to_the_Gulf">http://en.wikipedia.org/wiki/Desert_Strike:_Return_to_the_Gulf</a>
</li>

<li>The Chaos Engine (Soldiers of Fortune USA)<br />
<a href="http://www.bitmap-brothers.co.uk/our-games/past/chaos-engine.htm">http://www.bitmap-brothers.co.uk/our-games/past/chaos-engine.htm</a>
</li>

<li>The Chaos Engine series<br />
<a href="http://www.mobygames.com/game-group/chaos-engine-series">http://www.mobygames.com/game-group/chaos-engine-series</a>
</li>

<li>The Chaos Engine<br />
<a href="http://en.wikipedia.org/wiki/Chaos_Engine">http://en.wikipedia.org/wiki/Chaos_Engine</a>
</li>

<li>The Chaos Engine 2<br />
<a href="http://www.bitmap-brothers.co.uk/our-games/past/chaos-engine2.htm">http://www.bitmap-brothers.co.uk/our-games/past/chaos-engine2.htm</a>
</li>

<li>The Chaos Engine series<br />
<a href="http://www.mobygames.com/game-group/chaos-engine-series">http://www.mobygames.com/game-group/chaos-engine-series</a>
</li>

<li>Moby Games: Speedball series<br />
<a href="http://www.mobygames.com/game-group/speedball-series">http://www.mobygames.com/game-group/speedball-series</a>
</li>

<li>Bitmap Brothers: Speedball (original)<br />
<a href="http://www.bitmap-brothers.co.uk/our-games/past/speedball.htm">http://www.bitmap-brothers.co.uk/our-games/past/speedball.htm</a>
</li>

<li>Bitmap Brothers: Speedball 2: Brutal Deluxe<br />
<a href="http://www.bitmap-brothers.co.uk/our-games/past/speedball2.htm">http://www.bitmap-brothers.co.uk/our-games/past/speedball2.htm</a>
</li>

<li>Wikipedia: Speedball (video game)<br />
<a href="http://en.wikipedia.org/wiki/Speedball_(video_game)">http://en.wikipedia.org/wiki/Speedball_(video_game)</a>
</li>

<li>Golden Axe<br />
<a href="http://strategywiki.org/wiki/Golden_Axe">http://strategywiki.org/wiki/Golden_Axe</a>
</li>

<li>Golden Axe (series)<br />
<a href="http://en.wikipedia.org/wiki/Golden_Axe_(series)">http://en.wikipedia.org/wiki/Golden_Axe_(series)</a>
</li>

<li>Golden Axe II<br />
<a href="http://www.gamespot.com/golden-axe-ii/platform/genesis/">http://www.gamespot.com/golden-axe-ii/platform/genesis/</a>
</li>

<li>Golden Axe II<br />
<a href="http://strategywiki.org/wiki/Golden_Axe_II">http://strategywiki.org/wiki/Golden_Axe_II</a>
</li>

<li>Golden Axe III<br />
<a href="http://strategywiki.org/wiki/Golden_Axe_III">http://strategywiki.org/wiki/Golden_Axe_III</a>
</li>

<li>Game Freaks 365: Sonic the Hedgehog 2<br />
<a href="http://gamefreaks365.com/review.php?artid=1631">http://gamefreaks365.com/review.php?artid=1631</a>
</li>

<li>Sonic The Hedgehog 2 (GENESIS) <br />
<a href="http://web.archive.org/web/20070831062914/http://sonic.neoseeker.com/sonic_the_hedgehog_2/GENESIS/pages/release_dates_background_3/">http://web.archive.org/web/20070831062914/http://sonic.neoseeker.com/sonic_the_hedgehog_2/GENESIS/pages/release_dates_background_3/</a>
</li>

<li>Neoseeker: Sonic the Hedgehog 2 (16-bit)<br />
<a href="http://www.neoseeker.com/Games/Products/GENESIS/sonic_the_hedgehog_2/">http://www.neoseeker.com/Games/Products/GENESIS/sonic_the_hedgehog_2/</a>
</li>

<li>Wikipedia: Sonic the Hedgehog 2 (16-bit)<br />
<a href="http://en.wikipedia.org/wiki/Sonic_the_Hedgehog_2_(16-bit)">http://en.wikipedia.org/wiki/Sonic_the_Hedgehog_2_(16-bit)</a>
</li>

<li>Gamespot: Disney's Aladdin<br />
<a href="http://www.gamespot.com/disneys-aladdin-in-nasiras-revenge/platform/ps/">http://www.gamespot.com/disneys-aladdin-in-nasiras-revenge/platform/ps/</a>
</li>

<li>Moby Games: Disney's Aladdin<br />
<a href="http://www.mobygames.com/game/disneys-aladdin">http://www.mobygames.com/game/disneys-aladdin</a>
</li>

<li>Internet Movie Database: Aladdin (I) (Video Game 1993)<br />
<a href="http://www.imdb.com/title/tt0204798/">http://www.imdb.com/title/tt0204798/</a>
</li>

<li>Wikipedia: Disney's Aladdin (video game)<br />
<a href="http://en.wikipedia.org/wiki/Disney's_Aladdin_(video_game)">http://en.wikipedia.org/wiki/Disney's_Aladdin_(video_game)</a>
</li>

<li>Eric Chahi<br />
<a href="http://en.wikipedia.org/wiki/Eric_Chahi">http://en.wikipedia.org/wiki/Eric_Chahi</a>
</li>

<li>Wikipedia: Another World (video game)<br />
<a href="http://en.wikipedia.org/wiki/Another_World_(video_game)">http://en.wikipedia.org/wiki/Another_World_(video_game)</a>
</li>

<li>SN76489 sound chip details<br />
<a href="http://web.inter.nl.net/users/J.Kortink/home/articles/sn76489/">http://web.inter.nl.net/users/J.Kortink/home/articles/sn76489/</a>
</li>

<li>SN76464 datasheet<br />
<a href="http://www.ic-on-line.cn/view_online.php?id=1106623&file=0054%5Csn76494_409323.pdf">http://www.ic-on-line.cn/view_online.php?id=1106623&file=0054%5Csn76494_409323.pdf</a>
</li>

<li>Texas Instruments SN76489 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Texas_Instruments_SN76489">http://en.wikipedia.org/wiki/Texas_Instruments_SN76489</a>
</li>

<li>SN76489<br />
<a href="http://www.smspower.org/Development/SN76489?sid=ae16503f2fb18070f3f40f2af56807f1">http://www.smspower.org/Development/SN76489?sid=ae16503f2fb18070f3f40f2af56807f1</a>
</li>

<li>YM2413 FM Operator Type-LL (OPLL) Application Manual<br />
<a href="http://www.smspower.org/maxim/Documents/YM2413ApplicationManual?sid=28c370e1fcac51d5774319979bf96f4c">http://www.smspower.org/maxim/Documents/YM2413ApplicationManual?sid=28c370e1fcac51d5774319979bf96f4c</a>
</li>

<li>Programming the Sega MegaDrive<br />
<a href="http://darkdust.net/writings/megadrive">http://darkdust.net/writings/megadrive</a>
</li>

<li>MegaDrive / SegaGenesis docs<br />
<a href="http://www.genny4ever.net/index.php?page=docs">http://www.genny4ever.net/index.php?page=docs</a>
</li>

<li>IGN: Top 25 Consoles<br />
<a href="http://www.ign.com/top-25-consoles/13.html">http://www.ign.com/top-25-consoles/13.html</a>
</li>

<li>Sega Mega Drive<br />
<a href="http://sega.jp/archive/segahard/md/">http://sega.jp/archive/segahard/md/</a>
</li>

<li>Sega Archives<br />
<a href="http://sega.jp/archive/segahard/">http://sega.jp/archive/segahard/</a>
</li>

<li>Sega Genesis<br />
<a href="http://www.dmoz.org/Games/Video_Games/Console_Platforms/Sega/Genesis/">http://www.dmoz.org/Games/Video_Games/Console_Platforms/Sega/Genesis/</a>
</li>

<li>The Retro Gen Plays Genesis Games<br />
<a href="http://uk.gamespy.com/articles/998/998637p1.html">http://uk.gamespy.com/articles/998/998637p1.html</a>
</li>

<li>The Sega Mega Drive/Genesis<br />
<a href="http://www.captainwilliams.co.uk/sega/megadrive/megadrive.php">http://www.captainwilliams.co.uk/sega/megadrive/megadrive.php</a>
</li>

<li>Sega Game Gear 101: A Beginner's Guide<br />
<a href="http://www.racketboy.com/retro/sega/gamegear/sega-game-gear-101-a-beginners-guide">http://www.racketboy.com/retro/sega/gamegear/sega-game-gear-101-a-beginners-guide</a>
</li>

<li>SEGA GameGear | Marc's Realm<br />
<a href="http://darkdust.net/retrogaming/gamegear">http://darkdust.net/retrogaming/gamegear</a>
</li>

<li>Sega Master System Hardware<br />
<a href="http://www.smspower.org/Development/Documents">http://www.smspower.org/Development/Documents</a>
</li>

<li>SMS/GG hardware notes<br />
<a href="http://www.smspower.org/uploads/Development/smstech-20021112.txt?sid=28c370e1fcac51d5774319979bf96f4c">http://www.smspower.org/uploads/Development/smstech-20021112.txt?sid=28c370e1fcac51d5774319979bf96f4c</a>
</li>

<li>Sega Master System Museum<br />
<a href="http://alexkidd.com/">http://alexkidd.com/</a>
</li>

<li>Jadeite's Sega Master System Museum<br />
<a href="http://rp_gamer.tripod.com/SMS/1.html">http://rp_gamer.tripod.com/SMS/1.html</a>
</li>

<li>Sega Master System (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Sega_Master_System">http://en.wikipedia.org/wiki/Sega_Master_System</a>
</li>

<li>Sega Card (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Sega_Card">http://en.wikipedia.org/wiki/Sega_Card</a>
</li>

<li>Sega Master System VDP documentation<br />
<a href="http://www.smspower.org/uploads/Development/msvdp-20021112.txt?sid=28c370e1fcac51d5774319979bf96f4c">http://www.smspower.org/uploads/Development/msvdp-20021112.txt?sid=28c370e1fcac51d5774319979bf96f4c</a>
</li>

<li>bee - The Multi-Console Emulator<br />
<a href="http://www.thebeehive.ws/">http://www.thebeehive.ws/</a>
</li>

<li>TurboGrafx-16 TurboExpress<br />
<a href="http://www.allgame.com/platform.php?id=17673">http://www.allgame.com/platform.php?id=17673</a>
</li>

<li>HuC6280 CPU<br />
<a href="http://shu.emuunlim.com/download/pcedocs/pce_cpu.html">http://shu.emuunlim.com/download/pcedocs/pce_cpu.html</a>
</li>

<li>Hudson Soft HuC6280 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Hudson_Soft_HuC6280">http://en.wikipedia.org/wiki/Hudson_Soft_HuC6280</a>
</li>

<li>TurboGrafx-16 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/TurboGrafx-16">http://en.wikipedia.org/wiki/TurboGrafx-16</a>
</li>

<li>MagicEngine - TurboGrafx-16 emulator<br />
<a href="http://www.magicengine.com/">http://www.magicengine.com/</a>
</li>

<li>Motorola 68000 CPU<br />
<a href="http://en.wikipedia.org/wiki/68000">http://en.wikipedia.org/wiki/68000</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2012</small></p>
</body>
</html>

