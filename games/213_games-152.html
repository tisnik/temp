<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Historie vývoje poèítaèových her (152. èást - vlastnosti systému Inform7)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Historie vývoje poèítaèových her (152. èást - vlastnosti systému Inform7)</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V systému Inform 7, s ním¾ jsme se seznámili v pøedchozí èásti seriálu o historii vývoje poèítaèových her, je mo¾né kromì klasických textovek vytváøet i specifické hry s neobvyklou topologií herního svìta, tzv. kontejnery obsahujícími dal¹í pøedmìty (èi dal¹í kontejnery) atd. Nìkteré mo¾nosti Informu 7 si uká¾eme dnes.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Historie vývoje poèítaèových her (152. èást - vlastnosti systému Inform7)</a></p>
<p><a href="#k02">2. Vytvoøení úvodních lokací slavné hry Collosal Cave Adventure</a></p>
<p><a href="#k03">3. Pøidání pøeká¾ky do herního svìta</a></p>
<p><a href="#k04">4. Nastavení vlastností pøeká¾ky</a></p>
<p><a href="#k05">5. Specifikace vlastností dveøí</a></p>
<p><a href="#k06">6. Neobvyklé topologie herního svìta &ndash; jednosmìrky apod.</a></p>
<p><a href="#k07">7. Barevné bludi¹tì</a></p>
<p><a href="#k08">8. Klíèe umístìné v&nbsp;kontejnerech</a></p>
<p><a href="#k09">9. Pøíkaz SHOWME</a></p>
<p><a href="#k10">10. Kontejnery a &bdquo;matrjo¹ky&ldquo;</a></p>
<p><a href="#k11">11. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Historie vývoje poèítaèových her (152. èást - vlastnosti systému Inform7)</h2>

<p>V&nbsp;dne¹ní èásti seriálu o historii vývoje poèítaèových her si popí¹eme
nìkteré dal¹í vlastnosti systému <i>Inform 7</i>. Ji¾ v&nbsp;èásti pøedchozí
jsme si øekli, ¾e systém nazvaný <i>Inform 7</i> tvoøí spoleènì
s&nbsp;&bdquo;konkurenèními&ldquo; systémy <i>Hugo Interactive Fiction
Development System</i> a <i>TADS &ndash; Text Adventure Development System</i>
trojici nástrojù, které se v&nbsp;souèasnosti pou¾ívají pro tvorbu nových
textovek, a» ji¾ klasických textovek, kde hráè sbírá pøedmìty a pohybuje se
pøíkazy N/S/W/E, tak i textovek, které tvoøí rùzné alternativní smìry vývoje
(s&nbsp;nìkterými moderními textovkami se seznámíme pozdìji). <i>Inform 7</i>
se od ostatních nástrojù odli¹uje zejména v&nbsp;pou¾itém (programovacím)
jazyce, jeho¾ syntaxe a sémantika se sna¾í pøiblí¾it bì¾nì angliètinì. To
s&nbsp;sebou pøiná¹í jak klady, tak i zápory, proto¾e v&nbsp;nìkterých
pøípadech dochází k&nbsp;tomu, ¾e Inform 7 pøesnì nepochopí zámìry u¾ivatele;
nìkterá slova mají speciální význam (room, door), který pøesnì neodpovídá
popisovanému hernímu svìtu atd. atd.</p>

<a href="http://www.root.cz/obrazek/190148/"><img src="http://i.iinfo.cz/images/523/inform7a-1-prev.png" class="image-190148" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 1: První verze popisu herního svìta, který se sna¾í napodobit
slavnou hru Adventure, konkrétnì její 350bodovou verzi. Prozatím se zde
vyskytuje pouze ¹est herních lokací a pìt propojení mezi lokacemi.</i></p>

<p>Nìkteré z&nbsp;mo¾ností, které svým u¾ivatelùm (mo¾ná by bylo v&nbsp;tomto
kontextu lep¹í pou¾ívat oznaèení &bdquo;spisovatel&ldquo; èi
&bdquo;programátor&ldquo;) systém Inform 7 nabízí, si uká¾eme na nìkolika
demonstraèních minitextovkách. V&nbsp;první textovce se budeme sna¾it napodobit
první èást herního svìta slavné hry a první textovky vùbec, její¾ název je
<i>Collosal Cave Adventure</i>. Následnì si uká¾eme vytvoøení jednosmìrné cesty
(ta má více mo¾ností pou¾ití), dále pak vytvoøíme bludi¹tì tvoøené tøemi
barevnými místnostmi, tøemi barevnými dveømi a uschovanými klíèi a nakonec se
budeme zabývat pou¾itím takzvaných kontejnerù, tj.&nbsp;pøedmìtù (buï
pøenosných èi naopak nepøenosných), v&nbsp;nich¾ mohou být ulo¾eny dal¹í
pøedmìty a dokonce i dal¹í kontejnery. Tuto zdánlivì jednoduchou techniku
mù¾eme pou¾ít pro rùzné triky (a navíc tato technika není ve skuteènosti tak
jednoduchá, proto¾e se s&nbsp;ní napøíklad v&nbsp;klasických tuzemských
textovkách prakticky nesetkáme :-).</p>

<a href="http://www.root.cz/obrazek/190149/"><img src="http://i.iinfo.cz/images/523/inform7a-2-prev.png" class="image-190149" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 2: Zobrazení mapy herního svìta pøímo v&nbsp;systému Inform 7.
Pro znalce pùvodní verze Adventure nebo nìkteré z&nbsp;mnoha variací na tuto
hru je nutné dodat, ¾e kvùli snaz¹ímu zobrazení jsou poslední dvì lokace
propojeny s&nbsp;lokací nazvanou zkrácenì &bdquo;Valley&ldquo; východním smìrem
a ne smìrem ji¾ním.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Vytvoøení úvodních lokací slavné hry Collosal Cave Adventure</h2>

<p>Rozhodování o tom, jakou hru (pøesnìji øeèeno její úvodní èást) si
vyzkou¹íme v&nbsp;systému <i>Inform 7</i> implementovat nejdøíve, vlastnì
nebylo nijak tì¾ké, proto¾e v&nbsp;seriálu o historii poèítaèových her jsme se
ji¾ na nìkolika místech zmínili o slavné klasické textovce nazvané <i>Colossal
Cave Adventure</i>, jen¾ je známá té¾ pod zkráceným názvem <i>Adventure</i>
popø.&nbsp;na operaèních systémech s&nbsp;omezenou délkou názvù souborù pouze
pod oznaèením <i>ADVENT</i>. Této høe je pøipisováno hned nìkolik prvenství
&ndash; jedná se o první skuteènou textovku, jednu z&nbsp;prvních her ¹íøených
(samozøejmì zadarmo a bez licenèních omezení) pomocí tehdy vznikajícího
Internetu, hru dostupnou prakticky na jakémkoli zaøízení, které se podobá
poèítaèi :-) a v&nbsp;neposlední øadì té¾ o hru, její¾ zdrojové kódy byly volnì
k&nbsp;dispozici a programátoøi je mohli studovat popø.&nbsp;je mìnit, co¾
v&nbsp;mnoha ohledech odpovídá dne¹nímu pojetí open source. Zajímavé také je,
¾e tato hra je neustále &ndash; ji¾ témìø 40 let &ndash; vyvíjena a
v&nbsp;souèasnosti existuje nepøeberné mno¾ství variant, od klasických
textovek, které se mnohdy sna¾í co nejvìrnìji emulovat pùvodní hru, a¾ po
varianty s&nbsp;obrázky, mo¾nosti hry více u¾ivatelù souèasnì (MUD), ovládáním
pomocí my¹i a ikon, roz¹íøeným herním prostorem (novými lokacemi), apod.</p>

<a href="http://www.root.cz/obrazek/190150/"><img src="http://i.iinfo.cz/images/523/inform7a-3-prev.png" class="image-190150" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 3: Spu¹tìní první verze na¹í hry v&nbsp;zabudovaném interpretru
systému Inform 7. Pov¹imnìte si zpùsobu zobrazení &ndash; nejprve je uveden
název lokace, konkrétnì zvýraznìným fontem, a následnì je popis lokace zobrazen
ji¾ bì¾ným fontem.</i></p>

<p>My si zkusíme naprogramovat jen nìkolik prvních lokací takzvané 350bodové
varianty této hry, která se podobá originální høe a kterou lze dnes získat jak
na stránkách <a href="http://www.ifarchive.org/">http://www.ifarchive.org/</a>
ve formátech zpracovávaných napøíklad interpretrem <i>Gargoyle</i>, tak i
napøíklad <a
href="http://www.ifarchive.org/if-archive/games/source/adv350win.zip">v&nbsp;binární
podobì spustitelné pod DOSem</a>, skalní unixáøi pak zajisté sáhnou po balíèku
<strong>bsdgames</strong>. První lokace této hry lze nalézt napøíklad na adrese
<a
href="http://www.spitenet.com/cave/images/AdventureMap-noClues.jpg">http://www.spitenet.com/cave/images/AdventureMap-noClues.jpg</a>
&ndash; jsou zobrazeny v&nbsp;pravém horním rohu.</p>

<a href="http://www.root.cz/obrazek/190151/"><img src="http://i.iinfo.cz/images/523/inform7a-4-prev.png" class="image-190151" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 4: Nástroj nazvaný &bdquo;Skein&ldquo;slou¾í k&nbsp;záznamu
obecnì vìt¹ího mno¾ství variant ve høe. Tyto varianty jsou zaznamenávány
v&nbsp;prùbìhu testování hry a autor zde mù¾e zvolit (&bdquo;bless&ldquo;)
ideální variantu èi varianty.</i></p>

<p>První verze hry bude obsahovat ¹est herních lokací a pìt propojení mezi
tìmito lokacemi (jména lokací jsou zvýraznìna):</p>

<pre>
"Advent-1" by "Pavel Tisnovsky"
&nbsp;
<strong>End of road place</strong> is a room. "You are standing at the end of a road before a
small brick building.  Around you is a forest. A small stream flows out of the
building and down a gully."
&nbsp;
<strong>Open forest</strong> is a room. "You are in open forest, with a deep valley to one
side."
&nbsp;
<strong>Valley</strong> is a room. "You are in a valley in the forest beside a stream tumbling
along a rocky bed."
&nbsp;
<strong>Small brick building</strong> is a room. "You are inside a building, a well house for a
large spring."
&nbsp;
<strong>Slit place</strong> is a room. "At your feet all the water of the stream splashes into a
2-inch slit in the rock. Downstream the streambed is bare rock."
&nbsp;
<strong>Depression</strong> is a room. "You are in a 20-foot depression floored with bare dirt.
Set into the dirt is a strong steel grate mounted in concrete. A dry streambed
leads into the depression."
&nbsp;
&nbsp;
&nbsp;
<strong>Small brick building</strong> is east of <strong>end of road place</strong>.
<strong>Open forest</strong> is north of <strong>end of road place</strong>.
<strong>Valley</strong> is south of <strong>end of road place</strong>.
<strong>Slit place</strong> is east of the <strong>valley</strong>.
<strong>Depression</strong> is east of the <strong>slit place</strong>.
</pre>

<p>Pov¹imnìte si, ¾e Inform 7 ignoruje velikosti písmen a takté¾ není nutné se
zdr¾ovat se psaním èlenù.</p>

<a href="http://www.root.cz/obrazek/190152/"><img src="http://i.iinfo.cz/images/523/inform7a-5-prev.png" class="image-190152" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 5: V&nbsp;nástroji &bdquo;Transcript&ldquo; je takté¾ zaznamenána
historie tvorby hry.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Pøidání pøeká¾ky do herního svìta</h2>

<p>Pokud jste se pokusili po právì vytvoøeném herním svìtì projít, zajisté
uznáte, ¾e je to po urèitém èase ji¾ tro¹ku nudné, a to i pøes pìkný popis
krasového území. Pojïme si tedy pøidat dal¹í lokaci, konkrétnì vstup do
jeskynì. Ten je ov¹em uzavøen møí¾kou (<i>grate</i>). Tato møí¾ka má
z&nbsp;hlediska topologie herního svìta stejný význam jako dveøe, musíme ji
tedy jako dveøe (<i>door</i>) i oznaèit a novou lokaci nepropojit pøímo
s&nbsp;ostatním herním svìtem, ale pou¾ít tyto nové dveøe pro propojení jeskynì
z&nbsp;pøedchozí lokací. Minule jsme se ji¾ tvorbou dveøí zabývali, nyní v¹ak
bude situace o to zajímavìj¹í, ¾e jeskynì je umístìna POD pøedchozí lokací a ne
vedle ní.</p>

<a href="http://www.root.cz/obrazek/190153/"><img src="http://i.iinfo.cz/images/523/inform7a-6-prev.png" class="image-190153" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 6: Prvním nároènìj¹ím úkolem, který na hráèe v&nbsp;pùvodní høe
Adventure èekal, bylo otevøení vstupu do jeskynního systému, tak¾e pøidejme
møí¾ku, která zabraòuje vstupu do jeskynì.</i></p>

<p>Upravený program na¹í textovky bude vypadat následovnì:</p>

<pre>
"Advent-1" by "Pavel Tisnovsky"
&nbsp;
End of road place is a room. "You are standing at the end of a road before a
small brick building.  Around you is a forest. A small stream flows out of the
building and down a gully."
&nbsp;
Open forest is a room. "You are in open forest, with a deep valley to one
side."
&nbsp;
Valley is a room. "You are in a valley in the forest beside a stream tumbling
along a rocky bed."
&nbsp;
Small brick building is a room. "You are inside a building, a well house for a
large spring."
&nbsp;
Slit place is a room. "At your feet all the water of the stream splashes into a
2-inch slit in the rock. Downstream the streambed is bare rock."
&nbsp;
Depression is a room. "You are in a 20-foot depression floored with bare dirt.
Set into the dirt is a strong steel grate mounted in concrete. A dry streambed
leads into the depression."
&nbsp;
Chamber is a room. "You are in a small chamber beneath a 3x3 steel grate to the
surface. A low crawl over cobbles leads inward to the West."
&nbsp;
&nbsp;
&nbsp;
<strong>Grate is a door</strong>.
&nbsp;
&nbsp;
&nbsp;
Small brick building is east of end of road place.
Open forest is north of end of road place.
Valley is south of end of road place.
Slit place is east of the valley.
Depression is east of the slit place.
<strong>Grate</strong> is down of the depression.
Chamber is down of the <strong>grate</strong>.
</pre>

<p><i>Inform7</i> ji¾ po zadání tohoto popisu doká¾e vytvoøit mapu herního
svìta, co¾ je ostatnì patrné i pøi pohledu na screenshot èíslo 7.</p>

<a href="http://www.root.cz/obrazek/190154/"><img src="http://i.iinfo.cz/images/523/inform7a-7-prev.png" class="image-190154" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 7: Na mapì zobrazené v&nbsp;systému Inform 7 je patrné, ¾e
jeskynní systém skuteènì zaèíná pod zemí.</i></p>

<a href="http://www.root.cz/obrazek/190155/"><img src="http://i.iinfo.cz/images/523/inform7a-8-prev.png" class="image-190155" width="288" height="270" alt="&#160;" /></a>
<p><i>Obrázek 8: Poèet mo¾ností, jak se pohybovat po herním svìtì, se nám ji¾
mno¾í, co¾ je pomìrnì pøekvapivé, zvlá¹tì kdy¾ si uvìdomíme, ¾e se jedná jen o
minimum lokací. Jinými slovy to znamená, ¾e i zdánlivì jednoduchou textovku je
nutné dobøe otestovat.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Nastavení vlastností pøeká¾ky</h2>

<p>Pokud si v¹ak hru zkusíte zahrát (viz té¾ screenshot èíslo 8
s&nbsp;naznaèenými mo¾nostmi), tak zjistíte, ¾e møí¾ka ve skuteènosti ¾ádnou
vá¾nou pøeká¾ku nepøedstavuje, proto¾e ji lze snadno vysunout a projít jí.
Musíme tedy nastavit vlastnosti møí¾ky, konkrétnì øíci, ¾e je
&bdquo;zamykatelná&ldquo; a souèasnì i &bdquo;zamèená&ldquo;. Kromì toho
explicitnì urèíme, kterým pøedmìtem se møí¾ka dá odemèít a následnì otevøít
(resp. vysunout). Tento pøedmìt musíme umístit do herního svìta a to &ndash;
podobnì jako v&nbsp;originálu &ndash; pøímo do malé zdìné budovy, která se
nachází blízko startovní lokace:</p>

<pre>
"Advent-1" by "Pavel Tisnovsky"
&nbsp;
End of road place is a room. "You are standing at the end of a road before a
small brick building.  Around you is a forest. A small stream flows out of the
building and down a gully."
&nbsp;
Open forest is a room. "You are in open forest, with a deep valley to one
side."
&nbsp;
Valley is a room. "You are in a valley in the forest beside a stream tumbling
along a rocky bed."
&nbsp;
Small brick building is a room. "You are inside a building, a well house for a
large spring."
&nbsp;
Slit place is a room. "At your feet all the water of the stream splashes into a
2-inch slit in the rock. Downstream the streambed is bare rock."
&nbsp;
Depression is a room. "You are in a 20-foot depression floored with bare dirt.
Set into the dirt is a strong steel grate mounted in concrete. A dry streambed
leads into the depression."
&nbsp;
Chamber is a room. "You are in a small chamber beneath a 3x3 steel grate to the
surface. A low crawl over cobbles leads inward to the West."
&nbsp;
&nbsp;
&nbsp;
<strong>Grate is a door</strong>.
<strong>Grate is lockable and locked</strong>.
<strong>The matching key of the grate is the rusty key.</strong>
&nbsp;
&nbsp;
<strong>Rusty key is in the small brick building.</strong>
&nbsp;
&nbsp;
&nbsp;
Small brick building is east of end of road place.
Open forest is north of end of road place.
Valley is south of end of road place.
Slit place is east of the valley.
Depression is east of the slit place.
<strong>Grate</strong> is down of the depression.
Chamber is down of the <strong>grate</strong>.
</pre>

<p>Výsledek se ji¾ podobá pravému hornímu rohu mapy <a
href="http://www.spitenet.com/cave/images/AdventureMap.jpg">http://www.spitenet.com/cave/images/AdventureMap.jpg</a>.</p>

<a href="http://www.root.cz/obrazek/190156/"><img src="http://i.iinfo.cz/images/523/inform7a-9-prev.png" class="image-190156" width="347" height="270" alt="&#160;" /></a>
<p><i>Obrázek 9: Tyto ètyøi dùle¾ité vìty slou¾í k&nbsp;tomu, aby se do herního
svìta pøidala uzamèená (a uzamykatelná) møí¾ka a navíc klíè, kterým je ji mo¾no
odemèít.</i></p>

<p>Ve zdrojovém kódu textovky si pov¹imnìte zpùsobu popisu scény, který se
odvíjí podle stále stejné ¹ablony. Popis lze sice mìnit, ale ne zcela
libovolnì, proto¾e Inform samozøejmì <strong>nerozumí</strong> angliètinì, ale
právì jen pøedem naprogramovaným ¹ablonám:</p>

<table>
<tr><th>Vlastnost herního svìta</th><th>©ablona</th></tr>
<tr><td>Místnost</td><td>Chamber <strong>is a room</strong>.</td></tr>
<tr><td>Propojení místností</td><td>Chamber <strong>is down</strong> of the grate.</td></tr>
<tr><td>Dveøe</td><td>Grate <strong>is a door</strong>.</td></tr>
<tr><td>Pøedmìt</td><td>Rusty key <strong>is in</strong> the small brick building.</td></tr>
</table>

<a href="http://www.root.cz/obrazek/190157/"><img src="http://i.iinfo.cz/images/523/inform7a-10-prev.png" class="image-190157" width="347" height="270" alt="&#160;" /></a>
<p><i>Obrázek 10: V&nbsp;popisu herního svìta jsou u ka¾dé lokace popsány i
v¹echny pøedmìty popø.&nbsp;osoby. U pøedmìtù navíc mù¾eme vidìt jejich
základní vlastnosti.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Specifikace vlastností dveøí</h2>

<p>Objekty oznaèené jako dveøe (<i>door</i>) mohou mít nastaveno vìt¹í mno¾ství
vlastností. V&nbsp;naprosté vìt¹inì textovek si v¹ak vystaèíme s&nbsp;pìti
vlastnostmi (z&nbsp;nich¾ vlastnosti v&nbsp;prvních dvou dvojicích se navzájem
vyluèují):</p>

<table>
<tr><th>#</th><th>Vlastnost dveøí</th></tr>
<tr><td>1</td><td>locked</td></tr>
<tr><td>2</td><td>unlocked</td></tr>
<tr><td>3</td><td>lockable</td></tr>
<tr><td>4</td><td>not lockable</td></tr>
<tr><td>5</td><td>matching key ...</td></tr>
</table>

<a href="http://www.root.cz/obrazek/190158/"><img src="http://i.iinfo.cz/images/523/inform7a-11-prev.png" class="image-190158" width="347" height="270" alt="&#160;" /></a>
<p><i>Obrázek 11: A ono to skuteènì funguje &ndash; první (a jediný) úkol byl
zdárnì vyøe¹en.</i></p>

<p>Výchozí nastavení vlastností dveøí (pokud není jinak uvedeno) je:</p>

<pre>
unlocked
not lockable
without matching key
</pre>

<p>Pøíklady zápisu rozpoznatelné Informem 7:</p>

<pre>
The blue door is lockable and locked. The matching key of the blue door is the gold key.
The gold key unlocks the blue door.
The blue door has matching key the gold key.
</pre>

<p>Ve høe lze navíc pøi popisu lokací pou¾ít podmínky ve stylu:</p>

<pre>
[if open].....[otherwise].....
</pre>

<p>V Informu lze navíc zmìnit stav objektù (a tím pádem i dveøí) pomocí
<strong>now</strong>, vìt¹inou v¹ak tento zápis není zapotøebí provádìt,
proto¾e základní modul obsahuje ji¾ mno¾ství výchozích frází a vlastností
herního svìta.</p>

<a href="http://www.root.cz/obrazek/190159/"><img src="http://i.iinfo.cz/images/523/inform7a-12-prev.png" class="image-190159" width="347" height="270" alt="&#160;" /></a>
<p><i>Obrázek 12: Opìt se podívejme na zpùsob mapování historie prùchodu hráèe
herním svìtem. Kromì pøíkazù pro smìr pohybu zde mù¾eme vidìt i dal¹í typické
textovkáøské pøíkazy: get, open atd.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Neobvyklé topologie herního svìta &ndash; jednosmìrky apod.</h2>

<p>V&nbsp;nìkterých textovkách se objevuje po¾adavek na vytvoøení neobvyklých
topologií herního svìta, kdy se namísto místností (èi lépe øeèeno lokací)
umístìných do pater a v&nbsp;patrech do pravidelné møí¾ky objevují napøíklad i
jednosmìrná propojení. Systém Inform 7 taková propojení doká¾e vytvoøit a to
&ndash; co¾ je velmi zajímavé &ndash; bez nutnosti zápisu podmínek. Podívejme
se na ten nejjednodu¹¹í mo¾ný pøípad. Bude se jednat o herní svìt tvoøený jen
dvojicí místností umístìných vedle sebe. Mezi tìmito místnostmi existuje
jednosmìrný prùchod, který není z&nbsp;druhé strany ani viditelný ani
pou¾itelný:</p>

<pre>
"Jednosmerky" by "Pavel Tisnovsky"
&nbsp;
The Central cave is a room.
The Magic alcove is a room.
&nbsp;
The Magic alcove <strong>is north</strong> of the Central cave.
<strong>South of</strong> the Magic alcove is <strong>nowhere</strong>.
</pre>

<p>Samozøejmì je mo¾né tento zpùsob deklarace pou¾ít i ve slo¾itìj¹ích mapách.
Ve skuteènosti je <strong>nowhere</strong> výchozím stavem pro v¹echna
explicitnì neuvedená propojení lokací.</p>

<a href="http://www.root.cz/obrazek/190160/"><img src="http://i.iinfo.cz/images/523/inform7a-13-prev.png" class="image-190160" width="322" height="270" alt="&#160;" /></a>
<p><i>Obrázek 13: Neobvyklá topologie herního svìta &ndash; jednosmìrná
cesta.</i></p>

<a href="http://www.root.cz/obrazek/190161/"><img src="http://i.iinfo.cz/images/523/inform7a-14-prev.png" class="image-190161" width="322" height="270" alt="&#160;" /></a>
<p><i>Obrázek 14: Systém Inform7 doká¾e zobrazit a hlavnì plnì pochopit i
neúplnou topologii z&nbsp;pøedchozího obrázku.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Barevné bludi¹tì</h2>

<p>Cesty èi propojení mezi místnostmi má i dal¹í dùle¾itou vlastnost &ndash;
Inform 7 tyto cesty doká¾e v&nbsp;pøípadì potøeby natáhnout pøes více ètvercù
pomyslné møí¾ky herního svìta. Opìt se podívejme na pøíklad: bludi¹tì tvoøené
tøemi barevnými místnostmi propojenými trojicí barevných dveøí. Pro vysvìtlení
pou¾itých barev se staèí podívat napøíklad na diagram barvového modelu RGB <a
href="http://dba.med.sc.edu/price/irf/Adobe_tg/models/images/rgb_model.gif">http://dba.med.sc.edu/price/irf/Adobe_tg/models/images/rgb_model.gif</a>).
Opìt se podívejme na zdrojový kód:</p>

<pre>
"Bludiste" by "Pavel Tisnovsky"
&nbsp;
Red room is a room.
Green room is a room.
Blue room is a room
&nbsp;
Yellow door is a door.
Magenta door is a door.
Cyan door is a door.
&nbsp;
Yellow door is west of green room and east of red room.
Magenta door is southeast of red room and northwest of blue room.
Cyan door is northeast of blue room and southwest of green room.
</pre>

<p>Bludi¹tìm lze jednodu¹e projít a zjistit, ¾e nezávisle na vzdálenosti
místností na mapì jsou v¹echny prùchody jednokrokové.</p>

<a href="http://www.root.cz/obrazek/190162/"><img src="http://i.iinfo.cz/images/523/inform7a-15-prev.png" class="image-190162" width="306" height="270" alt="&#160;" /></a>
<p><i>Obrázek 15: Bludi¹tì, které vytváøíme, je velmi malé. Obsahuje toti¾
pouze tøi místnosti, mezi nimi¾ se nachází trojice dveøí. Volba barev místností
a dveøí vychází z&nbsp;barvového prostoru RGB, místnosti jsou pojmenovány podle
primárních barev a dveøe podle kombinací tìchto barev.</i></p>

<a href="http://www.root.cz/obrazek/190163/"><img src="http://i.iinfo.cz/images/523/inform7a-16-prev.png" class="image-190163" width="306" height="270" alt="&#160;" /></a>
<p><i>Obrázek 16: Systém Inform7 doká¾e zpracovat i smìry prùchodù míøících na
SZ. SV, JZ a samozøejmì i JV. V&nbsp;na¹em pøíkladu ov¹em musí
&bdquo;natáhnout&ldquo; cestu mezi èervenou a zelenou místností.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Klíèe umístìné v&nbsp;kontejnerech</h2>

<p>Zkusme nyní bludi¹tì udìlat ponìkud slo¾itìj¹í. Do ka¾dé místnosti bude
umístìn takzvaný <i>kontejner</i>, co¾ je objekt, který mù¾e obsahovat dal¹í
pøedmìty. Ka¾dý kontejner bude mít stejnou barvu jako místnost, ve které je
(pùvodnì) umístìn. Pov¹imnìte si, ¾e, podobnì jako tomu je v&nbsp;pøípadì
dal¹ích typù pøedmìtù, i kontejnery mohou mít víceslovné názvy:</p>

<pre>
"Bludiste" by "Pavel Tisnovsky"
&nbsp;
Red room is a room.
Green room is a room.
Blue room is a room
&nbsp;
Yellow door is a door.
Magenta door is a door.
Cyan door is a door.
&nbsp;
Yellow door is west of green room and east of red room.
Magenta door is southeast of red room and northwest of blue room.
Cyan door is northeast of blue room and southwest of green room.
&nbsp;
Yellow door is lockable and locked. The matching key is yellow key.
Magenta door is lockable and locked. The matching key is magenta key.
The cyan door is lockable and locked. The matching key is cyan key.
&nbsp;
Red box is a container. Red box is in red room.
Red box contains magenta key.
&nbsp;
Green box is a container. Green box is in green room.
Green box contains  yellow key.
&nbsp;
Blue box is a container. Blue box is in blue room.
Blue box contains cyan key.
</pre>

<a href="http://www.root.cz/obrazek/190164/"><img src="http://i.iinfo.cz/images/523/inform7a-17-prev.png" class="image-190164" width="305" height="270" alt="&#160;" /></a>
<p><i>Obrázek 17: Testování vlastností právì vytvoøeného bludi¹tì.</i></p>

<p>V&nbsp;následující tabulce jsou shrnuty mo¾né vlastnosti kontejnerù:</p>

<table>
<tr><th>#</th><th>Vlastnost kontejneru</th></tr>
<tr><td>1</td><td>open</td></tr>
<tr><td>2</td><td>closed</td></tr>
<tr><td>3</td><td>openable</td></tr>
<tr><td>4</td><td>not openable</td></tr>
<tr><td>5</td><td>transparent</td></tr>
<tr><td>6</td><td>opaque</td></tr>
<tr><td>7</td><td>portable</td></tr>
<tr><td>8</td><td>fixed</td></tr>
</table>

<p>Je zøejmé, ¾e ka¾dá vlastnost z&nbsp;dvojice vyluèuje druhou vlastnost.
Zajímavá je mo¾nost nastavení vlastnosti prùhlednosti èi neprùhlednosti. Mù¾eme
napøíklad do herního svìta vlo¾it uzavøenou láhev s&nbsp;klíèem uvnitø, tak¾e
hráè bude klíè vidìt, ale bude muset nejdøíve láhev otevøít.</p>

<p>Pøíklad zápisù:</p>

<pre>
The chest is a closed container.
The glass bottle is a transparent open container.
The cupboard is fixed in place and openable.
</pre>

<a href="http://www.root.cz/obrazek/190165/"><img src="http://i.iinfo.cz/images/523/inform7a-18-prev.png" class="image-190165" width="305" height="270" alt="&#160;" /></a>
<p><i>Obrázek 18: Testování vlastností právì vytvoøeného bludi¹tì.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Pøíkaz SHOWME</h2>

<p>Hra s&nbsp;barevným bludi¹tìm se po pøidání kontejnerù a klíèù stala ji¾
pomìrnì komplikovanou, tak¾e pøi jejím zkou¹ení je nutné pou¾ívat pøíkaz
<strong>INV/INVENTORY</strong> atd. Aby v¹ak bylo ladìní hry rychlej¹í a takté¾
pøesnìj¹í, obsahuje systém Inform 7 podporu pro pøíkaz <strong>SHOWME</strong>,
který doká¾e zobrazit aktuální stav objektu èi subjektu v&nbsp;prùbìhu hry.
Tento pøíkaz lze uvést i bez dal¹í specifikace, který objekt se má popsat;
v&nbsp;tomto pøípadì se popí¹ou v¹echny objekty a subjekty viditelné
z&nbsp;pozice hráèe, vèetnì samotného hráèe. Dùle¾ité je, ¾e pøíkaz
<strong>SHOWME</strong>, který mnohdy odhaluje více, ne¾ by mìlo být odhaleno
:-), není dostupný ve finální verzi hry, tj.&nbsp;od chvíle, kdy se pou¾ije
pøíkaz <i>Release</i>. Podívejme se na pøíklad pou¾ití:</p>

<a href="http://www.root.cz/obrazek/190166/"><img src="http://i.iinfo.cz/images/523/inform7a-19-prev.png" class="image-190166" width="305" height="270" alt="&#160;" /></a>
<p><i>Obrázek 19: Ukázka pou¾ití pøíkazu SHOWME.</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Kontejnery a &bdquo;matrjo¹ky&ldquo;</h2>

<p>V&nbsp;kapitole o kontejnerech jsme si mj.&nbsp;øekli, ¾e kontejnery mohou
obsahovat dal¹í pøedmìty, a to vèetnì dal¹ích kontejnerù. Díky tomu je mo¾né
v&nbsp;herním svìtì vytvoøit i pomìrnì slo¾ité situace, kdy se napøíklad
v&nbsp;zásuvce stolu nachází krabièka s&nbsp;klíèem, popø.&nbsp;vìt¹í krabièka
obsahující men¹í krabièku obsahující ... ... ... s&nbsp;klíèem :-), jinými
slovy obdoba <a
href="http://cs.wikipedia.org/wiki/Matrjo%C5%A1ka">Matrjo¹ek</a>.</p>

<a href="http://www.root.cz/obrazek/190167/"><img src="http://i.iinfo.cz/images/523/inform7a-20-prev.png" class="image-190167" width="306" height="270" alt="&#160;" /></a>
<p><i>Obrázek 20: Matrjo¹ka a pøíkaz SHOWME &ndash; ne zcela funkèní verze.</i></p>

<p>Pov¹imnìte si toho, ¾e zásuvka stolu JE souèástí stolu a tedy není pohyblivá
(pøenositelná), zatímco ostatní kontejnery pøenositelné jsou. Jak zásuvka, tak
i obì krabièky jsou otevíratelné, jinak by se hráè nemohl dostat ke ký¾enému
klíèi:</p>

<pre>
"Kontejnery2" by "Pavel Tisnovsky"
&nbsp;
Hall is a room.
A desk is here.
An openable container called the drawer <strong>is part</strong> of the desk.
Drawer is closed.
In the drawer <strong>is a</strong> big box.
&nbsp;
A big box <strong>is a</strong> openable closed container.
&nbsp;
A small box <strong>is in</strong> the big box.
Small box <strong>is a</strong> openable closed container.
&nbsp;
A rusty key <strong>is in</strong> the small box.
</pre>

<p>(ké¾ by objektovì orientované jazyky byly takto krásnì èitelné a samodokumentující :-)</p>

<a href="http://www.root.cz/obrazek/190168/"><img src="http://i.iinfo.cz/images/523/inform7a-21-prev.png" class="image-190168" width="306" height="270" alt="&#160;" /></a>
<p><i>Obrázek 21: Matrjo¹ky v&nbsp;Informu 7.</i></p>

<a href="http://www.root.cz/obrazek/190169/"><img src="http://i.iinfo.cz/images/523/inform7a-22-prev.png" class="image-190169" width="306" height="270" alt="&#160;" /></a>
<p><i>Obrázek 22: Mapa svìta sice obsahuje jen jednu místnost, ale zato
slo¾itou hierarchii pøedmìtù.</i></p>

<a href="http://www.root.cz/obrazek/190170/"><img src="http://i.iinfo.cz/images/523/inform7a-23-prev.png" class="image-190170" width="306" height="270" alt="&#160;" /></a>
<p><i>Obrázek 23: Matrjo¹ka a pøíkaz SHOWME &ndash; funkèní verze.</i></p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Odkazy na Internetu</h2>

<ol>

<li>Inform7 home page<br />
<a href="http://inform7.com/">http://inform7.com/</a>
</li>

<li>Inform7 manuals (velmi rozsáhlé &ndash; dlouhé a zajímavé ètení)<br />
<a href="http://inform7.com/learn/manuals/">http://inform7.com/learn/manuals/</a>
</li>

<li>Inform7 downloads (vèetnì balíèkù pro Linux)<br />
<a href="http://inform7.com/download/">http://inform7.com/download/</a>
</li>

<li>Cloak of Darkness<br />
<a href="http://www.firthworks.com/roger/cloak/index.html">http://www.firthworks.com/roger/cloak/index.html</a>
</li>

<li>Adrift<br />
<a href="http://www.adrift.co/">http://www.adrift.co/</a>
</li>

<li>Alan<br />
<a href="http://www.alanif.se/">http://www.alanif.se/</a>
</li>

<li>"Easy" Interactive Fiction Languages<br />
<a href="http://www.brasslantern.org/editorials/easyif.html">http://www.brasslantern.org/editorials/easyif.html</a>
</li>

<li>Choosing a Text Adventure Language<br />
<a href="http://www.brasslantern.org/writers/howto/chooselang.html">http://www.brasslantern.org/writers/howto/chooselang.html</a>
</li>

<li>The words "Hello, Sailor" linger briefly in the air...<br />
<a href="http://www.firthworks.com/roger/cloak/sailor1.html">http://www.firthworks.com/roger/cloak/sailor1.html</a>
</li>

<li>ADRIFT<br />
<a href="http://www.firthworks.com/roger/cloak/adrift/index.html">http://www.firthworks.com/roger/cloak/adrift/index.html</a>
</li>

<li>SUDS<br />
<a href="http://www.firthworks.com/roger/cloak/suds/index.html">http://www.firthworks.com/roger/cloak/suds/index.html</a>
</li>

<li>ALAN<br />
<a href="http://www.firthworks.com/roger/cloak/alan/index.html">http://www.firthworks.com/roger/cloak/alan/index.html</a>
</li>

<li>Gargoyle - home page<br />
<a href="http://ccxvii.net/gargoyle/">http://ccxvii.net/gargoyle/</a>
</li>

<li>Gargoyle - screenshots<br />
<a href="http://ccxvii.net/gargoyle/screenshots.html">http://ccxvii.net/gargoyle/screenshots.html</a>
</li>

<li>garglk (downloads)<br />
<a href="http://code.google.com/p/garglk/downloads/list">http://code.google.com/p/garglk/downloads/list</a>
</li>

<li>Glk API Specification<br />
<a href="http://www.eblong.com/zarf/glk/glk-spec-074.html">http://www.eblong.com/zarf/glk/glk-spec-074.html</a>
</li>

<li>Text Fiction (for Android)<br />
<a href="http://www.onyxbits.de/textfiction">http://www.onyxbits.de/textfiction</a>
</li>

<li>Frotz - A Portable Z-Machine Interpreter<br />
<a href="http://frotz.sourceforge.net/">http://frotz.sourceforge.net/</a>
</li>

<li>Index: if-archive/infocom/interpreters<br />
<a href="http://www.ifarchive.org/indexes/if-archiveXinfocomXinterpreters.html">http://www.ifarchive.org/indexes/if-archiveXinfocomXinterpreters.html</a>
</li>

<li>Z-Machine<br />
<a href="http://inform-fiction.org/zmachine/standards/">http://inform-fiction.org/zmachine/standards/</a>
</li>

<li>The Interactive Fiction Archive<br />
<a href="http://www.ifarchive.org/">http://www.ifarchive.org/</a>
</li>

<li>Level 9 Games Interpreter<br />
<a href="http://freespace.virgin.net/davidk.kinder/level9.html">http://freespace.virgin.net/davidk.kinder/level9.html</a>
</li>

<li>Magnetic: An interpreter for Magnetic Scrolls adventures<br />
<a href="http://msmemorial.if-legends.org/magnetic.htm">http://msmemorial.if-legends.org/magnetic.htm</a>
</li>

<li>Zork online version<br />
<a href="http://thcnet.net/zork/index.php">http://thcnet.net/zork/index.php</a>
</li>

<li>(Howto) Play Zork Online For Free<br />
<a href="http://freebies.about.com/od/onlinegames/p/how-to-play-zork.htm">http://freebies.about.com/od/onlinegames/p/how-to-play-zork.htm</a>
</li>

<li>web-adventures.org<br />
<a href="http://www.web-adventures.org/">http://www.web-adventures.org/</a>
</li>

<li>Adventure games<br />
<a href="http://www.online-games.net/newadventuregames.html">http://www.online-games.net/newadventuregames.html</a>
</li>

<li>Colossal Cave Adventure Map<br />
<a href="http://www.spitenet.com/cave/">http://www.spitenet.com/cave/</a>
</li>

<li>Colossal Cave Adventure<br />
<a href="http://www.rickadams.org/adventure/">http://www.rickadams.org/adventure/</a>
</li>

<li>Here's where it all began...<br />
<a href="http://www.rickadams.org/adventure/a_history.html">http://www.rickadams.org/adventure/a_history.html</a>
</li>

<li>David Kinder's guide to Adventure downloads at the Interactive Fiction Archive<br />
<a href="http://www.rickadams.org/adventure/e_downloads.html">http://www.rickadams.org/adventure/e_downloads.html</a>
</li>

<li>Everything you ever wanted to know about ...the magic word XYZZY<br />
<a href="http://www.rickadams.org/adventure/c_xyzzy.html">http://www.rickadams.org/adventure/c_xyzzy.html</a>
</li>

<li>Colossal Cave Adventure jako Java Applet<br />
<a href="http://www.astrodragon.com/zplet/advent.html">http://www.astrodragon.com/zplet/advent.html</a>
</li>

<li>Colossal Cave Adventure<br />
<a href="http://en.wikipedia.org/wiki/Colossal_Cave_Adventure">http://en.wikipedia.org/wiki/Colossal_Cave_Adventure</a>
</li>

<li>iPod Adventure Game<br />
<a href="http://hamimiami.com/ipod/adventure/index.html">http://hamimiami.com/ipod/adventure/index.html</a>
</li>

<li>Ohlédnutí za herní historií: Textovky<br />
<a href="http://www.slunecnice.cz/tipy/ohlednuti-za-herni-historii-textovky/">http://www.slunecnice.cz/tipy/ohlednuti-za-herni-historii-textovky/</a>
</li>

<li>ASCII-GAMES - Play and Review<br />
<a href="http://ascii-games.org/">http://ascii-games.org/</a>
</li>

<li>Tribute to text-mode games<br />
<a href="http://www.textmodegames.com/">http://www.textmodegames.com/</a>
</li>

<li>Text-based game (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Text-based_game">http://en.wikipedia.org/wiki/Text-based_game</a>
</li>

<li>Adventure International<br />
<a href="http://en.wikipedia.org/wiki/Adventure_International">http://en.wikipedia.org/wiki/Adventure_International</a>
</li>

<li>Stránky o firmì Infocom a jejích hrách<br />
<a href="http://www.csd.uwo.ca/Infocom/">http://www.csd.uwo.ca/Infocom/</a>
</li>

<li>atari.fandal.cz<br />
<a href="http://atari.fandal.cz/games.php">http://atari.fandal.cz/games.php</a>
</li>

<li>Zork I: The Great Underground Empire (Moby games)<br />
<a href="http://www.mobygames.com/game/dos/zork-the-great-underground-empire/reviews/reviewerId,4465/">http://www.mobygames.com/game/dos/zork-the-great-underground-empire/reviews/reviewerId,4465/</a>
</li>

<li>Zork I (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Zork_I">http://en.wikipedia.org/wiki/Zork_I</a>
</li>

<li>Zork I Walkthrough<br />
<a href="http://www.gamefaqs.com/pc/564446-zork-i/faqs">http://www.gamefaqs.com/pc/564446-zork-i/faqs</a>
</li>

<li>Zork I: The Great Underground Empire<br />
<a href="http://www.csd.uwo.ca/Infocom/zork1.html">http://www.csd.uwo.ca/Infocom/zork1.html</a>
</li>

<li>Zork II: The Wizard of Frobozz (Moby games)<br />
<a href="http://www.mobygames.com/game/dos/zork-ii-the-wizard-of-frobozz">http://www.mobygames.com/game/dos/zork-ii-the-wizard-of-frobozz</a>
</li>

<li>Zork II (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Zork_II">http://en.wikipedia.org/wiki/Zork_II</a>
</li>

<li>Zork II: The Wizard of Frobozz<br />
<a href="http://www.csd.uwo.ca/Infocom/zork2.html">http://www.csd.uwo.ca/Infocom/zork2.html</a>
</li>

<li>Zork III: The Dungeon Master (Moby games)<br />
<a href="http://www.mobygames.com/game/zork-iii-the-dungeon-master">http://www.mobygames.com/game/zork-iii-the-dungeon-master</a>
</li>

<li>Zork III (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Zork_III">http://en.wikipedia.org/wiki/Zork_III</a>
</li>

<li>SAGA - Scott Adams Grand Adventure<br />
<a href="http://www.msadams.com/index.htm">http://www.msadams.com/index.htm</a>
</li>

<li>Scott Adams (game designer, Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Scott_Adams_(game_designer)">http://en.wikipedia.org/wiki/Scott_Adams_(game_designer)</a>
</li>

<li>Interview with Scott Adams (Adventure Classic Gaming)<br />
<a href="http://www.adventureclassicgaming.com/index.php/site/interviews/129/">http://www.adventureclassicgaming.com/index.php/site/interviews/129/</a>
</li>

<li>Scott Adams game interpreter<br />
<a href="http://www.ifarchive.org/indexes/if-archiveXscott-adamsXinterpreters.html">http://www.ifarchive.org/indexes/if-archiveXscott-adamsXinterpreters.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2014</small></p>
</body>
</html>

