<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Historie vývoje počítačových her: vznik grafických adventur</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Historie vývoje počítačových her: vznik grafických adventur</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dnešní části seriálu o historii vývoje počítačových her si popíšeme, jak na začátku osmdesátých let minulého století došlo ke vzniku grafických adventur. Zaměříme se především na v mnoha ohledech přelomovou hru King's Quest společnosti Sierra On-Line.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Historie vývoje počítačových her: vznik grafických adventur</a></p>
<p><a href="#k02">2. Od klasických textovek k&nbsp;textovkám se statickými obrázky</a></p>
<p><a href="#k03">3. Mystery House</a></p>
<p><a href="#k04">4. Wizard and the Princess</a></p>
<p><a href="#k05">5. Další &bdquo;hi-res&ldquo; hry vydané společností Sierra On-Line</a></p>
<p><a href="#k06">6. King's Quest I</a></p>
<p><a href="#k07">7. Grafický režim použitý ve hře King's Quest I</a></p>
<p><a href="#k08">8. AGI: Adventure Game Interpreter</a></p>
<p><a href="#k09">9. Seznam her společnosti Sierra postavených na AGI</a></p>
<p><a href="#k10">10. Amatérské hry postavené na AGI</a></p>
<p><a href="#k11">11. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Historie vývoje počítačových her: vznik grafických adventur</h2>

<p>V&nbsp;dnešním článku o historii vývoje počítačových her se zaměříme na
první polovinu osmdesátých let minulého století, protože právě v&nbsp;tomto
období došlo ke vzniku poměrně důležitého typu her. Jedná se o takzvané
grafické adventury, které se postupně vyvíjely z&nbsp;klasických textovek
(s&nbsp;mezistupněm tvořeným textovkami doplněnými o statické obrázky) ke hrám,
v&nbsp;nichž se mohl hlavní hrdina relativně volně pohybovat po vykresleném
světě až k&nbsp;takzvaným point and click adventurám. Za první komerčně úspěšné
grafické adventury jsou považovány hry vytvořené firmou <i>On-Line Systems</i>
později přejmenované na <i>Sierra On-Line</i>. Některé z&nbsp;těchto her si
dnes popíšeme, protože se mnohdy jedná o skutečně převratné tituly, které navíc
dobře ukazují rozdíl mezi dnešními mainstreamovými hrami (jež si hráče hýčkají
a různě mu pomáhají) a hrami vytvářenými a prodávanými před více než třiceti
lety (ty byly v&nbsp;mnoha ohledech nemilosrdné, což se týká i produkce firmy
Sierra On-Line).</p>

<img src="http://i.iinfo.cz/images/336/adventure-1.jpg" width="397" height="301" alt="adventure" />
<p><i>Obrázek 1: Prapředek všech textovek a nepřímo i grafických adventur
&ndash; hra Colossal Cave Adventure spuštěná v&nbsp;dobovém terminálu.</i></p>

<p>Původní klasické textovky, tj.&nbsp;hry označované v&nbsp;angličtině poněkud
přesnějším termínem <i>Interactive Fiction (IF)</i>, používaly pro komunikaci
s&nbsp;hráčem pouze textové rozhraní založené většinou na slovním popisu lokace
či děje, výčtu předmětů, které se v&nbsp;dané lokaci (například místnosti)
nachází a popř.&nbsp;i přepisu mluveného slova při střetnutí hráče
s&nbsp;nějakou postavou (jen některé pokročilejší textovky přitom používaly
takzvané <i>conversation tree</i>, tj.&nbsp;možnost komunikovat s&nbsp;dalšími
postavami přes předem připravené otázky a odpovědi, přičemž se právě na základě
těchto dialogů mohl děj dále větvit).</p>

<img src="http://i.iinfo.cz/images/639/hist65-3.png" width="336" height="240" alt="&#160;" />
<p><i>Obrázek 2: Úvodní obrazovka textovky &bdquo;Adventureland&ldquo; Scotta
Adamse ve variantě pro osmibitové počítače Atari. Prakticky nečitelný font
v&nbsp;této hře :-) bylo možné změnit na font standardní jednoduchou úpravou
jedné strojové instrukce (zde je však nutno poznamenat, že písmo vypadá na
reálném televizoru značně odlišně než v&nbsp;emulátoru).</i></p>

<p>Ovšem ve chvíli, kdy se textovky začaly přenášet z&nbsp;minipočítačů
vybavených povětšinou pouze &bdquo;hloupými&ldquo; textovými terminály na
domácí osmibitové mikropočítače nebo dokonce na šestnáctibitové osobní
mikropočítače, začaly některé softwarové společnosti doplňovat své textovky
statickými obrázky. Tímto směrem se vydala většina profesionálních společností
zaměřených na textovky, ať již se jedná o firmu <i>Infocom</i>, <i>Adventure
International</i>, <i>Level 9 Computing</i> či o společnosti <i>Magnetic
Scrolls</i> a <i>Sierra on Line</i> (právě tato společnost nás bude dnes
zajímat nejvíc).</p>

<img src="http://i.iinfo.cz/images/639/hist65-5.png" width="336" height="240" alt="&#160;" />
<p><i>Obrázek 3: Textovka Adventureland ve své modernější variantě
s&nbsp;podporou (statických) obrázků pro jednotlivé lokace.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Od klasických textovek k&nbsp;textovkám se statickými obrázky</h2>

<p>Klasické textovky slavily své největší úspěchy a taktéž dobu velmi dobrého
komerčního prodeje zejména počátkem osmdesátých let minulého století. Ovšem
zhruba v&nbsp;letech 1982 až 1983 se situace na herním trhu hned
v&nbsp;několika ohledech změnila. Důvodů této změny bylo více &ndash; zejména
začaly být nabízeny již v&nbsp;předchozí kapitole zmíněné domácí a osobní
mikropočítače s&nbsp;podporou grafiky a zvuku, dále se objevili noví
hráči-zákazníci, kteří již neměli zkušenosti s&nbsp;mainframy či minipočítači,
a tím pádem ani se subkulturou vzniklou okolo prvních textovek.</p>

<img src="http://i.iinfo.cz/images/639/hist65-12.png" width="336" height="240" alt="&#160;" />
<p><i>Obrázek 4: Úvodní informační obrazovka hry Zork I ve variantě pro
osmibitové domácí počítače Atari.</i></p>

<p>Navíc se začaly objevovat nové typy her typu &bdquo;adventure&ldquo;, které
však již namísto pouhého popisu scény s&nbsp;využitím textu či pouze statických
obrázků nabízely i možnost přímé interakce hráče s&nbsp;vykreslenou scénou.
Typickým příkladem tohoto nového typu her je například grafická adventura
<i>King's Quest</i>, kterou si představíme ve druhé části tohoto článku.  Tato
přímá konkurence klasickým textovkám se ukázala být fatální zejména pro
společnost <i>Adventure International</i>, která nedokázala na novou situaci
dostatečně rychle reagovat a v&nbsp;roce 1985 vyhlásila bankrot (přitom jen o
několik let dříve tato společnost měla z&nbsp;prodeje textovek velmi dobré
zisky).</p>

<img src="http://i.iinfo.cz/images/639/hist65-16.png" width="256" height="192" alt="&#160;" />
<p><i>Obrázek 5: Úvodní obrazovka (přesněji řečeno loading screen, prapředek
dnešních splashscreenů) hry Hobbit. Tento screenshot byl získán z&nbsp;varianty
Hobbita určené pro slavné osmibitové domácí mikropočítače ZX Spectrum.</i></p>

<p>Naproti tomu však právě v&nbsp;této době vznikly další firmy (či nová
oddělení již existujících vývojářských společností) orientované na nový typ
grafických &bdquo;adventur&ldquo; a v&nbsp;nastávajícím věku grafických her
(v&nbsp;nichž se stále ve větší míře používaly i animované sekvence) vznikly
takové skvosty, jako je například <i>Maniac Mansion</i> (na této hře je patrný
postupný a vlastně pouze z&nbsp;poloviny dokončený přechod mezi čistě textovými
hrami a hrami bez textového vstupu), <i>Indiana Jones and the Fate of
Atlantis</i>, <i>Secret of Monkey Island</i>, série <i>King's Quest</i>, moje
oblíbená série <i>Space Quest</i>, <i>Leisure Suit Larry</i> či série her o
zemi <i>Kyrandii</i>.</p>

<a href="http://www.root.cz/obrazek/109898/"><img src="http://i.iinfo.cz/images/437/113-04-113-10-5-prev.png" width="360" height="270" alt="&#160;" /></a>
<p><i>Obrázek 6: Statický obrázek ve hře (samozřejmě textovce) nazvané The
Guild of Thieves. Nenechte se zmást menu pod obrázkem &ndash; i přes určité
multimediální schopnosti je The Guild of Thieves stále postavena na parseru
příkazů a vyprávění příběhu. Obrázky je možné dokonce vypnout a vrátit se tak
k&nbsp;čistě textové obrazovce (zobrazované paradoxně na mikropočítačích, které
vůbec skutečné textové režimy nepodporovaly).</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Mystery House</h2>

<p>Jednou z&nbsp;prvních komerčně úspěšných textovek se statickými obrázky byla
hra nazvaná <i>Mystery House</i>, kterou již v&nbsp;roce 1980 vydala společnost
<i>On-Line Systems</i> (později <i>Sierra On-Line</i>). Tato hra byla
naprogramována v&nbsp;BASICu a používala poměrně primitivní vektorovou grafiku.
Nicméně hlavní byl příběh, který již byl dostatečně propracovaný a složitý.
Právě kvůli tomu, že <i>Mystery House</i> vlastně stojí na začátku nové herní
kategorie grafických adventur, byla tato hra některými autory zařazena mezi sto
nejdůležitějších počítačových her všech dob. <i>Mystery House</i> vytvořili
manželé <i>Roberta Williams</i> (nápad, scénář, grafika) a <i>Ken Williams</i>
(programování), kteří se později podíleli na známějších hrách <i>King's
Quest</i> (viz druhou část článku), <i>Space Quest</i>, <i>Phantasmagoria</i>
atd. <i>Mystery House</i> byla určena pro osmibitové počítače <i>Apple II</i>,
což není překvapivé, když si uvědomíme, že tyto počítače měly před ostatními
úspěšnými osmibitovými mikropočítači několikaletý náskok.</p>

<a href="http://i.iinfo.cz/images/366/pc119a-4.png"><img src="http://i.iinfo.cz/images/366/pc119a-4-prev.png" width="370" height="254" alt=" " /></a>
<p><i>Obrázek 7: Úvodní obrazovka hry Mystery House vytvořené duem Roberta
Williams a Ken Williams.</i></p>

<p>Při pohledu na screenshoty hry <i>Mystery House</i> na první pohled zaujme
grafické vyobrazení jednotlivých lokací, které se značně odlišuje od pozdějších
grafických adventur firmy <i>Sierra On-Line</i>. Kvůli omezenému místu na
disketě (médiu, na němž byla hra dodávána) byly totiž všechny obrázky uloženy
ve vektorové podobě, takže jejich předlohy byly narýsovány s&nbsp;ohledem na
to, aby celkový počet vektorů (úseček) byl co nejmenší. Navíc byly obrázky
v&nbsp;<i>Mystery House</i> z&nbsp;více než 90% tvořeny černým pozadím, což
plně korespondovalo s&nbsp;atmosférou hry (jedná se totiž o kombinaci
detektivky a hororu). Pozdější grafické adventury již mohly využívat větších
paměťových kapacit, takže se u nich začíná objevovat &bdquo;pravá&ldquo;
rastrová grafika. Pro manžele Williamsovy znamenala tato hra skutečnou výhru
&ndash; prodalo se jí více než deset tisíc kopií, přičemž každá kopie stála
24,95 dolaru a náklady na distribuci byly v&nbsp;USA poměrně malé. Právě díky
tomu mohl začít vývoj dalších her, tentokrát již s&nbsp;využitím týmu
programátorů a grafiků.</p>

<a href="http://i.iinfo.cz/images/366/pc119a-6.png"><img src="http://i.iinfo.cz/images/366/pc119a-6-prev.png" width="370" height="231" alt=" " /></a>
<p><i>Obrázek 8: Japonská verze hry Mystery House s&nbsp;pozměněnou grafikou,
která byla vydaná pro počítače řady MSX.</i></p>

<p>Poznámka 1: <a href="http://www.mobygames.com/game/hi-res-adventure-1-mystery-house/screenshots">http://www.mobygames.com/game/hi-res-adventure-1-mystery-house/screenshots</a>.</p>

<p>Poznámka 2: ve skutečnosti této hře ještě předcházela mnohem kratší hra
nazvaná <i>Mission Asteroid</i> (děj je triviální: zachránit Zemi před dopadem
asteroidu).</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Wizard and the Princess</h2>

<p>Později, ovšem stále ještě v&nbsp;roce 1980, byla dvojicí Roberta+Ken
Williams vydána další textovka se statickými obrázky. Tato hra se jmenovala
<i>Wizard and the Princess</i> a i přesto, že není tak známá, jako hra
<i>Mystery Mouse</i>, se o ní v&nbsp;tomto článku explicitně zmiňuji
z&nbsp;toho důvodu, že se zde objevuje barevná grafika (poprvé v&nbsp;tomto
odvětví) a taktéž proto, že <i>Wizard and the Princess</i> byla skutečně
multiplatformní, protože byla vydána jak pro osmibitové osobní mikropočítače
Apple II (podobně jako její předchůdce), tak i pro domácí mikropočítače Atari,
Commodore C64 a dále pak osobní počítače pro IBM PC. Děj této hry je poměrně
triviální: zlý čaroděj Merlin^H^H^H^H^H^H Harlin unesl princeznu Priscillu,
dceru krále Jiřího. Ten nabízí obligátní půlku království tomu, kdo odcestuje
do dalekých hor, vloupá se do Harlinova hradu, přemůže Harlina a Priscillu
zachrání...</p>

<img src="https://i.iinfo.cz/images/603/sierra-1.png" class="image-242067" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 9: Dobové logo společnosti Sierra On-Line.</i></p>

<p>Mimochodem &ndash; v&nbsp;této hře se objevují triky použité i
v&nbsp;dalších podobných hrách: hi-res grafika (typicky s&nbsp;horizontálním
rozlišením 320 pixelů) totiž na televizorech s&nbsp;normou NTSC způsobuje vznik
barevných artefaktů, takže se i monochromatické obrázky dají obarvit. Tento
trik byl použit minimálně ve verzi pro Apple II a Atari, zatímco u Commodore
C64 a IBM PC to nebylo zapotřebí. Podobný princip nalezneme i
v&nbsp;Adventureland, ovšem většinou nikoli v&nbsp;akčních hrách, kde je nutné
scénu dynamicky měnit.</p>

<img src="https://i.iinfo.cz/images/603/sierra-2.png" class="image-242068" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 10: Povšimněte si, že se skutečně jedná o v&nbsp;pořadí druhou
hru této společnosti (porovnejte s&nbsp;obrázkem číslo 7).</i></p>

<img src="https://i.iinfo.cz/images/603/sierra-3.png" class="image-242069" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 11: Základní informace o hře Wizard and the Princess.</i></p>

<img src="https://i.iinfo.cz/images/603/sierra-4.png" class="image-242070" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 12: První scéna s&nbsp;typickou vektorovou grafikou
s&nbsp;&bdquo;dvojí perspektivou&ldquo; (střechy domů používají odlišnou
projekci od chodníku a silnice).</i></p>

<img src="https://i.iinfo.cz/images/603/sierra-5.png" class="image-242071" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 13: Jedna z&nbsp;lokací ve hře. Textový parser zde byl velmi
jednoduchý a v&nbsp;porovnání s&nbsp;některými dalšími textovkami až
primitivní.</i></p>

<img src="https://i.iinfo.cz/images/603/sierra-6.png" class="image-242072" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 14: Na počítačích připojených k&nbsp;televizorům s&nbsp;normou
PAL byla grafika sice s&nbsp;velkým rozlišením (hi-res), ale pouze
monochromatická.</i></p>

<img src="https://i.iinfo.cz/images/603/sierra-7.png" class="image-242073" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 15: Naproti tomu na televizorech s&nbsp;normou NTSC se mohly
zobrazovat barvy (což byla současně výhoda, ale v&nbsp;čistě textovém režimu i
nevýhoda, kterou zde emulátor nedokázal přesně napodobit).</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Další &bdquo;hi-res&ldquo; hry vydané společností Sierra On-Line</h2>

<p>V&nbsp;sérii &bdquo;Hi-res&ldquo; adventur vyšlo celkem sedm her (první hra
#0 ve skutečnosti byla k&nbsp;ostatním přidána až později, ostatně kdo kromě
matematiků a programátorů indexuje od nuly :-). Tyto hry používaly podobnou
technologii, jednoduchý dvouslovní parser rozpoznávající jednoduché anglické
příkazy (příkaz+předmět), vektorovou grafiku a taktéž možnost v&nbsp;případě
potřeby zobrazování grafiky vypnout a používat pouze textový režim. Kromě
prvních dvou her se v&nbsp;dalších dílech používaly v&nbsp;obrázcích i barvy,
samozřejmě ovšem za předpokladu, že je cílová architektura podporovala. Pro
úplnost si všech sedm zmíněných her vypíšeme:</p>

<table>
<tr><th>Plný název hry</th><th>Rok vydání</th><th>Vydáno na platformu</th></tr>
<tr><td>Hi-Res Adventure #0: Mission Asteroid             </td><td>1980</td><td>Apple II, Atari 800/130, Commodore C64, ...</td></tr>
<tr><td>Hi-Res Adventure #1: Mystery House                </td><td>1980</td><td>Apple II, FM-7, (mnohem později iPhone)</td></tr>
<tr><td>Hi-Res Adventure #2: The Wizard and the Princess  </td><td>1980</td><td>Apple II, Atari 800/130, Commodore C64, ...</td></tr>
<tr><td>Hi-Res Adventure #3: Cranston Manor               </td><td>1981</td><td>Apple II, FM-7, ...</td></tr>
<tr><td>Hi-Res Adventure #4: Ulysses and the Golden Fleece</td><td>1981</td><td>Apple II, Atari 800/130, Commodore C64, ...</td></tr>
<tr><td>Hi-Res Adventure #5: Time Zone                    </td><td>1982</td><td>Apple II, FM-7, ...</td></tr>
<tr><td>Hi-Res Adventure #6: The Dark Crystal             </td><td>1983</td><td>Apple II, Atari 800/130, ...</td></tr>
</table>

<img src="https://i.iinfo.cz/images/603/sierra-8.png" class="image-242074" alt="&#160;" width="336" height="240" />
<p><i>Obrázek 16: Rozhraní hry Ulysses and the Golden Fleece je do značné míry
totožné se hrou Wizard and the Princess. Podobný je i interní
&bdquo;engine&ldquo;, parser a celkový styl grafiky.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. King's Quest I</h2>

<p><i>&bdquo;It is here that gamers are introduced to the notion of a graphic
adventure, a third person mode of play, and a new method of character control
on screen.&ldquo;</i></p>

<p>První skutečnou grafickou adventurou, která v&nbsp;některých ohledech
změnila pohled veřejnosti na počítačové hry, se stala hra nazvaná <i>King's
Quest</i>, kterou společnost Sierra On-Line vydala již v&nbsp;roce 1983. Datum
vydání této hry je v&nbsp;tomto případě poměrně důležité, protože si musíme
uvědomit, že v&nbsp;roce 1983 ještě neexistovaly osobní mikropočítače řady
Atari ST, Amiga, Apple Macintosh a dokonce ani Apple II GS (tj.&nbsp;výkonná
16bitová varianta původně osmibitové řady Apple II). Vývoj první verze hry
<i>King's Quest</i> tedy probíhal na dnes již pozapomenuté platformě IBM PCjr
(což byla komerčně nepříliš úspěšná &bdquo;očesaná&ldquo; varianta IBM PC,
ostatně tato hra měla být technologickým demem ukazujícím možnosti PCjr) a
teprve o rok později byla vydána i upravená verze určená pro klasické osobní
mikropočítače IBM PC a v&nbsp;následujících měsících i pro další platformy,
včetně zmíněné Amigy a Atari ST.</p>

<img src="https://i.iinfo.cz/images/404/kq1-1.png" class="image-242280" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 17: Tento screenshot úvodní obrazovky pochází z&nbsp;novější
varianty hry King's Quest vydané v&nbsp;roce 1987. Tato varianta podporovala
grafické režimy karty EGA i Herculesu.</i></p>

<p>Právě v&nbsp;<i>King's Questu</i> se objevily některé prvky, které se
v&nbsp;dalších grafických adventurách v&nbsp;následujících letech začaly
masivně používat a kopírovat. Herní svět se skládal z&nbsp;jednotlivých lokací,
mezi kterými se mohlo přecházet. Lokace sice byly rozmístěny do mřížky, ovšem
s&nbsp;několika nepravidelnostmi, což je ostatně patrné i při pohledu na <a
href="http://www.sierragamers.com/uploads/24082/The_Games/KQ1/Kings_Quest_1_Hint_Map.pdf">mapu</a>).</p>

<img src="https://i.iinfo.cz/images/404/kq1-2.png" class="image-242281" alt="&#160;" width="720" height="348" />
<p><i>Obrázek 18: Jak již bylo napsáno u předchozího obrázku, podporovala
varianta hry King's Quest vydané v&nbsp;roce 1987 i grafickou kartu Hercules.
Majitelé této karty se tedy mohli kochat monochromatickými obrázky
s&nbsp;ditheringem.</i></p>

<p>Postava byla hráčem ovládána kurzorovými šipkami, protože v&nbsp;roce 1983
myš ještě nebyla zařízením nezbytným pro práci na PC, takže ji mnoho uživatelů
ani nevlastnilo. Hlavní hrdina se mohl v&nbsp;jednotlivých lokacích relativně
volně pohybovat, což byl pravděpodobně největší rozdíl této hry oproti
klasickým textovkám. Zcela se tak odstranil &bdquo;textovkářský&ldquo; způsob
ovládání typu &bdquo;(běž na) sever&ldquo; apod., navíc mnoho akcí ve hře
záviselo na přesné pozici hráče v&nbsp;každé lokaci. Obecně to znamenalo, že
lokací byl menší počet než počet místností v&nbsp;klasických textovkách, ovšem
někdy existovalo více variant, jak každou lokaci vyřešit a konkrétně
v&nbsp;případě <i>King's Questu</i> se navíc rapidně zvýšil počet úmrtí
hlavního hrdiny (autorka hry Roberta Williams byla v&nbsp;tomto ohledu velmi
kreativní :).</p>

<img src="https://i.iinfo.cz/images/404/kq1-3.png" class="image-242282" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 19: Jedna z&nbsp;mnoha variant úmrtí, které pro hlavního hrdinu
připravila Roberta Williams.</i></p>

<p>Kromě chůze se další příkazy v&nbsp;<i>King's Questu</i> ještě zapisovaly
z&nbsp;klávesnice; teprve v&nbsp;pozdějších adventurách se objevily další
pomocné ovládací prvky (příkazy na GUI, sbírání předmětů do pytle atd.). Taktéž
se &ndash; samozřejmě kromě pohybu hlavní postavy &ndash; ve hře objevily
animované předměty a NPC (postavy ovládané přímo počítačem), což byla další
změna oproti statickým obrázkům používaným v&nbsp;některých pokročilejších
textovkách.</p>

<img src="https://i.iinfo.cz/images/404/kq1-4.png" class="image-242283" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 20: Typicky americky pozitivní přístup
k&nbsp;&bdquo;nehodě&ldquo;...</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Grafický režim použitý ve hře King's Quest I</h2>

<p>Programátoři hry <i>King's Quest</i> museli při vývoji vyřešit hned několik
technologických problémů. Jedním z&nbsp;nich bylo obejití omezeného počtu
barev, které bylo možné použít na grafické kartě CGA, jež byla v&nbsp;roce 1983
na IBM PC standardem. Připomeňme si, že tato grafická karta byla osazena celými
šestnácti kilobajty video paměti a podporovala dva standardní textové režimy
(40&times;25 znaků a 80&times;25 znaků) a dva režimy grafické. První
z&nbsp;těchto režimů měl rozlišení 320&times;200 pixelů, přičemž bylo možné
použít pouze čtyři barvy z&nbsp;fixní barvové palety (přesněji řečeno byly
k&nbsp;dispozici hned dvě fixní palety se třemi barvami a zbylá barva byla
měnitelná). Ve druhém režimu se sice rozlišení zvyšovalo na 640&times;200
pixelů, ovšem počet současně zobrazitelných barev se snížil na pouhé dvě barvy
(to ostatně vyplývá i z&nbsp;omezení daného kapacitou video paměti). Tvůrci hry
<i>King's Quest</i> se rozhodli pro první grafický režim, tedy pro použití
320&times;200 pixelů a čtyř barev. Výsledek vypadal takto:</p>

<img src="https://i.iinfo.cz/images/404/kq1-5.png" class="image-242284" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 21: Grafický režim s&nbsp;rozlišením 320&times;200 pixelů se
čtyřmi barvami, který byl použitý v&nbsp;první lokaci hry. Jak je z&nbsp;tohoto
obrázku patrné, je malý počet barev kompenzován ditheringem, který ovšem při
relativně malém rozlišení situaci snad ještě více zhoršuje. Paradoxní je, že
většina rozšířených osmibitových počítačů dokáže &ndash; a to dokonce
s&nbsp;poloviční velikostí obrazové paměti &ndash; tento obrázek zobrazit
mnohem lépe.</i></p>

<p>Aby se počet barev zvýšil na mnohem příjemnější paletu se šestnácti barvami,
použili programátoři trik, který byl známý a používaný již na osmibitových
mikropočítačích Apple II a Atari. Pokud se totiž použil monochromatický režim
s&nbsp;vysokým rozlišením, pak při střídání pravidelného bitového vzorku a při
použití televizoru pracujícího v&nbsp;normě NTSC (to je důležité, protože
v&nbsp;normě PAL to nefunguje) dojde ke zobrazení nové barvy. Je to způsobeno
tím, že separace signálu nesoucího informaci o intenzitě pixelů a signálu
nesoucího informaci o barvě, není v&nbsp;normě NTSC dokonalá. Stačilo tedy
zjistit, jak se bitové vzorky (čtyři po sobě jdoucí pixely) mapují na barvy a
nový pseudografický režim byl na světě. Výsledek aplikace tohoto triku je
ukázaný <a
href="https://en.wikipedia.org/wiki/Color_Graphics_Adapter#/media/File:KQ_CompVsRGB.png">zde</a>.
Z&nbsp;tohoto důvodu obsahuje první verze hry <i>King's Quest</i> dialog pro
výběr zobrazení: majitelé dražších monitorů s&nbsp;digitálním rozhraním měli
prozatím smůlu a dívali se na hru se čtyřmi barvami, majitelé levných NTSC
televizorů se zase mohli dívat na rozmazané šestnáctibarevné obrázky:</p>

<img src="https://i.iinfo.cz/images/404/kq1-6.png" class="image-242285" alt="&#160;" width="640" height="400" />
<p><i>Obrázek 22: Šestnáctibarevný pseudorežim, který mohli využívat ti
uživatelé, kteří k&nbsp;IBM PC připojovali televizor. Zde se jedná o emulaci
chování NTSC televizoru.</i></p>

<p>Pozdější hry společnosti Sierra On-Line již podporovaly i grafické režimy
karet EGA a VGA, takže se podobné triky již nemusely používat:</p>

<img src="https://i.iinfo.cz/images/404/kq1-7.png" class="image-242286" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 23: Další verze hry již díky podpoře grafické karty EGA neměly
s&nbsp;použitích šestnáctibarevného režimu žádné problémy.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. AGI: Adventure Game Interpreter</h2>

<p>Kromě nutnosti vyřešit komplikace s&nbsp;rozlišením a počtem barev na
grafických kartách CGA řešili programátoři i další problematiku, která byla
(minimálně z&nbsp;hlediska historie grafických adventur) vlastně ještě
důležitější. Museli se totiž rozhodnout, který programovací jazyk použít pro
naprogramování hry. V&nbsp;roce 1983 byla situace na IBM PC v&nbsp;tomto ohledu
velmi přehledná &ndash; na výběr byl buď assembler nebo assembler :-)
TurboPascal i Microsoft C (verze 1.0) totiž byly zcela nové produkty (u Aztec C
si nejsem jistý), interpretry BASICu zase byly pro tvorbu profesionální hry
nevhodné. Ovšem naprogramovat rozsáhlou hru v&nbsp;čistém assembleru by bylo
velmi náročné a proto vývojáři zvolili jiné &ndash; opět již v&nbsp;té době
ověřené &ndash; řešení. Vytvořili totiž v&nbsp;assembleru &bdquo;pouze&ldquo;
samotné jádro hry (engine).</p>

<img src="https://i.iinfo.cz/images/404/kq1-8.png" class="image-242287" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 24: Ale nikdo do té studny přece skočit nechtěl...</i></p>

<p>Herní engine, který byl pojmenován <i>Adventure Game Interpreter (AGI)</i>,
se programoval v&nbsp;jazyce se syntaxí odvozenou od céčka. Podívejme se na
ukázku kódu, v&nbsp;němž se jednoduše v&nbsp;dané lokaci reaguje na příkaz
zadaný uživatelem:</p>

<pre>
if (said("look", "water")) {
  print("It's your typical moat water: 
      murky and smelly.");
}
</pre>

<img src="https://i.iinfo.cz/images/404/kq1-9.png" class="image-242288" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 25: Po laně je to přece jen bezpečnější.</i></p>

<p>Ve skutečnosti však mohly být reakce ještě strukturovanější, protože se hra
mohla rozhodovat podle toho, na kterém místě se nachází postavička (opět se
tedy dostáváme k&nbsp;principiálnímu rozdílu mezi klasickými textovkami a
grafickými adventurami). V&nbsp;dalším kódu odpovídá identifikátor
<strong>ego</strong> postavičce ovládané hráčem, funkce <strong>posn</strong>
je popsána <a
href="http://www.sierrahelp.com/AGI/AGIStudioHelp/Logic/TestCommands/posn.html">zde</a>.
AGI reaguje na stejný příkaz různě podle toho, kde se postavička nachází (na
dveře je vidět jen z&nbsp;určité oblasti na obrazovce):</p>

<pre>
if (said("look","door")) {
  if (posn(ego,0,120,159,167)) {
    print("These doors are strongly built
      to keep out unwanted visitors.");
  }
  else {
    print("You can't see them from here.");
  }
}
</pre>

<img src="https://i.iinfo.cz/images/404/kq1-10.png" class="image-242289" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 26: Drak se sice objevil již ve hře Adventure, tam ho však bylo
možné zabít holýma rukama. Tady to bude horší.</i></p>

<p>V&nbsp;AGI bylo možné naprogramovat i animace. Podívejme se na reakci hry na
příkaz pro otevření dveří. Pokud je tento příkaz zadán ve chvíli, kdy se
postavička nachází v&nbsp;&bdquo;povolené&ldquo; oblasti (z&nbsp;níž lze dveře
otevřít), dveře se skutečně otevřou, přehraje se zvuk (resp.&nbsp;na PC
Speakeru to jen zahouká), zvýší se skóre a vypíše se zpráva o tom, že se dveře
podařilo otevřít:</p>

<pre>
if (said("open","door")) {
  if (posn(ego,105,120,121,128)) {
    start.update(doors);
    sound(15,f28);
    end.of.loop(doors,f24);
    stop.motion(ego);
    set.priority(ego,15);
    print("The huge doors swing open 
      slowly.");
    score += 1;
  }
  else {
    print("You cannot reach the door 
      from here.");
  }
}
</pre>

<img src="https://i.iinfo.cz/images/404/kq1-11.png" class="image-242290" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 27: Zrcadlo je taktéž typickým předmětem, který se
v&nbsp;adventurách objevuje. Navíc se toto zrcadlo objevuje i v&nbsp;příběhu,
který předcházel samotné hře.</i></p>

<p>Poznámka: tyto i další příklady naleznete na stránce <a
href="http://www.adventureclassicgaming.com/index.php/site/features/143/">http://www.adventureclassicgaming.com/index.php/site/features/143/</a></p>


<img src="https://i.iinfo.cz/images/404/kq1-12.png" class="image-242291" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 28: Podaří se přeplavat nebo zde programátoři nastražili další
past?</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Seznam her společnosti Sierra postavených na AGI</h2>

<p>Společnost <i>Sierra On-Line</i> systém AGI neustále vylepšovala a
doplňovala, takže se v&nbsp;dalších hrách objevovala i různá vylepšení, nové
grafické režimy (EGA, VGA, módy Amigy atd.), vylepšení zvukového subsystému
apod. Tento &bdquo;engine&ldquo; se oficiálně používal celkem šest let,
v&nbsp;jejichž průběhu na něm bylo postaveno čtrnáct komerčních her, které jsou
vypsány v&nbsp;tabulce umístěné pod tímto odstavcem:</p>

<table>
<tr><th>Název hry</th><th>Rok prvního vydání</th></tr>
<tr><td>King's Quest                               </td><td>1984</td></tr>
<tr><td>King's Quest II: Romancing the Throne      </td><td>1985</td></tr>
<tr><td>King's Quest III: To Heir Is Human         </td><td>1986</td></tr>
<tr><td>King's Quest IV: The Perils of Rosella     </td><td>1988</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>Space Quest: The Sarien Encounter          </td><td>1986</td></tr>
<tr><td>Space Quest II: Vohaul's Revenge           </td><td>1987</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>Police Quest: In Pursuit of the Death Angel</td><td>1987</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>Leisure Suit Larry                         </td><td>1987</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>The Black Cauldron                         </td><td>1986</td></tr>
<tr><td>Donald Duck's Playground                   </td><td>1986</td></tr>
<tr><td>Mixed-Up Mother Goose                      </td><td>1987</td></tr>
<tr><td>Gold Rush!                                 </td><td>1988</td></tr>
<tr><td>Manhunter: New York                        </td><td>1988</td></tr>
<tr><td>Manhunter 2: San Francisco                 </td><td>1989</td></tr>
</table>
 
<img src="https://i.iinfo.cz/images/404/kq1-13.png" class="image-242292" alt="&#160;" width="320" height="200" />
<p><i>Obrázek 29: Že by to byla perníková chaloupka?</i></p>

<p>Poznámka: hra <i>King's Quest IV: The Perils of Rosella</i> je zvláštní tím,
že existovala jak ve variantě používající AGI, tak i ve variantě založené na
novém enginu nazvaném <i>Sierra's Creative Interpreter (SCI)</i>. <i>SCI</i>
podporoval nové grafické režimy i zvukové karty, byl orientován na práci
s&nbsp;objekty, ovšem navíc pro svůj běh potřeboval dvojnásobné množství RAM
(což byl zpočátku problém na starších PC s&nbsp;512 kB RAM, ovšem na novějších
strojích s&nbsp;procesory 286 a 386 se již předpokládala minimálně 1MB RAM a
proto novější hry bez problémů přešly na <i>SCI</i>).</p>
 
<img src="https://i.iinfo.cz/images/404/kq1-14.png" class="image-242300" alt="&#160;" width="320" height="200" /></p>
<p><i>Obrázek 30: Audience u krále (začátek hry).</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Amatérské hry postavené na AGI</h2>

<p>Na upraveném a zmodernizovaném enginu AGI vzniklo poměrně velké množství
amatérských (tedy nekomerčně šířených) her, z&nbsp;nichž některé naleznete na
adrese <a href="http://www.agidev.com/games/">http://www.agidev.com/games/</a>.
Zajímavé je, že i přesto, že modernizovaný engine AGI podporuje novější
grafické režimy například s&nbsp;256 barvami, jsou mnohé hry vytvořeny
v&nbsp;&bdquo;retro&ldquo; stylu, který připomíná původní komerční hry
společnosti Sierra On-Line. Pokud vás tato problematika zajímá, prozatím odkážu
na stránky <a href="http://agistudio.sourceforge.net/">AGI Studia</a>, ovšem na
toto téma je chystán samostatný článek.</p>

<div class="gallery" id="gallery-5588"><em>King's Quest 1 (Galerie)</em></div>



<p><a name="k11"></a></p>
<h2 id="k11">11. Odkazy na Internetu</h2>

<ol>

<li>Hi-Res Adventure #0: Mission Asteroid<br />
<a href="http://www.mobygames.com/game/hi-res-adventure-0-mission-asteroid">http://www.mobygames.com/game/hi-res-adventure-0-mission-asteroid</a>
</li>

<li>Hi-Res Adventure #2: The Wizard and the Princess<br />
<a href="https://www.mobygames.com/game/hi-res-adventure-2-the-wizard-and-the-princess">https://www.mobygames.com/game/hi-res-adventure-2-the-wizard-and-the-princess</a>
</li>

<li>Hi-Res Adventure #4: Ulysses and the Golden Fleece<br />
<a href="https://www.mobygames.com/game/hi-res-adventure-4-ulysses-and-the-golden-fleece">https://www.mobygames.com/game/hi-res-adventure-4-ulysses-and-the-golden-fleece</a>
</li>

<li>Wizard and the Princess (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Wizard_and_the_Princess">https://en.wikipedia.org/wiki/Wizard_and_the_Princess</a>
</li>

<li>Ulysses and the Golden Fleece (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Ulysses_and_the_Golden_Fleece">https://en.wikipedia.org/wiki/Ulysses_and_the_Golden_Fleece</a>
</li>

<li>King's Quest I (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/King's_Quest_I">https://en.wikipedia.org/wiki/King's_Quest_I</a>
</li>

<li>Adventure Game Interpreter<br />
<a href="https://en.wikipedia.org/wiki/Adventure_Game_Interpreter">https://en.wikipedia.org/wiki/Adventure_Game_Interpreter</a>
</li>

<li>Point-and-click adventure games<br />
<a href="https://en.wikipedia.org/wiki/Adventure_game#Graphic_adventure">https://en.wikipedia.org/wiki/Adventure_game#Graphic_adventure</a>
</li>

<li>Sample Code From Text-Adventure Game Platforms<br />
<a href="http://www.secretgeek.net/text_adventure_samples">http://www.secretgeek.net/text_adventure_samples</a>
</li>

<li>Making adventure games with AGI<br />
<a href="http://www.adventureclassicgaming.com/index.php/site/features/143/">http://www.adventureclassicgaming.com/index.php/site/features/143/</a>
</li>

<li>AGI Dev Articles<br />
<a href="http://www.agidev.com/articles/">http://www.agidev.com/articles/</a>
</li>

<li>Hry vytvořené v&nbsp;AGI<br />
<a href="http://www.agidev.com/games/">http://www.agidev.com/games/</a>
</li>

<li>A history on remaking King's Quest<br />
<a href="http://www.adventureclassicgaming.com/index.php/site/features/329/">http://www.adventureclassicgaming.com/index.php/site/features/329/</a>
</li>

<li>Top 10 retro graphic adventure games of all time from PC to consoles<br />
<a href="http://www.adventureclassicgaming.com/index.php/site/features/230/">http://www.adventureclassicgaming.com/index.php/site/features/230/</a>
</li>

<li>Adventure of the Week: Stranded (Atari 8-bit, 1984)<br />
<a href="http://gamingafter40.blogspot.cz/2013/11/adventure-of-week-stranded-atari-8-bit.html">http://gamingafter40.blogspot.cz/2013/11/adventure-of-week-stranded-atari-8-bit.html</a>
</li>

<li>Colossal Cave Adventure Map<br />
<a href="http://www.spitenet.com/cave/">http://www.spitenet.com/cave/</a>
</li>

<li>Colossal Cave Adventure<br />
<a href="http://www.rickadams.org/adventure/">http://www.rickadams.org/adventure/</a>
</li>

<li>Here's where it all began...<br />
<a href="http://www.rickadams.org/adventure/a_history.html">http://www.rickadams.org/adventure/a_history.html</a>
</li>

<li>David Kinder's guide to Adventure downloads at the Interactive Fiction Archive<br />
<a href="http://www.rickadams.org/adventure/e_downloads.html">http://www.rickadams.org/adventure/e_downloads.html</a>
</li>

<li>Everything you ever wanted to know about ...the magic word XYZZY<br />
<a href="http://www.rickadams.org/adventure/c_xyzzy.html">http://www.rickadams.org/adventure/c_xyzzy.html</a>
</li>

<li>Colossal Cave Adventure jako Java Applet<br />
<a href="http://www.astrodragon.com/zplet/advent.html">http://www.astrodragon.com/zplet/advent.html</a>
</li>

<li>Colossal Cave Adventure<br />
<a href="http://en.wikipedia.org/wiki/Colossal_Cave_Adventure">http://en.wikipedia.org/wiki/Colossal_Cave_Adventure</a>
</li>

<li>iPod Adventure Game<br />
<a href="http://hamimiami.com/ipod/adventure/index.html">http://hamimiami.com/ipod/adventure/index.html</a>
</li>

<li>Ohlédnutí za herní historií: Textovky<br />
<a href="http://www.slunecnice.cz/tipy/ohlednuti-za-herni-historii-textovky/">http://www.slunecnice.cz/tipy/ohlednuti-za-herni-historii-textovky/</a>
</li>

<li>Tribute to text-mode games<br />
<a href="http://www.textmodegames.com/">http://www.textmodegames.com/</a>
</li>

<li>Text-based game (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Text-based_game">http://en.wikipedia.org/wiki/Text-based_game</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2016</small></p>
</body>
</html>

