<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Historie vývoje poèítaèových her (106. èást - herní konzole Sega Saturn)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Historie vývoje poèítaèových her (106. èást - herní konzole Sega Saturn)</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Zatímco v pøedchozí èásti seriálu o historii vývoje her a herního hardware jsme se zabývali popisem technických parametrù i interní struktury herní konzole Atari Jaguar, dnes se zamìøíme na podrobnìj¹í popis dal¹í konzole páté generace. Bude se jednat o Segu Saturn, která byla takté¾ zalo¾ena na nìkolika spolupracujících èipech.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Historie vývoje poèítaèových her (106. èást - herní konzole Sega Saturn)</a></p>
<p><a href="#k02">2. Architektura herní konzole Sega Saturn</a></p>
<p><a href="#k03">3. RISCové mikroprocesory Hitachi SH-2</a></p>
<p><a href="#k04">4. Instrukèní pipeline, branch delay sloty a instrukèní soubor mikroprocesorù SH-2</a></p>
<p><a href="#k05">5. Èip SMPC (System Manager and Peripheral Control)</a></p>
<p><a href="#k06">6. Èip SCU (System Control Unit)</a></p>
<p><a href="#k07">7. DSP umístìný na èipu SCU</a></p>
<p><a href="#k08">8. Základní informace o grafickém subsystému herní konzole Sega Saturn</a></p>
<p><a href="#k09">9. Struktura obrazové pamìti herní konzole Sega Saturn</a></p>
<p><a href="#k10">10. Obsah následující èásti seriálu</a></p>
<p><a href="#k11">11. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Historie vývoje poèítaèových her (106. èást - herní konzole Sega Saturn)</h2>

<p>V&nbsp;dne¹ní èásti seriálu o historii vývoje her i herního hardware se
seznámíme s&nbsp;technickými parametry i interní strukturou dal¹í herní konzole
páté generace &ndash; <i>Sega Saturn</i>. Minule jsme si popsali herní konzoli
<i>Atari Jaguar</i>, jejím¾ význaèným rysem bylo vyu¾ití nìkolika èipù, které
musely vzájemnì spolupracovat, a to jak pøi výpoètech, tak i (a to pøedev¹ím)
pøi vykreslování herního svìta. Navíc byl mikroprocesor <i>Atari Jaguaru</i>
postaven na architektuøe RISC, co¾ byla pomìrnì velká zmìna oproti star¹ím
konzolím ètvrté generace, která v&nbsp;dùsledku vedla k&nbsp;rychlej¹ímu
pøechodu vývojáøù na vy¹¹í programovací jazyky (C), jen¾ se pro vìt¹í èást kódu
stal náhradou assembleru. Dnes popisovaná konzole <i>Sega Saturn</i> je
postavena na podobné filozofii vìt¹ího mno¾ství spolupracujících èipù (co¾
ov¹em zpùsobilo problémy hlavnì zmínìným vývojáøùm), ov¹em v&nbsp;mnoha
ohledech se tyto konzole od sebe odli¹ují; pøedev¹ím se to týká grafických
subsystémù obou zmiòovaných herních konzolí.</p>

<p>V&nbsp;herní konzoli <i>Sega Saturn</i> nalezneme vìt¹í mno¾ství èipù,
jejich¾ jména a základní funkce jsou vypsány v&nbsp;následující tabulce:</p>

<table>
<tr><th>#</th><th>Èip</th><th>Plné jméno</th><th>Funkce</th></tr>
<tr><td>1</td><td>SH-2</td><td>Hitachi SuperH-2</td><td>dvojice RISCových mikroprocesorù</td></tr>
<tr><td>2</td><td>SCU</td><td>System Control Unit</td><td>øízení sbìrnic a koordinace ostatních èipù, centrální jednotka konzole</td></tr>
<tr><td>3</td><td>SMPC</td><td>System Manager and Peripheral Control</td><td>øízení RESETu, pøepínání horizontálního rozli¹ení, ètení stavu ovladaèù</td></tr>
<tr><td>4</td><td>SCSP</td><td>Saturn Custom Sound Processor</td><td>zvukový èip (Yamaha YMF292)</td></tr>
<tr><td>5</td><td>VDP1</td><td>Video Display Processor 1</td><td>první èást grafického subsystému</td></tr>
<tr><td>6</td><td>VDP2</td><td>Video Display Processor 2</td><td>druhá èást grafického subsystému</td></tr>
<tr><td>7</td><td>MC68E000</td><td>Motorola MC68E000</td><td>øízení zvukového èipu SCSP</td></tr>
<tr><td>8</td><td>DSP</td><td>DSP MC68E000</td><td>øízen CPU, mù¾e provádìt rùzné funkce (nejde o samostatný èip, ale o modul)</td></tr>
</table>



<p><a name="k02"></a></p>
<h2 id="k02">2. Architektura herní konzole Sega Saturn</h2>

<p>V&nbsp;této kapitole si struènì popí¹eme základní architekturu herní konzole
<i>Sega Saturn</i>. Vzhledem k&nbsp;tomu, ¾e tato konzole obsahuje velké
mno¾ství rùzných èipù, které si musí navzájem vymìòovat data a navíc musí
naèítat i ukládat data do operaèní pamìti èi do pamìti obrazové, stáli
konstruktéøi <i>Saturnu</i> pøed problémem, jakým zpùsobem budou jednotlivé
moduly navzájem spolupracovat. Výsledkem snahy o zaji¹tìní vzájemné komunikace
na jedné stranì a autonomní práce jednotlivých èipù na stranì druhé je schéma,
které mù¾ete vidìt na obrázku èíslo 1. Z&nbsp;tohoto schématu je patrné, ¾e
ústøedním øídicím prvkem je zde èip <i>SCU (System Control Unit)</i>, jeho¾
hlavním úkolem je øídit pøístup ke tøem sbìrnicím, kterými je herní konzole
<i>Sega Saturn</i> vybavena. Kromì samotného øízení je umo¾nìn i blokový pøenos
dat s&nbsp;pou¾itím <i>DMA</i> (<i>Direct Memory Access</i>), èeho¾ je mo¾né
vyu¾ít napøíklad pøi zápisu rastrových obrázkù z&nbsp;hlavní pamìti do
framebufferu, &bdquo;krmení&ldquo; zvukového subsystému daty apod.</p>

<img src="http://i.iinfo.cz/images/123/sega-saturn-1.png" class="image-155159" width="262" height="243" alt="&#160;" />
<p><i>Obrázek 1: Blokové schéma herní konzole Sega Saturn.</i></p>

<p>První sbìrnice <i>Saturnu</i> nese v¹eøíkající název <i>CPU-Bus</i>, a to
z&nbsp;toho dùvodu, ¾e jsou na ni pøipojeny jak oba hlavní mikroprocesory
popsané <a href="#k03">v&nbsp;navazující kapitole</a>, tak i operaèní pamì» o
kapacitì 2 MB i pamì» ROM o kapacitì 512 kB. Dále zde nalezneme èip
<i>SMPC</i>, jen¾ mj.&nbsp;slou¾í pro ètení stavù ovladaèù. Dal¹í sbìrnice se
jmenuje <i>A-Bus</i>. K&nbsp;této sbìrnici je pøipojeno rozhraní pro CD
mechaniku a navíc tato sbìrnice zaji¹»uje ètení popø.&nbsp;zápis na pamì»ové
cartridge. Tøetí sbìrnice pojmenovaná <i>B-Bus</i> slou¾í pro pøenos dat
k&nbsp;obìma video procesorùm (tedy ke grafickému subsystému) i k&nbsp;èipu
<i>SCSP</i>, tj.&nbsp;k&nbsp;subsystému zvukovému. Dùvodem pro oddìlení
jednotlivých èipù a jejich umístìní na rùzné sbìrnice byla snaha o zaji¹tìní
relativní nezávislosti práce jednotlivých modulù, ov¹em za cenu
komplikovanìj¹ího vývoje (s&nbsp;tímto problémem se v&nbsp;men¹í míøe setkáváme
i dnes, kdy napøíklad není vhodné mìnit hodnoty jednotlivých pixelù èi texelù
v&nbsp;rastrových obrázcích èi texturách, které ji¾ jsou pøeneseny na pamì»
grafického akcelerátoru).</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. RISCové mikroprocesory Hitachi SH-2</h2>

<p>Z&nbsp;pohledu vývojáøe her jsou nejdùle¾itìj¹ími èipy nainstalovanými
v&nbsp;herní konzoli <i>Sega Saturn</i> samozøejmì mikroprocesory. Mno¾né èíslo
zde pou¾ívám schválnì, proto¾e Saturn byl ve skuteènosti obsazen dvojicí
spolupracujících tøicetidvoubitových mikroprocesorù, co¾ mìlo &ndash; alespoò
podle pùvodních plánù &ndash; vést ke zvý¹ení èistého výpoèetního výkonu této
herní konzole prakticky na dvojnásobnou hodnotu. Ve skuteènosti se v¹ak
dosahovalo pøibli¾nì 1,5 násobku výkonu jediného èipu, a to z&nbsp;toho dùvodu,
¾e oba èipy sdílely spoleènou sbìrnici, co¾ se negativnì projevovalo pøi
pøístupu do operaèní pamìti. Saturn byl obsazen mikroprocesory <i>SH-2</i>
(plným jménem <i>SuperH</i>) vyrábìnými spoleèností Hitachi. Jedná se o
procesory s&nbsp;architekturou RISC, které byly a dodnes jsou pou¾ívány
v&nbsp;mnoha oblastech. Z&nbsp;historického pohledu je pro nás zajímavé jejich
pou¾ití v&nbsp;konzolích <i>Sega 32X</i> a právì <i>Sega Saturn</i>, ov¹em tyto
èipy se pou¾ívají i v&nbsp;rùzných multimediálních zaøízeních, automotive
prùmyslu (øídicí jednotky motorù), digitálních kamerách, MPEG pøehrávaèích
atd.</p>

<p>Ka¾dý z&nbsp;mikroprocesorù obsahoval vyrovnávací pamì» o kapacitì 4kB,
která alespoò do urèité míry zlep¹ovala reálný výpoèetní výkon (eliminovaly se
nìkteré kolize pøi pøístupu do operaèní pamìti). Oba èipy <i>SH-2</i> sice
vycházely z&nbsp;&bdquo;klasického&ldquo; modelu RISCových procesorù, ov¹em
v&nbsp;jejich interní struktuøe najdeme prvky inspirované DSP i mikroøadièi
(co¾ ostatnì vychází i z&nbsp;vý¹e uvedeného zpùsobu vyu¾ití tìchto èipù
v&nbsp;praxi). Ka¾dý mikroprocesor obsahovat ¹estnáct pracovních registrù,
z&nbsp;nich¾ ka¾dý mìl ¹íøku 32bitù. Registr s&nbsp;indexem 0
(<strong>R0</strong>) mohl být vyu¾it jako indexový registr, zatímco registr
s&nbsp;indexem 15 (<strong>R15</strong>) se pou¾íval ve funkci ukazatele na
vrchol zásobníku (<strong>SP</strong>). Kromì pracovních registrù mohl
programátor vyu¾ívat i 32bitové øídicí registry (<i>Global Base Register</i> a
<i>Vector Base Register</i>) i takzvané systémové registry. Ty byly vyu¾ívány
pro ukládání výsledkù operace typu <strong>MAC</strong> (<i>multiply and
accumulate</i>), kterou mù¾eme najít v&nbsp;mnoha digitálních signálových
procesorech (<i>DSP</i>).</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Instrukèní pipeline, branch delay sloty a instrukèní soubor mikroprocesorù SH-2</h2>

<p>Mikroprocesory <i>SH-2</i> obsahovaly instrukèní pipeline s&nbsp;pìti øezy,
co¾ znamenalo, ¾e v&nbsp;ka¾dém cyklu bylo mo¾né v&nbsp;ideálním pøípadì
dokonèit jednu instrukci. Výjimkou je vý¹e zmínìná operace
<strong>MAC</strong>, která v&nbsp;pøípadì násobení dvou ¹estnáctibitových
hodnot (s&nbsp;32bitovým výsledkem) trvala dva cykly a v&nbsp;pøípadì násobení
dvou 32bitových hodnot (s&nbsp;64bitovým výsledkem) dokonce ètyøi cykly.
Zajímavé a pro RISCové procesory ponìkud neobvyklé takté¾ je, ¾e mnoho
instrukcí mohlo provádìt post inkrement popø.&nbsp;pre dekrement pracovního
registru pou¾itého pro adresování. V&nbsp;závislosti na velikosti operandu se
hodnota (adresa) ulo¾ená v&nbsp;registru zvý¹ila èi sní¾ila o 1 (byte), 2
(short) èi 4 (int), tak¾e se tyto operace provádìné vlastnì zadarmo (souèasnì
s&nbsp;hlavní operací) mohly pou¾ít napøíklad pøi práci s&nbsp;poli. Mimochodem
&ndash; tyto operace byly oblíbené ji¾ na mikroprocesorech Motorola øady 6809 a
68x00, proto¾e pomìrnì pøesnì kopírovaly nìkteré obraty pou¾ívané ve vy¹¹ích
programovacích jazycích.</p>

<p>Pro nìkteré DSP a pøedev¹ím pak RISCové procesory (jmenujme napøíklad MIPS,
PA-RISC èi SPARC) je pomìrnì obvyklá takté¾ technologie takzvaných <i>branch
delay slotù</i>, kterou najdeme i u zde popisovaných èipù <i>SH-2</i>. SH-2 mìl
jeden delay slot, co¾ znamenalo, ¾e instrukce ulo¾ená ihned za instrukcí
podmínìného èi nepodmínìného skoku byla vykonána v¾dy, bez ohledu na výsledek
skoku (zda se provede èi neprovede). Díky existenci této technologie se mohla
lépe vyu¾ít instrukèní pipeline, nebo» pipeline nebylo nutno celou vyprazdòovat
po ka¾dém skoku (co¾ znamenalo zdr¾ení a¾ ètyøi takty). Mimochodem &ndash;
podmínìné skoky byly provádìny na základì stavového bitu <strong>T</strong>,
který zde zastupoval jak pravdivostní hodnotu true/false, tak i pøíznak Carry
(bitové posuny a rotace, sèítání a odèítání s&nbsp;pøenosem). V¹echny instrukce
èipu <i>SH-2</i> mìly ¹íøku jen ¹estnáct bitù (u bì¾ných RISC procesorù je
¹íøka dvojnásobná), co¾ bylo u herní konzole <i>Sega Saturn</i> velmi výhodné
kvùli ji¾ zmínìné relativnì malé kapacitì pamìti cache a nutnosti synchronizace
obou mikroprocesorù pøi pøístupu do hlavní pamìti.</p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Èip SMPC (System Manager and Peripheral Control)</h2>

<p>Dal¹ím èipem, který mù¾eme v&nbsp;herní konzoli <i>Sega Saturn</i> najít, je
integrovaný obvod nazvaný <i>SMPC</i>, neboli celým jménem <i>System Manager
and Peripheral Control</i>. V&nbsp;porovnání s&nbsp;ostatními moduly popsanými
v&nbsp;tomto èlánku se jedná o relativnì jednoduchý èip, který je internì
øízený ètyøbitovým procesorem (samotný program pro tento mikroprocesor je
ulo¾en jako firmware a nelze ho tedy zmìnit). Èip <i>SMPC</i> má kromì
zmínìného interního mikroprocesoru tøi dal¹í moduly. Prvním z&nbsp;nich jsou
hodiny reálného èasu. Dal¹í modul se jmenuje <i>SM</i> (<i>System Manager</i>).
Úkolem tohoto modulu je øízení signálu RESET takovým zpùsobem, aby byly správnì
inicializovány v¹echny ostatní èipy <i>Saturnu</i>. Kromì toho se tento modul
stará i o pøepínání horizontálního rozli¹ení mezi 320 a 352 body na jeden
obrazový øádek (to èásteènì souvisí se zmìnou èasování ostatních èipù). Na
vstupu tohoto modulu se nachází dvojice sedmibitových paralelních portù (jde o
jednoduchou paralelní bránu podobnou klasickému èipu 8255) pou¾itá pro
pøipojení, ètení a øízení periferních zaøízení.</p>

<p>Tøetí dùle¾itý modul implementovaný na èipu <i>SMPC</i> se jmenuje <i>PC</i>
neboli <i>Peripheral Control</i>. Tento modul je urèen pøedev¹ím pro ètení
aktuálního stavu herních ovladaèù a pro øízení samostatné CD mechaniky. Na
chvíli se nyní zastavme u herních ovladaèù, proto¾e se (celkem logicky) pro
mnoho hráèù jedná o velmi dùle¾itou èást herní konzole. Pro <i>Segu Saturn</i>
byly navr¾eny ovladaèe s&nbsp;D-padem a devíti tlaèítky (A, B, C, X, Y, Z,
tlaèítko na levém a pravém horním okraji a tlaèítko Start), nicménì pou¾ít bylo
mo¾né i star¹í tøítlaèítkové a ¹estitlaèítkové ovladaèe z&nbsp;konzole <i>Sega
Mega Drive/Sega Genesis</i> &ndash; tyto ovladaèe byly systémem podporovány,
tak¾e bylo nutné jen pou¾ít konvertor. Navíc bylo èipem <i>SMPC</i> podporováno
i pøipojení my¹i a pozdìji se pro objevil i <i>3D Control Pad</i>
s&nbsp;analogovými ovládacími prvky.</p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Èip SCU (System Control Unit)</h2>

<p>O èipu <i>SCU</i> (<i>System Control Unit</i>) jsme si ji¾ základní
informace øekli v&nbsp;pøedchozích kapitolách. Jedná se o ústøední øídicí modul
celé herní konzole <i>Sega Saturn</i>, proto¾e právì <i>SCU</i> doká¾e øídit
pøístup ke tøem nezávislým sbìrnicím CPU-Bus, A-Bus i B-Bus. <i>SCU</i> navíc
obsahuje i øadiè pro DMA, pøièem¾ DMA mù¾e bì¾et nezávisle na CPU-Bus, co¾
znamená, ¾e oba mikroprocesory mohou relativnì nezávisle provádìt výpoèty,
zatímco se budou pøená¹et napøíklad data do grafického subsystému. DMA kanály
lze nakonfigurovat rùzným zpùsobem, napøíklad pro pøenos mezi operaèní pamìtí a
zaøízením na A-Bus, zaøízením na B-Bus a pamìtí, pøená¹et data mezi A-Bus a
B-Bus atd. Na <i>SCU</i> je implementován i øadiè pøeru¹ení, na nìm¾ je
zajímavé, ¾e je podporováno 32 zdrojù pøeru¹ení, z&nbsp;toho 14 pøeru¹ení
interních (dva èasovaèe, horizontální i vertikální zatemnìní, DSP, pøeru¹ení od
jednoho ze tøí DMA kanálù, zvukového systému atd.) a ¹estnáct zdrojù externích
(dva zdroje z&nbsp;mo¾ných tøiceti dvou zùstaly nevyu¾ity).</p>

<p>Kromì toho obsahuje èip <i>SCU</i> i dvojici èasovaèù, z&nbsp;nich¾ první je
desetibitový a je øízen signálem <i>V-Blank</i> (vertikální zatemnìní, probìhne
ka¾dý snímek) a jeho stav je sni¾ován po ka¾dém <i>H-Blank</i> (horizontální
zatemnìní, ka¾dý obrazový øádek). Díky zpùsobu øízení tohoto èasovaèe ho lze
vyu¾ít napøíklad pro zahájení provádìní nìjakého grafického efektu na urèitém
obrazovém øádku. Druhý èasovaè je jen devítibitový, nastavován je pøi ka¾dém
<i>H-Blank</i> (tj.&nbsp;na ka¾dém obrazovém øádku) a jeho hodnota je sni¾ována
po vykreslení jednoho pixelu (1/4 frekvence systémových hodin). Z&nbsp;toho
vyplývá, ¾e díky existenci tohoto èasovaèe je mo¾né nìjakou akci nastavit
pøesnì na konkrétní místo na obrazovce, èeho¾ se opìt vyu¾ívalo pro provádìní
rùzných grafických efektù (nebylo zapotøebí pøesnì poèítat, kolik pixelù se ji¾
vykreslilo atd.). Oba èasovaèe mohly pøi doèítání do nuly generovat pøeru¹ení
zpracované opìt modulem <i>SCU</i>.</p>



<p><a name="k07"></a></p>
<h2 id="k07">7. DSP umístìný na èipu SCU</h2>

<p>Souèástí èipu <i>SCO</i> popsaného <a href="#k06">v&nbsp;pøedchozí
kapitole</a> je i digitální signálový procesor, který nevykonává ¾ádné pøedem
zadané funkce, ale bylo mo¾né mu zadat prakticky jakoukoli výpoèetní úlohu
(zpracování obrazu, zpracování zvuku). Zajímavé je, ¾e o pøenos vlastního
programového kódu (sekvence strojových instrukcí) a následovné spu¹tìní
programu na <i>DSP</i> se musel postarat jeden z&nbsp;hlavních procesorù
(<i>SH-2</i>), tak¾e z&nbsp;tohoto pohledu je mo¾né <i>DSP</i> pova¾ovat spí¹e
za podpùrný obvod, i kdy¾ jeho mo¾nosti nebyly nikterak malé a ani výpoèetní
výkon nebyl v&nbsp;¾ádném pøípadì nezanedbatelný &ndash; spí¹e naopak. DSP byl
vybaven pamìtí RAM pro ulo¾ení programu o kapacitì 256&times;32 bitù. Kapacita
pamìti pro data byla takté¾ rovna 256&times;32 bitùm. Pøipojen byl
k&nbsp;externí 32bitové sbìrnici a dokázal pracovat s&nbsp;hodinovou frekvencí
28 MHz (podobnì jako zbylé èásti systému). Aritmeticko-logická jednotka byla
takté¾ 32bitová a dokázala zpracovat bì¾né instrukce typu souèet, rozdíl,
bitové operace a bitové posuny a rotace (AND, OR, XOR, ADD, SUB, AD2, SR, RR,
SL, RL, RL8, CLR).</p>

<p>Násobièka nebyla souèástí ALU, ale pracovala samostatnì (navíc asynchronnì,
co¾ pro tento typ modulu dává smysl); dokonce pro ni byly vyhrazeny speciální
registry, do nich¾ se nejprve ulo¾ily oba operandy a následnì se násobièka
spustila. Vynásobit bylo mo¾né dva operandy s&nbsp;¹íøkou 32 bitù, pøièem¾
výsledkem byla 48 bitová hodnota ulo¾ená opìt do speciálního registru. DSP dále
obsahoval klasické instrukce pro podmínìné skoky a navíc i instrukce, které
mohly zahájit pøenos dat po sbìrnici, vèetnì spu¹tìní DMA. Zajímavý byl formát
instrukcí &ndash; ka¾dé instrukèní slovo mìlo ¹íøku tøicet dva bitù a
v&nbsp;nìkterých pøípadech bylo mo¾né do jednoho slova ulo¾it vìt¹í mno¾ství
instrukcí: ALU operace, pøenos dat po sbìrnici atd., tak¾e v&nbsp;tomto DSP
nalezneme urèité prvky architektury <i>VLIW</i> (<i>Very Long Instruction
Word</i>).</p>

<p>Upozornìní: termín DSP se v&nbsp;konzoli <i>Sega Saturn</i> pou¾ívá pro
popis nìkolika modulù, a» ji¾ se jedná o zde popsané DSP, tak i o DSP, jen¾ je
souèástí SH-2 èi zvukového subsystému.</p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Základní informace o grafickém subsystému herní konzole Sega Saturn</h2>

<p>Velmi neobvyklým zpùsobem byl vyøe¹en grafický subsystém herní konzole
<i>Sega Saturn</i>. O vykreslování obrazu se starala dvojice takzvaných video
procesorù pojmenovaných <i>VDP 1</i> a <i>VDP 2</i>. Tyto samostatnì pracující
èipy byly umístìny na sbìrnici <i>B-Bus</i> a obrazová data mìly ulo¾eny ve
framebufferu oddìleném od hlavní operaèní pamìti. Jedná se tedy o podobné
øe¹ení, s&nbsp;jakým se mù¾eme setkat i u moderních grafických akcelerátorù.
Herní konzoli <i>Sega Saturn</i> bylo mo¾né pøipojit k&nbsp;televizoru
pracujícím v&nbsp;normì PAL nebo NTSC (v&nbsp;závislosti na regionu, kde byla
konzole prodávána) a dostupné byly základní grafické re¾imy s&nbsp;rozli¹ením
320&times;224 pixelù, 320&times;240 pixelù, 352&times;224 pixelù a
352&times;240 pixelù, a to pøi pou¾ití barevné hloubky 8 èi 16bpp. Horizontální
i vertikální rozli¹ení bylo mo¾né dvojnásobnì zvý¹it (prokládané re¾imy se
v¹emi svými nevýhodami), ov¹em za cenu sní¾ení barevné hloubky jen na 8bpp.</p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Struktura obrazové pamìti herní konzole Sega Saturn</h2>

<p>I struktura obrazové pamìti je pomìrnì neobvyklá. Tato pamì» toti¾ byla
rozdìlena na nìkolik regionù. Konkrétnì to znamená, ¾e video procesor <i>VDP
1</i> mìl pøístup k&nbsp;jednomu megabajtu DRAM, pøièem¾ 512kB z&nbsp;této
kapacity bylo pou¾ito pro ulo¾ení &bdquo;vykreslovacích pøíkazù&ldquo; (pøíkazy
zahrnovaly sprity, úseèky, polyèáry, polygony slo¾ené ze ètyøúhelníkù,
nastavení souøadného systému atd.) a samotný framebuffer byl rozdìlen na dvì
èásti, z&nbsp;nich¾ ka¾dá mìla kapacitu 256kB. Není tì¾ké vypoèítat, ¾e
kapacita této pamìti skuteènì dostaèovala pro ulo¾ení celého snímku
(352&times;240 pixelù v&nbsp;16bpp atd.). Druhý video procesor <i>VDP 2</i> mìl
pøístup k&nbsp;dal¹ím 512 kB RAM. Podrobnìj¹ímu popisu funkcí obou video
procesorù se budeme vìnovat v&nbsp;navazující èásti tohoto seriálu.</p>

<img src="http://i.iinfo.cz/images/123/sega-saturn-2.png" class="image-155160" width="397" height="91" alt="&#160;" />
<p><i>Obrázek 2: Grafický subsystém herní konzole Sega Saturn.</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Obsah následující èásti seriálu</h2>

<p>V&nbsp;následující èásti tohoto seriálu se budeme zabývat popisem
zbývajících modulù a èipù, které byly nedílnou souèástí herní konzole <i>Sega
Saturn</i>. Jedná se pøedev¹ím o oba video procesory pojmenované <i>VDP1</i> a
<i>VDP2</i>. Vlastnosti tìchto èipù byly navr¾eny takovým zpùsobem, aby byly
dobøe vyu¾itelné jak pro 2D hry (scrolling, podpora spritù atd.), tak i pro 3D
hry (mo¾nost zobrazit otexturovaný ètyøúhelník). Jednalo se v¹ak o hardware,
který byl znaènì odli¹ný od &bdquo;klasických&ldquo; 3D akcelerátorù, co¾
mj.&nbsp;znamenalo pro výrobce her nemalé problémy pøi pou¾ívání 3D modelù
získaných na jiných systémech atd. Kromì vlastností obou video procesorù si
takté¾ popí¹eme zvukový subsystém <i>Saturnu</i>, jen¾ byl takté¾ pomìrnì
neobvyklý a pøitom velmi flexibilní, proto¾e kombinoval mo¾nosti DSP se
zvukovou syntézou (FM syntéza ostatnì byla pou¾ita i ve star¹ích herních
konzolích spoleènosti <i>Sega</i>).</p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Odkazy na Internetu</h2>

<ol>

<li>Sega documentation<br />
<a
href="http://koti.kapsi.fi/~antime/sega/docs.html">http://koti.kapsi.fi/~antime/sega/docs.html</a>
</li>

<li>1995 Programming on the Sega Saturn<br />
<a
href="http://cowboyprogramming.com/2010/06/03/1995-programming-on-the-sega-saturn/">http://cowboyprogramming.com/2010/06/03/1995-programming-on-the-sega-saturn/</a>
</li>

<li>Sega Myths-Saturn was the most difficult console to program for of 5th Gen<br />
<a href="http://forums.sega.com/showthread.php?313485-Sega-Myths-Saturn-was-the-most-difficult-console-to-program-for-of-5th-Gen">http://forums.sega.com/showthread.php?313485-Sega-Myths-Saturn-was-the-most-difficult-console-to-program-for-of-5th-Gen</a>
</li>

<li>SuperH RISC engine Family<br />
<a href="http://www.renesas.com/products/mpumcu/superh/index.jsp">http://www.renesas.com/products/mpumcu/superh/index.jsp</a>
</li>

<li>Sega Saturn<br />
<a href="http://en.wikipedia.org/wiki/Sega_saturn">http://en.wikipedia.org/wiki/Sega_saturn</a>
</li>

<li>Jaguar Sector - II<br />
<a href="http://www.jaguarsector.com/index.php">http://www.jaguarsector.com/index.php</a>
</li>

<li>Atari Age: Atari Jaguar History<br />
<a href="http://www.atariage.com/Jaguar/history.html">http://www.atariage.com/Jaguar/history.html</a>
</li>

<li>Jaguar<br />
<a href="http://www.giantbomb.com/jaguar/3045-28/">http://www.giantbomb.com/jaguar/3045-28/</a>
</li>

<li>Consoles that won't die: The Atari Jaguar<br />
<a href="http://venturebeat.com/2013/04/25/consoles-that-wont-die-atari-jaguar/">http://venturebeat.com/2013/04/25/consoles-that-wont-die-atari-jaguar/</a>
</li>

<li>Atari Jaguar and Atari Jaguar CD<br />
<a href="http://videogamecritic.com/jaguarinfo.htm">http://videogamecritic.com/jaguarinfo.htm</a>
</li>

<li>Atari Jaguar Documentation (Forum)<br />
<a href="http://www.jaguarsector.com/index.php?showforum=65">http://www.jaguarsector.com/index.php?showforum=65</a>
</li>

<li>Atari Jaguar Programming (Forum)<br />
<a href="http://www.jaguarsector.com/index.php?showforum=63">http://www.jaguarsector.com/index.php?showforum=63</a>
</li>

<li>The Jaguar Underground Documentation<br />
<a href="http://justclaws.atari.org/devcats/dox/dox.htm">http://justclaws.atari.org/devcats/dox/dox.htm</a>
</li>

<li>Blitter (Wikipedia CZ)<br />
<a href="http://cs.wikipedia.org/wiki/Blitter">http://cs.wikipedia.org/wiki/Blitter</a>
</li>

<li>Blitter (Wikipedia EN)<br />
<a href="http://en.wikipedia.org/wiki/Blitter">http://en.wikipedia.org/wiki/Blitter</a>
</li>

<li>Bit blit<br />
<a href="http://en.wikipedia.org/wiki/Bit_blit">http://en.wikipedia.org/wiki/Bit_blit</a>
</li>

<li>Disassembler for the portable Jaguar DSP emulator (zdrojový kód s&nbsp;instrukcemi)<br />
<a href="http://mamedev.org/source/src/emu/cpu/jaguar/jagdasm.c.html">http://mamedev.org/source/src/emu/cpu/jaguar/jagdasm.c.html</a>
</li>

<li>Fourth-Generation Consoles<br />
<a href="http://gaming.wikia.com/wiki/Fourth-Generation_Consoles">http://gaming.wikia.com/wiki/Fourth-Generation_Consoles</a>
</li>

<li>Fifth-Generation Consoles<br />
<a href="http://gaming.wikia.com/wiki/Fifth-Generation_Consoles">http://gaming.wikia.com/wiki/Fifth-Generation_Consoles</a>
</li>

<li>History of video game consoles (fifth generation)<br />
<a href="http://en.wikipedia.org/wiki/History_of_video_game_consoles_(fifth_generation)">http://en.wikipedia.org/wiki/History_of_video_game_consoles_(fifth_generation)</a>
</li>

<li>Atari Jaguar<br />
<a href="http://gaming.wikia.com/wiki/Atari_Jaguar">http://gaming.wikia.com/wiki/Atari_Jaguar</a>
</li>

<li>Atari Jaguar Games<br />
<a href="http://gaming.wikia.com/wiki/List_of_Atari_Jaguar_games">http://gaming.wikia.com/wiki/List_of_Atari_Jaguar_games</a>
</li>

<li>MyMedia Games Network Retrospective - Nintendo Super FX chip<br />
<a href="http://psp.mmgn.com/News/MyMedia-Games-Network-Retrospe-G6W">http://psp.mmgn.com/News/MyMedia-Games-Network-Retrospe-G6W</a>
</li>

<li>Wikipedia: Super FX<br />
<a href="http://en.wikipedia.org/wiki/Super_FX">http://en.wikipedia.org/wiki/Super_FX</a>
</li>

<li>IGN: Top 25 Consoles<br />
<a href="http://www.ign.com/top-25-consoles/13.html">http://www.ign.com/top-25-consoles/13.html</a>
</li>

<li>Sega Mega Drive<br />
<a href="http://sega.jp/archive/segahard/md/">http://sega.jp/archive/segahard/md/</a>
</li>

<li>The16bit Era Of Console Video Games<br />
<a href="http://tvtropes.org/pmwiki/pmwiki.php/Main/The16bitEraOfConsoleVideoGames">http://tvtropes.org/pmwiki/pmwiki.php/Main/The16bitEraOfConsoleVideoGames</a>
</li>

<li>The Console Wars<br />
<a href="http://www.cracked.com/funny-2590-the-console-wars/">http://www.cracked.com/funny-2590-the-console-wars/</a>
</li>

<li>Console Wars<br />
<a href="http://tvtropes.org/pmwiki/pmwiki.php/Main/ConsoleWars">http://tvtropes.org/pmwiki/pmwiki.php/Main/ConsoleWars</a>
</li>

<li>Era of the "Bit Wars"<br />
<a href="http://www.gtplanet.net/forum/threads/era-of-the-bit-wars.119796/">http://www.gtplanet.net/forum/threads/era-of-the-bit-wars.119796/</a>
</li>

<li>Rez Wars: How the Bit Wars never really ended<br />
<a href="http://www.ign.com/blogs/beastmastertoad/2013/01/31/rez-wars-how-the-bit-wars-never-really-ended">http://www.ign.com/blogs/beastmastertoad/2013/01/31/rez-wars-how-the-bit-wars-never-really-ended</a>
</li>

<li>Which system ended the "Bit Wars"?<br />
<a href="http://atariage.com/forums/topic/199163-which-system-ended-the-bit-wars/">http://atariage.com/forums/topic/199163-which-system-ended-the-bit-wars/</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2013</small></p>
</body>
</html>

