<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Pohled pod kapotu JVM - pøeklad do bajtkódù JVM, Lua VM a Python VM</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Pohled pod kapotu JVM - pøeklad do bajtkódù JVM, Lua VM a Python VM</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o programovacím jazyku Java i o virtuálním stroji Javy budeme pokraèovat v porovnávání vlastností bajtkódù JVM, Python VM i Lua VM, a to na nìkolika demonstraèních pøíkladech. Kromì toho si v¹ak popí¹eme i základní vlastnosti dal¹ího zajímavého virtuálního stroje nazvaného Parrot.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Pohled pod kapotu JVM - pøeklad do bajtkódù JVM, Lua VM a Python VM</a></p>
<p><a href="#k02">2. Virtuální stroj Parrot</a></p>
<p><a href="#k03">3. Parrot Assembly Language a Parrot Intermediate Representation</a></p>
<p><a href="#k04">4. Jak lze získat pøelo¾ený bajtkód pro rùzné VM?</a></p>
<p><a href="#k05">5. Pøeklad aritmetických výrazù</a></p>
<p><a href="#k06">6. Pøeklad výrazù s&nbsp;Booleovskými operátory</a></p>
<p><a href="#k07">7. Zkrácené vs. úplné vyhodnocení logických výrazù v&nbsp;Javì</a></p>
<p><a href="#k08">8. Pøeklad výrazù s&nbsp;relaèními operátory</a></p>
<p><a href="#k09">9. Pøeklad øídicí struktury typu <strong>if-then</strong></a></p>
<p><a href="#k10">10. Pøeklad øídicí struktury typu <strong>if-then-else</strong></a></p>
<p><a href="#k11">11. Repositáø se zdrojovými kódy v¹ech dne¹ních demonstraèních pøíkladù</a></p>
<p><a href="#k12">12. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Pohled pod kapotu JVM - pøeklad do bajtkódù JVM, Lua VM a Python VM</h2>

<p>V&nbsp;pøedchozí èásti <a
href="http://www.root.cz/serialy/programovaci-jazyk-java-a-jvm/">seriálu o
programovacím jazyku Java i o virtuálním stroji Javy</a> jsme si ve struènosti
popsali trojici virtuálních strojù (VM), které jsou v&nbsp;souèasnosti
pou¾ívány v&nbsp;souvislosti s&nbsp;programovacími jazyky Java, Python a Lua.
V&nbsp;pøípadì programovacího jazyka Java se jedná o <i>Java Virtual Machine
(JVM)</i>, co¾ mù¾e být ov¹em ponìkud zavádìjící název, nebo» nad JVM je dnes
postaveno mnohem více programovacích jazykù, nejenom Java (zmínit se mù¾eme
napøíklad o Jythonu, Scale, Groovy, Clojure, JACL èi JavaScriptu). Pro Python,
pøesnìji øeèeno pro CPython, existuje takté¾ vlastní VM, podobnì jako pro
programovací jazyk Lua. Ka¾dý ze zmínìných virtuálních strojù zpracovává svùj
vlastní bajtkód, pøièem¾ vlastnosti bajtkódù JVM, Python VM a Lua VM se od sebe
v&nbsp;nìkterých aspektech dosti odli¹ují; pøedev¹ím mírou abstrakce nad
základními datovými typy a takté¾ tím, zda jednotlivé instrukce bajtkódu
pracují s&nbsp;registry èi s&nbsp;operandy ulo¾enými na zásobníku.</p>

<p>V&nbsp;dne¹ním èlánku se seznámíme se zpùsobem pøekladu nìkterých základních
a v&nbsp;ka¾dodenním vývoji vyu¾ívaných programových konstrukcí do bajtkódu
jednotlivých vý¹e zmínìných virtuálních strojù. Zamìøíme se pøedev¹ím na
pøeklad bì¾ných aritmetických, logických a bitových výrazù i na pøeklad
programové konstrukce <strong>if-then</strong> a samozøejmì i úplné rozhodovací
konstrukce <strong>if-then-else</strong>. Je¹tì pøedtím se v¹ak musíme
seznámit se ètvrtým v&nbsp;souèasnosti vyvíjeným VM. Jedná se o virtuální stroj
nazvaný <i>Parrot</i>, který je zajímavý hned z&nbsp;nìkolika hledisek, co¾
ostatnì uvidíme hned <a href="#k02">v&nbsp;následující kapitole</a>, kde se
zmíníme o nìkterých základních konceptech, na nich¾ je tento virtuální stroj
postaven a jaké jsou jeho nejvìt¹í odli¹nosti napøíklad v&nbsp;porovnání
s&nbsp;Java Virtual Machine.</p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Virtuální stroj Parrot</h2>

<p>Posledním virtuálním strojem, s&nbsp;ním¾ se v&nbsp;tomto seriálu alespoò ve
struènosti seznámíme, je virtuální stroj pojmenovaný <i>Parrot</i>. Tento
virtuální stroj byl navr¾en takovým zpùsobem, aby mohl podporovat moderní
dynamicky typované programovací jazyky, pøièem¾ primárním (nejenom v¹ak
jediným) jazykem je/bude <i>Perl 6</i> (pøedchozí verze Perlu naproti tomu
namísto klasického bajtkódu pou¾ívají stromovou reprezentaci
<strong>AST</strong> &ndash; <strong>Abstract Syntax Tree</strong>). Nìkteré
operace/instrukce podporované Parrotem jsou na vy¹¹í úrovni, ne¾ je tomu
napøíklad v&nbsp;pøípadì bajtkódu JVM; Parrot VM je v&nbsp;tomto ohledu
srovnatelný s&nbsp;Python VM.</p>

<p>Virtuální stroj <i>Parrot</i> je zalo¾en na pou¾ití registrù, pøièem¾ je
zajímavé, ¾e se ji¾ pøi pøekladu (jen¾ mù¾e probíhat i v&nbsp;runtime) urèuje,
kolik registrù bude daná metoda èi funkce vyu¾ívat, co¾ znamená, ¾e poèet
registrù není pevnì urèen. Volba registrù namísto zásobníku byla ovlivnìna
pøedev¹ím pøedpokladem, ¾e se bajtkód zalo¾ený na operacích provádìných nad
registry bude snadnìji pøekládat do nativního kódu; ve skuteènosti je ov¹em i
zásobníkový kód relativnì snadno pøekládaný, co¾ je vidìt na pøíkladu JVM.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Parrot Assembly Language a Parrot Intermediate Representation</h2>

<p>Ze v¹ech ètyø popisovaných virtuálních strojù je <i>Parrot</i> zdaleka
nejotevøenìj¹í rùzným mo¾nostem roz¹iøování a/nebo zásahu do pøekladu,
interpretace popø.&nbsp;JIT pøekladu. Parrot &ndash; na rozdíl od JVM atd.
&ndash; dokonce podporuje i vlastní assembler, který existuje ve dvou
variantách. Vysokoúrovòová varianta assembleru se nazývá <i>Parrot Intermediate
Representation</i> neboli <i>PIR</i> a pøedpokládá se, ¾e pøekladaèe rùzných
programovacích jazykù mohou provádìt pøeklad právì do <i>PIR</i>, co¾ je
jednodu¹¹í i transparentnìj¹í, ne¾ pøímá generace binárního bajtkódu.</p>

<p>Nízkoúrovòová varianta assembleru se nazývá <i>Parrot Assembly Language</i>
neboli <i>PASM</i>. Tento assembler se podobá assemblerùm skuteèných
mikroprocesorù, ov¹em obsahuje napøíklad i podporu pro práci s&nbsp;øetìzci.
Právì na pøíkladu <i>PIR</i> a <i>PASM</i> si v&nbsp;následující èásti tohoto
seriálu uká¾eme, jakým zpùsobem vlastnì virtuální stroj <i>Parrot</i> pracuje a
jak zpracovává pøelo¾ený bajtkód.</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Jak lze získat pøelo¾ený bajtkód pro rùzné VM?</h2>

<p>Pøed uvedením a popisem jednotlivých demonstraèních pøíkladù si musíme
vysvìtlit, jakým zpùsobem je vlastnì mo¾né vypsat bajtkód vygenerovaný
pøekladaèem, a» ji¾ se jedná o pøekladaè Javy, èi o pøekladaèe jazykù Lua nebo
Python (ano, i zde je pøeklad do bajtkódu provádìn, a to v¾dy pøed vykonáním
nìjakého skriptu èi dokonce explicitnì). V&nbsp;pøípadì programovacího jazyka
Java je mo¾né dekompilovat ji¾ pøelo¾enou tøídu s&nbsp;vyu¾itím nástroje
<strong>javap</strong> (souèást standardní instalace JDK), který se spustí
s&nbsp;parametrem <strong>-c</strong>. Bli¾¹í informace o tomto nástroji lze
získat pomocí pøíkazu <strong>man javap</strong> popø.&nbsp;<strong>javap
--help</strong>. Pøíklad pou¾ití &ndash; dekompilace tøídy
<strong>Test</strong>, její¾ bajtkód je ulo¾en v&nbsp;souboru s&nbsp;názvem
&bdquo;Test.class&ldquo;:</p>

<pre>
javap -c Test
</pre>

<p>U programovacího jazyka Lua je mo¾né vyu¾ít pøekladaè nazvaný
<strong>luac</strong>, kterému se pøedá volba <strong>-l</strong>. Tento
nástroj se pokusí pøelo¾it skript èi modul, jeho¾ jméno je pøedáno na pøíkazové
øádce a vytvoøit bajtkód ulo¾ený v&nbsp;souboru, jeho¾ výchozí jméno je
<strong>luac.out</strong>; pøitom se ov¹em na standardní výstup vypí¹e pøi
pou¾ití volby <strong>-l</strong> i generovaný bajtkód v&nbsp;èitelné podobì.
Více informací o tomto velmi u¾iteèném nástroji nám opìt poskytnou pøíkazy
<strong>man luac</strong> popø.&nbsp;pouze <strong>luac</strong> (bez dal¹ích
parametrù). Pøíklad pou¾ití &ndash; výpis bajtkódu v¹ech funkcí i pøímo
zadaných pøíkazù ulo¾ených ve skriptu se jménem &bdquo;Test.lua&ldquo;:</p>

<pre>
luac -l Test.lua
</pre>

<p>U programovacího jazyka Python lze pro výpis kompilovaného bajtkódu
v&nbsp;pro programátora èitelné podobì pou¾ít modul nazvaný
<strong>dis</strong>. V&nbsp;tomto modulu se nachází stejnojmenná funkce, které
staèí pouze pøedat jméno funkce a na standardní výstup se vypí¹e její bajtkód.
Opìt se podívejme na jednoduchý pøíklad pou¾ití:</p>

<pre>
from dis import dis
dis(testFunction)
</pre>



<p><a name="k05"></a></p>
<h2 id="k05">5. Pøeklad aritmetických výrazù</h2>

<p>Nyní se ji¾ pojïme vìnovat ponìkud praktiètìj¹ímu tématu &ndash; zpùsobu
pøekladu rùzných programových konstrukcí do bajtkódu JVM, Python VM a takté¾
Lua VM. V&nbsp;této kapitole si uká¾eme, jak se pøekládají základní aritmetické
výrazy, a to zejména z&nbsp;toho dùvodu, ¾e právì na pøekladu aritmetických
výrazù bude patrný nejvìt¹í rozdíl mezi virtuálními stroji zalo¾enými na
zásobníku a operacích s&nbsp;operandy ulo¾enými na tomto zásobníku na jedné
stranì a s&nbsp;virtuálními stroji zalo¾enými na sadì registrù na stranì
druhé.</p>

<h3>Demonstraèní pøíklad <strong>Test2.java</strong>:</h3>

<p>První varianta testovacího pøíkladu je vytvoøena v&nbsp;Javì a obsahuje jak
jednoduché výrazy s&nbsp;jediným operátorem, tak i slo¾itìj¹í výrazy
s&nbsp;nìkolika operátory s&nbsp;rùznou prioritou i závorkami:</p>

<pre>
<i>/**</i>
<i> * Trida s nekolika jednoduchymi statickymi metodami</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu aritmetickych vyrazu.</i>
<i> */</i>
public class <strong>Test2</strong> {
&nbsp;
    public static int <strong>vyraz1</strong>(int x, int y) {
        int result = x + y;
        return result;
    }
&nbsp;
    public static int <strong>vyraz2</strong>(int x, int y) {
        int result = x - y;
        return result;
    }
&nbsp;
    public static int <strong>vyraz3</strong>(int x, int y) {
        int result = x * y;
        return result;
    }
&nbsp;
    public static int <strong>vyraz4</strong>(int x, int y) {
        int result = x / y;
        return result;
    }
&nbsp;
    public static int <strong>vyraz5</strong>(int x, int y) {
        int result = x % y;
        return result;
    }
&nbsp;
    public static int <strong>vyraz6</strong>(int x, int y, int z) {
        int result = x + y * z;
        return result;
    }
&nbsp;
    public static int <strong>vyraz7</strong>(int x, int y, int z, int w) {
        int result = x + y * z + w;
        return result;
    }
&nbsp;
    public static int <strong>vyraz8</strong>(int x, int y, int z, int w) {
        int result = 2 * (x + y) * (z + w) * ((x + z) / (y + w));
        return result;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(vyraz1(4, 3));
        System.out.println(vyraz2(4, 3));
        System.out.println(vyraz3(4, 3));
        System.out.println(vyraz4(4, 3));
        System.out.println(vyraz5(4, 3));
        System.out.println(vyraz6(4, 3, 2));
        System.out.println(vyraz7(4, 3, 2, 1));
        System.out.println(vyraz8(4, 3, 2, 1));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test2.lua</strong>:</h3>

<p>Druhá varianta je vytvoøena v&nbsp;Lua. Dùle¾ité je si uvìdomit, ¾e tento
pøíklad ve skuteènosti <i>není</i> ekvivalentní pøedchozímu pøíkladu, a to
proto, ¾e se výpoèty provádí s&nbsp;hodnotami s&nbsp;plovoucí øádovou
èárkou:</p>

<pre>
<i>--</i>
<i>-- Modul s nekolika jednoduchymi funkcemi</i>
<i>-- pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu aritmetickych vyrazu.</i>
<i>--</i>
&nbsp;
function <strong>vyraz1</strong>(x, y)
    local result = x + y
    return result
end
&nbsp;
function <strong>vyraz2</strong>(x, y)
    local result = x - y
    return result
end
&nbsp;
function <strong>vyraz3</strong>(x, y)
    local result = x * y
    return result
end
&nbsp;
function <strong>vyraz4</strong>(x, y)
    local result = x / y
    return result
end
&nbsp;
function <strong>vyraz5</strong>(x, y)
    local result = x % y
    return result
end
&nbsp;
function <strong>vyraz6</strong>(x, y, z)
    local result = x + y * z
    return result
end
&nbsp;
function <strong>vyraz7</strong>(x, y, z, w)
    local result = x + y * z + w
    return result
end
&nbsp;
function <strong>vyraz8</strong>(x, y, z, w)
    local result = 2 * (x + y) * (z + w) * ((x + z) / (y + w))
    return result
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(vyraz1(4, 3))
    print(vyraz2(4, 3))
    print(vyraz3(4, 3))
    print(vyraz4(4, 3))
    print(vyraz5(4, 3))
    print(vyraz6(4, 3, 2))
    print(vyraz7(4, 3, 2, 1))
    print(vyraz8(4, 3, 2, 1))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test2.py</strong>:</h3>

<p>Tøetí varianta je vytvoøena v&nbsp;Pythonu:</p>

<pre>
<i>#</i>
<i># Modul s nekolika jednoduchymi funkcemi</i>
<i># pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu aritmetickych vyrazu.</i>
<i>#</i>
&nbsp;
def <strong>vyraz1</strong>(x, y):
    local result = x + y
    return result
&nbsp;
&nbsp;
def <strong>vyraz2</strong>(x, y):
    local result = x - y
    return result
&nbsp;
&nbsp;
def <strong>vyraz3</strong>(x, y):
    local result = x * y
    return result
&nbsp;
&nbsp;
def <strong>vyraz4</strong>(x, y):
    local result = x / y
    return result
&nbsp;
&nbsp;
def <strong>vyraz5</strong>(x, y):
    local result = x % y
    return result
&nbsp;
&nbsp;
def <strong>vyraz6</strong>(x, y, z):
    local result = x + y * z
    return result
&nbsp;
&nbsp;
def <strong>vyraz7</strong>(x, y, z, w):
    local result = x + y * z + w
    return result
&nbsp;
&nbsp;
def <strong>vyraz8</strong>(x, y, z, w):
    local result = 2 * (x + y) * (z + w) * ((x + z) / (y + w))
    return result
&nbsp;
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(vyraz1(4, 3))
    print(vyraz2(4, 3))
    print(vyraz3(4, 3))
    print(vyraz4(4, 3))
    print(vyraz5(4, 3))
    print(vyraz6(4, 3, 2))
    print(vyraz7(4, 3, 2, 1))
    print(vyraz8(4, 3, 2, 1))
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nvyraz1:")
    dis(vyraz1)
&nbsp;
    print("\nvyraz2:")
    dis(vyraz2)
&nbsp;
    print("\nvyraz3:")
    dis(vyraz3)
&nbsp;
    print("\nvyraz4:")
    dis(vyraz4)
&nbsp;
    print("\nvyraz5:")
    dis(vyraz5)
&nbsp;
    print("\nvyraz6:")
    dis(vyraz6)
&nbsp;
    print("\nvyraz7:")
    dis(vyraz7)
&nbsp;
    print("\nvyraz8:")
    dis(vyraz8)
&nbsp;
main()
&nbsp;
disassemble()
</pre>

<p>Nyní se podívejme, jak vypadají jednotlivé bajtkódy.</p>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test2.java</strong>:</h3>

<p>V&nbsp;Javì se setkáme s&nbsp;klasickým zásobníkovým kódem, na nìj¾ se
ukládají parametry metod a/nebo lokální promìnné èi konstanty:</p> 

<pre>
public static int <strong>vyraz1</strong>(int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   iadd       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz2</strong>(int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   isub       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz3</strong>(int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   imul       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz4</strong>(int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   idiv       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz5</strong>(int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   irem       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz6</strong>(int, int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   iload_2    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   3:   imul       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   4:   iadd       <i>; provést druhou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   5:   istore_3   <i>; ulo¾it výsledek do lokální promìnné</i>
   6:   iload_3    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   7:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz7</strong>(int, int, int, int);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   iload_2    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   3:   imul       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   4:   iadd       <i>; provést druhou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   5:   iload_3    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   6:   iadd       <i>; provést tøetí vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   7:   istore  4  <i>; ulo¾it výsledek do lokální promìnné</i>
   9:   iload   4  <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   11:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>vyraz8</strong>(int, int, int, int);
  Code:
   0:   iconst_2   <i>; ulo¾it konstantu na zásobník</i>
   1:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   2:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   3:   iadd       <i>; provést vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   4:   imul       <i>; provést druhou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   5:   iload_2    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   6:   iload_3    <i>; ulo¾it ètvrtý parametr metody na zásobník</i>
   7:   iadd       <i>; provést tøetí vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   8:   imul       <i>; provést ètvrtou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   9:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   10:  iload_2    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   11:  iadd       <i>; provést pátou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   12:  iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   13:  iload_3    <i>; ulo¾it ètvrtý parametr metody na zásobník</i>
   14:  iadd       <i>; provést ¹estou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   15:  idiv       <i>; provést sedmou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   16:  imul       <i>; provést osmou vy¾adovanou aritmetickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   17:  istore  4  <i>; ulo¾it výsledek do lokální promìnné</i>
   19:  iload   4  <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   21:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test2.lua</strong>:</h3>

<p>V&nbsp;Lue je pou¾it kód vyu¾ívající &bdquo;registry&ldquo; virtuálního
stroje a proto je poèet instrukcí men¹í, ne¾ u kódu zásobníkového:</p>

<pre>
function &lt;Test2.lua:7,10&gt; (3 instructions at 0x9e07c88)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [8]     ADD             2 0 1  <i>; provést aritmetickou operaci s parametrem 0 a 1</i>
        2       [9]     RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        3       [10]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:12,15&gt; (3 instructions at 0x9e07f20)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [13]    SUB             2 0 1  <i>; provést aritmetickou operaci s parametrem 0 a 1</i>
        2       [14]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        3       [15]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:17,20&gt; (3 instructions at 0x9e080f0)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [18]    MUL             2 0 1  <i>; provést aritmetickou operaci s parametrem 0 a 1</i>
        2       [19]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        3       [20]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:22,25&gt; (3 instructions at 0x9e07ec8)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [23]    DIV             2 0 1  <i>; provést aritmetickou operaci s parametrem 0 a 1</i>
        2       [24]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        3       [25]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:27,30&gt; (3 instructions at 0x9e084f8)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [28]    MOD             2 0 1  <i>; provést aritmetickou operaci s parametrem 0 a 1</i>
        2       [29]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        3       [30]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:32,35&gt; (4 instructions at 0x9e07e18)
3 params, 4 slots, 0 upvalues, 4 locals, 0 constants, 0 functions
        1       [33]    MUL             3 1 2  <i>; provést aritmetickou operaci s parametrem 1 a 2</i>
        2       [33]    ADD             3 0 3  <i>; provést aritmetickou operaci s parametrem 0 a lokální promìnnou 3</i>
        3       [34]    RETURN          3 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 3</i>
        4       [35]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:37,40&gt; (5 instructions at 0x9e08458)
4 params, 5 slots, 0 upvalues, 5 locals, 0 constants, 0 functions
        1       [38]    MUL             4 1 2  <i>; provést aritmetickou operaci s parametrem 1 a 2</i>
        2       [38]    ADD             4 0 4  <i>; provést dal¹í aritmetickou operaci s parametrem 0 a lokální promìnnou 4</i>
        3       [38]    ADD             4 4 3  <i>; provést dal¹í aritmetickou operaci s parametrem 3 a lokální promìnnou 4</i>
        4       [39]    RETURN          4 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 4</i>
        5       [40]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test2.lua:42,45&gt; (10 instructions at 0x9e08720)
4 params, 7 slots, 0 upvalues, 5 locals, 1 constant, 0 functions
        1       [43]    ADD             4 0 1  <i>; provést aritmetickou operaci s parametrem 0 a 1</i>
        2       [43]    MUL             4 -1 4  ; 2 - <i>; zde se adresuje konstanta -2 !!!</i>
        3       [43]    ADD             5 2 3  <i>; provést dal¹í aritmetickou operaci, výsledek do lok. promìnné 5</i>
        4       [43]    MUL             4 4 5
        5       [43]    ADD             5 0 2
        6       [43]    ADD             6 1 3
        7       [43]    DIV             5 5 6
        8       [43]    MUL             4 4 5
        9       [44]    RETURN          4 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 4</i>
        10      [45]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test2.py</strong>:</h3>

<p>V&nbsp;Pythonu je opìt pou¾it, jak zajisté po pøeètení pøedchozí èásti
tohoto seriálu oèekáváte, zásobníkový kód:</p>

<pre>
<strong>vyraz1</strong>:
  8           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 BINARY_ADD          
              7 STORE_FAST               2 (result)
&nbsp;
  9          10 LOAD_FAST                2 (result)
             13 RETURN_VALUE        
&nbsp;
<strong>vyraz2</strong>:
 13           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 BINARY_SUBTRACT     
              7 STORE_FAST               2 (result)
&nbsp;
 14          10 LOAD_FAST                2 (result)
             13 RETURN_VALUE        
&nbsp;
<strong>vyraz3</strong>:
 18           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 BINARY_MULTIPLY     
              7 STORE_FAST               2 (result)
&nbsp;
 19          10 LOAD_FAST                2 (result)
             13 RETURN_VALUE        
&nbsp;
<strong>vyraz4</strong>:
 23           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 BINARY_DIVIDE       
              7 STORE_FAST               2 (result)
&nbsp;
 24          10 LOAD_FAST                2 (result)
             13 RETURN_VALUE        
&nbsp;
<strong>vyraz5</strong>:
 28           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 BINARY_MODULO       
              7 STORE_FAST               2 (result)
&nbsp;
 29          10 LOAD_FAST                2 (result)
             13 RETURN_VALUE        
&nbsp;
<strong>vyraz6</strong>:
 33           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 LOAD_FAST                2 (z)
              9 BINARY_MULTIPLY     
             10 BINARY_ADD          
             11 STORE_FAST               3 (result)
&nbsp;
 34          14 LOAD_FAST                3 (result)
             17 RETURN_VALUE        
&nbsp;
<strong>vyraz7</strong>:
 38           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 LOAD_FAST                2 (z)
              9 BINARY_MULTIPLY     
             10 BINARY_ADD          
             11 LOAD_FAST                3 (w)
             14 BINARY_ADD          
             15 STORE_FAST               4 (result)
&nbsp;
 39          18 LOAD_FAST                4 (result)
             21 RETURN_VALUE        
&nbsp;
<strong>vyraz8</strong>:
 43           0 LOAD_CONST               1 (2)
              3 LOAD_FAST                0 (x)
              6 LOAD_FAST                1 (y)
              9 BINARY_ADD          
             10 BINARY_MULTIPLY     
             11 LOAD_FAST                2 (z)
             14 LOAD_FAST                3 (w)
             17 BINARY_ADD          
             18 BINARY_MULTIPLY     
             19 LOAD_FAST                0 (x)
             22 LOAD_FAST                2 (z)
             25 BINARY_ADD          
             26 LOAD_FAST                1 (y)
             29 LOAD_FAST                3 (w)
             32 BINARY_ADD          
             33 BINARY_DIVIDE       
             34 BINARY_MULTIPLY     
             35 STORE_FAST               4 (result)
&nbsp;
 44          38 LOAD_FAST                4 (result)
             41 RETURN_VALUE        
</pre>



<p><a name="k06"></a></p>
<h2 id="k06">6. Pøeklad výrazù s&nbsp;Booleovskými operátory</h2>

<p>Booleovské (logické) výrazy se vìt¹inou pøekládají s&nbsp;vyu¾itím
podmínìného skoku. Pøed samotnou instrukcí skoku se vyhodnotí podmínka,
v&nbsp;na¹em pøípadì první èást logického výrazu, a na základì této podmínky se
zjistí hodnota druhé èásti logického výrazu (pokud se samozøejmì jedná o
operace se dvìma operandy). Podívejme se nyní na zpùsob pøekladu výrazù
obsahujících negaci, logický souèet, logický souèin, operaci nonekvivalence a
rùzné kombinace tìchto operací.</p>

<h3>Demonstraèní pøíklad <strong>Test3.java</strong>:</h3>

<pre>
<i>/**</i>
<i> * Trida s nekolika jednoduchymi statickymi metodami</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu Booleovskych vyrazu.</i>
<i> */</i>
public class <strong>Test3</strong> {
&nbsp;
    public static boolean <strong>vyraz1</strong>(boolean x) {
        boolean result = !x;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz2</strong>(boolean x, boolean y) {
        boolean result = x &amp;&amp; y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz3</strong>(boolean x, boolean y) {
        boolean result = x || y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz4</strong>(boolean x, boolean y) {
        boolean result = x ^ y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz5</strong>(boolean x, boolean y, boolean z) {
        boolean result = x || y &amp;&amp; z;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz6</strong>(boolean x, boolean y, boolean z, boolean w) {
        boolean result = (x || y) &amp;&amp; (z || w);
        return result;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(vyraz1(true));
        System.out.println(vyraz2(true, false));
        System.out.println(vyraz3(true, false));
        System.out.println(vyraz4(true, false));
        System.out.println(vyraz5(true, false, true));
        System.out.println(vyraz6(true, false, true, false));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test3.lua</strong>:</h3>

<pre>
<i>--</i>
<i>-- Modul s nekolika jednoduchymi funkcemi</i>
<i>-- pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu Booleovskych vyrazu.</i>
<i>--</i>
&nbsp;
function <strong>vyraz1</strong>(x)
    local result = not x
    return result
end
&nbsp;
function <strong>vyraz2</strong>(x, y)
    local result = x and y
    return result
end
&nbsp;
function <strong>vyraz3</strong>(x, y)
    local result = x or y
    return result
end
&nbsp;
function <strong>vyraz4</strong>(x, y)
    local result = x ~= y
    return result
end
&nbsp;
function <strong>vyraz5</strong>(x, y, z)
    local result = x or y and z
    return result
end
&nbsp;
function <strong>vyraz6</strong>(x, y, z, w)
    local result = (x or y) and (z or w)
    return result
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(vyraz1(true))
    print(vyraz2(true, false))
    print(vyraz3(true, false))
    print(vyraz4(true, false))
    print(vyraz5(true, false, true))
    print(vyraz6(true, false, true, false))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test3.py</strong>:</h3>

<pre>
<i>#</i>
<i># Modul s nekolika jednoduchymi funkcemi</i>
<i># pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu Booleovskych vyrazu.</i>
<i>#</i>
&nbsp;
def <strong>vyraz1</strong>(x):
    result = not x
    return result
&nbsp;
def <strong>vyraz2</strong>(x, y):
    result = x and y
    return result
&nbsp;
def <strong>vyraz3</strong>(x, y):
    result = x or y
    return result
&nbsp;
def <strong>vyraz4</strong>(x, y):
    result = x ^ y
    return result
&nbsp;
def <strong>vyraz5</strong>(x, y, z):
    result = x or y and z
    return result
&nbsp;
def <strong>vyraz6</strong>(x, y, z, w):
    result = (x or y) and (z or w)
    return result
&nbsp;
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(vyraz1(True))
    print(vyraz2(True, False))
    print(vyraz3(True, False))
    print(vyraz4(True, False))
    print(vyraz5(True, False, True))
    print(vyraz6(True, False, True, False))
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nvyraz1:")
    dis(vyraz1)
&nbsp;
    print("\nvyraz2:")
    dis(vyraz2)
&nbsp;
    print("\nvyraz3:")
    dis(vyraz3)
&nbsp;
    print("\nvyraz4:")
    dis(vyraz4)
&nbsp;
    print("\nvyraz5:")
    dis(vyraz5)
&nbsp;
    print("\nvyraz6:")
    dis(vyraz6)
&nbsp;
main()
&nbsp;
disassemble()
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test3.java</strong>:</h3>

<p>V&nbsp;Javì se pøi zkráceném vyhodnocování logických výrazù objevují
skoky:</p>

<pre>
public static boolean <strong>vyraz1</strong>(boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifne    8  <i>; podmínìný skok</i>
   4:   iconst_1   <i>; konstanta true</i>
   5:   goto    9  <i>; nepodmínìný skok</i>
   8:   iconst_0   <i>; konstanta false</i>
   9:   istore_1   <i>; ulo¾it výsledek do lokální promìnné</i>
   10:  iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   11:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz2</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifeq    12 <i>; podmínìný skok</i>
   4:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   5:   ifeq    12 <i>; podmínìný skok</i>
   8:   iconst_1   <i>; konstanta true</i>
   9:   goto    13 <i>; nepodmínìný skok</i>
   12:  iconst_0   <i>; konstanta false</i>
   13:  istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   14:  iload_2
   15:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz3</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifne    8  <i>; podmínìný skok</i>
   4:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   5:   ifeq    12 <i>; podmínìný skok</i>
   8:   iconst_1   <i>; konstanta true</i>
   9:   goto    13 <i>; nepodmínìný skok</i>
   12:  iconst_0   <i>; konstanta false</i>
   13:  istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   14:  iload_2
   15:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz4</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   ixor       <i>; provést logickou operaci</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz5</strong>(boolean, boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifne    12 <i>; podmínìný skok</i>
   4:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   5:   ifeq    16 <i>; podmínìný skok</i>
   8:   iload_2
   9:   ifeq    16 <i>; podmínìný skok</i>
   12:  iconst_1   <i>; konstanta true</i>
   13:  goto    17 <i>; nepodmínìný skok</i>
   16:  iconst_0   <i>; konstanta false</i>
   17:  istore_3   <i>; ulo¾it výsledek do lokální promìnné</i>
   18:  iload_3
   19:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz6</strong>(boolean, boolean, boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifne    8  <i>; podmínìný skok</i>
   4:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   5:   ifeq    20 <i>; podmínìný skok</i>
   8:   iload_2
   9:   ifne    16 <i>; podmínìný skok</i>
   12:  iload_3
   13:  ifeq    20 <i>; podmínìný skok</i>
   16:  iconst_1   <i>; konstanta true</i>
   17:  goto    21 <i>; nepodmínìný skok</i>
   20:  iconst_0   <i>; konstanta false</i>
   21:  istore  4  <i>; ulo¾it výsledek do lokální promìnné</i>
   23:  iload   4
   25:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test3.lua</strong>:</h3>

<p>Podmínìné skoky nalezneme i v&nbsp;bajtkódu virtuálního stroje jazyka Lua:</p>

<pre>
function &lt;Test3.lua:7,10&gt; (3 instructions at 0x8ae6c88)
1 param, 2 slots, 0 upvalues, 2 locals, 0 constants, 0 functions
        1       [8]     NOT             1 0    <i>; provést logickou operaci</i>
        2       [9]     RETURN          1 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 1</i>
        3       [10]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test3.lua:12,15&gt; (5 instructions at 0x8ae6f08)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [13]    TESTSET         2 0 0
        2       [13]    JMP             0 1     ; to 4 <i>; skok</i>
        3       [13]    MOVE            2 1
        4       [14]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        5       [15]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test3.lua:17,20&gt; (5 instructions at 0x8ae7120)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [18]    TESTSET         2 0 1
        2       [18]    JMP             0 1     ; to 4 <i>; skok</i>
        3       [18]    MOVE            2 1
        4       [19]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        5       [20]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test3.lua:22,25&gt; (6 instructions at 0x8ae6eb0)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [23]    EQ              0 0 1
        2       [23]    JMP             0 1     ; to 4 <i>; skok</i>
        3       [23]    LOADBOOL        2 0 1
        4       [23]    LOADBOOL        2 1 0
        5       [24]    RETURN          2 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 2</i>
        6       [25]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test3.lua:27,30&gt; (7 instructions at 0x8ae7590)
3 params, 4 slots, 0 upvalues, 4 locals, 0 constants, 0 functions
        1       [28]    TESTSET         3 0 1
        2       [28]    JMP             0 3     ; to 6 <i>; skok</i>
        3       [28]    TESTSET         3 1 0
        4       [28]    JMP             0 1     ; to 6 <i>; skok</i>
        5       [28]    MOVE            3 2
        6       [29]    RETURN          3 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 3</i>
        7       [30]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test3.lua:32,35&gt; (9 instructions at 0x8ae74a0)
4 params, 5 slots, 0 upvalues, 5 locals, 0 constants, 0 functions
        1       [33]    TEST            0 1
        2       [33]    JMP             0 2     ; to 5 <i>; skok</i>
        3       [33]    TESTSET         4 1 0
        4       [33]    JMP             0 3     ; to 8 <i>; skok</i>
        5       [33]    TESTSET         4 2 1
        6       [33]    JMP             0 1     ; to 8 <i>; skok</i>
        7       [33]    MOVE            4 3
        8       [34]    RETURN          4 2    <i>; návrat z funkce a vrácení hodnoty lokální promìnné 4</i>
        9       [35]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test3.py</strong>:</h3>

<p>Pravdìpodobnì nebude velkým pøekvapením, ¾e se s&nbsp;podmínìnými skoky
setkáme i v&nbsp;bajtkódu virtuálního stroje jazyka Python (CPython):</p>

<pre>
<strong>vyraz1</strong>:
  8           0 LOAD_FAST                0 (x)
              3 UNARY_NOT           
              4 STORE_FAST               1 (result)
&nbsp;
  9           7 LOAD_FAST                1 (result)
             10 RETURN_VALUE        
&nbsp;
<strong>vyraz2</strong>:
 12           0 LOAD_FAST                0 (x)
              3 JUMP_IF_FALSE            4 (to 10)
              6 POP_TOP             
              7 LOAD_FAST                1 (y)
        &gt;&gt;   10 STORE_FAST               2 (result)
&nbsp;
 13          13 LOAD_FAST                2 (result)
             16 RETURN_VALUE        
&nbsp;
<strong>vyraz3</strong>:
 16           0 LOAD_FAST                0 (x)
              3 JUMP_IF_TRUE             4 (to 10)
              6 POP_TOP             
              7 LOAD_FAST                1 (y)
        &gt;&gt;   10 STORE_FAST               2 (result)
&nbsp;
 17          13 LOAD_FAST                2 (result)
             16 RETURN_VALUE        
&nbsp;
<strong>vyraz4</strong>:
 20           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 BINARY_XOR          
              7 STORE_FAST               2 (result)
&nbsp;
 21          10 LOAD_FAST                2 (result)
             13 RETURN_VALUE        
&nbsp;
<strong>vyraz5</strong>:
 24           0 LOAD_FAST                0 (x)
              3 JUMP_IF_TRUE            11 (to 17)
              6 POP_TOP             
              7 LOAD_FAST                1 (y)
             10 JUMP_IF_FALSE            4 (to 17)
             13 POP_TOP             
             14 LOAD_FAST                2 (z)
        &gt;&gt;   17 STORE_FAST               3 (result)
&nbsp;
 25          20 LOAD_FAST                3 (result)
             23 RETURN_VALUE        
&nbsp;
<strong>vyraz6</strong>:
 28           0 LOAD_FAST                0 (x)
              3 JUMP_IF_TRUE             7 (to 13)
              6 POP_TOP             
              7 LOAD_FAST                1 (y)
             10 JUMP_IF_FALSE           11 (to 24)
        &gt;&gt;   13 POP_TOP             
             14 LOAD_FAST                2 (z)
             17 JUMP_IF_TRUE             4 (to 24)
             20 POP_TOP             
             21 LOAD_FAST                3 (w)
        &gt;&gt;   24 STORE_FAST               4 (result)
&nbsp;
 29          27 LOAD_FAST                4 (result)
             30 RETURN_VALUE        
</pre>



<p><a name="k07"></a></p>
<h2 id="k07">7. Zkrácené vs. úplné vyhodnocení logických výrazù v&nbsp;Javì</h2>

<p>Ètenáøi, kteøí jsou alespoò èásteènì obeznámeni s&nbsp;assemblerem,
pravdìpodobnì budou pøedpokládat, ¾e logické (Booleovské) výrazy se budou
pøekládat podobným zpùsobem jako výrazy aritmetické; samozøejmì s&nbsp;tím
rozdílem, ¾e budou vyu¾ívány jiné instrukce pro provedení logických operací. Ve
skuteènosti v¹ak mù¾e být zpracování logických výrazù odli¹né, a to zejména
z&nbsp;toho dùvodu, ¾e (napøíklad v&nbsp;Javì) je mo¾né se rozhodnout mezi
zkráceným a nezkráceným vyhodnocením tìchto výrazù &ndash; u dvou základních
logických operací (logický souèet a logický souèin) je toti¾ mo¾né ji¾ na
základì hodnoty levého operandu v&nbsp;nìkterých pøípadech zjistit výsledek
celého výrazu a tudí¾ není zapotøebí druhý operand vùbec vyhodnocovat, co¾
napøíklad v&nbsp;pøípadì Javy vede k&nbsp;vytvoøení bajtkódu obsahujícího
programový skok. Pokud v¹ak pøedchozí demonstraèní pøíklad nepatrnì upravíme
takovým zpùsobem, aby se pou¾ívalo nezkrácené vyhodnocení logického souètu a
logického souèinu, skoky v&nbsp;bajtkódu &bdquo;magicky&ldquo; zmizí, o èem¾ se
samozøejmì mù¾eme snadno pøesvìdèit:</p>

<h3>Upravený demonstraèní pøíklad <strong>Test3.java</strong>:</h3>

<pre>
<i>/**</i>
<i> * Trida s nekolika jednoduchymi statickymi metodami</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu NEZKRACENE vyhodnocovanych Booleovskych vyrazu.</i>
<i> */</i>
public class <strong>Test3</strong> {
&nbsp;
    public static boolean <strong>vyraz1</strong>(boolean x) {
        boolean result = !x;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz2</strong>(boolean x, boolean y) {
        boolean result = x &amp; y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz3</strong>(boolean x, boolean y) {
        boolean result = x | y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz4</strong>(boolean x, boolean y) {
        boolean result = x ^ y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz5</strong>(boolean x, boolean y, boolean z) {
        boolean result = x | y &amp; z;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz6</strong>(boolean x, boolean y, boolean z, boolean w) {
        boolean result = (x | y) &amp; (z | w);
        return result;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(vyraz1(true));
        System.out.println(vyraz2(true, false));
        System.out.println(vyraz3(true, false));
        System.out.println(vyraz4(true, false));
        System.out.println(vyraz5(true, false, true));
        System.out.println(vyraz6(true, false, true, false));
    }
}
</pre>

<h3>Pøelo¾ený bajtkód upraveného demonstraèního pøíkladu <strong>Test3.java</strong>:</h3>

<p>Namísto programových skokù se novì pou¾ívají instrukce <strong>iand</strong>
a <strong>ior</strong>:</p>

<pre>
public static boolean <strong>vyraz2</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   iand       <i>; provést vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz3</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   ior        <i>; provést vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   istore_2   <i>; ulo¾it výsledek do lokální promìnné</i>
   4:   iload_2    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   5:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz5</strong>(boolean, boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   iload_2    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   3:   iand       <i>; provést první vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   4:   ior        <i>; provést druhou vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   5:   istore_3   <i>; ulo¾it výsledek do lokální promìnné</i>
   6:   iload_3    <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   7:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static boolean <strong>vyraz6</strong>(boolean, boolean, boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   2:   ior        <i>; provést první vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   3:   iload_2    <i>; ulo¾it tøetí parametr metody na zásobník</i>
   4:   iload_3    <i>; ulo¾it ètvrtý parametr metody na zásobník</i>
   5:   ior        <i>; provést druhou vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   6:   iand       <i>; provést tøetí vy¾adovanou logickou operaci a ulo¾it výsledek zpìt na zásobník</i>
   7:   istore  4  <i>; ulo¾it výsledek do lokální promìnné</i>
   9:   iload   4  <i>; vlo¾it hodnotu lokální promìnné (výsledek) na zásobník</i>
   11:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
</pre>



<p><a name="k08"></a></p>
<h2 id="k08">8. Pøeklad výrazù s&nbsp;relaèními operátory</h2>

<p>Výrazy s&nbsp;relaèními operátory se pøekládají do znaèné míry stejným
zpùsobem, jako logické výrazy, o èem¾ se ostatnì pøesvìdèíme:</p>

<h3>Demonstraèní pøíklad <strong>Test4.java</strong>:</h3>

<pre>
<i>/**</i>
<i> * Trida s nekolika jednoduchymi statickymi metodami</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu relacnich vyrazu.</i>
<i> */</i>
public class <strong>Test4</strong> {
&nbsp;
    public static boolean <strong>vyraz1</strong>(int x, int y) {
        boolean result = x &lt; y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz2</strong>(int x, int y) {
        boolean result = x &lt;= y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz3</strong>(int x, int y) {
        boolean result = x == y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz4</strong>(int x, int y) {
        boolean result = x != y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz5</strong>(int x, int y) {
        boolean result = x &gt;= y;
        return result;
    }
&nbsp;
    public static boolean <strong>vyraz6</strong>(int x, int y) {
        boolean result = x &gt; y;
        return result;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(vyraz1(1, 2));
        System.out.println(vyraz2(1, 2));
        System.out.println(vyraz3(1, 2));
        System.out.println(vyraz4(1, 2));
        System.out.println(vyraz5(1, 2));
        System.out.println(vyraz6(1, 2));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test4.lua</strong>:</h3>

<pre>
<i>--</i>
<i>-- Modul s nekolika jednoduchymi funkcemi</i>
<i>-- pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu relacnich vyrazu.</i>
<i>--</i>
&nbsp;
function <strong>vyraz1</strong>(x, y)
    local result = x &lt; y
    return result
end
&nbsp;
function <strong>vyraz2</strong>(x, y)
    local result = x &lt;= y
    return result
end
&nbsp;
function <strong>vyraz3</strong>(x, y)
    local result = x == y
    return result
end
&nbsp;
function <strong>vyraz4</strong>(x, y)
    local result = x ~= y
    return result
end
&nbsp;
function <strong>vyraz5</strong>(x, y, z)
    local result = x &gt;= y
    return result
end
&nbsp;
function <strong>vyraz6</strong>(x, y, z, w)
    local result = x &gt; y
    return result
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function main()
    print(vyraz1(1, 2))
    print(vyraz2(1, 2))
    print(vyraz3(1, 2))
    print(vyraz4(1, 2))
    print(vyraz5(1, 2))
    print(vyraz6(1, 2))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test4.py</strong>:</h3>

<pre>
<i>#</i>
<i># Modul s nekolika jednoduchymi funkcemi</i>
<i># pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu relacnich vyrazu.</i>
<i>#</i>
&nbsp;
def <strong>vyraz1</strong>(x, y):
    result = x &lt;= y
    return result
&nbsp;
def <strong>vyraz2</strong>(x, y):
    result = x &lt; y
    return result
&nbsp;
def <strong>vyraz3</strong>(x, y):
    result = x == y
    return result
&nbsp;
def <strong>vyraz4</strong>(x, y):
    result = x != y
    return result
&nbsp;
def <strong>vyraz5</strong>(x, y):
    result = x &gt;= y
    return result
&nbsp;
def <strong>vyraz6</strong>(x, y):
    result = x &gt; y
    return result
&nbsp;
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(vyraz1(1, 2))
    print(vyraz2(1, 2))
    print(vyraz3(1, 2))
    print(vyraz4(1, 2))
    print(vyraz5(1, 2))
    print(vyraz6(1, 2))
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nvyraz1:")
    dis(vyraz1)
&nbsp;
    print("\nvyraz2:")
    dis(vyraz2)
&nbsp;
    print("\nvyraz3:")
    dis(vyraz3)
&nbsp;
    print("\nvyraz4:")
    dis(vyraz4)
&nbsp;
    print("\nvyraz5:")
    dis(vyraz5)
&nbsp;
    print("\nvyraz6:")
    dis(vyraz6)
&nbsp;
main()
&nbsp;
disassemble()
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test4.java</strong>:</h3>

<p>Bajtkód JVM se v&nbsp;tomto pøípadì opìt neobejde bez skokù:</p>

<pre>
public static boolean <strong>vyraz1</strong>(int, int);
  Code:
   0:   iload_0
   1:   iload_1
   2:   if_icmpge       9
   5:   iconst_1
   6:   goto    10
   9:   iconst_0
   10:  istore_2
   11:  iload_2
   12:  ireturn
&nbsp;
public static boolean <strong>vyraz2</strong>(int, int);
  Code:
   0:   iload_0
   1:   iload_1
   2:   if_icmpgt       9
   5:   iconst_1
   6:   goto    10
   9:   iconst_0
   10:  istore_2
   11:  iload_2
   12:  ireturn
&nbsp;
public static boolean <strong>vyraz3</strong>(int, int);
  Code:
   0:   iload_0
   1:   iload_1
   2:   if_icmpne       9
   5:   iconst_1
   6:   goto    10
   9:   iconst_0
   10:  istore_2
   11:  iload_2
   12:  ireturn
&nbsp;
public static boolean <strong>vyraz4</strong>(int, int);
  Code:
   0:   iload_0
   1:   iload_1
   2:   if_icmpeq       9
   5:   iconst_1
   6:   goto    10
   9:   iconst_0
   10:  istore_2
   11:  iload_2
   12:  ireturn
&nbsp;
public static boolean <strong>vyraz5</strong>(int, int);
  Code:
   0:   iload_0
   1:   iload_1
   2:   if_icmplt       9
   5:   iconst_1
   6:   goto    10
   9:   iconst_0
   10:  istore_2
   11:  iload_2
   12:  ireturn
&nbsp;
public static boolean <strong>vyraz6</strong>(int, int);
  Code:
   0:   iload_0
   1:   iload_1
   2:   if_icmple       9
   5:   iconst_1
   6:   goto    10
   9:   iconst_0
   10:  istore_2
   11:  iload_2
   12:  ireturn
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test4.lua</strong>:</h3>

<p>V&nbsp;bajtkódu jazyka Lua je nutné pou¾ívat skoky, na rozdíl od dále
ukázaného bajtkódu Pythonu:</p>

<pre>
function &lt;Test4.lua:7,10&gt; (6 instructions at 0x995dc88)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [8]     LT              1 0 1
        2       [8]     JMP             0 1     ; to 4
        3       [8]     LOADBOOL        2 0 1
        4       [8]     LOADBOOL        2 1 0
        5       [9]     RETURN          2 2
        6       [10]    RETURN          0 1
&nbsp;
function &lt;Test4.lua:12,15&gt; (6 instructions at 0x995df48)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [13]    LE              1 0 1
        2       [13]    JMP             0 1     ; to 4
        3       [13]    LOADBOOL        2 0 1
        4       [13]    LOADBOOL        2 1 0
        5       [14]    RETURN          2 2
        6       [15]    RETURN          0 1
&nbsp;
function &lt;Test4.lua:17,20&gt; (6 instructions at 0x995e148)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [18]    EQ              1 0 1
        2       [18]    JMP             0 1     ; to 4
        3       [18]    LOADBOOL        2 0 1
        4       [18]    LOADBOOL        2 1 0
        5       [19]    RETURN          2 2
        6       [20]    RETURN          0 1
&nbsp;
function &lt;Test4.lua:22,25&gt; (6 instructions at 0x995def0)
2 params, 3 slots, 0 upvalues, 3 locals, 0 constants, 0 functions
        1       [23]    EQ              0 0 1
        2       [23]    JMP             0 1     ; to 4
        3       [23]    LOADBOOL        2 0 1
        4       [23]    LOADBOOL        2 1 0
        5       [24]    RETURN          2 2
        6       [25]    RETURN          0 1
&nbsp;
function &lt;Test4.lua:27,30&gt; (6 instructions at 0x995de00)
3 params, 4 slots, 0 upvalues, 4 locals, 0 constants, 0 functions
        1       [28]    LE              1 1 0
        2       [28]    JMP             0 1     ; to 4
        3       [28]    LOADBOOL        3 0 1
        4       [28]    LOADBOOL        3 1 0
        5       [29]    RETURN          3 2
        6       [30]    RETURN          0 1
&nbsp;
function &lt;Test4.lua:32,35&gt; (6 instructions at 0x995e508)
4 params, 5 slots, 0 upvalues, 5 locals, 0 constants, 0 functions
        1       [33]    LT              1 1 0
        2       [33]    JMP             0 1     ; to 4
        3       [33]    LOADBOOL        4 0 1
        4       [33]    LOADBOOL        4 1 0
        5       [34]    RETURN          4 2
        6       [35]    RETURN          0 1
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test4.py</strong>:</h3>

<p>Python VM pou¾ívá pøímoèarý zpùsob práce s&nbsp;relaèními operátory, co¾ je
názornì vidìt z&nbsp;bajtkódu:</p>

<pre>
<strong>vyraz1</strong>:
  8           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               1 (&lt;=)
              9 STORE_FAST               2 (result)
&nbsp;
  9          12 LOAD_FAST                2 (result)
             15 RETURN_VALUE        
&nbsp;
<strong>vyraz2</strong>:
 12           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               0 (&lt;)
              9 STORE_FAST               2 (result)
&nbsp;
 13          12 LOAD_FAST                2 (result)
             15 RETURN_VALUE        
&nbsp;
<strong>vyraz3</strong>:
 16           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               2 (==)
              9 STORE_FAST               2 (result)
&nbsp;
 17          12 LOAD_FAST                2 (result)
             15 RETURN_VALUE        
&nbsp;
<strong>vyraz4</strong>:
 20           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               3 (!=)
              9 STORE_FAST               2 (result)
&nbsp;
 21          12 LOAD_FAST                2 (result)
             15 RETURN_VALUE        
&nbsp;
<strong>vyraz5</strong>:
 24           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               5 (&gt;=)
              9 STORE_FAST               2 (result)
&nbsp;
 25          12 LOAD_FAST                2 (result)
             15 RETURN_VALUE        
&nbsp;
<strong>vyraz6</strong>:
 28           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               4 (&gt;)
              9 STORE_FAST               2 (result)
&nbsp;
 29          12 LOAD_FAST                2 (result)
             15 RETURN_VALUE        
</pre>



<p><a name="k09"></a></p>
<h2 id="k09">9. Pøeklad øídicí struktury typu <strong>if-then</strong></h2>

<p>Nyní se ji¾ koneènì dostáváme k&nbsp;mnohem zajímavìj¹ímu tématu &ndash;
k&nbsp;podmínìným skokùm, kterými jsou realizovány strukturované pøíkazy
(rozeskoky) typu <strong>if-then</strong> a samozøejmì i úplné rozhodovací
konstrukce typu <strong>if-then-else</strong>. V&nbsp;instrukèním kódu
virtuálního stroje jazyka Java je k&nbsp;dispozici pomìrnì velké mno¾ství typù
rùzných podmínìných skokù. V&nbsp;této kapitole si popí¹eme skoky, které se
provedou resp.&nbsp;neprovedou na základì testu hodnoty jediného operandu,
který je ulo¾en na vrcholu zásobníku operandù (<i>TOS</i>) a je ve zdrojovém
kódu typu Boolean. Ve v¹ech pøípadech se pøitom po pøekladu tento operand chápe
jako operand typu <i>int</i>, který je po provedení testu ze zásobníku operandù
odstranìn (samozøejmì nezávisle na tom, jak test ve skuteènosti dopadl).
Instrukce podmínìného skoku nejdøíve na základì operaèního kódu instrukce
zjistí, zda je operand nulový, nenulový, vìt¹í ne¾ nula, men¹í ne¾ nula, vìt¹í
nebo roven nule popø.&nbsp;naopak men¹í nebo roven nule. Pokud je daná podmínka
splnìna, je proveden skok na ¹estnáctibitovou lokální adresu ulo¾enou za
operaèním kódem instrukce; v&nbsp;opaèném pøípadì se pokraèuje v&nbsp;provádìní
instrukce ulo¾ené ihned za podmínìným skokem.</p>

<h3>Demonstraèní pøíklad <strong>Test5.java</strong>:</h3>

<pre>
<i>/**</i>
<i> * Trida s nekolika jednoduchymi statickymi metodami</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu programove struktury typu if-then</i>
<i> */</i>
public class <strong>Test5</strong> {
&nbsp;
    public static int <strong>prikaz1</strong>(boolean x) {
        if (x) {
            return 10;
        }
        return 20;
    }
&nbsp;
    public static int <strong>prikaz2</strong>(boolean x, boolean y) {
        if (x) {
            if (y) {
                return 10;
            }
        }
        return 20;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(prikaz1(true));
        System.out.println(prikaz1(false));
        System.out.println(prikaz2(true, true));
        System.out.println(prikaz2(true, false));
        System.out.println(prikaz2(false, true));
        System.out.println(prikaz2(false, false));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test5.lua</strong>:</h3>

<p>Ekvivalentní pøíklad vytvoøený v&nbsp;jazyce Lua by vypadal následovnì:</p>

<pre>
<i>--</i>
<i>-- Modul s nekolika jednoduchymi funkcemi</i>
<i>-- pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove struktury typu if-then.</i>
<i>--</i>
&nbsp;
function <strong>prikaz1</strong>(x)
    if x then
        return 10
    end
    return 20
end
&nbsp;
function prikaz2(x, y)
    if x then
        if y then
            return 10
        end
    end
    return 20
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(prikaz1(true))
    print(prikaz1(false))
    print(prikaz2(true, true))
    print(prikaz2(true, false))
    print(prikaz2(false, true))
    print(prikaz2(false, false))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test5.py</strong>:</h3>

<p>Program v&nbsp;Pythonu se v&nbsp;tomto pøípadì do znaèné míry podobá
pøíkladu v&nbsp;Lue:</p>

<pre>
<i>#</i>
<i># Modul s nekolika jednoduchymi funkcemi</i>
<i># pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu programove struktury typu if-then.</i>
<i>#</i>
&nbsp;
def <strong>prikaz1</strong>(x):
    if x:
        return 10
    return 20
&nbsp;
def <strong>prikaz2</strong>(x, y):
    if x:
        if y:
            return 10
    return 20
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(prikaz1(True))
    print(prikaz1(False))
    print(prikaz2(True, True))
    print(prikaz2(True, False))
    print(prikaz2(False, True))
    print(prikaz2(False, False))
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nprikaz1:")
    dis(prikaz1)
&nbsp;
    print("\nprikaz2:")
    dis(prikaz2)
&nbsp;
main()
&nbsp;
disassemble()
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test5.java</strong>:</h3>

<p>Bajtkód JVM je v&nbsp;pøípadì demonstraèního pøíkladu Test5 velmi pøímoèarý
a vlastnì i jednodu¹¹í, ne¾ &bdquo;pouhé&ldquo; vyhodnocení logického
výrazu:</p>

<pre>
public static int <strong>prikaz1</strong>(boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifeq    7  <i>; podmínìný skok</i>
   4:   bipush  10 <i>; návratová hodnota na zásobník</i>
   6:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
   7:   bipush  20 <i>; návratová hodnota na zásobník</i>
   9:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>prikaz2</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifeq    11 <i>; podmínìný skok</i>
   4:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   5:   ifeq    11 <i>; podmínìný skok</i>
   8:   bipush  10 <i>; návratová hodnota na zásobník</i>
   10:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
   11:  bipush  20 <i>; návratová hodnota na zásobník</i>
   13:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test5.lua</strong>:</h3>

<p>Bajtkód Lua VM je pøekvapivì velmi podobný bajtkódu JVM:</p>

<pre>
function &lt;Test5.lua:7,12&gt; (7 instructions at 0x99b8c88)
1 param, 2 slots, 0 upvalues, 1 local, 2 constants, 0 functions
        1       [8]     TEST            0 0          <i>; test hodnoty prvního parametru funkce</i>
        2       [8]     JMP             0 2     ; to 5
        3       [9]     LOADK           1 -1    ; 10 <i>; návratová hodnota</i>
        4       [9]     RETURN          1 2
        5       [11]    LOADK           1 -2    ; 20 <i>; návratová hodnota</i>
        6       [11]    RETURN          1 2
        7       [12]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
&nbsp;
function &lt;Test5.lua:14,21&gt; (9 instructions at 0x99b8f28)
2 params, 3 slots, 0 upvalues, 2 locals, 2 constants, 0 functions
        1       [15]    TEST            0 0          <i>; test hodnoty prvního parametru funkce</i>
        2       [15]    JMP             0 4     ; to 7
        3       [16]    TEST            1 0          <i>; test hodnoty druhého parametru funkce</i>
        4       [16]    JMP             0 2     ; to 7
        5       [17]    LOADK           2 -1    ; 10 <i>; návratová hodnota</i>
        6       [17]    RETURN          2 2
        7       [20]    LOADK           2 -2    ; 20 <i>; návratová hodnota</i>
        8       [20]    RETURN          2 2
        9       [21]    RETURN          0 1    <i>; automaticky vkládaná instrukce návratu z funkce</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test5.py</strong>:</h3>

<p>Podobnì je s&nbsp;vyu¾itím instrukcí podmínky+skoku proveden pøeklad do
bajtkódu virtuálního stroje jazyka Python:</p>

<pre>
<strong>prikaz1</strong>:
  8           0 LOAD_FAST                0 (x)
              3 JUMP_IF_FALSE            5 (to 11)
              6 POP_TOP             
&nbsp;
  9           7 LOAD_CONST               1 (10)
             10 RETURN_VALUE        
        &gt;&gt;   11 POP_TOP             
&nbsp;
 10          12 LOAD_CONST               2 (20)
             15 RETURN_VALUE        
&nbsp;
<strong>prikaz2</strong>:
 13           0 LOAD_FAST                0 (x)
              3 JUMP_IF_FALSE           16 (to 22)
              6 POP_TOP             
&nbsp;
 14           7 LOAD_FAST                1 (y)
             10 JUMP_IF_FALSE            5 (to 18)
             13 POP_TOP             
&nbsp;
 15          14 LOAD_CONST               1 (10)
             17 RETURN_VALUE        
        &gt;&gt;   18 POP_TOP             
             19 JUMP_FORWARD             1 (to 23)
        &gt;&gt;   22 POP_TOP             
&nbsp;
 16     &gt;&gt;   23 LOAD_CONST               2 (20)
             26 RETURN_VALUE        
</pre>



<p><a name="k10"></a></p>
<h2 id="k10">10. Pøeklad øídicí struktury typu <strong>if-then-else</strong></h2>

<p>Úplná programová konstrukce <strong>if-then-else</strong> vznikne
z&nbsp;neúplné konstrukce typu <strong>if-then</strong> doplnìní programové
vìtve <strong>else</strong>, co¾ je samozøejmì podporováno ve v¹ech tøech
programovacích jazycích, jejich¾ bajtkódy se v&nbsp;dne¹ním èlánku
zaobíráme.</p>

<h3>Demonstraèní pøíklad <strong>Test6.java</strong>:</h3>

<pre>
<i>/**</i>
<i> * Trida s nekolika jednoduchymi statickymi metodami</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu programove struktury typu if-then-else</i>
<i> */</i>
public class <strong>Test6</strong> {
&nbsp;
    public static int <strong>prikaz1</strong>(boolean x) {
        if (x) {
            return 10;
        }
        else {
            return 20;
        }
    }
&nbsp;
    public static int <strong>prikaz2</strong>(boolean x, boolean y) {
        if (x) {
            if (y) {
                return 10;
            }
            else {
                return 20;
            }
        }
        else {
            return 30;
        }
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(prikaz1(true));
        System.out.println(prikaz2(true, true));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test6.lua</strong>:</h3>

<p>Ekvivalentní program v&nbsp;Lue je velmi podobný Javovské variantì:</p>

<pre>
<i>--</i>
<i>-- Modul s nekolika jednoduchymi funkcemi</i>
<i>-- pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove struktury typu if-then-else.</i>
<i>--</i>
&nbsp;
function <strong>prikaz1</strong>(x)
    if x then
        return 10
    else
        return 20
    end
end
&nbsp;
function <strong>prikaz2</strong>(x, y)
    if x then
        if y then
            return 10
        else
            return 20
        end
        else
            return 30
    end
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(prikaz1(true))
    print(prikaz1(false))
    print(prikaz2(true, true))
    print(prikaz2(true, false))
    print(prikaz2(false, true))
    print(prikaz2(false, false))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test6.py</strong>:</h3>

<p>To stejné platí pro podobný program naprogramovaný v&nbsp;Pythonu:</p>

<pre>
<i>#</i>
<i># Modul s nekolika jednoduchymi funkcemi</i>
<i># pro otestovani zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu programove struktury typu if-then-else.</i>
<i>#</i>
&nbsp;
def <strong>prikaz1</strong>(x):
    if x:
        return 10
    else:
        return 20
&nbsp;
def <strong>prikaz2</strong>(x, y):
    if x:
        if y:
            return 10
        else:
            return 20
    else:
        return 30
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(prikaz1(True))
    print(prikaz1(False))
    print(prikaz2(True, True))
    print(prikaz2(True, False))
    print(prikaz2(False, True))
    print(prikaz2(False, False))
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nprikaz1:")
    dis(prikaz1)
&nbsp;
    print("\nprikaz2:")
    dis(prikaz2)
&nbsp;
main()
&nbsp;
disassemble()
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test6.java</strong>:</h3>

<p>Konstrukce <strong>if-then-else</strong> je v&nbsp;pøípadì JVM pøelo¾ena do
dvojice instrukcí podmínìný skok+nepodmínìný skok:</p>

<pre>
public static int <strong>prikaz1</strong>(boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifeq    7  <i>; podmínìný skok</i>
   4:   bipush  10 <i>; návratová hodnota na zásobník</i>
   6:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
   7:   bipush  20 <i>; návratová hodnota na zásobník</i>
   9:   ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
&nbsp;
public static int <strong>prikaz2</strong>(boolean, boolean);
  Code:
   0:   iload_0    <i>; ulo¾it první parametr metody na zásobník</i>
   1:   ifeq    14 <i>; podmínìný skok</i>
   4:   iload_1    <i>; ulo¾it druhý parametr metody na zásobník</i>
   5:   ifeq    11 <i>; podmínìný skok</i>
   8:   bipush  10 <i>; návratová hodnota na zásobník</i>
   10:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
   11:  bipush  20 <i>; návratová hodnota na zásobník</i>
   13:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
   14:  bipush  30 <i>; návratová hodnota na zásobník</i>
   16:  ireturn    <i>; výskok z metody s pøedáním návratové hodnoty</i>
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test6.lua</strong>:</h3>

<p>Podobnì je tomu i v&nbsp;pøípadì bajtkódu Lua VM:</p>

<pre>
function &lt;Test6.lua:7,13&gt; (8 instructions at 0x97ccc88)
1 param, 2 slots, 0 upvalues, 1 local, 2 constants, 0 functions
        1       [8]     TEST            0 0
        2       [8]     JMP             0 3     ; to 6
        3       [9]     LOADK           1 -1    ; 10
        4       [9]     RETURN          1 2
        5       [9]     JMP             0 2     ; to 8
        6       [11]    LOADK           1 -2    ; 20
        7       [11]    RETURN          1 2
        8       [13]    RETURN          0 1
&nbsp;
function &lt;Test6.lua:15,25&gt; (13 instructions at 0x97ccff8)
2 params, 3 slots, 0 upvalues, 2 locals, 3 constants, 0 functions
        1       [16]    TEST            0 0
        2       [16]    JMP             0 8     ; to 11
        3       [17]    TEST            1 0
        4       [17]    JMP             0 3     ; to 8
        5       [18]    LOADK           2 -1    ; 10
        6       [18]    RETURN          2 2
        7       [18]    JMP             0 5     ; to 13
        8       [20]    LOADK           2 -2    ; 20
        9       [20]    RETURN          2 2
        10      [21]    JMP             0 2     ; to 13
        11      [23]    LOADK           2 -3    ; 30
        12      [23]    RETURN          2 2
        13      [25]    RETURN          0 1
</pre>

<h3>Pøelo¾ený bajtkód demonstraèního pøíkladu <strong>Test6.py</strong>:</h3>

<p>Pro variantu stejné aplikace napsané v&nbsp;Pythonu vypadá bajtkód
následovnì (zde stojí za zmínku instrukce <strong>POP_TOP</strong> pro
odstranìní polo¾ky z&nbsp;vrcholu zásobníku operandù):</p>

<pre>
<strong>prikaz1</strong>:
  8           0 LOAD_FAST                0 (x)
              3 JUMP_IF_FALSE            5 (to 11)
              6 POP_TOP             
&nbsp;
  9           7 LOAD_CONST               1 (10)
             10 RETURN_VALUE        
        &gt;&gt;   11 POP_TOP             
&nbsp;
 11          12 LOAD_CONST               2 (20)
             15 RETURN_VALUE        
             16 LOAD_CONST               0 (None)
             19 RETURN_VALUE        
&nbsp;
<strong>prikaz2</strong>:
 14           0 LOAD_FAST                0 (x)
              3 JUMP_IF_FALSE           20 (to 26)
              6 POP_TOP             
&nbsp;
 15           7 LOAD_FAST                1 (y)
             10 JUMP_IF_FALSE            5 (to 18)
             13 POP_TOP             
&nbsp;
 16          14 LOAD_CONST               1 (10)
             17 RETURN_VALUE        
        &gt;&gt;   18 POP_TOP             
&nbsp;
 18          19 LOAD_CONST               2 (20)
             22 RETURN_VALUE        
             23 JUMP_FORWARD             5 (to 31)
        &gt;&gt;   26 POP_TOP             
&nbsp;
 20          27 LOAD_CONST               3 (30)
             30 RETURN_VALUE        
        &gt;&gt;   31 LOAD_CONST               0 (None)
             34 RETURN_VALUE        
</pre>



<p><a name="k11"></a></p>
<h2 id="k11">11. Repositáø se zdrojovými kódy v¹ech dne¹ních demonstraèních pøíkladù</h2>

<p>V¹ech pìt dnes popsaných demonstraèních pøíkladù (naprogramovaných
v&nbsp;Javì, Lue i Pythonu) bylo ulo¾eno do Mercurial repositáøe umístìného na
adrese <a
href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/</a>.
Odkazy na prozatím poslední verze tìchto pøíkladù naleznete v&nbsp;tabulce pod
tímto odstavcem:</p>

<table>
<tr><th> #</th><th>Zdrojový kód</th><th>Umístìní</th></tr>
<tr><td> 1</td><td>Test2.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test2.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test2.java</a></td></tr>
<tr><td> 2</td><td>Test2.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test2.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test2.lua</a></td></tr>
<tr><td> 3</td><td>Test2.py  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test2.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test2.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td> 4</td><td>Test3.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test3.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test3.java</a></td></tr>
<tr><td> 5</td><td>Test3.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test3.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test3.lua</a></td></tr>
<tr><td> 6</td><td>Test3.py  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test3.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test3.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td> 7</td><td>Test4.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test4.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test4.java</a></td></tr>
<tr><td> 8</td><td>Test4.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test4.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test4.lua</a></td></tr>
<tr><td> 9</td><td>Test4.py  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test4.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test4.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>10</td><td>Test5.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test5.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test5.java</a></td></tr>
<tr><td>11</td><td>Test5.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test5.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test5.lua</a></td></tr>
<tr><td>12</td><td>Test5.py  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test5.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test5.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>13</td><td>Test6.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test6.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/84bb68ad370b/bytecode/Java/Test6.java</a></td></tr>
<tr><td>14</td><td>Test6.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test6.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/4306edda5d9d/bytecode/Lua/Test6.lua</a></td></tr>
<tr><td>15</td><td>Test6.py  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test6.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/a1f3b6f40b85/bytecode/Python/Test6.py</a></td></tr>
</table>



<p><a name="k12"></a></p>
<h2 id="k12">12. Odkazy na Internetu</h2>

<ol>

<li>Parrot<br />
<a href="http://www.parrot.org/">http://www.parrot.org/</a>
</li>

<li>Parrot languages<br />
<a href="http://www.parrot.org/languages">http://www.parrot.org/languages</a>
</li>

<li>Parrot Primer<br />
<a href="http://docs.parrot.org/parrot/latest/html/docs/intro.pod.html">http://docs.parrot.org/parrot/latest/html/docs/intro.pod.html</a>
</li>

<li>Parrot Opcodes<br />
<a href="http://docs.parrot.org/parrot/latest/html/ops.html">http://docs.parrot.org/parrot/latest/html/ops.html</a>
</li>

<li>Parrot VM<br />
<a href="http://en.wikibooks.org/wiki/Parrot_Virtual_Machine">http://en.wikibooks.org/wiki/Parrot_Virtual_Machine</a>
</li>

<li>Parrot Assembly Language<br />
<a href="http://www.perl6.org/archive/pdd/pdd06_pasm.html">http://www.perl6.org/archive/pdd/pdd06_pasm.html</a>
</li>

<li>Parrot Reference: Chapter 11 - Perl 6 and Parrot Essentials<br />
<a href="http://oreilly.com/perl/excerpts/perl-6-and-parrot-essentials/parrot-reference.html">http://oreilly.com/perl/excerpts/perl-6-and-parrot-essentials/parrot-reference.html</a>
</li>

<li>Python Bytecode: Fun With Dis<br />
<a href="http://akaptur.github.io/blog/2013/08/14/python-bytecode-fun-with-dis/">http://akaptur.github.io/blog/2013/08/14/python-bytecode-fun-with-dis/</a>
</li>

<li>Python's Innards: Hello, ceval.c!<br />
<a href="http://tech.blog.aknin.name/category/my-projects/pythons-innards/">http://tech.blog.aknin.name/category/my-projects/pythons-innards/</a>
</li>

<li>Byterun<br />
<a href="https://github.com/nedbat/byterun">https://github.com/nedbat/byterun</a>
</li>

<li>Python Byte Code Instructions<br />
<a href="http://document.ihg.uni-duisburg.de/Documentation/Python/lib/node56.html">http://document.ihg.uni-duisburg.de/Documentation/Python/lib/node56.html</a>
</li>

<li>Python Byte Code Instructions<br />
<a href="https://docs.python.org/3.2/library/dis.html#python-bytecode-instructions">https://docs.python.org/3.2/library/dis.html#python-bytecode-instructions</a>
</li>

<li>Programovací jazyk Lua<br />
<a href="http://palmknihy.cz/web/kniha/programovaci-jazyk-lua-12651.htm">http://palmknihy.cz/web/kniha/programovaci-jazyk-lua-12651.htm</a>
</li>

<li>Lua 5.2 sources<br />
<a href="http://www.lua.org/source/5.2/">http://www.lua.org/source/5.2/</a>
</li>

<li>Lua 5.2 sources - lopcodes.h<br />
<a href="http://www.lua.org/source/5.2/lopcodes.h.html">http://www.lua.org/source/5.2/lopcodes.h.html</a>
</li>

<li>Lua 5.2 sources - lopcodes.c<br />
<a href="http://www.lua.org/source/5.2/lopcodes.c.html">http://www.lua.org/source/5.2/lopcodes.c.html</a>
</li>

<li>dis - Python module<br />
<a href="https://docs.python.org/2/library/dis.html">https://docs.python.org/2/library/dis.html</a>
</li>

<li>Comparison of Python virtual machines<br />
<a href="http://polishlinux.org/apps/cli/comparison-of-python-virtual-machines/">http://polishlinux.org/apps/cli/comparison-of-python-virtual-machines/</a>
</li>

<li>O-code<br />
<a href="http://en.wikipedia.org/wiki/O-code_machine">http://en.wikipedia.org/wiki/O-code_machine</a>
</li>

<li>BCPL<br />
<a href="http://en.wikipedia.org/wiki/BCPL">http://en.wikipedia.org/wiki/BCPL</a>
</li>

<li>The BCPL Cintcode System and Cintpos User Guide by Martin Richards<br />
<a href="http://www.cl.cam.ac.uk/users/mr/bcplman.pdf">http://www.cl.cam.ac.uk/users/mr/bcplman.pdf</a>
</li>

<li>Bootstrapping the BCPL Compiler using INTCODE<br />
<a href="http://www.gtoal.com/languages/bcpl/amiga/bcpl/booting.txt">http://www.gtoal.com/languages/bcpl/amiga/bcpl/booting.txt</a>
</li>

<li>p-code machine<br />
<a href="http://en.wikipedia.org/wiki/P-code_machine">http://en.wikipedia.org/wiki/P-code_machine</a>
</li>

<li>ucsd-psystem-vm 0.11 (a portable virtual machine for the UCSD p-System)<br />
<a href="http://ucsd-psystem-vm.sourceforge.net/">http://ucsd-psystem-vm.sourceforge.net/</a>
</li>

<li>Introduction to Smalltalk bytecodes<br />
<a href="http://marianopeck.wordpress.com/2011/05/21/introduction-to-smalltalk-bytecodes/">http://marianopeck.wordpress.com/2011/05/21/introduction-to-smalltalk-bytecodes/</a>
</li>

<li>Audio File Formats.<br />
<a href="http://sox.sourceforge.net/AudioFormats-11.html">http://sox.sourceforge.net/AudioFormats-11.html</a>
</li>

<li>TestSounds.com: pure digital sounds to test your audio<br />
<a href="http://www.testsounds.com/">http://www.testsounds.com/</a>
</li>

<li>Test Tones (20hz - 20khz)<br />
<a href="http://mdf1.tripod.com/test-tones.html">http://mdf1.tripod.com/test-tones.html</a>
</li>

<li>WAV (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/WAV">http://en.wikipedia.org/wiki/WAV</a>
</li>

<li>WAVE PCM soundfile format<br />
<a href="https://ccrma.stanford.edu/courses/422/projects/WaveFormat/">https://ccrma.stanford.edu/courses/422/projects/WaveFormat/</a>
</li>

<li>Audio Interchange File Format<br />
<a href="http://en.wikipedia.org/wiki/Aiff">http://en.wikipedia.org/wiki/Aiff</a>
</li>

<li>Musical Instrument Digital Interface,<br />
<a href="http://en.wikipedia.org/wiki/Musical_Instrument_Digital_Interface">http://en.wikipedia.org/wiki/Musical_Instrument_Digital_Interface</a>
</li>

<li>A MIDI Pedalboard Encode,<br />
<a href="http://www.pykett.org.uk/a_midi_pedalboard_encoder.htm">http://www.pykett.org.uk/a_midi_pedalboard_encoder.htm</a>
</li>

<li>MIDI Note Number, Frequency Table,<br />
<a href="http://tonalsoft.com/pub/news/pitch-bend.aspx">http://tonalsoft.com/pub/news/pitch-bend.aspx</a>
</li>

<li>Note names, MIDI numbers and frequencies,<br />
<a href="http://www.phys.unsw.edu.au/jw/notes.html">http://www.phys.unsw.edu.au/jw/notes.html</a>
</li>

<li>The MIDI Specification,<br />
<a href="http://www.gweep.net/~prefect/eng/reference/protocol/midispec.html">http://www.gweep.net/~prefect/eng/reference/protocol/midispec.html</a>
</li>

<li>Essentials of the MIDI protocol,<br />
<a href="http://ccrma.stanford.edu/~craig/articles/linuxmidi/misc/essenmidi.html">http://ccrma.stanford.edu/~craig/articles/linuxmidi/misc/essenmidi.html</a>
</li>

<li>General MIDI,<br />
<a href="http://en.wikipedia.org/wiki/General_MIDI">http://en.wikipedia.org/wiki/General_MIDI</a>
</li>

<li>Obecné MIDI (General MIDI), <br />
<a href="http://www-kiv.zcu.cz/~herout/html_sbo/midi/5.html">http://www-kiv.zcu.cz/~herout/html_sbo/midi/5.html</a>
</li>

<li>Custom Chips: Paula<br />
<a href="http://www.amiga-hardware.com/showhardware.cgi?HARDID=1460">http://www.amiga-hardware.com/showhardware.cgi?HARDID=1460</a>
</li>

<li>Big Book of Amiga Hardware<br />
<a href="http://www.amiga-resistance.info/bboahfaq/">http://www.amiga-resistance.info/bboahfaq/</a>
</li>

<li>Amiga Hardware Database<br />
<a href="http://amiga.resource.cx/">http://amiga.resource.cx/</a>
</li>

<li>ExoticA<br />
<a href="http://www.exotica.org.uk/wiki/Main_Page">http://www.exotica.org.uk/wiki/Main_Page</a>
</li>

<li>The absolute basics of Amiga audio<br />
<a href="http://www.sufo.estates.co.uk/amiga/amimus.html">http://www.sufo.estates.co.uk/amiga/amimus.html</a>
</li>

<li>Wikipedia: Tracker<br />
<a href="http://en.wikipedia.org/wiki/Tracker">http://en.wikipedia.org/wiki/Tracker</a>
</li>

<li>Wikipedia: Trackers<br />
<a href="http://en.wikipedia.org/wiki/Trackers">http://en.wikipedia.org/wiki/Trackers</a>
</li>

<li>Ultimate Soundtracker<br />
<a href="http://en.wikipedia.org/wiki/Ultimate_Soundtracker">http://en.wikipedia.org/wiki/Ultimate_Soundtracker</a>
</li>

<li>Protracker<br />
<a href="http://en.wikipedia.org/wiki/ProTracker">http://en.wikipedia.org/wiki/ProTracker</a>
</li>

<li>Impulse Tracker<br />
<a href="http://en.wikipedia.org/wiki/Impulse_Tracker">http://en.wikipedia.org/wiki/Impulse_Tracker</a>
</li>

<li>Scream Tracker<br />
<a href="http://en.wikipedia.org/wiki/ScreamTracker">http://en.wikipedia.org/wiki/ScreamTracker</a>
</li>

<li>MikMod for Java<br />
<a href="http://jmikmod.berlios.de/">http://jmikmod.berlios.de/</a>
</li>

<li>List of audio trackers<br />
<a href="http://en.wikipedia.org/wiki/List_of_audio_trackers">http://en.wikipedia.org/wiki/List_of_audio_trackers</a>
</li>

<li>Wikipedia: Module File<br />
<a href="http://en.wikipedia.org/wiki/Module_file">http://en.wikipedia.org/wiki/Module_file</a>
</li>

<li>Wikipedia: Chiptune<br />
<a href="http://en.wikipedia.org/wiki/Chiptune">http://en.wikipedia.org/wiki/Chiptune</a>
</li>

<li>SDL_mixer 2.0<br />
<a href="http://www.libsdl.org/projects/SDL_mixer/">http://www.libsdl.org/projects/SDL_mixer/</a>
</li>

<li>SDLJava: package sdljava.ttf<br />
<a href="http://sdljava.sourceforge.net/docs/api/sdljava/ttf/package-summary.html#package_description">http://sdljava.sourceforge.net/docs/api/sdljava/ttf/package-summary.html#package_description</a>
</li>

<li>SDLJava: class sdljava.ttf.SDLTTF<br />
<a href="http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTTF.html">http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTTF.html</a>
</li>

<li>SDLJava: class sdljava.ttf.SDLTrueTypeFont<br />
<a href="http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTrueTypeFont.html">http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTrueTypeFont.html</a>
</li>

<li>SDL_ttf Documentation<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/docs/">http://www.libsdl.org/projects/SDL_ttf/docs/</a>
</li>

<li>SDL_ttf 2.0 (není prozatím souèástí SDLJava)<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/">http://www.libsdl.org/projects/SDL_ttf/</a>
</li>

<li>SDL_ttf doc<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/docs/SDL_ttf_frame.html">http://www.libsdl.org/projects/SDL_ttf/docs/SDL_ttf_frame.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_Surface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_PixelFormat<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlpixelformat.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlpixelformat.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_LockSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdllocksurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdllocksurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_UnlockSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlunlocksurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlunlocksurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_LoadBMP<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlloadbmp.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlloadbmp.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_SaveBMP<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsavebmp.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsavebmp.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_BlitSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlblitsurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlblitsurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_VideoInfo<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlvideoinfo.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlvideoinfo.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_GetVideoInfo<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlgetvideoinfo.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlgetvideoinfo.html</a>
</li>

<li>glDrawArrays<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArrays.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArrays.xml</a>
</li>

<li>glDrawElements<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElements.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElements.xml</a>
</li>

<li>glDrawArraysInstanced<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArraysInstanced.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArraysInstanced.xml</a>
</li>

<li>glDrawElementsInstanced<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElementsInstanced.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElementsInstanced.xml</a>
</li>

<li>Root.cz: Seriál Grafická knihovna OpenGL<br />
<a href="http://www.root.cz/serialy/graficka-knihovna-opengl/">http://www.root.cz/serialy/graficka-knihovna-opengl/</a>
</li>

<li>Root.cz: Seriál Tvorba pøenositelných grafických aplikací vyu¾ívajících knihovnu GLUT<br />
<a href="http://www.root.cz/serialy/tvorba-prenositelnych-grafickych-aplikaci-vyuzivajicich-knihovnu-glut/">http://www.root.cz/serialy/tvorba-prenositelnych-grafickych-aplikaci-vyuzivajicich-knihovnu-glut/</a>
</li>

<li>Best Practices for Working with Vertex Data<br />
<a href="https://developer.apple.com/library/ios/documentation/3ddrawing/conceptual/opengles_programmingguide/TechniquesforWorkingwithVertexData/TechniquesforWorkingwithVertexData.html">https://developer.apple.com/library/ios/documentation/3ddrawing/conceptual/opengles_programmingguide/TechniquesforWorkingwithVertexData/TechniquesforWorkingwithVertexData.html</a>
</li>

<li>Class BufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferStrategy.html</a>
</li>

<li>Class Graphics<br />
<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Graphics.html">http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Graphics.html</a>
</li>

<li>Double Buffering and Page Flipping<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html</a>
</li>

<li>BufferStrategy and BufferCapabilities<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html</a>
</li>

<li>Java:Tutorials:Double Buffering<br />
<a href="http://content.gpwiki.org/index.php/Java:Tutorials:Double_Buffering">http://content.gpwiki.org/index.php/Java:Tutorials:Double_Buffering</a>
</li>

<li>Double buffer in standard Java AWT<br />
<a href="http://www.codeproject.com/Articles/2136/Double-buffer-in-standard-Java-AWT">http://www.codeproject.com/Articles/2136/Double-buffer-in-standard-Java-AWT</a>
</li>

<li>Java 2D: Hardware Accelerating - Part 1 - Volatile Images<br />
<a href="http://www.javalobby.org/forums/thread.jspa?threadID=16840&tstart=0">http://www.javalobby.org/forums/thread.jspa?threadID=16840&tstart=0</a>
</li>

<li>Java 2D: Hardware Accelerating - Part 2 - Buffer Strategies<br />
<a href="http://www.javalobby.org/java/forums/t16867.html">http://www.javalobby.org/java/forums/t16867.html</a>
</li>

<li>How does paintComponent work?<br />
<a href="http://stackoverflow.com/questions/15544549/how-does-paintcomponent-work">http://stackoverflow.com/questions/15544549/how-does-paintcomponent-work</a>
</li>

<li>A Swing Architecture Overview<br />
<a href="http://www.oracle.com/technetwork/java/architecture-142923.html">http://www.oracle.com/technetwork/java/architecture-142923.html</a>
</li>

<li>Class javax.swing.JComponent<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html</a>
</li>

<li>Class java.awt.Component<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html</a>
</li>

<li>Class java.awt.Component.BltBufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.BltBufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.BltBufferStrategy.html</a>
</li>

<li>Class java.awt.Component.FlipBufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.FlipBufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.FlipBufferStrategy.html</a>
</li>

<li>Metoda java.awt.Component.isDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isDoubleBuffered()">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isDoubleBuffered()</a>
</li>

<li>Metoda javax.swing.JComponent.isDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#isDoubleBuffered()">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#isDoubleBuffered()</a>
</li>

<li>Metoda javax.swing.JComponent.setDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)</a>
</li>

<li>Javadoc - tøída GraphicsDevice<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsDevice.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsDevice.html</a>
</li>

<li>Javadoc - tøída GraphicsEnvironment<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html</a>
</li>

<li>Javadoc - tøída GraphicsConfiguration<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsConfiguration.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsConfiguration.html</a>
</li>

<li>Javadoc - tøída DisplayMode<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/DisplayMode.html">http://docs.oracle.com/javase/7/docs/api/java/awt/DisplayMode.html</a>
</li>

<li>Lesson: Full-Screen Exclusive Mode API<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/">http://docs.oracle.com/javase/tutorial/extra/fullscreen/</a>
</li>

<li>Full-Screen Exclusive Mode<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/exclusivemode.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/exclusivemode.html</a>
</li>

<li>Display Mode<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/displaymode.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/displaymode.html</a>
</li>

<li>Using the Full-Screen Exclusive Mode API in Java<br />
<a href="http://www.developer.com/java/other/article.php/3609776/Using-the-Full-Screen-Exclusive-Mode-API-in-Java.htm">http://www.developer.com/java/other/article.php/3609776/Using-the-Full-Screen-Exclusive-Mode-API-in-Java.htm</a>
</li>

<li>Java quick guide: JVM Instruction Set (tabulka v¹ech instrukcí JVM)<br />
<a href="http://www.mobilefish.com/tutorials/java/java_quickguide_jvm_instruction_set.html">http://www.mobilefish.com/tutorials/java/java_quickguide_jvm_instruction_set.html</a>
</li>

<li>The JVM Instruction Set<br />
<a href="http://mpdeboer.home.xs4all.nl/scriptie/node14.html">http://mpdeboer.home.xs4all.nl/scriptie/node14.html</a>
</li>

<li>MultiMedia eXtensions<br />
<a href="http://softpixel.com/~cwright/programming/simd/mmx.php">http://softpixel.com/~cwright/programming/simd/mmx.php</a>i
</li>

<li>SSE (Streaming SIMD Extentions)<br />
<a href="http://www.songho.ca/misc/sse/sse.html">http://www.songho.ca/misc/sse/sse.html</a>
</li>

<li>Timothy A. Chagnon: SSE and SSE2<br />
<a href="http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf">http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf</a>
</li>

<li>Intel corporation: Extending the Worldr's Most Popular Processor Architecture<br />
<a href="http://download.intel.com/technology/architecture/new-instructions-paper.pdf">http://download.intel.com/technology/architecture/new-instructions-paper.pdf</a>
</li>

<li>SIMD architectures:<br />
<a href="http://arstechnica.com/old/content/2000/03/simd.ars/">http://arstechnica.com/old/content/2000/03/simd.ars/</a>
</li>

<li>GC safe-point (or safepoint) and safe-region<br />
<a href="http://xiao-feng.blogspot.cz/2008/01/gc-safe-point-and-safe-region.html">http://xiao-feng.blogspot.cz/2008/01/gc-safe-point-and-safe-region.html</a>
</li>

<li>Safepoints in HotSpot JVM<br />
<a href="http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html">http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html</a>
</li>

<li>Java theory and practice: Synchronization optimizations in Mustang<br />
<a href="http://www.ibm.com/developerworks/java/library/j-jtp10185/">http://www.ibm.com/developerworks/java/library/j-jtp10185/</a>
</li>

<li>How to build hsdis<br />
<a href="http://hg.openjdk.java.net/jdk7/hotspot/hotspot/file/tip/src/share/tools/hsdis/README">http://hg.openjdk.java.net/jdk7/hotspot/hotspot/file/tip/src/share/tools/hsdis/README</a>
</li>

<li>Java SE 6 Performance White Paper<br />
<a href="http://www.oracle.com/technetwork/java/6-performance-137236.html">http://www.oracle.com/technetwork/java/6-performance-137236.html</a>
</li>

<li>Lukas Stadler's Blog<br />
<a href="http://classparser.blogspot.cz/2010/03/hsdis-i386dll.html">http://classparser.blogspot.cz/2010/03/hsdis-i386dll.html</a>
</li>

<li>How to build hsdis-amd64.dll and hsdis-i386.dll on Windows<br />
<a href="http://dropzone.nfshost.com/hsdis.htm">http://dropzone.nfshost.com/hsdis.htm</a>
</li>

<li>PrintAssembly<br />
<a href="https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly">https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly</a>
</li>

<li>The Java Virtual Machine Specification: 3.14. Synchronization<br />
<a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.14">http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.14</a>
</li>

<li>The Java Virtual Machine Specification: 8.3.1.4. volatile Fields<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.4">http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.4</a>
</li>

<li>The Java Virtual Machine Specification: 17.4. Memory Model<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4</a>
</li>

<li>The Java Virtual Machine Specification: 17.7. Non-atomic Treatment of double and long<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7</a>
</li>

<li>Open Source ByteCode Libraries in Java<br />
<a href="http://java-source.net/open-source/bytecode-libraries">http://java-source.net/open-source/bytecode-libraries</a>
</li>

<li>ASM Home page<br />
<a href="http://asm.ow2.org/">http://asm.ow2.org/</a>
</li>

<li>Seznam nástrojù vyu¾ívajících projekt ASM<br />
<a href="http://asm.ow2.org/users.html">http://asm.ow2.org/users.html</a>
</li>

<li>ObjectWeb ASM (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/ObjectWeb_ASM">http://en.wikipedia.org/wiki/ObjectWeb_ASM</a>
</li>

<li>Java Bytecode BCEL vs ASM<br />
<a href="http://james.onegoodcookie.com/2005/10/26/java-bytecode-bcel-vs-asm/">http://james.onegoodcookie.com/2005/10/26/java-bytecode-bcel-vs-asm/</a>
</li>

<li>BCEL Home page<br />
<a href="http://commons.apache.org/bcel/">http://commons.apache.org/bcel/</a>
</li>

<li>Byte Code Engineering Library (pøed verzí 5.0)<br />
<a href="http://bcel.sourceforge.net/">http://bcel.sourceforge.net/</a>
</li>

<li>Byte Code Engineering Library (verze &gt;= 5.0)<br />
<a href="http://commons.apache.org/proper/commons-bcel/">http://commons.apache.org/proper/commons-bcel/</a>
</li>

<li>BCEL Manual<br />
<a href="http://commons.apache.org/bcel/manual.html">http://commons.apache.org/bcel/manual.html</a>
</li>

<li>Byte Code Engineering Library (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/BCEL">http://en.wikipedia.org/wiki/BCEL</a>
</li>

<li>BCEL Tutorial<br />
<a href="http://www.smfsupport.com/support/java/bcel-tutorial!/">http://www.smfsupport.com/support/java/bcel-tutorial!/</a>
</li>

<li>Bytecode Engineering<br />
<a href="http://book.chinaunix.net/special/ebook/Core_Java2_Volume2AF/0131118269/ch13lev1sec6.html">http://book.chinaunix.net/special/ebook/Core_Java2_Volume2AF/0131118269/ch13lev1sec6.html</a>
</li>

<li>Bytecode Outline plugin for Eclipse (screenshoty + info)<br />
<a href="http://asm.ow2.org/eclipse/index.html">http://asm.ow2.org/eclipse/index.html</a>
</li>

<li>Javassist<br />
<a href="http://www.jboss.org/javassist/">http://www.jboss.org/javassist/</a>
</li>

<li>Byteman<br />
<a href="http://www.jboss.org/byteman">http://www.jboss.org/byteman</a>
</li>

<li>Java programming dynamics, Part 7: Bytecode engineering with BCEL<br />
<a href="http://www.ibm.com/developerworks/java/library/j-dyn0414/">http://www.ibm.com/developerworks/java/library/j-dyn0414/</a>
</li>

<li>The Java<sup>TM</sup> Virtual Machine Specification, Second Edition<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html">http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html</a>
</li>

<li>The class File Format<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html">http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html</a>
</li>

<li>javap - The Java Class File Disassembler<br />
<a href="http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javap.html">http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javap.html</a>
</li>

<li>javap-java-1.6.0-openjdk(1) - Linux man page<br />
<a href="http://linux.die.net/man/1/javap-java-1.6.0-openjdk">http://linux.die.net/man/1/javap-java-1.6.0-openjdk</a>
</li>

<li>Using javap<br />
<a href="http://www.idevelopment.info/data/Programming/java/miscellaneous_java/Using_javap.html">http://www.idevelopment.info/data/Programming/java/miscellaneous_java/Using_javap.html</a>
</li>

<li>Examine class files with the javap command<br />
<a href="http://www.techrepublic.com/article/examine-class-files-with-the-javap-command/5815354">http://www.techrepublic.com/article/examine-class-files-with-the-javap-command/5815354</a>
</li>

<li>aspectj (Eclipse)<br />
<a href="http://www.eclipse.org/aspectj/">http://www.eclipse.org/aspectj/</a>
</li>

<li>Aspect-oriented programming (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Aspect_oriented_programming">http://en.wikipedia.org/wiki/Aspect_oriented_programming</a>
</li>

<li>AspectJ (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/AspectJ">http://en.wikipedia.org/wiki/AspectJ</a>
</li>

<li>EMMA: a free Java code coverage tool<br />
<a href="http://emma.sourceforge.net/">http://emma.sourceforge.net/</a>
</li>

<li>Cobertura<br />
<a href="http://cobertura.sourceforge.net/">http://cobertura.sourceforge.net/</a>
</li>

<li>jclasslib bytecode viewer<br />
<a href="http://www.ej-technologies.com/products/jclasslib/overview.html">http://www.ej-technologies.com/products/jclasslib/overview.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2014</small></p>
</body>
</html>

