<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Podpora skriptovacích jazykù v JDK6 a OpenJDK6 (2.èást)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Podpora skriptovacích jazykù v JDK6 a OpenJDK6 (2.èást)</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V patnácté èásti seriálu o programovacím jazyce Java a o vlastnostech (Open)JDK budeme pokraèovat v popisu aplikaèního programového rozhraní (API) navr¾eného v rámci JSR 223, které slou¾í k podpoøe skriptovacích jazykù bì¾ících nad virtuálním strojem Javy (JVM). Dnes se zamìøíme pøedev¹ím na podrobnìj¹í popis zpùsobu kooperace mezi aplikacemi napsanými v Javì a skripty naprogramovanými v JavaScriptu.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Získání základních informací o syntaxi vybraného skriptovacího jazyka</a></p>
<p><a href="#k02">2. První demonstraèní pøíklad &ndash; základní informace o syntaxi JavaScriptu</a></p>
<p><a href="#k03">3. Chování javovských objektù v&nbsp;JavaScriptu èi dal¹ích skriptovacích jazycích</a></p>
<p><a href="#k04">4. Druhý demonstraèní pøíklad &ndash; výpis v¹ech vlastností javovského objektu</a></p>
<p><a href="#k05">5. Tøetí demonstraèní pøíklad &ndash; základní zpùsob volání getterù a setterù</a></p>
<p><a href="#k06">6. Ètvrtý demonstraèní pøíklad &ndash; zjednodu¹ený zpùsob volání getterù a setterù</a></p>
<p><a href="#k07">7. Pátý demonstraèní pøíklad &ndash; JavaScript a pøetí¾ené metody v&nbsp;javovském objektu</a></p>
<p><a href="#k08">8. Komentáø k&nbsp;výsledkùm pøedchozího demonstraèního pøíkladu</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2>1. Získání základních informací o syntaxi vybraného skriptovacího jazyka</h2>

<p>V&nbsp;pøedchozí èásti seriálu o technologiích pou¾ívaných ve virtuálním
stroji programovacího jazyka Java (<i>JVM &ndash; Java Virtual Machine</i>)
jsme se seznámili se základními rysy aplikaèního programového rozhraní
navr¾eného v&nbsp;rámci <a href="http://www.jcp.org/en/jsr/detail?id=223">JSR
223</a>. Toto aplikaèní rozhraní je urèeno pro zjednodu¹ení a souèasnì i
unifikaci pøi oboustranné komunikaci mezi aplikací naprogramovanou pøímo
v&nbsp;Javì a skriptem (vìt¹inou spou¹tìným pøímo z&nbsp;této aplikace, i kdy¾
je mo¾né skript spou¹tìt i z&nbsp;&bdquo;shellu&ldquo;), který mù¾e být
vytvoøen v&nbsp;jakémkoli programovacím jazyce, pro nìj¾ je dostupný
skriptovací engine &ndash; dùle¾ité je to, ¾e aplikaèní programové rozhraní,
které vývojáø vytváøející program v&nbsp;Javì pou¾ívá, zùstává stejné bez
ohledu na to, jaký skriptovací jazyk je ve skuteènosti vyu¾íván. Spoleènì
s&nbsp;proprietární <i>Oracle JDK</i> a takté¾ <i>OpenJDK</i> je jeden ze
skriptovacích enginù dodáván jako standardní souèást distribuce <i>JDK</i> i
<i>JRE</i>. Jeho jméno je <a href="http://www.mozilla.org/rhino/">Rhino</a> a
programovacím jazykem, který je tímto skriptovacím enginem implementován, je
populární, ale i zatracovaný a mnohými programátory nepochopený <a
href="http://en.wikipedia.org/wiki/Javascript">JavaScript</a>.</p>

<p>Minule jsme si ukázali, ¾e pøed zavoláním skriptu je nejdøíve nutné získat
vhodný skriptovací engine. Pro jeho získání se nejdøíve vytváøí instance tøídy
<a
href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html">ScriptEngineManager</a>
a poté je s&nbsp;vyu¾itím metod definovaných v&nbsp;této tøídì, pøedev¹ím metod
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html#getEngineByName(java.lang.String)">getEngineByName()</a>,
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html#getEngineByExtension(java.lang.String)">getEngineByExtension()</a> èi
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html#getEngineByMimeType(java.lang.String)">getEngineByMimeType()</a>
získán objekt, který pøedstavuje
skriptovací engine (tento objekt je instancí tøídy implementující rozhraní <a
href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html">ScriptEngine</a>).
Podrobnìj¹í informace o skriptovacím enginu je mo¾né zjistit s&nbsp;vyu¾itím
dal¹í tøídy implementující rozhraní <a
href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html">ScriptEngineFactory</a>,
která je na skriptovací engine navázána. Nìkteré metody pøedepsané tímto
rozhraním jsme si ji¾ ukázali minule, ov¹em zbývá nám popis tøí metod, je¾ je
mo¾né vyu¾ít pro zji¹tìní základních informací o syntaxi vybraného
skriptovacího jazyka. Jedná se o metody <strong>getOutputStatement()</strong>,
<strong>getMethodCallSyntax()</strong> a <strong>getProgram()</strong>, které
budou souèástí demonstraèního pøíkladu uvedeného ve druhé kapitole.</p>



<p><a name="k02"></a></p>
<h2>2. První demonstraèní pøíklad &ndash; základní informace o syntaxi JavaScriptu</h2>

<p>Metoda <a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html#getOutputStatement(java.lang.String)">ScriptEngineFactory.getOutputStatement()</a> slou¾í ke
zji¹tìní toho, jakým zpùsobem se ve skriptu mù¾e vytisknout hodnota nìjaké
konstanty èi promìnné. Pøíkaz pro výstup konstanty èi promìnné (obecnì výsledku
nìjakého výrazu) se samozøejmì v&nbsp;jednotlivých skriptovacích jazycích mù¾e
li¹it, a» ji¾ jménem pøíslu¹né funkce, tak i konkrétním zpùsobem zápisu; viz
napøíklad rozdíl mezi javascriptovskou syntaxí:</p>

<pre>
print("Hello")
</pre>

<p>a syntaxí pou¾ívanou v&nbsp;Closure (Lisp):</p>

<pre>
(print "Hello")
</pre>

<p>Této metodì se ve formì øetìzce pøedá libovolný výraz (jeho¾ syntaxe se
vìt¹inou ani nekontroluje) ve formì øetìzce a metoda vrátí tvar korektního
pøíkazu, kterým je mo¾né tento výraz ve vybraném skriptovacím jazyce vytisknout
na standardní výstup a/nebo konzoli integrovaného vývojového prostøedí. Obsah
výsledného øetìzce je samozøejmì závislý na tom, který skriptovací jazyk je
pou¾it.</p>

<p>Podobným zpùsobem pracuje metoda
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html#getMethodCallSyntax(java.lang.String, java.lang.String, java.lang.String...)">ScriptEngineFactory.getMethodCallSyntax()</a>, která pro zadané
jméno objektu (øetìzec), jméno metody (takté¾ øetìzec) a seznam parametrù vrátí
syntakticky korektní volání této metody i se v¹emi pøedanými parametry.
Poslední z&nbsp;tìchto podpùrných metod nabízených rozhraním
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html">ScriptEngineFactory</a> je metoda
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html#getProgram(java.lang.String...)">ScriptEngineFactory.getProgram()</a>, která na základì zadané
posloupnosti pøíkazù (opìt pøedaných ve formì øetìzcù) vrátí syntakticky
korektní reprezentaci skriptu, který tyto pøíkazy zavolá &ndash; teprve zde se
napøíklad za jednotlivé pøíkazy vlo¾í v&nbsp;pøípadì JavaScriptu støedníky.
Podívejme se na demonstraèní pøíklad, kde jsou v¹echny tøi vý¹e zmínìné metody
vyu¾ity:</p>

<pre>
import javax.script.ScriptEngine;
import javax.script.ScriptEngineFactory;
import javax.script.ScriptEngineManager;

/**
 * Ukazka pouziti metod:
 * &lt;ul&gt;
 * &lt;li&gt;ScriptEngineFactory.getOutputStatement()&lt;/li&gt;
 * &lt;li&gt;ScriptEngineFactory.getMethodCallSyntax()&lt;/li&gt;
 * &lt;li&gt;ScriptEngineFactory.getProgram()&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * @author Pavel Tisnovsky
 */
public class ScriptingTest6 {

    /**
      * Test metody ScriptEngineFactory.getOutputStatement()
      */
    private static void getOutputStatementTest(ScriptEngineFactory factory) {
        System.out.println(factory.getOutputStatement("Hello world"));
    }

    /**
      * Test metody ScriptEngineFactory.getMethodCallSyntax()
      */
    private static void getMethodCallSyntaxTest(ScriptEngineFactory factory) {
        System.out.println(factory.getMethodCallSyntax("Math", "atan2", "x", "y"));
    }

    /**
      * Test metody ScriptEngineFactory.getProgram()
      */
    private static void getProgramTest(ScriptEngineFactory factory) {
        System.out.println(factory.getProgram("let a=10", "a=a+1", "print(a)"));
    }

    /**
      * Inicializace a spusteni testu.
      */
    private static void runTests() {
        ScriptEngineManager engineManager = new ScriptEngineManager();
        ScriptEngine scriptEngine = engineManager.getEngineByName("JavaScript");
        ScriptEngineFactory factory = scriptEngine.getFactory();

        getOutputStatementTest(factory);
        getMethodCallSyntaxTest(factory);
        getProgramTest(factory);
    }

    public static void main(String[] args) {
        runTests();
    }

}
</pre>

<p>Po spu¹tìní tohoto demonstraèního pøíkladu v&nbsp;JRE dodávaného
s&nbsp;<i>IcedTea6-1.8</i> získáme následující výstup (který by v¹ak nemìl být
diametrálnì odli¹ný ani na dal¹ích variantách JRE):</p>

<pre>
print("Hello world")
Math.atan2(x,y)
let a=10;a=a+1;print(a);
</pre>



<p><a name="k03"></a></p>
<h2>3. Chování javovských objektù v&nbsp;JavaScriptu èi dal¹ích skriptovacích jazycích</h2>

<p>V&nbsp;pøedchozí èásti tohoto seriálu jsme si takté¾ velmi struènì øekli,
jak lze spustit program napsaný v&nbsp;JavaScriptu, i to, jak je mo¾né tomuto
programu pøedat parametry, popø.&nbsp;jak mù¾e program (funkce) napsaný
v&nbsp;JavaScriptu vrátit objekt prakticky libovolného typu jako svoji
návratovou hodnotu. Ov¹em tato problematika není tak jednoduchá, jak by se pøi
pohledu na aplikaèní programové rozhraní definované v&nbsp;<i>JSR 223</i> mohlo
na první pohled zdát :-) Mo¾né problémy nastávají pøedev¹ím ve chvíli, kdy je
jako skriptovací jazyk zvolen takový programovací jazyk, který pou¾ívá
dynamické typování, tj.&nbsp;datové typy jsou pøi bìhu skriptu pøiøazovány
pøímo k&nbsp;hodnotám a nikoli k&nbsp;promìnným, co¾ je oproti staticky
typované Javì velký rozdíl &ndash; nikoli syntaktický, ale zejména sémantický.
Navíc je v&nbsp;mnoha skriptovacích jazycích <i>funkce</i> chápána jako
plnohodnotný datový typ, tak¾e je mo¾né funkce pøedávat jako parametry jiným
funkcím, vracet funkce jako návratovou hodnotu, pøiøazovat funkce do
promìnných, atributù objektù (properties) atd.</p>

<p>Na zaèátku tohoto seriálu <a
href="http://www.root.cz/clanky/novinky-v-nbsp-jdk-7-aneb-mirny-pokrok-v-nbsp-mezich-zakona-ndash-projekt-lambda/">[1]</a>
<a
href="http://www.root.cz/clanky/novinky-v-nbsp-jdk-7-5-ndash-projekt-lambda-a-anonymni-funkce-v-nbsp-prikladech/">[2]</a>
bylo uvedeno, ¾e podobná funkcionalita (zejména chápání funkcí jako
plnohodnotných objektù) je do <i>JDK</i> zavádìna v&nbsp;rámci projektu
<i>Lambda</i>, ov¹em na její stabilizaci a roz¹íøení si budeme muset je¹tì
chvíli poèkat (JDK 8?). Mezi úlohy provádìné skrytì prakticky ka¾dým
skriptovacím enginem tedy patøí i konverze a vùbec vyhodnocování datových typù
a takté¾ správné urèení toho, které metody javovských objektù se mají zavolat
ve chvíli, kdy se jedná o metody pøetí¾ené. Zajímavé je, ¾e skriptovací engine
tuto èinnost provádí výhradnì v&nbsp;èase bìhu aplikace, kdy vyu¾ívá napøíklad
<i>reflexi</i>, na rozdíl od samotné Javy, u ní¾ se nìkteré (ne v¹echny!)
kontroly a konverze mohou provádìt ji¾ v&nbsp;dobì pøekladu programu do
bajtkódu. V&nbsp;následujících tøech demonstraèních pøíkladech si nìkteré
mo¾nosti nabízené skriptovacím enginem <i>Rhino</i> uká¾eme. Bude se jednat o
zji¹tìní v¹ech viditelných atributù a metod libovolného javovského objektu a
volání metod tohoto objektu, vèetnì zjednodu¹eného zpùsobu volání setterù a
getterù.</p>



<p><a name="k04"></a></p>
<h2>4. Druhý demonstraèní pøíklad &ndash; výpis v¹ech vlastností javovského objektu</h2>

<p>V&nbsp;následujícím demonstraèním pøíkladu je ukázáno, ¾e skriptovací engine
skuteènì vyhodnocuje typy objektù i jejich vlastnosti (<i>properties</i>) a¾
v&nbsp;èase bìhu aplikace. Tento pøíklad je v&nbsp;podstatì velmi jednoduchý:
funkci <strong>printAllObjectProperties</strong> napsané v&nbsp;JavaScriptu je
pøedán jakýkoli objekt vytvoøený buï v&nbsp;Javì nebo pøímo v&nbsp;JavaScriptu
a tato funkce následnì vypí¹e v¹echny viditelné atributy a metody tohoto
objektu (ty se v&nbsp;JavaScriptu nazývají <i>properties</i>; jedná se o
polo¾ky ulo¾ené v&nbsp;asociativním poli, kterým je objekt implementován).
Pov¹imnìte si, ¾e v&nbsp;tomto pøípadì není pøíli¹ rozli¹ováno mezi atributy a
metodami, co¾ v¹ak koresponduje s&nbsp;tím, co jsme si ji¾ øekli
v&nbsp;pøedchozí kapitole &ndash; funkce a tím pádem i metody (=metody
s&nbsp;implicitním parametrem <i>this/self</i>) jsou &bdquo;pouze&ldquo; dal¹ím
plnohodnotným datovým typem (pou¾ívání properties z&nbsp;JavaScriptu je tedy
v&nbsp;tomto ohledu jednodu¹¹í, ne¾ <a
href="http://download.oracle.com/javase/tutorial/reflect/index.html">reflection
API</a> v&nbsp;Javì :-).</p>

<p>V&nbsp;JavaScriptu je dokonce mo¾né získat i &bdquo;hodnotu&ldquo; celého
objektu, co¾ vede k&nbsp;volání metody <strong>toString()</strong>, u ní¾ je
zaruèeno, ¾e v¾dy existuje, proto¾e je dìdìna ji¾ z&nbsp;tøídy
<strong>Object</strong>. Následuje výpis zdrojového kódu dne¹ního druhého
demonstraèního pøíkladu, k&nbsp;jeho¾ úspì¹nému pøekladu a spu¹tìní je navíc
nutné pøelo¾it i pomocnou tøídu <strong>TestClass7.java</strong>, její¾
zdrojový kód je umístìn pod zdrojovým kódem pøíkladu:</p>

<pre>
import javax.script.Invocable;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

/**
 * Vypis vsech viditelnych atributu a metod javovskeho
 * objektu z JavaScriptu.
 *
 * @author Pavel Tisnovsky
 */
public class ScriptingTest7 {

    /**
      * Zavolani javascriptove funkce, ktera vypise seznam
      * vsech viditelnych atributu a metod objektu, ktery
      * je funkci predan jako parametr.
      */
    private static void objectPropertiesTest(ScriptEngine engine) throws ScriptException, NoSuchMethodException {
        final String script =
            // pomocna funkce, ktera od sebe
            // vizualne oddelu jednotlive vypisy
            "function horizontalBreak() {" +
            "    for (i = 0; i&lt;40; i++) {" +
            "        print('-');" +
            "    }" +
            "    println('');" +
            "}" +
            // funkce pro vypis vsech properties
            // objektu, ktery je ji predan jako
            // parametr
            "function printAllObjectProperties(object) {" +
            "    println('Object.toString(): ' + object);" +
            "    for (var prop in object) {" +
            "        println('Property: ' + prop);" +
            "    }" +
            "    horizontalBreak();" +
            "}";

        engine.eval(script);

        // Metoda invokeFunction() se musi volat pres rozhrani Invocable.
        Invocable invocable = (Invocable) engine;
        invocable.invokeFunction("printAllObjectProperties", new Object());
        invocable.invokeFunction("printAllObjectProperties", new TestClass7());
        invocable.invokeFunction("printAllObjectProperties", new StringBuffer());
        invocable.invokeFunction("printAllObjectProperties", 42);
        invocable.invokeFunction("printAllObjectProperties", new java.util.Date());
    }

    /**
      * Inicializace a spusteni testu.
      */
    private static void runTests() {
        ScriptEngineManager engineManager = new ScriptEngineManager();
        ScriptEngine scriptEngine = engineManager.getEngineByName("JavaScript");

        try {
            objectPropertiesTest(scriptEngine);
        }
        catch (ScriptException e) {
            e.printStackTrace();
        }
        catch (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        runTests();
    }

}
</pre>

<p>Zdrojový kód pomocné tøídy <strong>TestClass7.java</strong>:</p>

<pre>
/**
  * Pomocna testovaci trida pouzita testem
  * ScriptingTest7
  */
public class TestClass7 {
    // Atributy s ruznymi pristupovymi pravy
    @SuppressWarnings("unused")
    private int privateAttribute;
    protected int protectedAttribute;
    int packageProtectedAttribute;
    public int publicAttribute;

    // Metody s ruznymi pristupovymi pravy
    @SuppressWarnings("unused")
    private void privateMethod() {
    }

    protected void protectedMethod() {
    }

    void packageProtectedMethod() {
    }

    public void publicMethod() {
    }

    /**
      * Tato metoda je mj. pouzita i v JavaScriptu
      * pri tisku retezcove podoby objektu.
      */
    @Override
    public String toString() {
        return "This is TestClass7";
    }
}
</pre>

<p>Zajímavé je zjistit, které metody a atributy jsou skuteènì po spu¹tìní
pøíkladu vypsány. Jako malý úkol se pokuste odhadnout, proè jsou vypsány jen
metody a atributy s&nbsp;viditelností <strong>public</strong> a jaké to má
dùsledky napøíklad pro bezpeènost aplikací:</p>

<pre>
Object.toString(): java.lang.Object@a401c2
Property: notifyAll
Property: toString
Property: equals
Property: class
Property: wait
Property: hashCode
Property: getClass
Property: notify
----------------------------------------
Object.toString(): This is TestClass7
Property: notifyAll
Property: toString
Property: equals
Property: class
Property: wait
Property: publicMethod
Property: hashCode
Property: publicAttribute
Property: getClass
Property: notify
----------------------------------------
Object.toString(): 
Property: getChars
Property: capacity
Property: insert
Property: codePointBefore
Property: indexOf
Property: setCharAt
Property: notifyAll
Property: length
Property: trimToSize
Property: reverse
Property: charAt
Property: subSequence
Property: equals
Property: notify
Property: codePointAt
Property: class
Property: ensureCapacity
Property: chars
Property: appendCodePoint
Property: wait
Property: deleteCharAt
Property: toString
Property: hashCode
Property: lastIndexOf
Property: append
Property: codePointCount
Property: delete
Property: offsetByCodePoints
Property: setLength
Property: replace
Property: substring
Property: getClass
----------------------------------------
Object.toString(): 42
----------------------------------------
Object.toString(): Tue Apr 19 22:22:38 CEST 2011
Property: setHours
Property: month
Property: getHours
Property: toString
Property: year
Property: wait
Property: hours
Property: getMinutes
Property: toLocaleString
Property: getClass
Property: setSeconds
Property: hashCode
Property: class
Property: seconds
Property: notify
Property: getTime
Property: getDay
Property: setTime
Property: getDate
Property: setDate
Property: clone
Property: day
Property: equals
Property: getTimezoneOffset
Property: getYear
Property: setYear
Property: setMinutes
Property: before
Property: getSeconds
Property: after
Property: timezoneOffset
Property: minutes
Property: time
Property: notifyAll
Property: date
Property: compareTo
Property: setMonth
Property: toGMTString
Property: getMonth
----------------------------------------
</pre>



<p><a name="k05"></a></p>
<h2>5. Tøetí demonstraèní pøíklad &ndash; základní zpùsob volání getterù a setterù</h2>

<p>Dne¹ní tøetí demonstraèní pøíklad vlastnì neukazuje nic nového.
V&nbsp;pøíkladu jsou vytvoøeny dva skripty obsahující funkce s&nbsp;jedním
parametrem, pomocí nìho¾ je javascriptovým funkcím pøedán objekt vytvoøený
v&nbsp;Javì. Funkce ve skriptu bez jakékoli kontroly (která by se musela
provádìt a¾ v&nbsp;èase bìhu aplikace, napøíklad kontrolou existence properties
a jejich typu) zavolá setter a getter pro objekt, u nìj¾ se pøedpokládá, ¾e je
instancí tøídy <strong>TestClass8</strong>. U objektu, který by mìl být
instancí tøídy <strong>java.awt.Color</strong> se zavolají gettery
<strong>getRed()</strong>, <strong>getGreen()</strong>,
<strong>getBlue()</strong> a <strong>getAlpha()</strong>. Ve skuteènosti nejsou
pøedpoklady o typech objektù uvedené v&nbsp;pøedchozích dvou vìtách zcela
korektní, proto¾e v&nbsp;JavaScriptu postaèuje, aby byl obìma funkcím pøedán
libovolný objekt, který má implementovány v¹echny uvedené settery a gettery a
nemusí se nutnì jednat o instance tøíd <strong>TestClass8</strong> a
<strong>java.awt.Color</strong>:</p>

<pre>
import javax.script.Invocable;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

/**
 * Test, zda je mozne v javascriptovem programu volat settery
 * a gettery pomoci nasledujici syntaxe:
 * &lt;pre&gt;
 * object.getXXX()
 * object.setXXX(newValue)
 * &lt;/pre&gt;
 *
 * @author Pavel Tisnovsky
 */
public class ScriptingTest8 {

    /**
      * Zavolani javascriptove funkce, jejimz parametrem
      * je instance tridy TestClass8.
      */
    private static void methodCallTest(ScriptEngine engine) throws ScriptException, NoSuchMethodException {
        final String script =
            "function callMethods(object) {" +
            "    println('Object.toString(): ' + object);" +
            "    println('old value: ' + object.getX());" +
            "    object.setX(42);" +
            "    println('new value: ' + object.getX());" +
            "}";

        engine.eval(script);
        ((Invocable)engine).invokeFunction("callMethods", new TestClass8());
    }

    /**
      * Zavolani nekterych getteru instance tridy jawa.awt.Color
      * z javascriptu.
      */
    private static void gettersTest(ScriptEngine engine) throws ScriptException, NoSuchMethodException {
        final String script =
            "function callColorGetters() {" +
            "    var color = new java.awt.Color(0x123456);" +
            "    println('Object.toString(): ' + color);" +
            "    println('red:   ' + color.getRed());" +
            "    println('blue:  ' + color.getBlue());" +
            "    println('green: ' + color.getGreen());" +
            "    println('alpha: ' + color.getAlpha());" +
            "}";

        engine.eval(script);

        // Metoda invokeFunction() se musi volat pres rozhrani Invocable.
        ((Invocable)engine).invokeFunction("callColorGetters");
    }

    /**
      * Inicializace a spusteni testu.
      */
    private static void runTests() {
        ScriptEngineManager engineManager = new ScriptEngineManager();
        ScriptEngine scriptEngine = engineManager.getEngineByName("JavaScript");

        try {
            methodCallTest(scriptEngine);
            System.out.println("----------------------------------");
            gettersTest(scriptEngine);
        }
        catch (ScriptException e) {
            e.printStackTrace();
        }
        catch (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        runTests();
    }

}
</pre>

<p>Pro správnou funkci tohoto demonstraèního pøíkladu je nutné pøelo¾it i
pomocnou tøídu <strong>TestClass8</strong>, která obsahuje pøíslu¹né settery i
gettery, které jsou z&nbsp;pøíkladu volány:</p>

<pre>
/**
  * Pomocna testovaci trida pouzita testy
  * ScriptingTest8 a ScriptingTest9
  */
public class TestClass8 {
    private int x = 0;

    public void setX(int x) {
        System.out.println("Setter called with parameter " + x);
        this.x = x;
    }

    public int getX() {
        System.out.println("Getter called, returning value " + this.x);
        return this.x;
    }

    /**
      * Tato metoda je mj. pouzita i v JavaScriptu
      * pri tisku retezcove podoby objektu.
      */
    @Override
    public String toString() {
        return "This is TestClass8 containing attribute: " + this.x;
    }
}
</pre>

<p>Tento demonstraèní pøíklad po svém spu¹tìní vypí¹e na standardní výstup
následující informace:</p>

<pre>
Object.toString(): This is TestClass8 containing attribute: 0
Getter called, returning value 0
old value: 0
Setter called with parameter 42
Getter called, returning value 42
new value: 42
----------------------------------
Object.toString(): java.awt.Color[r=18,g=52,b=86]
red:   18
blue:  86
green: 52
alpha: 255
</pre>



<p><a name="k06"></a></p>
<h2>6. Ètvrtý demonstraèní pøíklad &ndash; zjednodu¹ený zpùsob volání getterù a setterù</h2>

<p>Pøedchozí demonstraèní pøíklad byl v&nbsp;tomto èlánku uveden pøedev¹ím jako
ukázka základního zpùsobu, jakým lze pøistupovat k&nbsp;setterùm a getterùm
v&nbsp;JavaScriptu syntakticky prakticky shodným zpùsobem, jako je tomu
v&nbsp;samotné Javì. Ov¹em javascriptoví programátoøi mají k&nbsp;dispozici
je¹tì jeden zpùsob, který je jednodu¹¹í a pro mnohé vývojáøe i èitelnìj¹í.
Namísto volání <strong>objekt.getX()</strong> èi
<strong>objekt.setX(..)</strong> lze toti¾ v&nbsp;JavaScriptu pou¾ít takté¾
následující dvì mo¾nosti: <strong>objekt['x']</strong> a
<strong>objekt.x</strong> (co¾ jsou sémanticky stejné výrazy), kde za <i>x</i>
lze doplnit jméno setteru èi getteru bez pøedpony &bdquo;set&ldquo; èi
&bdquo;get&ldquo;, pøièem¾ se první písmeno názvu setteru/getteru zmìní na
malé.</p>

<p>Pøedpokladem pro správnou èinnost tìchto pøíkazù je to, aby objekt
neobsahoval viditelný atribut stejného jména, co¾ by v¹ak pøi korektním
programování v&nbsp;Javì nastat vùbec nemìlo :-) Ostatnì to, ¾e se ve v¹ech
ètyøech pøípadech (<strong>objekt.getX()</strong>,
<strong>objekt.setX()</strong>, <strong>objekt['x']</strong> a
<strong>objekt.x</strong>) skuteènì volají gettery a settery, lze jednodu¹e
ovìøit &ndash; postaèuje zmìnit jméno nastavovaného èi èteného atributu,
popø.&nbsp;do setterù a getterù pøidat ladicí informace, co¾ je i ná¹
pøípad:</p>

<pre>
import javax.script.Invocable;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

/**
 * Test, zda je mozne v javascriptovem programu volat settery
 * a gettery objektu vytvorenych v Jave pomoci nasledujici syntaxe:
 * &lt;pre&gt;
 * var foo = objekt['atribut'];
 * objekt['atribut'] = 'bar';
 * var foo = objekt.atribut;
 * objekt.atribut = 'bar';
 * &lt;/pre&gt;
 *
 * @author Pavel Tisnovsky
 */
public class ScriptingTest9 {

    /**
      * Zavolani javascriptove funkce, jejimz parametrem
      * je instance tridy TestClass8.
      */
    private static void methodCallTest(ScriptEngine engine) throws ScriptException, NoSuchMethodException {
        final String script =
            "function callMethods(object) {" +
            "    println('Object.toString(): ' + object);" +
            "    println('old value: ' + object.x);" +
            "    object.x = 42;" +
            "    println('new value: ' + object.x);" +
            "}";

        engine.eval(script);

        // Metoda invokeFunction() se musi volat pres rozhrani Invocable.
        ((Invocable)engine).invokeFunction("callMethods", new TestClass8());
    }

    /**
      * Zavolani nekterych getteru instance tridy jawa.awt.Color
      * z javascriptu.
      */
    private static void gettersTest(ScriptEngine engine) throws ScriptException, NoSuchMethodException {
        final String script =
            "function callColorGetters() {" +
            "    var color = new java.awt.Color(0x123456);" +
            "    println('Object.toString(): ' + color);" +
            "    println('red:   ' + color['red']);" +
            "    println('blue:  ' + color['blue']);" +
            "    println('green: ' + color['green']);" +
            "    println('alpha: ' + color['alpha']);" +
            "    println('red:   ' + color.red);" +
            "    println('blue:  ' + color.blue);" +
            "    println('green: ' + color.green);" +
            "    println('alpha: ' + color.alpha);" +
            "}";

        engine.eval(script);

        // Metoda invokeFunction() se musi volat pres rozhrani Invocable.
        ((Invocable)engine).invokeFunction("callColorGetters");
    }

    /**
      * Inicializace a spusteni testu.
      */
    private static void runTests() {
        ScriptEngineManager engineManager = new ScriptEngineManager();
        ScriptEngine scriptEngine = engineManager.getEngineByName("JavaScript");

        try {
            methodCallTest(scriptEngine);
            System.out.println("----------------------------------");
            gettersTest(scriptEngine);
        }
        catch (ScriptException e) {
            e.printStackTrace();
        }
        catch (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        runTests();
    }

}
</pre>

<p>Tento demonstraèní program po svém spu¹tìní vypí¹e prakticky ty stejné
informace, jako demonstraèní program pøedchozí, pouze se opakují informace
získané pomocí getterù nad objektem <i>Color</i> (proto¾e jsou gettery volané
dvakrát, poka¾dé s&nbsp;jinou syntaxí zápisu):</p>

<pre>
Object.toString(): This is TestClass8 containing attribute: 0
Getter called, returning value 0
old value: 0
Setter called with parameter 42
Getter called, returning value 42
new value: 42
----------------------------------
Object.toString(): java.awt.Color[r=18,g=52,b=86]
red:   18
blue:  86
green: 52
alpha: 255
red:   18
blue:  86
green: 52
alpha: 255
</pre>



<p><a name="k07"></a></p>
<h2>7. Pátý demonstraèní pøíklad &ndash; JavaScript a pøetí¾ené metody v&nbsp;javovském objektu</h2>

<p>V&nbsp;dne¹ním pátém (v&nbsp;celkovém poøadí osmém :-) demonstraèním
pøíkladu je ukázáno chování enginu <i>Rhino</i> pøi rozhodování o tom, která
pøetí¾ená metoda se má zavolat z&nbsp;JavaScriptu.  V&nbsp;tomto pøíkladu je
vyu¾ita pomocná tøída <strong>TestClass10</strong> obsahující pøetí¾enou a
viditelnou metodu nazvanou <strong>overloaded</strong>, která je volána ze
skriptu s&nbsp;rùznými typy parametrù. Komentáø k&nbsp;chování enginu
<i>Rhino</i> bude uveden pod zdrojovými kódy:</p>

<pre>
import java.awt.Color;
import java.util.Date;

import javax.script.Invocable;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

public class ScriptingTest10 {

    private static void overloadedMethodCallTest(ScriptEngine scriptEngine) throws ScriptException, NoSuchMethodException {
        final String script =
            "function accessJavaObject(object) {" +
            "    object.overloaded(true);" +
            "    object.overloaded(false);" +
            "    object.overloaded(object == null);" +
            "    object.overloaded(new java.lang.Boolean(true));" +
            "    object.overloaded(new java.lang.Boolean(false));" +
            "    object.overloaded(new java.lang.Boolean(object == null));" +
            "    object.overloaded(new java.util.Date());" +
            "    object.overloaded(new Date());" +
            "    object.overloaded(new java.awt.Color(0));" +
            "    object.overloaded('Hello world');" +
            "    object.overloaded(42);" +
            "    object.overloaded(1/3.0);" +
            "    object.overloaded(new java.awt.Frame());" +
            "}";
        scriptEngine.eval(script);
        ((Invocable)scriptEngine).invokeFunction("accessJavaObject", new TestClass10());
    }

    private static Object callOverloadedMethod(ScriptEngine scriptEngine, Object value) throws ScriptException, NoSuchMethodException {
        return ((Invocable)scriptEngine).invokeFunction("valueReturnedFromMethod", new TestClass10(), value);
    }

    private static void overloadedMethodCallTest2(ScriptEngine scriptEngine) throws ScriptException, NoSuchMethodException {
        final String script =
            "function valueReturnedFromMethod(object, value) {" +
            "    return object.overloaded(value);" +
            "}";
        scriptEngine.eval(script);
        System.out.println(callOverloadedMethod(scriptEngine, 42));
        System.out.println(callOverloadedMethod(scriptEngine, 1.0/3));
        System.out.println(callOverloadedMethod(scriptEngine, true));
        System.out.println(callOverloadedMethod(scriptEngine, Boolean.valueOf(true)));
        System.out.println(callOverloadedMethod(scriptEngine, new Boolean(true)));
        System.out.println(callOverloadedMethod(scriptEngine, new Date()));
        System.out.println(callOverloadedMethod(scriptEngine, new Color(0x123456)));
        System.out.println(callOverloadedMethod(scriptEngine, new StringBuffer("hello world")));
    }

    /**
     * Inicializace a spusteni testu.
     */
    private static void runTests() {
        ScriptEngineManager engineManager = new ScriptEngineManager();
        ScriptEngine scriptEngine = engineManager.getEngineByName("JavaScript");

        try {
            overloadedMethodCallTest(scriptEngine);
            System.out.println("---------------------------------");
            overloadedMethodCallTest2(scriptEngine);
        }
         catch (ScriptException e) {
            e.printStackTrace();
        }
        catch (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        runTests();
    }

}
</pre>

<p>Pomocná tøída <strong>TestClass10</strong> má následující obsah:</p>

<pre>
import java.awt.Color;
import java.util.Date;

/**
  * Pomocna testovaci trida pouzita testem
  * ScriptingTest10
  */
public class TestClass10 {
    public String overloaded(Object o) {
        System.out.println("overloaded(object) called with parameter "+ o);
        return "Object";
    }

    public String overloaded(String o) {
        System.out.println("overloaded(string) called with parameter " + o);
        return "String";
    }

    public String overloaded(int o) {
        System.out.println("overloaded(int) called with parameter " + o);
        return "Integer";
    }

    public String overloaded(double o) {
        System.out.println("overloaded(double) called with parameter " + o);
        return "Double";
    }

    public String overloaded(Date o) {
        System.out.println("overloaded(Date) called with parameter " + o);
        return "Date";
    }

    public String overloaded(Color o) {
        System.out.println("overloaded(Color) called with parameter " + o);
        return "Color";
    }

    public String overloaded(boolean o) {
        System.out.println("overloaded(boolean) called with parameter " + o);
        return "boolean";
    }

    public String overloaded(Boolean o) {
        System.out.println("overloaded(Boolean) called with parameter " + o);
        return "Boolean";
    }

    @Override
    public String toString() {
        return "This is TestClass";
    }

}
</pre>



<p><a name="k08"></a></p>
<h2>8. Komentáø k&nbsp;výsledkùm pøedchozího demonstraèního pøíkladu</h2>

<p>Výsledky vyti¹tìné po spu¹tìní pøedchozího demonstraèního pøíkladu jsou
v&nbsp;nìkolika ohledech zajímavé. Pøedev¹ím je vidìt, ¾e skriptovací engine
doká¾e rozli¹it mezi primitivním datovým typem <i>boolean</i> a pøíslu¹nou
&bdquo;obalovou&ldquo; tøídou <i>Boolean</i>. Takté¾ se korektnì provede zmìna
javascriptového objektu <i>Date</i> na typ <i>java.util.Date</i>, ov¹em na
druhou stranu se v&nbsp;pou¾ité verzi skriptovacího enginu v¹echny èíselné
promìnné pøevádí na typ <i>double</i> (popø.&nbsp;na obalovou tøídu
<i>Double</i>), co¾ znamená, ¾e se nezavolá metoda
<strong>overloaded(int)</strong>, a to ani tehdy, kdy¾ je pøi volání pou¾ita
celoèíselná konstanta:</p>

<pre>
overloaded(boolean) called with parameter true
overloaded(boolean) called with parameter false
overloaded(boolean) called with parameter false
overloaded(Boolean) called with parameter true
overloaded(Boolean) called with parameter false
overloaded(Boolean) called with parameter false
overloaded(Date) called with parameter Tue Apr 19 23:01:35 CEST 2011
overloaded(Date) called with parameter Tue Apr 19 23:01:35 CEST 2011
overloaded(Color) called with parameter java.awt.Color[r=0,g=0,b=0]
overloaded(string) called with parameter Hello world
overloaded(double) called with parameter 42.0
overloaded(double) called with parameter 0.3333333333333333
overloaded(object) called with parameter java.awt.Frame[frame0,0,0,0x0,invalid,hidden,layout=java.awt.BorderLayout,title=,resizable,normal]
---------------------------------
overloaded(double) called with parameter 42.0
Double
overloaded(double) called with parameter 0.3333333333333333
Double
overloaded(boolean) called with parameter true
boolean
overloaded(boolean) called with parameter true
boolean
overloaded(boolean) called with parameter true
boolean
overloaded(Date) called with parameter Tue Apr 19 23:01:35 CEST 2011
Date
overloaded(Color) called with parameter java.awt.Color[r=18,g=52,b=86]
Color
overloaded(object) called with parameter hello world
Object
</pre>


<p><a name="k09"></a></p>
<h2>9. Odkazy na Internetu</h2>

<ol>

<li>JSRs: Java Specification Requests &ndash; JSR 223: Scripting for the Java Platform<br />
<a href="http://www.jcp.org/en/jsr/detail?id=223">http://www.jcp.org/en/jsr/detail?id=223</a>
</li>

<li>Scripting for the Java Platform<br />
<a href="http://java.sun.com/developer/technicalArticles/J2SE/Desktop/scripting/">http://java.sun.com/developer/technicalArticles/J2SE/Desktop/scripting/</a>
</li>

<li>Scripting for the Java Platform (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Scripting_for_the_Java_Platform">http://en.wikipedia.org/wiki/Scripting_for_the_Java_Platform</a>
</li>

<li>Java Community Process<br />
<a href="http://en.wikipedia.org/wiki/Java_Specification_Request">http://en.wikipedia.org/wiki/Java_Specification_Request</a>
</li>

<li>Package javax.script (JavaDoc)<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/package-summary.html">http://download.oracle.com/javase/6/docs/api/javax/script/package-summary.html</a>
</li>

<li>javax.script.Bindings<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/Bindings.html">http://download.oracle.com/javase/6/docs/api/javax/script/Bindings.html</a>
</li>

<li>javax.script.Compilable<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/Compilable.html">http://download.oracle.com/javase/6/docs/api/javax/script/Compilable.html</a>
</li>

<li>javax.script.Invocable<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/Invocable.html">http://download.oracle.com/javase/6/docs/api/javax/script/Invocable.html</a>
</li>

<li>javax.script.ScriptContext<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptContext.html">http://download.oracle.com/javase/6/docs/api/javax/script/ScriptContext.html</a>
</li>

<li>javax.script.ScriptEngine<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html">http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html</a>
</li>

<li>javax.script.ScriptEngineFactory<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html">http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineFactory.html</a>
</li>

<li>javax.script.AbstractScriptEngine<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/AbstractScriptEngine.html">http://download.oracle.com/javase/6/docs/api/javax/script/AbstractScriptEngine.html</a>
</li>

<li>javax.script.CompiledScript<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/CompiledScript.html">http://download.oracle.com/javase/6/docs/api/javax/script/CompiledScript.html</a></td>
</li>

<li>javax.script.ScriptEngineManager<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html">http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html</a>
</li>

<li>javax.script.SimpleBindings<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/SimpleBindings.html">http://download.oracle.com/javase/6/docs/api/javax/script/SimpleBindings.html</a>
</li>

<li>javax.script.SimpleScriptContext<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/SimpleScriptContext.html">http://download.oracle.com/javase/6/docs/api/javax/script/SimpleScriptContext.html</a>
</li>

<li>javax.script.ScriptException<br />
<a href="http://download.oracle.com/javase/6/docs/api/javax/script/ScriptException.html">http://download.oracle.com/javase/6/docs/api/javax/script/ScriptException.html</a>
</li>

<li>The Java Compatibility Test Tools: JavaTest Harness<br />
<a href="http://java.sun.com/developer/technicalArticles/JCPtools2/">http://java.sun.com/developer/technicalArticles/JCPtools2/</a>
</li>

<li>JavaScript engine (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/JavaScript_engine">http://en.wikipedia.org/wiki/JavaScript_engine</a>
</li>

<li>Rhino (JavaScript engine)<br />
<a href="http://en.wikipedia.org/wiki/Rhino_(JavaScript_engine)">http://en.wikipedia.org/wiki/Rhino_(JavaScript_engine)</a>
</li>

<li>Rhino: JavaScript for Java<br />
<a href="http://www.mozilla.org/rhino/">http://www.mozilla.org/rhino/</a>
</li>

<li>Java HotSpot VM Options<br />
<a href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></li>

<li>HugePages<br />
<a href="http://linux-mm.org/HugePages">http://linux-mm.org/HugePages</a>
</li>

<li>Tuning big java heap and linux huge pages<br />
<a href="http://www.tikalk.com/alm/forums/tuning-big-java-heap-and-linux-huge-pages">http://www.tikalk.com/alm/forums/tuning-big-java-heap-and-linux-huge-pages</a>
</li>

<li>How do I set up hugepages in Red Hat Enterprise Linux 4<br />
<a href="http://magazine.redhat.com/2007/05/29/how-do-i-set-up-hugepages-in-red-hat-enterprise-linux-4/">http://magazine.redhat.com/2007/05/29/how-do-i-set-up-hugepages-in-red-hat-enterprise-linux-4/</a>
</li>

<li>Java SE Tuning Tip: Large Pages on Windows and Linux<br />
<a href="http://blogs.sun.com/dagastine/entry/java_se_tuning_tip_large">http://blogs.sun.com/dagastine/entry/java_se_tuning_tip_large</a>
</li>

<li>Translation lookaside buffer<br />
<a href="http://en.wikipedia.org/wiki/Translation_lookaside_buffer">http://en.wikipedia.org/wiki/Translation_lookaside_buffer</a>
</li>

<li>Physical Address Extension<br />
<a href="http://en.wikipedia.org/wiki/Physical_Address_Extension">http://en.wikipedia.org/wiki/Physical_Address_Extension</a>
</li>

<li>Java HotSpot VM Options<br />
<a href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a>
</li>

<li>Amdahl's law<br />
<a href="http://en.wikipedia.org/wiki/Amdahl_law">http://en.wikipedia.org/wiki/Amdahl_law</a>
</li>

<li>Garbage collection (computer science)<br />
<a href="http://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">http://en.wikipedia.org/wiki/Garbage_collection_(computer_science)</a>
</li>

<li>Dr. Dobb's | G1: Java's Garbage First Garbage Collector<br />
<a href="http://www.drdobbs.com/article/printableArticle.jhtml?articleId=219401061&amp;dept_url=/java/">http://www.drdobbs.com/article/printableArticle.jhtml?articleId=219401061&amp;dept_url=/java/</a>
</li>

<li>Java's garbage-collected heap<br />
<a href="http://www.javaworld.com/javaworld/jw-08-1996/jw-08-gc.html">http://www.javaworld.com/javaworld/jw-08-1996/jw-08-gc.html</a>
</li>

<li>Compressed oops in the Hotspot JVM<br />
<a href="http://wikis.sun.com/display/HotSpotInternals/CompressedOops">http://wikis.sun.com/display/HotSpotInternals/CompressedOops</a>
</li>

<li>32-bit or 64-bit JVM? How about a Hybrid?<br />
<a href="http://blog.juma.me.uk/2008/10/14/32-bit-or-64-bit-jvm-how-about-a-hybrid/">http://blog.juma.me.uk/2008/10/14/32-bit-or-64-bit-jvm-how-about-a-hybrid/</a>
</li>

<li>Compressed object pointers in Hotspot VM<br />
<a href="http://blogs.sun.com/nike/entry/compressed_object_pointers_in_hotspot">http://blogs.sun.com/nike/entry/compressed_object_pointers_in_hotspot</a>
</li>

<li>Java HotSpot(tm) Virtual Machine Performance Enhancements<br />
<a href="http://download.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html">http://download.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html</a>
</li>

<li>Using jconsole<br />
<a href="http://download.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html">http://download.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html</a>
</li>

<li>jconsole &ndash; Java Monitoring and Management Console<br />
<a href="http://download.oracle.com/javase/1.5.0/docs/tooldocs/share/jconsole.html">http://download.oracle.com/javase/1.5.0/docs/tooldocs/share/jconsole.html</a>
</li>

<li>Great Computer Language Shootout<br />
<a href="http://c2.com/cgi/wiki?GreatComputerLanguageShootout">http://c2.com/cgi/wiki?GreatComputerLanguageShootout</a>
</li>

<li>x86-64<br />
<a href="http://en.wikipedia.org/wiki/X86-64">http://en.wikipedia.org/wiki/X86-64</a>
</li>

<li>Physical Address Extension<br />
<a href="http://en.wikipedia.org/wiki/Physical_Address_Extension">http://en.wikipedia.org/wiki/Physical_Address_Extension</a>
</li>

<li>Java performance<br />
<a href="http://en.wikipedia.org/wiki/Java_performance">http://en.wikipedia.org/wiki/Java_performance</a>
</li>

<li>1.6.0_14 (6u14)<br />
<a href="http://www.oracle.com/technetwork/java/javase/6u14-137039.html?ssSourceSiteId=otncn">http://www.oracle.com/technetwork/java/javase/6u14-137039.html?ssSourceSiteId=otncn</a>
</li>

<li>Update Release Notes<br />
<a href="http://www.oracle.com/technetwork/java/javase/releasenotes-136954.html">http://www.oracle.com/technetwork/java/javase/releasenotes-136954.html</a>
</li>

<li>Java virtual machine: 4.10 Limitations of the Java Virtual Machine<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#88659">http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#88659</a>
</li>

<li>Java(TM) Platform, Standard Edition 7 Binary Snapshot Releases<br />
<a href="http://dlc.sun.com.edgesuite.net/jdk7/binaries/index.html">http://dlc.sun.com.edgesuite.net/jdk7/binaries/index.html</a>
</li>

<li>Trying the prototype<br />
<a href="http://mail.openjdk.java.net/pipermail/lambda-dev/2010-August/002179.html">http://mail.openjdk.java.net/pipermail/lambda-dev/2010-August/002179.html</a>
</li>

<li>Better closures (for Java)<br />
<a href="http://blogs.sun.com/jrose/entry/better_closures">http://blogs.sun.com/jrose/entry/better_closures</a>
</li>

<li>Lambdas in Java: An In-Depth Analysis<br />
<a href="http://www.infoq.com/articles/lambdas-java-analysis">http://www.infoq.com/articles/lambdas-java-analysis</a>
</li>

<li>Class ReflectiveOperationException<br />
<a href="http://download.java.net/jdk7/docs/api/java/lang/ReflectiveOperationException.html">http://download.java.net/jdk7/docs/api/java/lang/ReflectiveOperationException.html</a>
</li>

<li>Proposal: Indexing access syntax for Lists and Maps<br />
<a href="http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/001108.html">http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/001108.html</a>
</li>

<li>Proposal: Elvis and Other Null-Safe Operators<br />
<a href="http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.html">http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.html</a>
</li>

<li>Java 7 : Oracle pushes a first version of closures<br />
<a href="http://www.baptiste-wicht.com/2010/05/oracle-pushes-a-first-version-of-closures/">http://www.baptiste-wicht.com/2010/05/oracle-pushes-a-first-version-of-closures/</a>
</li>

<li>Groovy: An agile dynamic language for the Java Platform<br />
<a href="http://groovy.codehaus.org/Operators">http://groovy.codehaus.org/Operators</a>
</li>

<li>Better Strategies for Null Handling in Java<br />
<a href="http://www.slideshare.net/Stephan.Schmidt/better-strategies-for-null-handling-in-java">http://www.slideshare.net/Stephan.Schmidt/better-strategies-for-null-handling-in-java</a>
</li>

<li>Control Flow in the Java Virtual Machine<br />
<a href="http://www.artima.com/underthehood/flowP.html">http://www.artima.com/underthehood/flowP.html</a>
</li>

<li>Java Virtual Machine<br />
<a href="http://en.wikipedia.org/wiki/Java_virtual_machine">http://en.wikipedia.org/wiki/Java_virtual_machine</a>
</li>

<li>==, .equals(), compareTo(), and compare()<br />
<a href="http://leepoint.net/notes-java/data/expressions/22compareobjects.html">http://leepoint.net/notes-java/data/expressions/22compareobjects.html</a>
</li>

<li>New JDK7 features<br />
<a href="http://openjdk.java.net/projects/jdk7/features/">http://openjdk.java.net/projects/jdk7/features/</a>
</li>

<li>Project Coin: Bringing it to a Close(able)<br />
<a href="http://blogs.sun.com/darcy/entry/project_coin_bring_close">http://blogs.sun.com/darcy/entry/project_coin_bring_close</a>
</li>

<li>ClosableFinder source code<br />
<a href="http://blogs.sun.com/darcy/resource/ProjectCoin/CloseableFinder.java">http://blogs.sun.com/darcy/resource/ProjectCoin/CloseableFinder.java</a>
</li>

<li>Joe Darcy blog about JDK<br />
<a href="http://blogs.sun.com/darcy">http://blogs.sun.com/darcy</a>
</li>

<li>Java 7 - more dynamics<br />
<a href="http://www.baptiste-wicht.com/2010/04/java-7-more-dynamics/">http://www.baptiste-wicht.com/2010/04/java-7-more-dynamics/</a>
</li>

<li>ArrayList (JDK 1.4)<br />
<a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/ArrayList.html">http://download.oracle.com/javase/1.4.2/docs/api/java/util/ArrayList.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2011</small></p>
</body>
</html>

