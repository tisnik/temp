<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Pohled pod kapotu JVM - vyu¾ití knihovny SDLJava v graficky nároèných aplikacích</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Pohled pod kapotu JVM - vyu¾ití knihovny sdljava v graficky nároèných aplikacích</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o programovacím jazyce Java i o virtuálním stroji Javy si øekneme základní informace o knihovnì SDLJava, která umo¾òuje vyu¾ívat SDL v javovských aplikacích. Tato knihovna mù¾e být pou¾ita napøíklad ve hrách, v nich¾ nemusí být grafický výkon dosahovaný kombinací AWT+Java2D èi Swing+Java2D vyhovující.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Pohled pod kapotu JVM - vyu¾ití knihovny SDLJava v graficky nároèných aplikacích</a></p>
<p><a href="#k02">2. Základní vlastnosti knihovny SDLJava</a></p>
<p><a href="#k03">3. Instalace knihovny sdljava</a></p>
<p><a href="#k04">4. První demonstraèní pøíklad &ndash; nastavení celoobrazovkového grafického re¾imu</a></p>
<p><a href="#k05">5. Pøeklad a spu¹tìní prvního demonstraèního pøíkladu</a></p>
<p><a href="#k06">6. Druhý demonstraèní pøíklad &ndash; vykreslení obdélníku</a></p>
<p><a href="#k07">7. Tøetí demonstraèní pøíklad &ndash; double buffering</a></p>
<p><a href="#k08">8. Repositáø se zdrojovými kódy v¹ech tøí dne¹ních demonstraèních pøíkladù</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Pohled pod kapotu JVM - vyu¾ití knihovny SDLJava v graficky nároèných aplikacích</h2>

<p>V&nbsp;pøedchozích èástech <a
href="http://www.root.cz/serialy/programovaci-jazyk-java-a-jvm/">seriálu o
programovacím jazyku Java i o virtuálním stroji Javy</a> jsme si popsali
základní zpùsoby vyu¾ití knihoven <i>AWT</i>, <i>Swing</i> a <i>Java2D</i> pøi
tvorbì aplikací, na nì¾ jsou kladeny velké po¾adavky na rychlost a/nebo
plynulost vykreslování. Popsali jsme si i mo¾né zpùsoby vyu¾ití exkluzivních
celoobrazovkových re¾imù, double bufferingu (implicitního double bufferingu
v&nbsp;pøípadì pou¾ití komponent knihovny <i>Swing</i> i explicitního double
bufferingu pøi pou¾ití komponent <i>AWT</i>) èi zpùsobù pou¾ití bitmap typu
<strong>VolatileImage</strong>, které jsou ulo¾ené v&nbsp;pamìti grafického
akcelerátoru. Ov¹em i pøes pomìrnì velké mo¾nosti, které nám knihovny
<i>AWT</i>, <i>Swing</i> i <i>Java2D</i> nabízí nemusí být v&nbsp;nìkterých
pøípadech výkon aplikace dostaèující, a to vìt¹inou z&nbsp;toho dùvodu, ¾e mezi
programovým kódem napsaným u¾ivatelem v&nbsp;Javì a vlastním vykonáním nìjaké
grafické operace le¾í hned nìkolik vrstev (dal¹í problém mù¾e nastat
v&nbsp;pøípadì aplikací s&nbsp;3D grafikou, to je v¹ak ji¾ téma, kterému se
budeme vìnovat nìkdy pøí¹tì).</p>

<p>U nìkterých typù aplikací mù¾e být výhodnìj¹í se pou¾ití javovských knihoven
<i>AWT/Swing/Java2D</i> zcela vyhnout a pou¾ít namísto nich nìjakou nativní
knihovnu, která bude po¾adované grafické operace nabízet. V&nbsp;pøípadì 3D
grafiky je tak mo¾né vyu¾ít <i>OpenGL</i> èi <i>Direct3D</i>, ov¹em pokud se
jedná o 2D grafiku, nabízí se celkem zajímavá volba &ndash; vyu¾ití nativní
knihovny <i>SDL</i>, která je sama o sobì pouze relativnì tenkou vrstvou mezi
u¾ivatelskými programy a multimediálními zaøízeními (grafickou a zvukovou
kartou, ale té¾ klávesnicí, joysticky a my¹í èi èasovaèem). Mezi pøednosti
<i>SDL</i> patøí její jednoduchost (z&nbsp;toho se odvíjí i existence vazby
mezi <i>SDL</i> a programovacími jazyky, i kdy¾ její základní API je èistì
céèkové), pøenositelnost na rùzné platformy (vèetnì Androidu, minimálnì
v&nbsp;pøípadì SDL 1.x) a v&nbsp;neposlední øadì takté¾ existence nìkolika
doplòujících modulù, napøíklad modulu pro vykreslování TTF fontù, vytvoøení
grafického kontextu pro <i>OpenGL</i>, modulu pro komunikaci po síti atd. I
díky tìmto vlastnostem je <i>SDL</i> pou¾ívána v&nbsp;mnoha úspì¹ných hrách,
viz té¾ <a
href="http://en.wikipedia.org/wiki/List_of_games_using_SDL">http://en.wikipedia.org/wiki/List_of_games_using_SDL</a>.</p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Základní vlastnosti knihovny SDLJava</h2>

<p><a href="#k01">V&nbsp;pøedchozí kapitole</a> jsem se zmínil o tom, ¾e API
knihovny <i>SDL</i> je vytvoøeno pro programovací jazyk C (co¾ je souèasnì i
jazyk, v&nbsp;nìm¾ je tato knihovna implementována), ale existují i vazby pro
dal¹í programovací jazyky. V&nbsp;pøípadì Javy má programátor dvì mo¾nosti. Buï
si mù¾e vazbu na <i>SDL</i> vytvoøit sám, napøíklad s&nbsp;pøímým vyu¾itím
<i>JNI</i>, popø.&nbsp;nemusí znovu vymý¹let kolo, ale namísto toho vyu¾ít ji¾
existující knihovnu <i>SDLJava</i>. Tato knihovna nabízí propojení mezi Javou a
<i>SDL</i>, pøièem¾ Javovské API této knihovny je navr¾eno takovým zpùsobem, ¾e
je jeho pou¾ití pro programátora pí¹ícího v&nbsp;Javì velmi pøirozené a
jednoduché (v&nbsp;nìkterých ohledech jednodu¹¹í, ne¾ programové rozhraní
vlastní knihovny <i>SDL</i>). <i>SDLJava</i> v&nbsp;souèasnosti podporuje
<i>SDL</i> verze 1.2.x, co¾ je prozatím nejroz¹íøenìj¹í verze <i>SDL</i>, i
kdy¾ relativnì nedávno, konkrétnì 13.&nbsp;8.&nbsp;2013 byla vydána <i>SDL</i>
2.0, která má odli¹né API a nabízí odli¹né funkce, které se více pøibli¾ují
mo¾nostem souèasných grafických akcelerátorù.</p>

<p>Vyu¾ití <i>SDLJava</i> pro volání funkcí <i>SDL</i> z&nbsp;Javy má své
pøednosti, ale samozøejmì i zápory. Pøedností je v&nbsp;mnoha pøípadech vy¹¹í
grafický výkon a takté¾ (co¾ mù¾e být mo¾ná ponìkud pøekvapivé) i
pøenositelnost aplikace i na ty platformy, kde není oficiálnì podporována Java
SE (pøíkladem je systém Android). Jednou z&nbsp;nevýhod je nutnost zajistit pøi
spu¹tìní aplikace správnou funkci <i>SDLJava</i>, co¾ pøedev¹ím znamená, ¾e JVM
musí v&nbsp;èase bìhu nalézt nativní knihovnu <strong>libsdljava.so</strong> èi
<strong>SDLJava.dll</strong> a souèasnì musí být v&nbsp;systému nainstalována i
knihovna <i>SDL</i>. Jedná se o stejný problém, se kterým se setká prakticky
jakýkoli programátor, který èást své aplikace vyvine ve formì nativní knihovny,
její¾ funkce pak pøes rozhraní <i>JNI</i> volá z&nbsp;Javovské èásti aplikace.
Touto problematikou se budeme podrobnìji zabývat <a
href="#k03">v&nbsp;navazující kapitole</a>.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Instalace knihovny SDLJava</h2>

<p>V&nbsp;mnoha distribucích lze knihovnu <i>SDLJava</i> nalézt
v&nbsp;repositáøích dané distribuce, tak¾e v&nbsp;tomto pøípadì je instalace
této knihovny velmi snadná (<strong>yum install</strong>,
<strong>apt-get</strong> atd.). Pokud tento balíèek v&nbsp;repositáøích své
distribuce nenaleznete popø.&nbsp;pokud chcete pou¾ít prozatím nejnovìj¹í verzi
této knihovny, je mo¾né velmi jednodu¹e provést &bdquo;lokální instalaci&ldquo;
do pøedem zvoleného adresáøe, ov¹em s&nbsp;tím omezením, ¾e nativní èást je
pøelo¾ena pro 32bitovou platformu x86_64 (jinými slovy &ndash; nejlep¹í je
stejnì vyu¾ít balíèek z&nbsp;distribuce :-):</p>

<pre>
#!/bin/sh
&nbsp;
SDL_JAVA_VERSION=sdljava-0.9.1-linux-2.6-bin.tar.gz
&nbsp;
wget http://sourceforge.net/projects/sdljava/files/sdljava/0.9.1/$SDL_JAVA_VERSION/download -o $SDL_JAVA_VERSION
&nbsp;
tar xvfz $SDL_JAVA_VERSION
</pre>

<p>Na uvedené adrese <a
href="http://sourceforge.net/projects/sdljava/files/sdljava/0.9.1/">http://sourceforge.net/projects/sdljava/files/sdljava/0.9.1/</a>
je mo¾né najít i knihovnu <i>SDLJava</i> pro Windows.</p>

<p>Nezávisle na tom, jakým zpùsobem se instalace provede, získáme minimálnì dva
dùle¾ité soubory &ndash; Javovskou èást knihovny <i>SDLJava</i>, která je
ulo¾ena v&nbsp;souboru nazvaném <strong>sdljava.jar</strong> a nativní èást
knihovny ulo¾enou v&nbsp;souboru s&nbsp;názvem <strong>libsdljava.so</strong>
popø.&nbsp;na systému Windows pod názvem <strong>SDLJava.dll</strong>. Archiv
<strong>sdljava.jar</strong> je pou¾it jak pøi kompilaci, tak i pøi bìhu
aplikací, tj.&nbsp;musí být umístìn na CLASSPATH, nativní knihovna
<strong>libsdljava.so/SDLJava.dll</strong> je vyu¾ita pøi bìhu a vìt¹inou se na
cestu k&nbsp;ní odkazujeme pomocí pøepínaèe
<strong>-Djava.library.path=cesta</strong>.</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. První demonstraèní pøíklad &ndash; nastavení celoobrazovkového grafického re¾imu</h2>

<p>Vlastnosti a mo¾nosti nabízené knihovnou <i>SDLJava</i> si nejlépe uká¾eme
na demonstraèních pøíkladech. V¹echny dnes uvedené demonstraèní pøíklady budou
velmi jednoduché a souèasnì budou vyu¾ívat jen základní grafické mo¾nosti
knihovny <i>SDLJava</i>, zatímco dal¹ími mo¾nostmi (zvuky, ètení stavù
klávesnice a my¹i atd.) se budeme zabývat v&nbsp;navazujících èástech tohoto
seriálu. První demonstraèní pøíklad uvedený v&nbsp;této kapitole je velmi
jednoduchý a vyu¾ívá pouze dvì tøídy &ndash; <strong>sdljava.SDLMain</strong> a
<strong>sdljava.video.SDLVideo</strong>.</p>

<p>Nejprve je provedena inicializace knihovny <i>SDL</i> s&nbsp;vyu¾itím
statické metody <strong>SDLMain.init()</strong>, které se pomocí konstanty
<strong>SDLMain.SDL_INIT_VIDEO</strong> pøedá informace o tom, ¾e se bude
vyu¾ívat pouze grafický subsystém <i>SDL</i>. Následnì je s&nbsp;vyu¾itím
takté¾ statické metody <strong>SDLVideo.setVideoMode()</strong> provedeno
pøepnutí do celoobrazovkového grafického re¾imu s&nbsp;rozli¹ením 800&times;600
pixelù a s&nbsp;bitovou hloubkou 16 bitù na pixel. Po uplynutí pìti sekund se
aplikace korektnì ukonèí zavoláním metody <strong>SDLMain.quit()</strong> (ta
je navíc zavolána i pøi vzniku jakékoli výjimky, aby se zamezilo tomu, ¾e by
aplikace po svém pádu neobnovila pùvodní grafický re¾im).</p>

<p>Výpis zdrojového kódu prvního demonstraèního pøíkladu:</p>

<pre>
import sdljava.SDLMain;
import sdljava.video.SDLVideo;
&nbsp;
&nbsp;
&nbsp;
<i>/**</i>
<i> * Prvni demonstracni priklad vyuzivajici knihovnu sdljava.</i>
<i> * Po spusteni se provede prepnuti do grafickeho rezimu 800x600x16</i>
<i> * a po peti sekundach se program ukonci.</i>
<i> */</i>
public class <strong>SDLTest1</strong> {
&nbsp;
<i>    /**</i>
<i>     * Horizontalni rozliseni vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_WIDTH</strong> = 800;
&nbsp;
<i>    /**</i>
<i>     * Vertikalni rozliseni vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_HEIGHT</strong> = 600;
&nbsp;
<i>    /**</i>
<i>     * Bitova hloubka vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_BPP</strong> = 16;
&nbsp;
<i>    /**</i>
<i>     * Spusteni demonstracniho prikladu.</i>
<i>     */</i>
    public static void <strong>main</strong>(String[] args) {
        try {
<i>            // inicializace video subsystemu knihovny SDL.</i>
            SDLMain.init(SDLMain.SDL_INIT_VIDEO);
<i>            // inicializace celoobrazovkoveho grafickeho rezimu</i>
            SDLVideo.setVideoMode(GFX_WIDTH, GFX_HEIGHT, GFX_BPP, SDLVideo.SDL_FULLSCREEN);
            Thread.sleep(5000);
        }
        catch (Exception e) {
            e.printStackTrace();
        }
        finally {
<i>            // musime obnovit puvodni graficky rezim</i>
            SDLMain.quit();
        }
    }
}
</pre>



<p><a name="k05"></a></p>
<h2 id="k05">5. Pøeklad a spu¹tìní prvního demonstraèního pøíkladu</h2>

<p>Podívejme se nyní na to, jakým zpùsobem se první demonstraèní pøíklad
pøelo¾í a spustí. Pøeklad se provádí stejným postupem, jako pøeklad
&bdquo;obyèejných&ldquo; javovských aplikací, pouze je nutné správnì nastavit
cestu k&nbsp;Java archivu <strong>sdljava.jar</strong>. Pokud je tento archiv
umístìn v&nbsp;podadresáøi <strong>./sdljava-0.9.1/lib</strong>, je pøeklad
snadný a zajistí ho následující skript:</p>

<pre>
#!/bin/sh
&nbsp;
SDL_JAVA_LIBS=./sdljava-0.9.1/lib
&nbsp;
javac -cp $SDL_JAVA_LIBS/sdljava.jar SDLTest1.java
</pre>

<p>V&nbsp;pøípadì, ¾e je knihovna <i>SDLJava</i> nainstalována v&nbsp;systému,
je mo¾né pøeklad provést následujícím zpùsobem:</p>

<pre>
#!/bin/sh
&nbsp;
javac -cp .:/usr/share/java/sdljava.jar SDLTest1.java
</pre>

<p>Spu¹tìní aplikace je ji¾ nepatrnì slo¾itìj¹í, nebo» je nutné správnì
nastavit cestu k&nbsp;nativní èásti knihovny <i>SDLJava</i>. Nejprve si uka¾me
první mo¾nost &ndash; nativní èást <i>SDLJava</i> (soubor
<strong>libsdljava.so</strong>) je ve umístìna v&nbsp;podadresáøi
<strong>./sdljava-0.9.1/lib</strong>:</p>

<pre>
#!/bin/sh
&nbsp;
SDL_JAVA_LIBS=./sdljava-0.9.1/lib
&nbsp;
java -cp .:$SDL_JAVA_LIBS/sdljava.jar -Djava.library.path=$SDL_JAVA_LIBS SDLTest1
</pre>

<p>Pokud je <i>SDLJava</i> souèástí instalace systému, lze pro spu¹tìní prvního
demonstraèního pøíkladu vyu¾ít napøíklad následující skript:</p>

<pre>
#!/bin/sh
&nbsp;
java -cp .:/usr/share/java/sdljava.jar -Djava.library.path=/usr/lib64/sdljava SDLTest1
</pre>



<p><a name="k06"></a></p>
<h2 id="k06">6. Druhý demonstraèní pøíklad &ndash; vykreslení obdélníku</h2>

<p>Ve druhém demonstraèním pøíkladu se seznámíme se zpùsobem vykreslování.
Samotná základní varianta knihovny <i>SDL</i> (a tím pádem i <i>SDLJava</i>)
podporuje pouze dva vykreslovací pøíkazy. První pøíkaz, který slou¾í pro
vykreslení bitmapy (pøedstavované objektem typu <strong>SDLSurface</strong>),
si podrobnìji popí¹eme v&nbsp;navazující èásti tohoto seriálu. Druhý pøíkaz
slou¾í pro vykreslení obdélníku vyplnìného zadanou barvou. Ve¹keré vykreslování
lze provést na libovolný objekt typu <strong>SDLSurface</strong>, pøièem¾ i
samotná obrazovka (pøesnìji øeèeno buï pøední nebo zadní buffer) je
pøedstavována objektem tohoto typu. Ve druhém demonstraèním pøíkladu se nejprve
inicializuje grafický re¾im stejným zpùsobem, jako tomu bylo v&nbsp;pøíkladu
prvním, ov¹em s&nbsp;tím rozdílem, ¾e nyní vyu¾ijeme návratovou hodnotu
statické metody <strong>SDLVideo.setVideoMode()</strong>. Touto hodnotou je ji¾
zmínìný objekt typu <strong>SDLSurface</strong>, který v&nbsp;tomto pøípadì
pøedstavuje pøední buffer (nepovolili jsme toti¾ doublebuffering).</p>

<p>Následnì se v&nbsp;metodì <strong>drawOnScreen()</strong> provede vykreslení
obdélníku pomocí metody <strong>SDLSurface.fillRect()</strong>, které se pøedá
objekt typu <strong>SDLRect</strong> obsahující informace o geometrii
vyplòovaného obdélníku (pozice na obrazovce plus rozmìry) a takté¾ barva,
kterou se má obdélník vyplnit. Barva je pøedstavována promìnnou typu
<strong>long</strong> a pro získání skuteèné hodnoty barvy se pou¾ívá metoda
<strong>SDLSurface.mapRGB()</strong>, která zajistí, ¾e se výpoèet barvy
provede s&nbsp;ohledem na formát pixelù ulo¾ených v&nbsp;bitmapì nebo ve
framebufferu. To mj.&nbsp;znamená, ¾e v&nbsp;pøípadì pou¾ití grafického re¾imu
s&nbsp;jinou bitovou hloubkou vrátí tato metoda odli¹nou hodnotu. Poslední
metodou, kterou je nutné pøi vykreslování zavolat, je
<strong>SDLSurface.flip()</strong>, a to i v&nbsp;pøípadì, ¾e není explicitnì
vy¾adován double buffering.</p>

<p>Následuje výpis zdrojového kódu druhého demonstraèního pøíkladu:</p>

<pre>
import sdljava.SDLMain;
import sdljava.SDLException;
import sdljava.video.SDLVideo;
import sdljava.video.SDLSurface;
import sdljava.video.SDLRect;
&nbsp;
&nbsp;
&nbsp;
<i>/**</i>
<i> * Druhy demonstracni priklad vyuzivajici knihovnu sdljava.</i>
<i> * Po spusteni se provede prepnuti do grafickeho rezimu 800x600x16</i>
<i> * Po inicializaci grafickeho rezimu se</i>
<i> * provede vykresleni obdelniku a po peti sekundach se program ukonci.</i>
<i> */</i>
public class <strong>SDLTest2</strong> {
&nbsp;
<i>    /**</i>
<i>     * Horizontalni rozliseni vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_WIDTH</strong> = 800;
&nbsp;
<i>    /**</i>
<i>     * Vertikalni rozliseni vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_HEIGHT</strong> = 600;
&nbsp;
<i>    /**</i>
<i>     * Bitova hloubka vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_BPP</strong> = 16;
&nbsp;
<i>    /**</i>
<i>     * Vykresleni obdelniku na obrazovku.</i>
<i>     */</i>
    private static void <strong>drawOnScreen</strong>(SDLSurface screen) throws SDLException {
<i>        // ziskat rozmery obrazovky</i>
        final int width = screen.getWidth();
        final int height = screen.getHeight();
<i>        // vypocitat barvu obdelniku</i>
        final long color = screen.mapRGB(64, 255, 255);
        final SDLRect rect = new SDLRect(width &gt;&gt; 2, height &gt;&gt; 2, width &gt;&gt; 1, height &gt;&gt; 1);
<i>        // vykreslit obdelnik</i>
        screen.fillRect(rect, color);
<i>        // nutno volat i v pripade, ze neni pouzit double buffering</i>
        screen.flip();
    }
&nbsp;
<i>    /**</i>
<i>     * Spusteni demonstracniho prikladu.</i>
<i>     */</i>
    public static void <strong>main</strong>(String[] args) {
        try {
<i>            // inicializace video subsystemu knihovny SDL.</i>
            SDLMain.init(SDLMain.SDL_INIT_VIDEO);
<i>            // inicializace celoobrazovkoveho grafickeho rezimu</i>
            SDLSurface screen = SDLVideo.setVideoMode(GFX_WIDTH, GFX_HEIGHT, GFX_BPP, SDLVideo.SDL_FULLSCREEN);
            drawOnScreen(screen);
            Thread.sleep(5000);
        }
        catch (Exception e) {
            e.printStackTrace();
        }
        finally {
<i>            // musime obnovit puvodni graficky rezim</i>
            SDLMain.quit();
        }
    }
}
</pre>



<p><a name="k07"></a></p>
<h2 id="k07">7. Tøetí demonstraèní pøíklad &ndash; double buffering</h2>

<p>Tøetí demonstraèní pøíklad je prakticky toto¾ný s&nbsp;pøíkladem druhým a¾
na jednu dùle¾itou malièkost: pøi inicializaci grafického re¾imu je pøi volání
metody <strong>SDLVideo.setVideoMode()</strong> po¾adováno vyu¾ití double
bufferingu, co¾ znamená, ¾e se v&nbsp;obrazové pamìti grafického akcelerátoru
budou alokovat dva buffery s&nbsp;rozli¹ením 800&times;600 pixelù a barvovou
hloubkou 16bpp. První buffer bude pøední (<i>front buffer</i>), který bude
viditelný na obrazovce, zatímco druhý buffer bude zadní (<i>back buffer</i>) a
právì do nìj bude provádìno vykreslování. S&nbsp;vyu¾itím metody
<strong>SDLSurface.flip()</strong> dojde k&nbsp;prohození funkcí obou bufferù.
Pov¹imnìte si, ¾e pøi pou¾ití knihovny <i>SDLJava</i> je zapnutí double
bufferingu velmi jednoduché, proto¾e vy¾aduje pouze pøedání bitového pøíznaku
do metody <strong>SDLVideo.setVideoMode()</strong>, zatímco v&nbsp;pøípadì
vyu¾ití AWT èi Swingu bylo nutné pou¾ít tøídu <strong>BufferStrategy</strong> a
navíc je¹tì zmìnit ve¹keré vykreslovací rutiny tak, aby se správnì vyu¾íval
pøední a zadní buffer, co¾ obecnì znamená zásah do celého grafického subsystému
vyvíjené aplikace.</p>

<p>Výpis zdrojového kódu tøetího demonstraèního pøíkladu:</p>

<pre>
import sdljava.SDLMain;
import sdljava.SDLException;
import sdljava.video.SDLVideo;
import sdljava.video.SDLSurface;
import sdljava.video.SDLRect;
&nbsp;
&nbsp;
&nbsp;
<i>/**</i>
<i> * Druhy demonstracni priklad vyuzivajici knihovnu sdljava.</i>
<i> * Po spusteni se provede prepnuti do grafickeho rezimu 800x600x16</i>
<i> * s podporou double bufferingu. Po inicializaci grafickeho rezimu se</i>
<i> * provede vykresleni obdelniku, prohozeno obou bufferu a po peti</i>
<i> * sekundach se program ukonci.</i>
<i> */</i>
public class <strong>SDLTest3</strong> {
&nbsp;
<i>    /**</i>
<i>     * Horizontalni rozliseni vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_WIDTH</strong> = 800;
&nbsp;
<i>    /**</i>
<i>     * Vertikalni rozliseni vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_HEIGHT</strong> = 600;
&nbsp;
<i>    /**</i>
<i>     * Bitova hloubka vybraneho grafickeho rezimu.</i>
<i>     */</i>
    private static final int <strong>GFX_BPP</strong> = 16;
&nbsp;
<i>    /**</i>
<i>     * Vykresleni obdelniku na obrazovku.</i>
<i>     */</i>
    private static void <strong>drawOnScreen</strong>(SDLSurface screen) throws SDLException {
<i>        // ziskat rozmery obrazovky</i>
        final int width = screen.getWidth();
        final int height = screen.getHeight();
<i>        // vypocitat barvu obdelniku</i>
        final long color = screen.mapRGB(64, 255, 255);
        final SDLRect rect = new SDLRect(width &gt;&gt; 2, height &gt;&gt; 2, width &gt;&gt; 1, height &gt;&gt; 1);
<i>        // vykreslit obdelnik</i>
        screen.fillRect(rect, color);
<i>        // nutno volat i v pripade, ze neni pouzit double buffering</i>
        screen.flip();
    }
&nbsp;
<i>    /**</i>
<i>     * Spusteni demonstracniho prikladu.</i>
<i>     */</i>
    public static void <strong>main</strong>(String[] args) {
        try {
<i>            // inicializace video subsystemu knihovny SDL.</i>
            SDLMain.init(SDLMain.SDL_INIT_VIDEO);
<i>            // inicializace celoobrazovkoveho grafickeho rezimu</i>
<i>            // s podporou double bufferingu</i>
            SDLSurface screen = SDLVideo.setVideoMode(GFX_WIDTH, GFX_HEIGHT, GFX_BPP,
                                                      SDLVideo.SDL_DOUBLEBUF | SDLVideo.SDL_FULLSCREEN);
            drawOnScreen(screen);
            Thread.sleep(5000);
        }
        catch (Exception e) {
            e.printStackTrace();
        }
        finally {
<i>            // musime obnovit puvodni graficky rezim</i>
            SDLMain.quit();
        }
    }
}
</pre>

<p>Pøeklad a spu¹tìní se provede naprosto stejným zpùsobem, jako tomu bylo
v&nbsp;prvním demonstraèním pøíkladu.</p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Repositáø se zdrojovými kódy v¹ech tøí dne¹ních demonstraèních pøíkladù</h2>

<p>V¹echny tøi dne¹ní demonstraèní pøíklady byly spoleènì s&nbsp;podpùrnými
skripty urèenými pro jejich pøeklad a následné spu¹tìní ulo¾eny do Mercurial
repositáøe dostupného na adrese <a
href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/</a>.
Ke ka¾dému pøíkladu jsou pøidány ètyøi skripty &ndash; skript
<strong>SDLTestX_compile.sh</strong> slou¾í k&nbsp;pøekladu pøíkladu
v&nbsp;pøípadì, ¾e se pou¾ívá lokální kopie knihovny <i>SDLJava</i>, skript
<strong>SDLTestX_compile_sys.sh</strong> pro pøeklad proti knihovnì
nainstalované v&nbsp;adresáøi <strong>/usr/lib64/</strong>, skript
<strong>SDLTestX_run.sh</strong> lze pou¾ít pro spu¹tìní pøíkladu spoleènì
s&nbsp;lokální kopií <i>SDLJava</i> a koneènì skript nazvaný
<strong>SDLTestX_run_sys.sh</strong> slou¾í pro spu¹tìní pøíkladu
v&nbsp;pøípadì, ¾e je <i>SDLJava</i> nainstalovaná v&nbsp;systému.
Z&nbsp;tìchto skriptù lze snadno odvodit i dal¹í varianty, k&nbsp;nim¾ mù¾e
v&nbsp;praxi dojít:</p>

<table>
<tr><th> #</th><th>Zdrojový soubor/skript</th><th>Umístìní souboru v&nbsp;repositáøi</th></tr>
<tr><td> 1</td><td>SDLTest1.java          </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1.java</a></td></tr>
<tr><td> 2</td><td>SDLTest1_compile.sh    </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_compile.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_compile.sh</a></td></tr>
<tr><td> 3</td><td>SDLTest1_compile_sys.sh</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_compile_sys.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_compile_sys.sh</a></td></tr>
<tr><td> 4</td><td>SDLTest1_run.sh        </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_run.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_run.sh</a></td></tr>
<tr><td> 5</td><td>SDLTest1_run_sys.sh    </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_run_sys.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest1/SDLTest1_run_sys.sh</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td> 6</td><td>SDLTest2.java          </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2.java</a></td></tr>
<tr><td> 7</td><td>SDLTest2_compile.sh    </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_compile.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_compile.sh</a></td></tr>
<tr><td> 8</td><td>SDLTest2_compile_sys.sh</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_compile_sys.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_compile_sys.sh</a></td></tr>
<tr><td> 9</td><td>SDLTest2_run.sh        </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_run.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_run.sh</a></td></tr>
<tr><td>10</td><td>SDLTest2_run_sys.sh    </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_run_sys.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest2/SDLTest2_run_sys.sh</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>11</td><td>SDLTest3.java          </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3.java</a></td></tr>
<tr><td>12</td><td>SDLTest3_compile.sh    </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_compile.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_compile.sh</a></td></tr>
<tr><td>13</td><td>SDLTest3_compile_sys.sh</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_compile_sys.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_compile_sys.sh</a></td></tr>
<tr><td>14</td><td>SDLTest3_run.sh        </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_run.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_run.sh</a></td></tr>
<tr><td>15</td><td>SDLTest3_run_sys.sh    </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_run_sys.sh">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/6606e759d222/sdljava/SDLTest3/SDLTest3_run_sys.sh</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>



<p><a name="k09"></a></p>
<h2 id="k09">9. Odkazy na Internetu</h2>

<ol>

<li>SDL Home Page<br />
<a href="http://www.libsdl.org/">http://www.libsdl.org/</a>
</li>

<li>SDL Language Bindings<br />
<a href="http://www.libsdl.org/languages.php">http://www.libsdl.org/languages.php</a>
</li>

<li>SDL version 1.2.15<br />
<a
href="http://www.libsdl.org/download-1.2.php">http://www.libsdl.org/download-1.2.php</a>
</li>

<li>SDL version 2.0.1<br />
<a href="http://www.libsdl.org/download-2.0.php">http://www.libsdl.org/download-2.0.php</a>
</li>

<li>sdljava Home Page<br />
<a href="http://sdljava.sourceforge.net/">http://sdljava.sourceforge.net/</a>
</li>

<li>sdljava Download Page<br />
<a href="http://sdljava.sourceforge.net/download_sdljava.html">http://sdljava.sourceforge.net/download_sdljava.html</a>
</li>

<li>sdljava verze 0.9.1<br />
<a href="http://sourceforge.net/projects/sdljava/files/sdljava/0.9.1/">http://sourceforge.net/projects/sdljava/files/sdljava/0.9.1/</a>
</li>

<li>sdljava JavaDoc<br />
<a href="http://sdljava.sourceforge.net/docs/api/">http://sdljava.sourceforge.net/docs/api/</a>
</li>

<li>Cross-platform games development (part 1)<br />
<a href="http://renatoc.wait4.org/2010/02/04/cross-platform-games-development-part-1/">http://renatoc.wait4.org/2010/02/04/cross-platform-games-development-part-1/</a>
</li>

<li>Cross-platform games development (part 2)<br />
<a href="http://renatoc.wait4.org/tag/sdljava/">http://renatoc.wait4.org/tag/sdljava/</a>
</li>

<li>sdljava pro Fedoru 18<br />
<a href="http://koji.fedoraproject.org/koji/buildinfo?buildID=344191">http://koji.fedoraproject.org/koji/buildinfo?buildID=344191</a>
</li>

<li>sdljava pro Fedoru 19<br />
<a href="http://koji.fedoraproject.org/koji/buildinfo?buildID=405746">http://koji.fedoraproject.org/koji/buildinfo?buildID=405746</a>
</li>

<li>sdljava pro Fedoru 20<br />
<a href="http://koji.fedoraproject.org/koji/buildinfo?buildID=453044">http://koji.fedoraproject.org/koji/buildinfo?buildID=453044</a>
</li>

<li>Class java.awt.Frame (JDK7)<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/Frame.html">http://docs.oracle.com/javase/7/docs/api/java/awt/Frame.html</a>
</li>

<li>Class java.awt.Canvas (JDK7)<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/Canvas.html">http://docs.oracle.com/javase/7/docs/api/java/awt/Canvas.html</a>
</li>

<li>Class java.awt.image.BufferStrategy (JDK6)<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferStrategy.html</a>
</li>

<li>Class java.awt.Graphics<br />
<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Graphics.html">http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Graphics.html</a>
</li>

<li>Double Buffering and Page Flipping<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html</a>
</li>

<li>BufferStrategy and BufferCapabilities<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html</a>
</li>

<li>Java:Tutorials: Double Buffering<br />
<a href="http://content.gpwiki.org/index.php/Java:Tutorials:Double_Buffering">http://content.gpwiki.org/index.php/Java:Tutorials:Double_Buffering</a>
</li>

<li>Double buffer in standard Java AWT<br />
<a href="http://www.codeproject.com/Articles/2136/Double-buffer-in-standard-Java-AWT">http://www.codeproject.com/Articles/2136/Double-buffer-in-standard-Java-AWT</a>
</li>

<li>Java 2D: Hardware Accelerating - Part 1 - Volatile Images<br />
<a href="http://www.javalobby.org/forums/thread.jspa?threadID=16840&tstart=0">http://www.javalobby.org/forums/thread.jspa?threadID=16840&tstart=0</a>
</li>

<li>Java 2D: Hardware Accelerating - Part 2 - Buffer Strategies<br />
<a href="http://www.javalobby.org/java/forums/t16867.html">http://www.javalobby.org/java/forums/t16867.html</a>
</li>

<li>How does paintComponent work?<br />
<a href="http://stackoverflow.com/questions/15544549/how-does-paintcomponent-work">http://stackoverflow.com/questions/15544549/how-does-paintcomponent-work</a>
</li>

<li>A Swing Architecture Overview<br />
<a href="http://www.oracle.com/technetwork/java/architecture-142923.html">http://www.oracle.com/technetwork/java/architecture-142923.html</a>
</li>

<li>Class javax.swing.JComponent<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html</a>
</li>

<li>Class java.awt.Component<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html</a>
</li>

<li>Class java.awt.Component.BltBufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.BltBufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.BltBufferStrategy.html</a>
</li>

<li>Class java.awt.Component.FlipBufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.FlipBufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.FlipBufferStrategy.html</a>
</li>

<li>Metoda java.awt.Component.isDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isDoubleBuffered()">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isDoubleBuffered()</a>
</li>

<li>Metoda javax.swing.JComponent.isDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#isDoubleBuffered()">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#isDoubleBuffered()</a>
</li>

<li>Metoda javax.swing.JComponent.setDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)</a>
</li>

<li>Javadoc - tøída GraphicsDevice<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsDevice.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsDevice.html</a>
</li>

<li>Javadoc - tøída GraphicsEnvironment<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html</a>
</li>

<li>Javadoc - tøída GraphicsConfiguration<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsConfiguration.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsConfiguration.html</a>
</li>

<li>Javadoc - tøída DisplayMode<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/DisplayMode.html">http://docs.oracle.com/javase/7/docs/api/java/awt/DisplayMode.html</a>
</li>

<li>Lesson: Full-Screen Exclusive Mode API<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/">http://docs.oracle.com/javase/tutorial/extra/fullscreen/</a>
</li>

<li>Full-Screen Exclusive Mode<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/exclusivemode.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/exclusivemode.html</a>
</li>

<li>Display Mode<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/displaymode.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/displaymode.html</a>
</li>

<li>Using the Full-Screen Exclusive Mode API in Java<br />
<a href="http://www.developer.com/java/other/article.php/3609776/Using-the-Full-Screen-Exclusive-Mode-API-in-Java.htm">http://www.developer.com/java/other/article.php/3609776/Using-the-Full-Screen-Exclusive-Mode-API-in-Java.htm</a>
</li>

<li>Java quick guide: JVM Instruction Set (tabulka v¹ech instrukcí JVM)<br />
<a href="http://www.mobilefish.com/tutorials/java/java_quickguide_jvm_instruction_set.html">http://www.mobilefish.com/tutorials/java/java_quickguide_jvm_instruction_set.html</a>
</li>

<li>The JVM Instruction Set<br />
<a href="http://mpdeboer.home.xs4all.nl/scriptie/node14.html">http://mpdeboer.home.xs4all.nl/scriptie/node14.html</a>
</li>

<li>MultiMedia eXtensions<br />
<a href="http://softpixel.com/~cwright/programming/simd/mmx.php">http://softpixel.com/~cwright/programming/simd/mmx.php</a>i
</li>

<li>SSE (Streaming SIMD Extentions)<br />
<a href="http://www.songho.ca/misc/sse/sse.html">http://www.songho.ca/misc/sse/sse.html</a>
</li>

<li>Timothy A. Chagnon: SSE and SSE2<br />
<a href="http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf">http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf</a>
</li>

<li>Intel corporation: Extending the Worldr's Most Popular Processor Architecture<br />
<a href="http://download.intel.com/technology/architecture/new-instructions-paper.pdf">http://download.intel.com/technology/architecture/new-instructions-paper.pdf</a>
</li>

<li>SIMD architectures:<br />
<a href="http://arstechnica.com/old/content/2000/03/simd.ars/">http://arstechnica.com/old/content/2000/03/simd.ars/</a>
</li>

<li>GC safe-point (or safepoint) and safe-region<br />
<a href="http://xiao-feng.blogspot.cz/2008/01/gc-safe-point-and-safe-region.html">http://xiao-feng.blogspot.cz/2008/01/gc-safe-point-and-safe-region.html</a>
</li>

<li>Safepoints in HotSpot JVM<br />
<a href="http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html">http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html</a>
</li>

<li>Java theory and practice: Synchronization optimizations in Mustang<br />
<a href="http://www.ibm.com/developerworks/java/library/j-jtp10185/">http://www.ibm.com/developerworks/java/library/j-jtp10185/</a>
</li>

<li>How to build hsdis<br />
<a href="http://hg.openjdk.java.net/jdk7/hotspot/hotspot/file/tip/src/share/tools/hsdis/README">http://hg.openjdk.java.net/jdk7/hotspot/hotspot/file/tip/src/share/tools/hsdis/README</a>
</li>

<li>Java SE 6 Performance White Paper<br />
<a href="http://www.oracle.com/technetwork/java/6-performance-137236.html">http://www.oracle.com/technetwork/java/6-performance-137236.html</a>
</li>

<li>Lukas Stadler's Blog<br />
<a href="http://classparser.blogspot.cz/2010/03/hsdis-i386dll.html">http://classparser.blogspot.cz/2010/03/hsdis-i386dll.html</a>
</li>

<li>How to build hsdis-amd64.dll and hsdis-i386.dll on Windows<br />
<a href="http://dropzone.nfshost.com/hsdis.htm">http://dropzone.nfshost.com/hsdis.htm</a>
</li>

<li>PrintAssembly<br />
<a href="https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly">https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly</a>
</li>

<li>The Java Virtual Machine Specification: 3.14. Synchronization<br />
<a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.14">http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.14</a>
</li>

<li>The Java Virtual Machine Specification: 8.3.1.4. volatile Fields<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.4">http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.4</a>
</li>

<li>The Java Virtual Machine Specification: 17.4. Memory Model<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4</a>
</li>

<li>The Java Virtual Machine Specification: 17.7. Non-atomic Treatment of double and long<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7</a>
</li>

<li>Open Source ByteCode Libraries in Java<br />
<a href="http://java-source.net/open-source/bytecode-libraries">http://java-source.net/open-source/bytecode-libraries</a>
</li>

<li>ASM Home page<br />
<a href="http://asm.ow2.org/">http://asm.ow2.org/</a>
</li>

<li>Seznam nástrojù vyu¾ívajících projekt ASM<br />
<a href="http://asm.ow2.org/users.html">http://asm.ow2.org/users.html</a>
</li>

<li>ObjectWeb ASM (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/ObjectWeb_ASM">http://en.wikipedia.org/wiki/ObjectWeb_ASM</a>
</li>

<li>Java Bytecode BCEL vs ASM<br />
<a href="http://james.onegoodcookie.com/2005/10/26/java-bytecode-bcel-vs-asm/">http://james.onegoodcookie.com/2005/10/26/java-bytecode-bcel-vs-asm/</a>
</li>

<li>BCEL Home page<br />
<a href="http://commons.apache.org/bcel/">http://commons.apache.org/bcel/</a>
</li>

<li>Byte Code Engineering Library (pøed verzí 5.0)<br />
<a href="http://bcel.sourceforge.net/">http://bcel.sourceforge.net/</a>
</li>

<li>Byte Code Engineering Library (verze &gt;= 5.0)<br />
<a href="http://commons.apache.org/proper/commons-bcel/">http://commons.apache.org/proper/commons-bcel/</a>
</li>

<li>BCEL Manual<br />
<a href="http://commons.apache.org/bcel/manual.html">http://commons.apache.org/bcel/manual.html</a>
</li>

<li>Byte Code Engineering Library (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/BCEL">http://en.wikipedia.org/wiki/BCEL</a>
</li>

<li>BCEL Tutorial<br />
<a href="http://www.smfsupport.com/support/java/bcel-tutorial!/">http://www.smfsupport.com/support/java/bcel-tutorial!/</a>
</li>

<li>Bytecode Engineering<br />
<a href="http://book.chinaunix.net/special/ebook/Core_Java2_Volume2AF/0131118269/ch13lev1sec6.html">http://book.chinaunix.net/special/ebook/Core_Java2_Volume2AF/0131118269/ch13lev1sec6.html</a>
</li>

<li>Bytecode Outline plugin for Eclipse (screenshoty + info)<br />
<a href="http://asm.ow2.org/eclipse/index.html">http://asm.ow2.org/eclipse/index.html</a>
</li>

<li>Javassist<br />
<a href="http://www.jboss.org/javassist/">http://www.jboss.org/javassist/</a>
</li>

<li>Byteman<br />
<a href="http://www.jboss.org/byteman">http://www.jboss.org/byteman</a>
</li>

<li>Java programming dynamics, Part 7: Bytecode engineering with BCEL<br />
<a href="http://www.ibm.com/developerworks/java/library/j-dyn0414/">http://www.ibm.com/developerworks/java/library/j-dyn0414/</a>
</li>

<li>The Java<sup>TM</sup> Virtual Machine Specification, Second Edition<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html">http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html</a>
</li>

<li>The class File Format<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html">http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html</a>
</li>

<li>javap - The Java Class File Disassembler<br />
<a href="http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javap.html">http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javap.html</a>
</li>

<li>javap-java-1.6.0-openjdk(1) - Linux man page<br />
<a href="http://linux.die.net/man/1/javap-java-1.6.0-openjdk">http://linux.die.net/man/1/javap-java-1.6.0-openjdk</a>
</li>

<li>Using javap<br />
<a href="http://www.idevelopment.info/data/Programming/java/miscellaneous_java/Using_javap.html">http://www.idevelopment.info/data/Programming/java/miscellaneous_java/Using_javap.html</a>
</li>

<li>Examine class files with the javap command<br />
<a href="http://www.techrepublic.com/article/examine-class-files-with-the-javap-command/5815354">http://www.techrepublic.com/article/examine-class-files-with-the-javap-command/5815354</a>
</li>

<li>aspectj (Eclipse)<br />
<a href="http://www.eclipse.org/aspectj/">http://www.eclipse.org/aspectj/</a>
</li>

<li>Aspect-oriented programming (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Aspect_oriented_programming">http://en.wikipedia.org/wiki/Aspect_oriented_programming</a>
</li>

<li>AspectJ (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/AspectJ">http://en.wikipedia.org/wiki/AspectJ</a>
</li>

<li>EMMA: a free Java code coverage tool<br />
<a href="http://emma.sourceforge.net/">http://emma.sourceforge.net/</a>
</li>

<li>Cobertura<br />
<a href="http://cobertura.sourceforge.net/">http://cobertura.sourceforge.net/</a>
</li>

<li>jclasslib bytecode viewer<br />
<a href="http://www.ej-technologies.com/products/jclasslib/overview.html">http://www.ej-technologies.com/products/jclasslib/overview.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2014</small></p>
</body>
</html>

