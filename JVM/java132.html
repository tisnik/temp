<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Pohled pod kapotu JVM - pøeklad programových smyèek do bajtkódù JVM, Lua VM a Python VM</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Pohled pod kapotu JVM - pøeklad programových smyèek do bajtkódù JVM, Lua VM a Python VM</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V dne¹ní èásti seriálu o programovacím jazyku Java i o virtuálním stroji Javy se ji¾ potøetí budeme zabývat porovnáváním vlastností bajtkódù JVM, Python VM i Lua VM. Zamìøíme se pøedev¹ím na zpùsob pøekladu programových smyèek typu <strong>while</strong> a <strong>do-while</strong> (popø. <strong>repeat-until</strong>) do bajtkódu.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Pohled pod kapotu JVM - pøeklad programových smyèek do bajtkódù JVM, Lua VM a Python VM</a></p>
<p><a href="#k02">2. Jednoduchá programová smyèka typu <strong>while</strong></a></p>
<p><a href="#k03">3. Ukázky pøekladu jednoduché programové smyèky <strong>while</strong> do bajtkódu</a></p>
<p><a href="#k04">4. Programová smyèka typu <strong>while</strong> se slo¾itìj¹ím tìlem</a></p>
<p><a href="#k05">5. Ukázky pøekladu slo¾itìj¹í programové smyèky <strong>while</strong> do bajtkódu</a></p>
<p><a href="#k06">6. Dvì vnoøené smyèky typu <strong>while</strong> &ndash; výpis øady prvoèísel</a></p>
<p><a href="#k07">7. Ukázky pøekladu vnoøených smyèek <strong>while</strong> do bajtkódu</a></p>
<p><a href="#k08">8. Jednoduchá programová smyèka typu <strong>do-while/repeat-until</strong></a></p>
<p><a href="#k09">9. Ukázky pøekladu jednoduché programové smyèky <strong>do-while/repeat-until</strong> do bajtkódu</a></p>
<p><a href="#k10">10. Dvì vnoøené smyèky typu <strong>do-while</strong> &ndash; výpis øady prvoèísel</a></p>
<p><a href="#k11">11. Ukázky pøekladu vnoøených smyèek <strong>do-while</strong> do bajtkódu</a></p>
<p><a href="#k12">12. Obsah následující èásti seriálu</a></p>
<p><a href="#k13">13. Repositáø se zdrojovými kódy v¹ech dne¹ních demonstraèních pøíkladù</a></p>
<p><a href="#k14">14. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Pohled pod kapotu JVM - pøeklad programových smyèek do bajtkódù JVM, Lua VM a Python VM</h2>

<p>V&nbsp;pøedchozích dvou èástech seriálu o programovacím jazyku Java i o JVM
jsme si struènì popsali nìkteré základní vlastnosti bajtkódu JVM, Lua VM a
Python VM. Prozatím známe základní informace o zpùsobu pøekladu aritmetických a
logických výrazù &ndash; zde jsme si vysvìtlili základní rozdíly mezi
virtuálními stroji zalo¾enými na zásobníku (co¾ je JVM a Python VM) a
virtuálními stroji zalo¾enými na sadì registrù (mezi tyto virtuální stroje
patøí Lua VM a takté¾ Parrot, tj.&nbsp;VM pou¾itý mj.&nbsp;i v&nbsp;Perlu 6).
Minule jsme si takté¾, ov¹em bez bli¾¹ích podrobností, ukázali, jakým zpùsobem
se pøekládají jazykové konstrukce typu <strong>if-then</strong>
popø.&nbsp;úplné rozvìtvení typu <strong>if-then-else</strong>. Dnes se budeme
zabývat zpùsobem pøekladu programových smyèek do bajtkódù jednotlivých
virtuálních strojù. Podobnì jako tomu bylo u konstrukcí
<strong>if-then</strong> a <strong>if-then-else</strong>, i u programových
smyèek jsou pou¾ity instrukce podmínìných a nepodmínìných skokù,
popø.&nbsp;instrukce pro pøeskoèení dal¹ího instrukèního slova (co¾ mù¾e
slou¾it jako náhrada podmínìného skoku).</p>

<p>Jako pøíklad typického virtuálního stroje nám dobøe poslou¾í JVM. Tento
virtuální stroj obsahuje jedinou instrukci nepodmínìného skoku, její¾ jméno je
<strong>goto</strong> (nikoli <strong>jmp</strong>, co¾ je mo¾ná obvyklej¹í).
Podobnì jako podmínìné skoky popsané v&nbsp;následujícím odstavci, má i
instrukce <strong>goto</strong> nìkolik podstatných omezení &ndash; skok lze
toti¾ provést pouze v&nbsp;rámci tìla jedné metody, není tedy mo¾né skoèit na
libovolné místo v&nbsp;bajtkódu, co¾ ostatnì platí i pro v¹echny dal¹í VM. Toto
omezení bylo zavedeno ze dvou dùvodù &ndash; zaji¹»uje se tím vìt¹í bezpeènost
a takté¾ se tím zjednodu¹uje práce JIT pøekladaèe, který pøi optimalizacích
generovaného nativního binárního kódu mù¾e pracovat s&nbsp;izolovaným stavovým
prostorem (má toti¾ jistotu, ¾e kdy¾ danou metodu celou pøelo¾í, není nutné
vyhledávat, z&nbsp;jakých dal¹ích metod jsou do právì pøelo¾ené metody
provádìny skoky &ndash; jednodu¹e to není mo¾né). Instrukce
<strong>goto</strong> existuje ve dvou variantách &ndash; &bdquo;krátké&ldquo;
a &bdquo;dlouhé&ldquo;. Tyto varianty se od sebe odli¹ují pouze poètem bajtù,
které se v&nbsp;bajtkódu pou¾ijí pro ulo¾ení adresy cíle skoku. Buï je mo¾né
pou¾ít 16bitovou adresu (vyhovuje prakticky v¹em rozumnì dlouhým metodám) nebo
adresu 32bitovou (to se obecnì pøíli¹ èasto nepou¾ívá, proto¾e existují dal¹í
omezení na maximální poèet 65536 instrukcí v&nbsp;jedné metodì).</p>

<p>Nyní se ji¾ koneènì dostáváme k&nbsp;zajímavìj¹ímu tématu &ndash;
k&nbsp;podmínìným skokùm. V&nbsp;instrukèním kódu virtuálního stroje jazyka
Java je k&nbsp;dispozici pomìrnì velké mno¾ství typù rùzných podmínìných skokù.
V&nbsp;tomto odstavci si popí¹eme skoky, které se provedou
resp.&nbsp;neprovedou na základì testu hodnoty jediného operandu, který je
ulo¾en na vrcholu zásobníku operandù (<i>TOS</i>). Ve v¹ech pøípadech se pøitom
musí jednat o operand typu <i>int</i>, který je po provedení testu ze zásobníku
operandù odstranìn (samozøejmì nezávisle na tom, jak test ve skuteènosti
dopadl).  Instrukce podmínìného skoku nejdøíve na základì operaèního kódu
instrukce zjistí, zda je operand nulový, nenulový, vìt¹í ne¾ nula, men¹í ne¾
nula, vìt¹í nebo roven nule popø.&nbsp;naopak men¹í nebo roven nule. Pokud je
daná podmínka splnìna, je proveden skok na ¹estnáctibitovou lokální adresu
ulo¾enou za operaèním kódem instrukce; v&nbsp;opaèném pøípadì se pokraèuje
v&nbsp;provádìní instrukce ulo¾ené ihned za podmínìným skokem. V¹ech ¹est
variant podmínìných skokù pracujících s&nbsp;jediným operandem typu <i>int</i>
je vypsáno v&nbsp;následující tabulce:</p>

<table>
<tr><th>#</th><th>Instrukce</th><th>Opkód</th><th>Operandy</th><th>Podmínka</th><th>Operace</th></tr>
<tr><td>1</td><td>ifeq</td><td>0x99</td><td>highbyte, lowbyte</td><td>TOS=0</td><td>skok na lokální adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>2</td><td>ifne</td><td>0x9A</td><td>highbyte, lowbyte</td><td>TOS&ne;0</td><td>skok na lokální adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>3</td><td>iflt</td><td>0x9B</td><td>highbyte, lowbyte</td><td>TOS&lt;0</td><td>skok na lokální adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>4</td><td>ifge</td><td>0x9C</td><td>highbyte, lowbyte</td><td>TOS&ge;0</td><td>skok na lokální adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>5</td><td>ifgt</td><td>0x9D</td><td>highbyte, lowbyte</td><td>TOS&gt;0</td><td>skok na lokální adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>6</td><td>ifle</td><td>0x9E</td><td>highbyte, lowbyte</td><td>TOS&le;0</td><td>skok na lokální adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
</table>

<p>Z&nbsp;teoretického hlediska by podmínìné skoky popsané v&nbsp;pøedchozím
odstavci mìly ve v¹ech pøípadech postaèovat. V&nbsp;praxi &ndash; napøíklad pøi
implementaci poèítaných programových smyèek &ndash; je v¹ak vhodné umìt
efektivnì provést podmínìný skok na základì porovnání <strong>dvou</strong>
operandù, nikoli na základì porovnání jednoho operandu vùèi nule. Samozøejmì je
mo¾né nejdøíve oba operandy od sebe odeèíst a poté provést skok na základì
výsledku tohoto rozdílu (co¾ se podobá systému pou¾ívanému u mnohých typù
mikroprocesorù), to v¹ak vy¾aduje zbyteènì dlouhou sekvenci instrukcí.
Z&nbsp;tohoto dùvodu se v&nbsp;instrukèním souboru JVM nachází i instrukce,
které porovnají dvojici operandù typu <i>int</i> ulo¾enou na nejvrchnìj¹ích
dvou pozicích zásobníku operandù a skok vykonají na základì toho, zda je první
operand vìt¹í, men¹í èi roven operandu druhému (oba operandy jsou navíc ze
zásobníku odstranìny):</p>

<table>
<tr><th>#</th><th>Instrukce</th><th>Opkód</th><th>Operandy</th><th>Podmínka</th><th>Operace</th></tr>
<tr><td>1</td><td>if_icmpeq</td><td>0x9F</td><td>highbyte, lowbyte</td><td>value1=value2</td><td>skok na adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>2</td><td>if_icmpne</td><td>0xA0</td><td>highbyte, lowbyte</td><td>value1&ne;value2</td><td>skok na adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>3</td><td>if_icmplt</td><td>0xA1</td><td>highbyte, lowbyte</td><td>value1&lt;value2</td><td>skok na adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>4</td><td>if_icmpge</td><td>0xA2</td><td>highbyte, lowbyte</td><td>value1&ge;value2</td><td>skok na adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>5</td><td>if_icmpgt</td><td>0xA3</td><td>highbyte, lowbyte</td><td>value1&gt;value2</td><td>skok na adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
<tr><td>6</td><td>if_icmple</td><td>0xA4</td><td>highbyte, lowbyte</td><td>value1&le;value2</td><td>skok na adresu highbyte*256+lowbyte pøi splnìní podmínky</td></tr>
</table>

<p>Ostatní dva popisované virtuální stroje mají kupodivu mnohem jednodu¹¹í
instrukèní sadu, co¾ ostatnì uvidíme i na demonstraèních pøíkladech
spoleènì s&nbsp;pøíslu¹ným popisem.</p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Jednoduchá programová smyèka typu <strong>while</strong></h2>

<p>Základním a ve skuteènosti i univerzálním typem smyèky je ve strukturovaném
programování smyèka typu <strong>while</strong>. U tohoto typu smyèky se
podmínka pro ukonèení smyèky kontroluje v¾dy na zaèátku ka¾dé iterace, co¾
mj.&nbsp;znamená, ¾e se tìlo smyèky nemusí provést ani jednou, a to
v&nbsp;pøípadì, kdy podmínka není splnìna ji¾ pøed provedením první iterace,
tj.&nbsp;pøed vstupem do smyèky. Z&nbsp;tohoto dùvodu se konstrukce
<strong>while</strong> pou¾ívá napøíklad v&nbsp;situacích, kdy se mají
zpracovávat vstupní data (ètená ze souboru, z&nbsp;databázové tabulky atd.), u
nich¾ není zøejmé, kolik údajù se bude naèítat a zda se vùbec nìjaký údaj na
vstupu bude nacházet. Zajímavé je, ¾e ostatní typy smyèek lze vìt¹inou pøepsat
právì na programovou smyèku typu <strong>while</strong>, i kdy¾ &ndash; jak
uvidíme na pøíkladu <i>Pythonu</i> &ndash; se nemusí v¾dy jednat o elegantní
øe¹ení. Pojïme si tedy na velmi jednoduchých pøíkladech ukázat zpùsob pøekladu
této programové smyèky do bajtkódu JVM, Lua VM i Python VM. Nejprve si uká¾eme
pøeklad smyèky, v&nbsp;ní¾ se pouze sni¾uje hodnota poèitadla kontrolovaného
v&nbsp;podmínce pro dal¹í iteraci.</p>

<h3>Demonstraèní pøíklad <strong>Test7.java</strong></h3>

<pre>
<i>/**</i>
<i> * Trida s jedinou statickou metodou</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu programove smycky typu while.</i>
<i> */</i>
public class <strong>Test7</strong> {
&nbsp;
    public static int <strong>loop</strong>(int x) {
        <i>// sestupne citani smerem k nule</i>
        <strong>while</strong> (x &gt; 0) {
            x--;
        }
        <i>// bude se vracet hodnota 0</i>
        return x;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(loop(10));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test7.lua</strong></h3>

<pre>
<i>--</i>
<i>-- Modul s jedinou funkci pro otestovani</i>
<i>-- zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove smycky typu while.</i>
<i>--</i>
&nbsp;
function <strong>loop</strong>(x)
    <strong>while</strong> x &gt; 0 <strong>do</strong>
        x = x - 1
    <strong>end</strong>
    return x
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(loop(10))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test7.py</strong></h3>

<pre>
<i>#</i>
<i># Modul s jedinou funkci pro otestovani</i>
<i># zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu programove smycky typu while.</i>
<i>#</i>
&nbsp;
def <strong>loop</strong>(x):
    <strong>while</strong> x &gt; 0:
        x = x - 1
    return x
&nbsp;
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(loop(10))
&nbsp;
<i>#</i>
<i># Vypsani bajkkodu testovane funkce</i>
<i>#</i>
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nloop:")
    dis(loop)
&nbsp;
main()
&nbsp;
disassemble()
</pre>



<p><a name="k03"></a></p>
<h2 id="k03">3. Ukázky pøekladu jednoduché programové smyèky <strong>while</strong> do bajtkódu</h2>

<p>V&nbsp;této kapitole budou ukázány okomentované bajtkódy získané pøekladem
demonstraèních pøíkladù <strong>Test7.java</strong>, <strong>Test7.lua</strong>
i <strong>Test7.py</strong>.</p>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test7.java</strong></h3>

<p>V&nbsp;bajtkódu JVM nalezneme jak nepodmínìný skok <strong>goto</strong>
umístìný na konci smyèky, tak i podmínìný skok <strong>ifle</strong> umístìný
na zaèátku smyèky. Pøeklad tedy velmi pøesnì reflektuje pùvodní zdrojový text,
co¾ je vhodné zvlá¹tì pøi ladìní a krokování:</p>

<pre>
public static int <strong>loop</strong>(int);
  Code:
   0:   iload_0             <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
   1:   ifle    10          <i>; porovnání s nulou a podmínìný skok na instrukci na indexu 10</i>
   4:   iinc    0, -1       <i>; sní¾ení hodnoty poèitadla (resp. pøiètení hodnoty -1, co¾ je to samé)</i>
   7:   goto    0           <i>; nepodmínìný skok na zaèátek smyèky</i>
   10:  iload_0             <i>; opìt naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
   11:  ireturn             <i>; a vrátit jeho novou hodnotu, co¾ by mìla být v¾dy nula</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test7.lua</strong></h3>

<p>Funkènì shodný pøíklad je v&nbsp;pøípadì Lua VM pøelo¾en zcela odli¹ným
zpùsobem. Namísto podmínìného skoku, co¾ je v&nbsp;Lua VM neexistující
instrukce, se zde vyu¾ívá dvojice instrukcí <strong>LT</strong> a
<strong>JMP</strong>. <strong>JMP</strong> je (relativní) nepodmínìný skok,
pøièem¾ hodnota ulo¾ená v&nbsp;instrukèním slovu se pøièítá k&nbsp;aktuální
hodnotì èítaèe instrukcí (<strong>PC</strong> &ndash; <i>Program Counter</i>).
Instrukce <strong>LT</strong> pøeskoèí následující instrukci tehdy, pokud je
splnìna podmínka <strong>operand 1 &lt; operand 2</strong> (zde je operand 2
konstantou):</p>

<pre>
function <strong>Test7.lua:7,12</strong> (6 instructions at 0x9f54c88)
1 param, 2 slots, 0 upvalues, 1 local, 2 constants, 0 functions
        1       [8]     LT              0 -1 0  ; 0 -   <i>; porovnání x s nulou a podmínìné pøeskoèení dal¹í instrukce</i>
        2       [8]     JMP             0 2     ; to 5  <i>; nepodmínìný skok na instrukci s indexem 5 (konec smyèky)</i>
        3       [9]     SUB             0 0 -2  ; - 1   <i>; sní¾ení hodnoty parametru x (index 0) o jednièku</i>
        4       [9]     JMP             0 -4    ; to 1  <i>; nepodmínìný skok na instrukci s indexem 1 (skok na zaèátek smyèky)</i>
        5       [11]    RETURN          0 2             <i>; návrat s pou¾itím jediného parametru jako návratové hodnoty</i>
        6       [12]    RETURN          0 1             <i>; automaticky generováno (zde zcela zbyteènì)</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test7.py</strong></h3>

<p>Bajtkód vytvoøený pro virtuální stroj Pythonu je kupodivu nejdel¹í (co¾
prakticky znamená i pomalej¹í vyhodnocení v&nbsp;porovnání s&nbsp;Luou). Mù¾eme
zde vidìt jak nepodmínìný skok <strong>JUMP_ABSOLUTE</strong>, tak i podmínìný
skok <strong>JUMP_IF_FALSE</strong>, pro nìj¾ se podmínka vyhodnocuje instrukcí
<strong>COMPARE_OP</strong>. Pov¹imnìte si takté¾ nutnosti pou¾ití instrukce
<strong>POP_TOP</strong> slou¾ící pro &bdquo;uklizení&ldquo; obsahu zásobníku
operandù:</p>

<pre>
<strong>loop</strong>:
  8           0 SETUP_LOOP              28 (to 31)   <i>; pøíprava na provedení smyèky</i>
              3 LOAD_FAST                0 (x)       <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
              6 LOAD_CONST               1 (0)       <i>; naèíst konstantu 0 pou¾itou pro porovnání</i>
              9 COMPARE_OP               4 (&gt;)       <i>; provést porovnání, výsledek je pou¾it pro podmínìný skok</i>
             12 JUMP_IF_FALSE           14 (to 29)   <i>; podmínìný skok pøi NEsplnìní podmínky</i>
             15 POP_TOP                              <i>; uklizení zásobníku</i> 

  9          16 LOAD_FAST                0 (x)       <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
             19 LOAD_CONST               2 (1)       <i>; naèíst konstantu 1 pou¾itou pro sní¾ení poèitadla</i>
             22 BINARY_SUBTRACT                      <i>; sní¾ení hodnoty poèitadla o 1</i>
             23 STORE_FAST               0 (x)       <i>; a ulo¾it novou hodnotu</i>
             26 JUMP_ABSOLUTE            3           <i>; skok na zaèátek smyèky</i>
             29 POP_TOP                              <i>; (opìt) uklizení zásobníku)</i>
             30 POP_BLOCK

 10          31 LOAD_FAST                0 (x)       <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
             34 RETURN_VALUE                         <i>; návrat s pou¾itím jediného parametru jako návratové hodnoty</i>
</pre>



<p><a name="k04"></a></p>
<h2 id="k04">4. Programová smyèka typu <strong>while</strong> se slo¾itìj¹ím tìlem</h2>

<p>Pro zajímavost se je¹tì podívejme na ponìkud slo¾itìj¹í demonstraèní
pøíklady, v&nbsp;nich¾ je opìt pou¾ita programová smyèka typu
<strong>while</strong>. Tyto pøíklady slou¾í k&nbsp;výpoètu exponenciální
funkce <i>2<sup>x</sup></i>, popø.&nbsp;<i>y2<sup>x</sup></i>. Vzhledem
k&nbsp;tomu, ¾e hodnoty <i>x</i> a <i>y</i> nejsou dopøedu známé, nemù¾e
pøekladaè provádìt prakticky ¾ádné optimalizace smyèky (to mohl teoreticky
udìlat v&nbsp;pøedchozím pøíkladu, co¾ se v¹ak, jak ji¾ víme, ve skuteènosti
nestalo).</p>

<h3>Demonstraèní pøíklad <strong>Test8.java</strong></h3>

<pre>
<i>/**</i>
<i> * Trida s jedinou statickou metodou</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu programove smycky typu while se slozitejsim</i>
<i> * vypoctem uvnitr tela smycky.</i>
<i> */</i>
public class <strong>Test8</strong> {
&nbsp;
    public static int <strong>loop</strong>(int x, int y) {
        <strong>while</strong> (x &gt; 0) {
            x--;
            y *= 2;
        }
        return y;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(loop(10, 1));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test8.lua</strong></h3>

<pre>
<i>--</i>
<i>-- Modul s jedinou funkci pro otestovani</i>
<i>-- zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove smycky typu while.</i>
<i>--</i>
&nbsp;
function <strong>loop</strong>(x, y)
    <strong>while</strong> x &gt; 0 <strong>do</strong>
        x = x - 1
        y = y * 2
    <strong>end</strong>
    return y
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(loop(10, 1))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test8.py</strong></h3>

<pre>
<i>#</i>
<i># Modul s jedinou funkci pro otestovani</i>
<i># zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu programove smycky typu while.</i>
<i>#</i>
&nbsp;
def <strong>loop</strong>(x, y):
    <strong>while</strong> x &gt; 0:
        x = x - 1
        y = y * 2
    return y
&nbsp;
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(loop(10, 1))
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nloop:")
    dis(loop)
&nbsp;
main()
&nbsp;
disassemble()
</pre>



<p><a name="k05"></a></p>
<h2 id="k05">5. Ukázky pøekladu slo¾itìj¹í programové smyèky <strong>while</strong> do bajtkódu</h2>

<p>V&nbsp;této kapitole budou ukázány okomentované bajtkódy získané pøekladem
demonstraèních pøíkladù <strong>Test8.java</strong>, <strong>Test8.lua</strong>
i <strong>Test8.py</strong>.</p>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test8.java</strong></h3>

<p>Zpùsob pøekladu do bajtkódu JVM není nijak pøekvapivý, proto¾e samotná
programová smyèka je prakticky shodná s&nbsp;pøíkladem pøedchozím:</p>

<pre>
public static int <strong>loop</strong>(int, int);
  Code:
   0:   iload_0             <i>; naèíst první parametr (x) metody a ulo¾it ho na zásobník</i>
   1:   ifle    14          <i>; porovnání s nulou a podmínìný skok na instrukci na indexu 10</i>
   4:   iinc    0, -1       <i>; sní¾ení hodnoty poèitadla (resp. pøiètení hodnoty -1, co¾ je to samé)</i>
   7:   iload_1             <i>; naèíst druhý parametr (y) metody a ulo¾it ho na zásobník</i>
   8:   iconst_2            <i>; ulo¾it na zásobník i konstantu 2</i>
   9:   imul                <i>; provést aritmetickou operaci násobení s dvojicí operandù na zásobníku</i>
   10:  istore_1            <i>; ulo¾it výsledek zpìt do parametru y</i>
   11:  goto    0           <i>; nepodmínìný skok na zaèátek smyèky</i>
   14:  iload_1             <i>; naèíst druhý parametr (y) metody a ulo¾it ho na zásobník</i>
   15:  ireturn             <i>; a vrátit jeho novou hodnotu, co¾ by mìla být v¾dy nula</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test8.lua</strong></h3>

<p>Bajtkód Lua VM je podle oèekávání nejkrat¹í, nebo» se zde s&nbsp;výhodou
vyu¾ívají vlastnosti registrového virtuálního stroje:</p>

<pre>
function <strong>Test8.lua:7,13</strong> (7 instructions at 0x970fc88)
2 params, 2 slots, 0 upvalues, 2 locals, 3 constants, 0 functions
        1       [8]     LT              0 -1 0  ; 0 -   <i>; porovnání x s nulou a podmínìné pøeskoèení dal¹í instrukce</i>
        2       [8]     JMP             0 3     ; to 6  <i>; nepodmínìný skok na instrukci s indexem 6 (konec smyèky)</i>
        3       [9]     SUB             0 0 -2  ; - 1   <i>; sní¾ení hodnoty parametru x (index 0) o jednièku</i>
        4       [10]    MUL             1 1 -3  ; - 2   <i>; druhý parametr (y) je vynásoben konstantou 2</i>
        5       [10]    JMP             0 -5    ; to 1  <i>; nepodmínìný skok na instrukci s indexem 1 (skok na zaèátek smyèky)</i>
        6       [12]    RETURN          1 2             <i>; návrat s pou¾itím druhého parametru (y) jako návratové hodnoty</i>
        7       [13]    RETURN          0 1             <i>; automaticky generováno (zde zcela zbyteènì)</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test8.py</strong></h3>

<p>V&nbsp;pøípadì bajtkódu Python VM je vygenerovaná sekvence instrukcí opìt
nejdel¹í:</p>

<pre>
<strong>loop</strong>:
  8           0 SETUP_LOOP              38 (to 41)   <i>; pøíprava na provedení smyèky</i>
              3 LOAD_FAST                0 (x)       <i>; naèíst první parametr (x) metody a ulo¾it ho na zásobník</i>
              6 LOAD_CONST               1 (0)       <i>; naèíst konstantu 0 pou¾itou pro porovnání</i>
              9 COMPARE_OP               4 (&gt;)       <i>; provést porovnání, výsledek je pou¾it pro podmínìný skok</i>
             12 JUMP_IF_FALSE           24 (to 39)   <i>; podmínìný skok pøi NEsplnìní podmínky</i>
             15 POP_TOP                              <i>; uklizení zásobníku</i>

  9          16 LOAD_FAST                0 (x)       <i>; naèíst první parametr (x) metody a ulo¾it ho na zásobník</i>
             19 LOAD_CONST               2 (1)       <i>; naèíst konstantu 1 pou¾itou pro sní¾ení poèitadla</i>
             22 BINARY_SUBTRACT                      <i>; sní¾ení hodnoty poèitadla o 1</i>
             23 STORE_FAST               0 (x)       <i>; a ulo¾it novou hodnotu</i>

 10          26 LOAD_FAST                1 (y)       <i>; naèíst druhý parametr (y) metody a ulo¾it ho na zásobník</i>
             29 LOAD_CONST               3 (2)       <i>; naèíst konstantu 2 pou¾itou pro násobení</i>
             32 BINARY_MULTIPLY                      <i>; provést aritmetickou operaci násobení</i> 
             33 STORE_FAST               1 (y)       <i>; ulo¾it výsledek zpìt do y</i>
             36 JUMP_ABSOLUTE            3           <i>; skok na zaèátek smyèky</i>
             39 POP_TOP                              <i>; (opìt) uklizení zásobníku)</i>
             40 POP_BLOCK           

 11          41 LOAD_FAST                1 (y)       <i>; naèíst druhý parametr (y) metody a ulo¾it ho na zásobník</i>
             44 RETURN_VALUE                         <i>; návrat s pou¾itím parametru y jako návratové hodnoty</i>
</pre>



<p><a name="k06"></a></p>
<h2 id="k06">6. Dvì vnoøené smyèky typu <strong>while</strong> &ndash; výpis øady prvoèísel</h2>

<p>Nastává èas ukázat si zpùsob pøekladu algoritmu, v&nbsp;nìm¾ se pou¾ívají
dvì vnoøené programové smyèky typu <strong>while</strong>. Zde je ji¾ situace
zajímavìj¹í, proto¾e del¹í zdrojový kód dává pøekladaèi alespoò teoretickou
mo¾nost provedení rùzných optimalizací. Jako pøíklad jsem vybral výpoèet øady
prvoèísel od 2 do zadané maximální hodnoty, pøièem¾ se pro výpoèet pou¾ívá ta
nejjednodu¹¹í a souèasnì i nejpomalej¹í :-) metoda zalo¾ená na postupném
zji¹»ování, zda je zadaná hodnota <i>n</i> dìlitelná nìjakým celým èíslem
v&nbsp;rozsahu <i>2..n-1</i> (teoreticky je mo¾né smyèku ukonèit døíve, ov¹em
nechtìl jsem zbyteènì do demonstraèního algoritmu pøidávat volání funkcí).</p>

<h3>Demonstraèní pøíklad <strong>Test9.java</strong></h3>

<pre>
<i>/**</i>
<i> * Trida s jedinou statickou metodou</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu vnorene programove smycky typu while pri</i>
<i> * vypisu rady prvocisel.</i>
<i> */</i>
public class <strong>Test9</strong> {
&nbsp;
    public static void <strong>primeNumbers</strong>(int min, int max) {
        int i = min;
        <strong>while</strong> (i &lt;= max) {             <i>// projit vsechny hodnoty od min do max</i>
            int j = 2;
            <strong>while</strong> (j &lt; i) {            <i>// (lze optimalizovat a zkratit smycku!)</i>
                if (i % j == 0) {      <i>// je mozne celociselne delit?</i>
                    break;             <i>// - pak ovsem nejde o prvocislo</i>
                }
                j++;                   <i>// vyzkouset dalsiho kandidata na celociselne deleni</i>
            }
            if (j == i) {              <i>// pokud jsme dosli az k cislu i</i>
                System.out.println(i); <i>// nedoslo nikdy k celociselnemu deleni</i>
            }                          <i>// a tudiz jsme nasli prvocislo</i>
            i++;                       <i>// dalsi hodnota v posloupnosti</i>
        }
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        primeNumbers(2, 1000);
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test9.lua</strong></h3>

<pre>
<i>--</i>
<i>-- Modul s jedinou funkci pro otestovani</i>
<i>-- zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove smycky typu while pri</i>
<i>-- vypisu rady prvocisel.</i>
<i>--</i>
&nbsp;
function <strong>primeNumbers</strong>(min, max)
    local i = min
    <strong>while</strong> i &lt;= max <strong>do</strong>          <i>-- projit vsechny hodnoty od min do max</i>
        local j = 2
        <strong>while</strong> j &lt; i <strong>do</strong>         <i>-- (lze optimalizovat a zkratit smycku!)</i>
            if i % j == 0 then <i>-- je mozne celociselne delit?</i>
                break          <i>-- - pak ovsem nejde o prvocislo</i>
            end
            j = j + 1          <i>-- vyzkouset dalsiho kandidata na celociselne deleni</i>
        <strong>end</strong>
        if j == i then         <i>-- pokud jsme dosli az k cislu i</i>
            print(i)           <i>-- nedoslo nikdy k celociselnemu deleni</i>
        end                    <i>-- a tudiz jsme nasli prvocislo</i>
        i = i + 1              <i>-- dalsi hodnota v posloupnosti</i>
    <strong>end</strong>
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    primeNumbers(2, 1000)
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test9.py</strong></h3>

<pre>
<i>#</i>
<i># Modul s jedinou funkci pro otestovani</i>
<i># zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu programove smycky typu while pri</i>
<i># vypoctu rady prvocisel.</i>
<i>#</i>
&nbsp;
def <strong>primeNumbers</strong>(min, max):
    i = min
    <strong>while</strong>(i &lt;= max):       <i># projit vsechny hodnoty od min do max</i>
        j = 2
        <strong>while</strong>(j &lt; i):      <i># (lze optimalizovat a zkratit smycku!)</i>
            if i % j == 0: <i># je mozne celociselne delit?</i>
                break      <i># - pak ovsem nejde o prvocislo</i>
            j = j + 1      <i># vyzkouset dalsiho kandidata na celociselne deleni</i>
        if (j == i):       <i># pokud jsme dosli az k cislu i</i>
            print i        <i># nedoslo nikdy k celociselnemu deleni</i>
        i = i + 1          <i># dalsi hodnota v posloupnosti</i>
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    primeNumbers(2, 1000)
&nbsp;
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nprimeNumbers:")
    dis(primeNumbers)
&nbsp;
main()
&nbsp;
disassemble()
</pre>



<p><a name="k07"></a></p>
<h2 id="k07">7. Ukázky pøekladu vnoøených smyèek <strong>while</strong> do bajtkódu</h2>

<p>V&nbsp;této kapitole budou ukázány okomentované bajtkódy získané pøekladem
demonstraèních pøíkladù <strong>Test9.java</strong>, <strong>Test9.lua</strong>
i <strong>Test9.py</strong>.</p>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test9.java</strong></h3>

<p>Na pøelo¾eném bajtkódu JVM je asi nejzajímavìj¹í fakt, ¾e se plnì nevyu¾ívá
mo¾ností zásobníku operandù, tak¾e se hodnoty neustále naèítají
z&nbsp;parametrù popø.&nbsp;z&nbsp;lokálních promìnných, i kdy¾ bajtkód JVM
obsahuje &bdquo;zásobníkové&ldquo; instrukce typu <strong>DUP</strong>,
<strong>DUP2</strong> èi <strong>SWAP</strong>:</p>

<pre>
public static void <strong>primeNumbers</strong>(int, int);
  Code:
   0:   iload_0
   1:   istore_2
   2:   iload_2             <i>; zaèátek vnìj¹í smyèky</i>
   3:   iload_1
   4:   if_icmpgt       47  <i>; test na ukonèení vnìj¹í</i>
   7:   iconst_2
   8:   istore_3
   9:   iload_3             <i>; zaèátek vnitøní smyèky</i>
   10:  iload_2
   11:  if_icmpge       29  <i>; test na vnitøní vnìj¹í</i>
   14:  iload_2
   15:  iload_3
   16:  irem
   17:  ifne    23          <i>; implementace "if"</i>
   20:  goto    29
   23:  iinc    3, 1
   26:  goto    9           <i>; skok na zaèátek vnitøní smyèky</i>
   29:  iload_3
   30:  iload_2
   31:  if_icmpne       41  <i>; implementace "if"</i>
   34:  getstatic       #2; <i>; Field java/lang/System.out:Ljava/io/PrintStream;</i>
   37:  iload_2
   38:  invokevirtual   #3; <i>; Method java/io/PrintStream.println:(I)V</i>
   41:  iinc    2, 1
   44:  goto    2           <i>; skok na zaèátek vnìj¹í smyèky</i>
   47:  return

</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test9.lua</strong></h3>

<p>V&nbsp;pøípadì bajtkódu Lua VM je pøeklad vnoøených programových smyèek
pøímoèarý &ndash; nalezneme zde celkem dva nepodmínìné skoky (na konci smyèek)
a ètyøi dvojice podmínka+skok (zaèátky smyèek a rozhodovací konstrukce
"if"):</p>

<pre>
function <strong>Test9.lua:8,23</strong> (19 instructions at 0x842dcb0)
2 params, 6 slots, 1 upvalue, 4 locals, 4 constants, 0 functions
        1       [9]     MOVE            2 0
        2       [10]    LE              0 2 1           <i>; podmínka pro vnìj¹í smyèku</i>
        3       [10]    JMP             0 15    ; to 19 <i>; skok pro vnìj¹í smyèku</i>
        4       [11]    LOADK           3 -1    ; 2
        5       [12]    LT              0 3 2           <i>; podmínka pro vnitøní smyèku</i>
        6       [12]    JMP             0 5     ; to 12 <i>; skok pro vnitøní smyèku</i>
        7       [13]    MOD             4 2 3
        8       [13]    EQ              1 4 -2  ; - 0
        9       [13]    JMP             0 2     ; to 12 <i>; implementace "if"</i>
        10      [16]    ADD             3 3 -3  ; - 1
        11      [16]    JMP             0 -7    ; to 5  <i>; skok na konci vnitøní smyèky</i>
        12      [18]    EQ              0 3 2           <i>; implementace "if"</i>
        13      [18]    JMP             0 3     ; to 17
        14      [19]    GETTABUP        4 0 -4  ; _ENV "print" <i>; pøíprava na volání funkce print()</i>
        15      [19]    MOVE            5 2
        16      [19]    CALL            4 2 1           <i>; vlastní volání funkce print()</i>
        17      [21]    ADD             2 2 -3  ; - 1
        18      [21]    JMP             0 -17   ; to 2  <i>; skok na konci vnìj¹í smyèky</i>
        19      [23]    RETURN          0 1             <i>; automaticky generováno (nic se nevrací)</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test9.py</strong></h3>

<p>Posledním bajtkódem je bajtkód vygenerovaný pro Python VM. Tento bajtkód je
ji¾ dosti tì¾kopádný, co¾ souvisí i s&nbsp;relativní pomalostí jeho vykonávání,
zejména v&nbsp;porovnání s&nbsp;Lua VM:</p>

<pre>
<strong>primeNumbers</strong>:
  9           0 LOAD_FAST                0 (min)      <i>; i = min</i>
              3 STORE_FAST               2 (i)
&nbsp;
 10           6 SETUP_LOOP             109 (to 118)   <i>; <strong>while</strong>(i &lt;= max):</i>
              9 LOAD_FAST                2 (i)
             12 LOAD_FAST                1 (max)
             15 COMPARE_OP               1 (&lt;=)
             18 JUMP_IF_FALSE           95 (to 116)
             21 POP_TOP             
&nbsp;
 11          22 LOAD_CONST               1 (2)        <i>; j = 2</i>
             25 STORE_FAST               3 (j)
&nbsp;
 12          28 SETUP_LOOP              50 (to 81)    <i>; <strong>while</strong>(j &lt; i):</i>
             31 LOAD_FAST                3 (j)
             34 LOAD_FAST                2 (i)
             37 COMPARE_OP               0 (&lt;)
             40 JUMP_IF_FALSE           36 (to 79)
             43 POP_TOP             
&nbsp;
 13          44 LOAD_FAST                2 (i)        <i>; if i % j == 0:</i>
             47 LOAD_FAST                3 (j)
             50 BINARY_MODULO       
             51 LOAD_CONST               2 (0)
             54 COMPARE_OP               2 (==)
             57 JUMP_IF_FALSE            5 (to 65)
             60 POP_TOP             
&nbsp;
 14          61 BREAK_LOOP          
             62 JUMP_FORWARD             1 (to 66)    <i>; break</i>
             65 POP_TOP             
&nbsp;
 15          66 LOAD_FAST                3 (j)        <i>; j = j + 1</i>
             69 LOAD_CONST               3 (1)
             72 BINARY_ADD          
             73 STORE_FAST               3 (j)
             76 JUMP_ABSOLUTE           31            <i>; konec vnitøní smyèky</i>
             79 POP_TOP             
             80 POP_BLOCK           
&nbsp;
 16          81 LOAD_FAST                3 (j)        <i>; if (j == i):</i>
             84 LOAD_FAST                2 (i)
             87 COMPARE_OP               2 (==)
             90 JUMP_IF_FALSE            9 (to 102)
             93 POP_TOP             
&nbsp;
 17          94 LOAD_FAST                2 (i)        <i>; print i</i>
             97 PRINT_ITEM          
             98 PRINT_NEWLINE       
             99 JUMP_FORWARD             1 (to 103)
            102 POP_TOP             
&nbsp;
 18         103 LOAD_FAST                2 (i)        <i>; i = i + 1</i>
            106 LOAD_CONST               3 (1)
            109 BINARY_ADD          
            110 STORE_FAST               2 (i)
            113 JUMP_ABSOLUTE            9            <i>; konec vnìj¹í smyèky</i>
            116 POP_TOP             
            117 POP_BLOCK           
            118 LOAD_CONST               0 (None)
            121 RETURN_VALUE        
</pre>



<p><a name="k08"></a></p>
<h2 id="k08">8. Jednoduchá programová smyèka typu <strong>do-while/repeat-until</strong></h2>

<p>Kromì programové smyèky typu <strong>while</strong> se ve strukturovaném
programování velmi èasto setkáme i se smyèkou typu <strong>do-while</strong>,
popø.&nbsp;s&nbsp;ekvivalentní smyèkou <strong>repeat-until</strong>. Zatímco
se ve smyèce <strong>while</strong> provádí test na ukonèení smyèky pøed ka¾dou
iterací, je v&nbsp;pøípadì <strong>do-while</strong> i
<strong>repeat-until</strong> test provádìn na konci tìla smyèky a tedy ji¾ po
dokonèení jedné iterace, co¾ mimochodem znamená, ¾e tìlo smyèky bude v¾dy
provedeno alespoò jedenkrát. Rozdíl mezi smyèkami <strong>do-while</strong>
(céèková vìtev programovacích jazykù) a <strong>repeat-until</strong> (Pascal,
Modula-2, Lua) spoèívá pouze v&nbsp;tom, zda je splnìní zapsané podmínky
pova¾ováno za vstup do dal¹í iterace èi naopak za dùvod pro ukonèení celé
programové smyèky. Zatímco programovací jazyk Java podporuje smyèku
<strong>do-while</strong>, najdeme v&nbsp;jazyku Lua smyèku
<strong>repeat-until</strong> a v&nbsp;Pythonu je nutné tuto smyèku emulovat
s&nbsp;vyu¾itím smyèky typu <strong>while</strong> doplnìnou o podmínku na
konci popø.&nbsp;doplnìnou o dal¹í lokální promìnnou.</p>

<h3>Demonstraèní pøíklad <strong>Test10.java</strong></h3>

<pre>
<i>/**</i>
<i> * Trida s jedinou statickou metodou</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu jednoduche programove smycky typu do-while.</i>
<i> */</i>
public class <strong>Test10</strong> {
&nbsp;
    public static int <strong>loop</strong>(int x) {
        <strong>do</strong> {
            x--;
        } <strong>while</strong> (x&gt;0);
        return x;
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        System.out.println(loop(10));
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test10.lua</strong></h3>

<pre>
<i>--</i>
<i>-- Modul s jedinou funkci pro otestovani</i>
<i>-- zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove smycky typu do-while</i>
<i>-- (resp. repeat-until)</i>
<i>--</i>
&nbsp;
function <strong>loop</strong>(x)
    <strong>repeat</strong>
        x = x - 1
    <strong>until</strong> x &lt;= 0
    return x
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    print(loop(10))
end
&nbsp;
main()
</pre>

<h3>Demonstraèní pøíklad <strong>Test10.py</strong></h3>

<pre>
<i>#</i>
<i># Modul s jedinou funkci pro otestovani</i>
<i># zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i># prekladu programove smycky typu do-while.</i>
<i># (presneji receno jeji emulace)</i>
<i>#</i>
&nbsp;
def <strong>loop</strong>(x):
    <strong>while</strong> True:
        x = x - 1
        <strong>if</strong> x &lt;= 0: <strong>break</strong>
    return x
&nbsp;
<i>#</i>
<i># Vse je nutne otestovat.</i>
<i>#</i>
def <strong>main</strong>():
    print(loop(10))
&nbsp;
<i>#</i>
<i># Vypsani bajkkodu testovane funkce</i>
<i>#</i>
def <strong>disassemble</strong>():
    from dis import dis
&nbsp;
    print("\nloop:")
    dis(loop)
&nbsp;
main()
&nbsp;
disassemble()
</pre>



<p><a name="k09"></a></p>
<h2 id="k09">9. Ukázky pøekladu jednoduché programové smyèky <strong>do-while/repeat-until</strong> do bajtkódu</h2>

<p>V&nbsp;této kapitole budou ukázány okomentované bajtkódy získané pøekladem
demonstraèních pøíkladù <strong>Test10.java</strong>,
<strong>Test10.lua</strong> i <strong>Test10.py</strong>.</p>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test10.java</strong></h3>

<p>Z&nbsp;výpisu bajtkódu JVM je patrné, ¾e se smyèka typu
<strong>do-while</strong> pøelo¾ila pouze s&nbsp;vyu¾itím jednoho podmínìného
skoku umístìného na konci smyèky:</p>

<pre>
public static int <strong>loop</strong>(int);
  Code:
   0:   iinc    0, -1       <i>; sní¾ení hodnoty poèitadla (resp. pøiètení hodnoty -1, co¾ je to samé)</i>
   3:   iload_0             <i>; naèíst první parametr (x) metody a ulo¾it ho na zásobník</i>
   4:   ifgt    0           <i>; porovnání s nulou a podmínìný skok na zaèátek smyèky</i>
   7:   iload_0             <i>; naèíst první parametr (x) metody a ulo¾it ho na zásobník</i>
   8:   ireturn             <i>; a vrátit jeho novou hodnotu, co¾ by mìla být v¾dy nula</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test10.lua</strong></h3>

<p>Bajtkód urèený pro Lua VM je opìt podle oèekávání velmi jednoduchý a
pøímoèarý, pouze se namísto instrukce <strong>LT</strong> pou¾ívá instrukce
<strong>LE</strong> (<i>less or equal</i>):</p>

<pre>
function <strong>Test10.lua:8,13</strong> (5 instructions at 0x8ae2c88)
1 param, 2 slots, 0 upvalues, 1 local, 2 constants, 0 functions
        1       [10]    SUB             0 0 -1  ; - 1   <i>; sní¾ení hodnoty parametru x (index 0) o jednièku</i>
        2       [11]    LE              0 0 -2  ; - 0   <i>; porovnání x s nulou a podmínìné pøeskoèení dal¹í instrukce</i>
        3       [11]    JMP             0 -3    ; to 1  <i>; nepodmínìný skok na instrukci s indexem 1 (skok na zaèátek smyèky)</i>
        4       [12]    RETURN          0 2             <i>; návrat s pou¾itím prvního parametru (x) jako návratové hodnoty</i>
        5       [13]    RETURN          0 1             <i>; automaticky generováno (zde zcela zbyteènì)</i>
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test10.py</strong></h3>

<p>V&nbsp;pøípadì Pythonu je smyèka <strong>do-while</strong> ve skuteènosti
pouze emulována, èemu¾ odpovídá i (relativnì pøímoèarý) pøeklad do
bajtkódu:</p>

<pre>
<strong>loop</strong>:
  9           0 SETUP_LOOP              40 (to 43)   <i>; pøíprava na provedení smyèky</i>
              3 LOAD_GLOBAL              0 (True)    <i>; nekoneèná smyèka typu while</i>
              6 JUMP_IF_FALSE           32 (to 41)   <i>; podmínìný skok pøi NEsplnìní podmínky</i>
              9 POP_TOP                              <i>; uklizení zásobníku</i> 

 10          10 LOAD_FAST                0 (x)       <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
             13 LOAD_CONST               1 (1)       <i>; naèíst konstantu 1 pou¾itou pro sní¾ení poèitadla</i>
             16 BINARY_SUBTRACT                      <i>; sní¾ení hodnoty poèitadla o 1</i>
             17 STORE_FAST               0 (x)       <i>; a ulo¾it novou hodnotu</i>

 11          20 LOAD_FAST                0 (x)       <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
             23 LOAD_CONST               2 (0)       <i>; naèíst konstantu 0 pou¾itou pro porovnání</i>
             26 COMPARE_OP               1 (&lt;=)      <i>; provést porovnání, výsledek je pou¾it pro podmínìný skok</i>
             29 JUMP_IF_FALSE            5 (to 37)   <i>; podmínìný skok pøi NEsplnìní podmínky</i>
             32 POP_TOP                              <i>; uklizení zásobníku</i> 
             33 BREAK_LOOP                           <i>; ukonèení smyèky</i>
             34 JUMP_ABSOLUTE            3           <i>; skok na zaèátek smyèky</i>
             37 POP_TOP                              <i>; uklizení zásobníku</i> 
             38 JUMP_ABSOLUTE            3           <i>; skok na zaèátek smyèky</i>
             41 POP_TOP                              <i>; uklizení zásobníku</i> 
             42 POP_BLOCK           

 12          43 LOAD_FAST                0 (x)       <i>; naèíst (jediný) parametr metody a ulo¾it ho na zásobník</i>
             46 RETURN_VALUE                         <i>; návrat s pou¾itím jediného parametru jako návratové hodnoty</i>
</pre>



<p><a name="k10"></a></p>
<h2 id="k10">10. Dvì vnoøené smyèky typu <strong>do-while</strong> &ndash; výpis øady prvoèísel</h2>

<p>Pro zajímavost se pokusíme pøepsat vý¹e uvedené demonstraèní pøíklady pro
výpoèet øady prvoèísel takovým zpùsobem, aby se místo vnoøených programových
smyèek typu <strong>while</strong> pou¾ívala buï dvojice vnoøených smyèek typu
<strong>do-while</strong> v&nbsp;pøípadì programovacího jazyka Java
popø.&nbsp;dvojice vnoøených smyèek typu <strong>repeat-until</strong>
programovacího jazyka Lua. Tyto pøíklady sice nejsou zcela ekvivalentní
pùvodním demonstraèním pøíkladùm, ov¹em základní zpùsob výpoètu zùstává
zachován. Vzhledem k&nbsp;tomu, ¾e programovací jazyk Python tento typ smyèek
vùbec nepodporuje, nebyl program pøepsán (proto¾e to zrovna u tohoto algoritmu
nedává ¾ádný velký smysl a vygenerovaný bajtkód by byl je¹tì hor¹í ne¾ u
algoritmu v&nbsp;pùvodní podobì).</p>

<h3>Demonstraèní pøíklad <strong>Test11.java</strong></h3>

<pre>
<i>/**</i>
<i> * Trida s jedinou statickou metodou</i>
<i> * pro otestovani zakladnich vlastnosti bajtkodu JVM:</i>
<i> * prekladu vnorene programove smycky typu do-while pri</i>
<i> * vypisu rady prvocisel.</i>
<i> */</i>
public class <strong>Test11</strong> {
&nbsp;
    public static void <strong>primeNumbers</strong>(int min, int max) {
        int i = min;
        <strong>do</strong> {                           <i>// projit vsechny hodnoty od min do max</i>
            int j = 2;
            <strong>do</strong> {
                if (i % j == 0) {      <i>// je mozne celociselne delit?</i>
                    break;             <i>// - pak ovsem nejde o prvocislo</i>
                }
                j++;                   <i>// vyzkouset dalsiho kandidata na celociselne deleni</i>
            } <strong>while</strong> (j &lt; i);           <i>// (lze optimalizovat a zkratit smycku!)</i>
            if (j == i) {              <i>// pokud jsme dosli az k cislu i</i>
                System.out.println(i); <i>// nedoslo nikdy k celociselnemu deleni</i>
            }                          <i>// a tudiz jsme nasli prvocislo</i>
            i++;                       <i>// dalsi hodnota v posloupnosti</i>
        } <strong>while</strong> (i &lt;= max);
    }
&nbsp;
    <i>/**</i>
    <i> * Vse je nutne otestovat.</i>
    <i> */</i>
    public static void <strong>main</strong>(String[] args) {
        primeNumbers(2, 1000);
    }
}
</pre>

<h3>Demonstraèní pøíklad <strong>Test11.lua</strong></h3>

<pre>
<i>--</i>
<i>-- Modul s jedinou funkci pro otestovani</i>
<i>-- zakladnich vlastnosti bajtkodu jazyka Lua</i>
<i>-- prekladu programove smycky typu repeat-until</i>
<i>-- pri vypisu rady prvocisel.</i>
<i>--</i>
&nbsp;
function <strong>primeNumbers</strong>(min, max)
    local i = min
    <strong>repeat</strong>                     <i>-- projit vsechny hodnoty od min do max</i>
        local j = 2
        <strong>repeat</strong>                 <i>-- (lze optimalizovat a zkratit smycku!)</i>
            if i % j == 0 then <i>-- je mozne celociselne delit?</i>
                break          <i>-- - pak ovsem nejde o prvocislo</i>
            end
            j = j + 1          <i>-- vyzkouset dalsiho kandidata na celociselne deleni</i>
        <strong>until</strong> j &gt; i
        if j == i then         <i>-- pokud jsme dosli az k cislu i</i>
            print(i)           <i>-- nedoslo nikdy k celociselnemu deleni</i>
        end                    <i>-- a tudiz jsme nasli prvocislo</i>
        i = i + 1              <i>-- dalsi hodnota v posloupnosti</i>
    <strong>until</strong> i &gt; max
end
&nbsp;
<i>--</i>
<i>-- Vse je nutne otestovat.</i>
<i>--</i>
function <strong>main</strong>()
    primeNumbers(2, 1000)
end
&nbsp;
main()
</pre>



<p><a name="k11"></a></p>
<h2 id="k11">11. Ukázky pøekladu vnoøených smyèek <strong>do-while</strong> do bajtkódu</h2>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test11.java</strong></h3>

<p>V&nbsp;pøípadì programovacího jazyka Java do¹lo ke zkrácení bajtkódu na 41
bajtù oproti pùvodním 47 bajtùm pøi pou¾ití smyèek typu
<strong>while</strong>:</p>

<pre>
public static void <strong>primeNumbers</strong>(int, int);
  Code:
   0:	iload_0
   1:	istore_2
   2:	iconst_2            <i>; zaèátek vnìj¹í smyèky</i>
   3:	istore_3
   4:	iload_2             <i>; zaèátek vnitøní smyèky</i>
   5:	iload_3
   6:	irem
   7:	ifne	13          <i>; implementace "if"</i>
   10:	goto	21
   13:	iinc	3, 1
   16:	iload_3
   17:	iload_2
   18:	if_icmplt	4   <i>; skok na konci vnitøní smyèky</i>
   21:	iload_3
   22:	iload_2
   23:	if_icmpne	33  <i>; implementace "if"</i>
   26:	getstatic	#2; <i>; Field java/lang/System.out:Ljava/io/PrintStream;</i>
   29:	iload_2
   30:	invokevirtual	#3; <i>; Method java/io/PrintStream.println:(I)V</i>
   33:	iinc	2, 1
   36:	iload_2
   37:	iload_1
   38:	if_icmple	2   <i>; skok na konci vnìj¹í smyèky</i>
   41:	return
</pre>

<h3>Bajtkód demonstraèního pøíkladu <strong>Test11.lua</strong></h3>

<p>Zatímco demonstraèní pøíklad <strong>Test9.lua</strong> byl pøelo¾en pomocí
devatenácti instrukcí, zde si pøekladaè vystaèil s&nbsp;pouhými sedmnácti
instrukcemi, a to opìt z&nbsp;toho dùvodu, ¾e se test provádí a¾ na konci
smyèky, u¹etøí se tedy minimálnì dva nepodmínìné skoky:</p>

<pre>
function <strong>Test11.lua:8,23</strong> (17 instructions at 0x9ee0cb0)
2 params, 6 slots, 1 upvalue, 4 locals, 4 constants, 0 functions
        1       [9]     MOVE            2 0
        2       [11]    LOADK           3 -1    ; 2
        3       [13]    MOD             4 2 3
        4       [13]    EQ              1 4 -2  ; - 0
        5       [13]    JMP             0 3     ; to 9  <i>; implementace "if"</i>
        6       [16]    ADD             3 3 -3  ; - 1
        7       [17]    LT              0 2 3
        8       [17]    JMP             0 -6    ; to 3  <i>; skok pro vnitøní smyèku</i>
        9       [18]    EQ              0 3 2
        10      [18]    JMP             0 3     ; to 14 <i>; implementace "if"</i>
        11      [19]    GETTABUP        4 0 -4  ; _ENV "print"
        12      [19]    MOVE            5 2
        13      [19]    CALL            4 2 1
        14      [21]    ADD             2 2 -3  ; - 1
        15      [22]    LT              0 1 2
        16      [22]    JMP             0 -15   ; to 2  <i>; skok pro vnìj¹í smyèku</i>
        17      [23]    RETURN          0 1             <i>; automaticky generováno (nic se nevrací)</i>
</pre>



<p><a name="k12"></a></p>
<h2 id="k12">12. Obsah následující èásti seriálu</h2>

<p>V&nbsp;následující èásti tohoto seriálu se budeme vìnovat ji¾ ponìkud
pokroèilej¹ím tématùm. Bude se jednat o zpùsob pøekladu programových smyèek
typu <strong>for</strong> (poèítaná programová smyèka) a
<strong>foreach</strong> (prùchod kolekcí popø.&nbsp;vyu¾ití takzvaných
iterátorù), proto¾e nìkteré popisované virtuální stroje obsahují specializované
instrukce pro tento typ velmi èasto pou¾ívaných programových smyèek. Kromì toho
si takté¾ uká¾eme, jakým zpùsobem se v&nbsp;generovaném bajtkódu volají funkce
a/nebo metody, co¾ je problematika, která velmi úzce souvisí se zpùsobem
pøedávání parametrù volaným metodám/funkcím i se zpùsobem pøedávaní návratové
hodnoty èi dokonce vìt¹ího mno¾ství návratových hodnot.</p>



<p><a name="k13"></a></p>
<h2 id="k13">13. Repositáø se zdrojovými kódy v¹ech dne¹ních demonstraèních pøíkladù</h2>

<p>V¹echny dnes popsané a vyu¾ité demonstraèní pøíklady (naprogramované
v&nbsp;Javì, Lue i Pythonu) byly ulo¾eny do Mercurial repositáøe umístìného na
adrese <a
href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/</a>.
Odkazy na prozatím poslední verze tìchto pøíkladù naleznete v&nbsp;tabulce pod
tímto odstavcem:</p>

<table>
<tr><th> #</th><th>Zdrojový kód</th><th>Umístìní</th></tr>
<tr><td> 1</td><td>Test7.java </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test7.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test7.java</a></td></tr>
<tr><td> 2</td><td>Test7.lua  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test7.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test7.lua</a></td></tr>
<tr><td> 3</td><td>Test7.py   </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test7.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test7.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp; </td><td>&nbsp;</td></tr>
<tr><td> 4</td><td>Test8.java </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test8.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test8.java</a></td></tr>
<tr><td> 5</td><td>Test8.lua  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test8.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test8.lua</a></td></tr>
<tr><td> 6</td><td>Test8.py   </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test8.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test8.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp; </td><td>&nbsp;</td></tr>
<tr><td> 7</td><td>Test9.java </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test9.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test9.java</a></td></tr>
<tr><td> 8</td><td>Test9.lua  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test9.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test9.lua</a></td></tr>
<tr><td> 9</td><td>Test9.py   </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test9.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test9.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp; </td><td>&nbsp;</td></tr>
<tr><td>10</td><td>Test10.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test10.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test10.java</a></td></tr>
<tr><td>11</td><td>Test10.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test10.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test10.lua</a></td></tr>
<tr><td>12</td><td>Test10.py  </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test10.py">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/dc752058181f/bytecode/Python/Test10.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp; </td><td>&nbsp;</td></tr>
<tr><td>13</td><td>Test11.java</td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test11.java">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/9f1d8c533dd2/bytecode/Java/Test11.java</a></td></tr>
<tr><td>14</td><td>Test11.lua </td><td><a href="http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test11.lua">http://icedtea.classpath.org/people/ptisnovs/jvm-tools/file/8d82717323ec/bytecode/Lua/Test11.lua</a></td></tr>
</table>



<p><a name="k14"></a></p>
<h2 id="k14">14. Odkazy na Internetu</h2>

<ol>

<li>Parrot<br />
<a href="http://www.parrot.org/">http://www.parrot.org/</a>
</li>

<li>Parrot languages<br />
<a href="http://www.parrot.org/languages">http://www.parrot.org/languages</a>
</li>

<li>Parrot Primer<br />
<a href="http://docs.parrot.org/parrot/latest/html/docs/intro.pod.html">http://docs.parrot.org/parrot/latest/html/docs/intro.pod.html</a>
</li>

<li>Parrot Opcodes<br />
<a href="http://docs.parrot.org/parrot/latest/html/ops.html">http://docs.parrot.org/parrot/latest/html/ops.html</a>
</li>

<li>Parrot VM<br />
<a href="http://en.wikibooks.org/wiki/Parrot_Virtual_Machine">http://en.wikibooks.org/wiki/Parrot_Virtual_Machine</a>
</li>

<li>Parrot Assembly Language<br />
<a href="http://www.perl6.org/archive/pdd/pdd06_pasm.html">http://www.perl6.org/archive/pdd/pdd06_pasm.html</a>
</li>

<li>Parrot Reference: Chapter 11 - Perl 6 and Parrot Essentials<br />
<a href="http://oreilly.com/perl/excerpts/perl-6-and-parrot-essentials/parrot-reference.html">http://oreilly.com/perl/excerpts/perl-6-and-parrot-essentials/parrot-reference.html</a>
</li>

<li>Python Bytecode: Fun With Dis<br />
<a href="http://akaptur.github.io/blog/2013/08/14/python-bytecode-fun-with-dis/">http://akaptur.github.io/blog/2013/08/14/python-bytecode-fun-with-dis/</a>
</li>

<li>Python's Innards: Hello, ceval.c!<br />
<a href="http://tech.blog.aknin.name/category/my-projects/pythons-innards/">http://tech.blog.aknin.name/category/my-projects/pythons-innards/</a>
</li>

<li>Byterun<br />
<a href="https://github.com/nedbat/byterun">https://github.com/nedbat/byterun</a>
</li>

<li>Python Byte Code Instructions<br />
<a href="http://document.ihg.uni-duisburg.de/Documentation/Python/lib/node56.html">http://document.ihg.uni-duisburg.de/Documentation/Python/lib/node56.html</a>
</li>

<li>Python Byte Code Instructions<br />
<a href="https://docs.python.org/3.2/library/dis.html#python-bytecode-instructions">https://docs.python.org/3.2/library/dis.html#python-bytecode-instructions</a>
</li>

<li>Programovací jazyk Lua<br />
<a href="http://palmknihy.cz/web/kniha/programovaci-jazyk-lua-12651.htm">http://palmknihy.cz/web/kniha/programovaci-jazyk-lua-12651.htm</a>
</li>

<li>Lua 5.2 sources<br />
<a href="http://www.lua.org/source/5.2/">http://www.lua.org/source/5.2/</a>
</li>

<li>Lua 5.2 sources - lopcodes.h<br />
<a href="http://www.lua.org/source/5.2/lopcodes.h.html">http://www.lua.org/source/5.2/lopcodes.h.html</a>
</li>

<li>Lua 5.2 sources - lopcodes.c<br />
<a href="http://www.lua.org/source/5.2/lopcodes.c.html">http://www.lua.org/source/5.2/lopcodes.c.html</a>
</li>

<li>dis - Python module<br />
<a href="https://docs.python.org/2/library/dis.html">https://docs.python.org/2/library/dis.html</a>
</li>

<li>Comparison of Python virtual machines<br />
<a href="http://polishlinux.org/apps/cli/comparison-of-python-virtual-machines/">http://polishlinux.org/apps/cli/comparison-of-python-virtual-machines/</a>
</li>

<li>O-code<br />
<a href="http://en.wikipedia.org/wiki/O-code_machine">http://en.wikipedia.org/wiki/O-code_machine</a>
</li>

<li>BCPL<br />
<a href="http://en.wikipedia.org/wiki/BCPL">http://en.wikipedia.org/wiki/BCPL</a>
</li>

<li>The BCPL Cintcode System and Cintpos User Guide by Martin Richards<br />
<a href="http://www.cl.cam.ac.uk/users/mr/bcplman.pdf">http://www.cl.cam.ac.uk/users/mr/bcplman.pdf</a>
</li>

<li>Bootstrapping the BCPL Compiler using INTCODE<br />
<a href="http://www.gtoal.com/languages/bcpl/amiga/bcpl/booting.txt">http://www.gtoal.com/languages/bcpl/amiga/bcpl/booting.txt</a>
</li>

<li>p-code machine<br />
<a href="http://en.wikipedia.org/wiki/P-code_machine">http://en.wikipedia.org/wiki/P-code_machine</a>
</li>

<li>ucsd-psystem-vm 0.11 (a portable virtual machine for the UCSD p-System)<br />
<a href="http://ucsd-psystem-vm.sourceforge.net/">http://ucsd-psystem-vm.sourceforge.net/</a>
</li>

<li>Introduction to Smalltalk bytecodes<br />
<a href="http://marianopeck.wordpress.com/2011/05/21/introduction-to-smalltalk-bytecodes/">http://marianopeck.wordpress.com/2011/05/21/introduction-to-smalltalk-bytecodes/</a>
</li>

<li>Audio File Formats.<br />
<a href="http://sox.sourceforge.net/AudioFormats-11.html">http://sox.sourceforge.net/AudioFormats-11.html</a>
</li>

<li>TestSounds.com: pure digital sounds to test your audio<br />
<a href="http://www.testsounds.com/">http://www.testsounds.com/</a>
</li>

<li>Test Tones (20hz - 20khz)<br />
<a href="http://mdf1.tripod.com/test-tones.html">http://mdf1.tripod.com/test-tones.html</a>
</li>

<li>WAV (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/WAV">http://en.wikipedia.org/wiki/WAV</a>
</li>

<li>WAVE PCM soundfile format<br />
<a href="https://ccrma.stanford.edu/courses/422/projects/WaveFormat/">https://ccrma.stanford.edu/courses/422/projects/WaveFormat/</a>
</li>

<li>Audio Interchange File Format<br />
<a href="http://en.wikipedia.org/wiki/Aiff">http://en.wikipedia.org/wiki/Aiff</a>
</li>

<li>Musical Instrument Digital Interface,<br />
<a href="http://en.wikipedia.org/wiki/Musical_Instrument_Digital_Interface">http://en.wikipedia.org/wiki/Musical_Instrument_Digital_Interface</a>
</li>

<li>A MIDI Pedalboard Encode,<br />
<a href="http://www.pykett.org.uk/a_midi_pedalboard_encoder.htm">http://www.pykett.org.uk/a_midi_pedalboard_encoder.htm</a>
</li>

<li>MIDI Note Number, Frequency Table,<br />
<a href="http://tonalsoft.com/pub/news/pitch-bend.aspx">http://tonalsoft.com/pub/news/pitch-bend.aspx</a>
</li>

<li>Note names, MIDI numbers and frequencies,<br />
<a href="http://www.phys.unsw.edu.au/jw/notes.html">http://www.phys.unsw.edu.au/jw/notes.html</a>
</li>

<li>The MIDI Specification,<br />
<a href="http://www.gweep.net/~prefect/eng/reference/protocol/midispec.html">http://www.gweep.net/~prefect/eng/reference/protocol/midispec.html</a>
</li>

<li>Essentials of the MIDI protocol,<br />
<a href="http://ccrma.stanford.edu/~craig/articles/linuxmidi/misc/essenmidi.html">http://ccrma.stanford.edu/~craig/articles/linuxmidi/misc/essenmidi.html</a>
</li>

<li>General MIDI,<br />
<a href="http://en.wikipedia.org/wiki/General_MIDI">http://en.wikipedia.org/wiki/General_MIDI</a>
</li>

<li>Obecné MIDI (General MIDI), <br />
<a href="http://www-kiv.zcu.cz/~herout/html_sbo/midi/5.html">http://www-kiv.zcu.cz/~herout/html_sbo/midi/5.html</a>
</li>

<li>Custom Chips: Paula<br />
<a href="http://www.amiga-hardware.com/showhardware.cgi?HARDID=1460">http://www.amiga-hardware.com/showhardware.cgi?HARDID=1460</a>
</li>

<li>Big Book of Amiga Hardware<br />
<a href="http://www.amiga-resistance.info/bboahfaq/">http://www.amiga-resistance.info/bboahfaq/</a>
</li>

<li>Amiga Hardware Database<br />
<a href="http://amiga.resource.cx/">http://amiga.resource.cx/</a>
</li>

<li>ExoticA<br />
<a href="http://www.exotica.org.uk/wiki/Main_Page">http://www.exotica.org.uk/wiki/Main_Page</a>
</li>

<li>The absolute basics of Amiga audio<br />
<a href="http://www.sufo.estates.co.uk/amiga/amimus.html">http://www.sufo.estates.co.uk/amiga/amimus.html</a>
</li>

<li>Wikipedia: Tracker<br />
<a href="http://en.wikipedia.org/wiki/Tracker">http://en.wikipedia.org/wiki/Tracker</a>
</li>

<li>Wikipedia: Trackers<br />
<a href="http://en.wikipedia.org/wiki/Trackers">http://en.wikipedia.org/wiki/Trackers</a>
</li>

<li>Ultimate Soundtracker<br />
<a href="http://en.wikipedia.org/wiki/Ultimate_Soundtracker">http://en.wikipedia.org/wiki/Ultimate_Soundtracker</a>
</li>

<li>Protracker<br />
<a href="http://en.wikipedia.org/wiki/ProTracker">http://en.wikipedia.org/wiki/ProTracker</a>
</li>

<li>Impulse Tracker<br />
<a href="http://en.wikipedia.org/wiki/Impulse_Tracker">http://en.wikipedia.org/wiki/Impulse_Tracker</a>
</li>

<li>Scream Tracker<br />
<a href="http://en.wikipedia.org/wiki/ScreamTracker">http://en.wikipedia.org/wiki/ScreamTracker</a>
</li>

<li>MikMod for Java<br />
<a href="http://jmikmod.berlios.de/">http://jmikmod.berlios.de/</a>
</li>

<li>List of audio trackers<br />
<a href="http://en.wikipedia.org/wiki/List_of_audio_trackers">http://en.wikipedia.org/wiki/List_of_audio_trackers</a>
</li>

<li>Wikipedia: Module File<br />
<a href="http://en.wikipedia.org/wiki/Module_file">http://en.wikipedia.org/wiki/Module_file</a>
</li>

<li>Wikipedia: Chiptune<br />
<a href="http://en.wikipedia.org/wiki/Chiptune">http://en.wikipedia.org/wiki/Chiptune</a>
</li>

<li>SDL_mixer 2.0<br />
<a href="http://www.libsdl.org/projects/SDL_mixer/">http://www.libsdl.org/projects/SDL_mixer/</a>
</li>

<li>SDLJava: package sdljava.ttf<br />
<a href="http://sdljava.sourceforge.net/docs/api/sdljava/ttf/package-summary.html#package_description">http://sdljava.sourceforge.net/docs/api/sdljava/ttf/package-summary.html#package_description</a>
</li>

<li>SDLJava: class sdljava.ttf.SDLTTF<br />
<a href="http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTTF.html">http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTTF.html</a>
</li>

<li>SDLJava: class sdljava.ttf.SDLTrueTypeFont<br />
<a href="http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTrueTypeFont.html">http://sdljava.sourceforge.net/docs/api/sdljava/ttf/SDLTrueTypeFont.html</a>
</li>

<li>SDL_ttf Documentation<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/docs/">http://www.libsdl.org/projects/SDL_ttf/docs/</a>
</li>

<li>SDL_ttf 2.0 (není prozatím souèástí SDLJava)<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/">http://www.libsdl.org/projects/SDL_ttf/</a>
</li>

<li>SDL_ttf doc<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/docs/SDL_ttf_frame.html">http://www.libsdl.org/projects/SDL_ttf/docs/SDL_ttf_frame.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_Surface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_PixelFormat<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlpixelformat.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlpixelformat.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_LockSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdllocksurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdllocksurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_UnlockSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlunlocksurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlunlocksurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_LoadBMP<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlloadbmp.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlloadbmp.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_SaveBMP<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsavebmp.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsavebmp.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_BlitSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlblitsurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlblitsurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_VideoInfo<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlvideoinfo.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlvideoinfo.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_GetVideoInfo<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlgetvideoinfo.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlgetvideoinfo.html</a>
</li>

<li>glDrawArrays<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArrays.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArrays.xml</a>
</li>

<li>glDrawElements<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElements.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElements.xml</a>
</li>

<li>glDrawArraysInstanced<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArraysInstanced.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArraysInstanced.xml</a>
</li>

<li>glDrawElementsInstanced<br />
<a href="http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElementsInstanced.xml">http://www.opengl.org/sdk/docs/man4/xhtml/glDrawElementsInstanced.xml</a>
</li>

<li>Root.cz: Seriál Grafická knihovna OpenGL<br />
<a href="http://www.root.cz/serialy/graficka-knihovna-opengl/">http://www.root.cz/serialy/graficka-knihovna-opengl/</a>
</li>

<li>Root.cz: Seriál Tvorba pøenositelných grafických aplikací vyu¾ívajících knihovnu GLUT<br />
<a href="http://www.root.cz/serialy/tvorba-prenositelnych-grafickych-aplikaci-vyuzivajicich-knihovnu-glut/">http://www.root.cz/serialy/tvorba-prenositelnych-grafickych-aplikaci-vyuzivajicich-knihovnu-glut/</a>
</li>

<li>Best Practices for Working with Vertex Data<br />
<a href="https://developer.apple.com/library/ios/documentation/3ddrawing/conceptual/opengles_programmingguide/TechniquesforWorkingwithVertexData/TechniquesforWorkingwithVertexData.html">https://developer.apple.com/library/ios/documentation/3ddrawing/conceptual/opengles_programmingguide/TechniquesforWorkingwithVertexData/TechniquesforWorkingwithVertexData.html</a>
</li>

<li>Class BufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferStrategy.html</a>
</li>

<li>Class Graphics<br />
<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Graphics.html">http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Graphics.html</a>
</li>

<li>Double Buffering and Page Flipping<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html</a>
</li>

<li>BufferStrategy and BufferCapabilities<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html</a>
</li>

<li>Java:Tutorials:Double Buffering<br />
<a href="http://content.gpwiki.org/index.php/Java:Tutorials:Double_Buffering">http://content.gpwiki.org/index.php/Java:Tutorials:Double_Buffering</a>
</li>

<li>Double buffer in standard Java AWT<br />
<a href="http://www.codeproject.com/Articles/2136/Double-buffer-in-standard-Java-AWT">http://www.codeproject.com/Articles/2136/Double-buffer-in-standard-Java-AWT</a>
</li>

<li>Java 2D: Hardware Accelerating - Part 1 - Volatile Images<br />
<a href="http://www.javalobby.org/forums/thread.jspa?threadID=16840&tstart=0">http://www.javalobby.org/forums/thread.jspa?threadID=16840&tstart=0</a>
</li>

<li>Java 2D: Hardware Accelerating - Part 2 - Buffer Strategies<br />
<a href="http://www.javalobby.org/java/forums/t16867.html">http://www.javalobby.org/java/forums/t16867.html</a>
</li>

<li>How does paintComponent work?<br />
<a href="http://stackoverflow.com/questions/15544549/how-does-paintcomponent-work">http://stackoverflow.com/questions/15544549/how-does-paintcomponent-work</a>
</li>

<li>A Swing Architecture Overview<br />
<a href="http://www.oracle.com/technetwork/java/architecture-142923.html">http://www.oracle.com/technetwork/java/architecture-142923.html</a>
</li>

<li>Class javax.swing.JComponent<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html</a>
</li>

<li>Class java.awt.Component<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html</a>
</li>

<li>Class java.awt.Component.BltBufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.BltBufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.BltBufferStrategy.html</a>
</li>

<li>Class java.awt.Component.FlipBufferStrategy<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.FlipBufferStrategy.html">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.FlipBufferStrategy.html</a>
</li>

<li>Metoda java.awt.Component.isDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isDoubleBuffered()">http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isDoubleBuffered()</a>
</li>

<li>Metoda javax.swing.JComponent.isDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#isDoubleBuffered()">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#isDoubleBuffered()</a>
</li>

<li>Metoda javax.swing.JComponent.setDoubleBuffered()<br />
<a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)">http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)</a>
</li>

<li>Javadoc - tøída GraphicsDevice<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsDevice.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsDevice.html</a>
</li>

<li>Javadoc - tøída GraphicsEnvironment<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html</a>
</li>

<li>Javadoc - tøída GraphicsConfiguration<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsConfiguration.html">http://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsConfiguration.html</a>
</li>

<li>Javadoc - tøída DisplayMode<br />
<a href="http://docs.oracle.com/javase/7/docs/api/java/awt/DisplayMode.html">http://docs.oracle.com/javase/7/docs/api/java/awt/DisplayMode.html</a>
</li>

<li>Lesson: Full-Screen Exclusive Mode API<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/">http://docs.oracle.com/javase/tutorial/extra/fullscreen/</a>
</li>

<li>Full-Screen Exclusive Mode<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/exclusivemode.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/exclusivemode.html</a>
</li>

<li>Display Mode<br />
<a href="http://docs.oracle.com/javase/tutorial/extra/fullscreen/displaymode.html">http://docs.oracle.com/javase/tutorial/extra/fullscreen/displaymode.html</a>
</li>

<li>Using the Full-Screen Exclusive Mode API in Java<br />
<a href="http://www.developer.com/java/other/article.php/3609776/Using-the-Full-Screen-Exclusive-Mode-API-in-Java.htm">http://www.developer.com/java/other/article.php/3609776/Using-the-Full-Screen-Exclusive-Mode-API-in-Java.htm</a>
</li>

<li>Java quick guide: JVM Instruction Set (tabulka v¹ech instrukcí JVM)<br />
<a href="http://www.mobilefish.com/tutorials/java/java_quickguide_jvm_instruction_set.html">http://www.mobilefish.com/tutorials/java/java_quickguide_jvm_instruction_set.html</a>
</li>

<li>The JVM Instruction Set<br />
<a href="http://mpdeboer.home.xs4all.nl/scriptie/node14.html">http://mpdeboer.home.xs4all.nl/scriptie/node14.html</a>
</li>

<li>MultiMedia eXtensions<br />
<a href="http://softpixel.com/~cwright/programming/simd/mmx.php">http://softpixel.com/~cwright/programming/simd/mmx.php</a>i
</li>

<li>SSE (Streaming SIMD Extentions)<br />
<a href="http://www.songho.ca/misc/sse/sse.html">http://www.songho.ca/misc/sse/sse.html</a>
</li>

<li>Timothy A. Chagnon: SSE and SSE2<br />
<a href="http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf">http://www.cs.drexel.edu/~tc365/mpi-wht/sse.pdf</a>
</li>

<li>Intel corporation: Extending the Worldr's Most Popular Processor Architecture<br />
<a href="http://download.intel.com/technology/architecture/new-instructions-paper.pdf">http://download.intel.com/technology/architecture/new-instructions-paper.pdf</a>
</li>

<li>SIMD architectures:<br />
<a href="http://arstechnica.com/old/content/2000/03/simd.ars/">http://arstechnica.com/old/content/2000/03/simd.ars/</a>
</li>

<li>GC safe-point (or safepoint) and safe-region<br />
<a href="http://xiao-feng.blogspot.cz/2008/01/gc-safe-point-and-safe-region.html">http://xiao-feng.blogspot.cz/2008/01/gc-safe-point-and-safe-region.html</a>
</li>

<li>Safepoints in HotSpot JVM<br />
<a href="http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html">http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html</a>
</li>

<li>Java theory and practice: Synchronization optimizations in Mustang<br />
<a href="http://www.ibm.com/developerworks/java/library/j-jtp10185/">http://www.ibm.com/developerworks/java/library/j-jtp10185/</a>
</li>

<li>How to build hsdis<br />
<a href="http://hg.openjdk.java.net/jdk7/hotspot/hotspot/file/tip/src/share/tools/hsdis/README">http://hg.openjdk.java.net/jdk7/hotspot/hotspot/file/tip/src/share/tools/hsdis/README</a>
</li>

<li>Java SE 6 Performance White Paper<br />
<a href="http://www.oracle.com/technetwork/java/6-performance-137236.html">http://www.oracle.com/technetwork/java/6-performance-137236.html</a>
</li>

<li>Lukas Stadler's Blog<br />
<a href="http://classparser.blogspot.cz/2010/03/hsdis-i386dll.html">http://classparser.blogspot.cz/2010/03/hsdis-i386dll.html</a>
</li>

<li>How to build hsdis-amd64.dll and hsdis-i386.dll on Windows<br />
<a href="http://dropzone.nfshost.com/hsdis.htm">http://dropzone.nfshost.com/hsdis.htm</a>
</li>

<li>PrintAssembly<br />
<a href="https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly">https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly</a>
</li>

<li>The Java Virtual Machine Specification: 3.14. Synchronization<br />
<a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.14">http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.14</a>
</li>

<li>The Java Virtual Machine Specification: 8.3.1.4. volatile Fields<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.4">http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.4</a>
</li>

<li>The Java Virtual Machine Specification: 17.4. Memory Model<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4</a>
</li>

<li>The Java Virtual Machine Specification: 17.7. Non-atomic Treatment of double and long<br />
<a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7">http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7</a>
</li>

<li>Open Source ByteCode Libraries in Java<br />
<a href="http://java-source.net/open-source/bytecode-libraries">http://java-source.net/open-source/bytecode-libraries</a>
</li>

<li>ASM Home page<br />
<a href="http://asm.ow2.org/">http://asm.ow2.org/</a>
</li>

<li>Seznam nástrojù vyu¾ívajících projekt ASM<br />
<a href="http://asm.ow2.org/users.html">http://asm.ow2.org/users.html</a>
</li>

<li>ObjectWeb ASM (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/ObjectWeb_ASM">http://en.wikipedia.org/wiki/ObjectWeb_ASM</a>
</li>

<li>Java Bytecode BCEL vs ASM<br />
<a href="http://james.onegoodcookie.com/2005/10/26/java-bytecode-bcel-vs-asm/">http://james.onegoodcookie.com/2005/10/26/java-bytecode-bcel-vs-asm/</a>
</li>

<li>BCEL Home page<br />
<a href="http://commons.apache.org/bcel/">http://commons.apache.org/bcel/</a>
</li>

<li>Byte Code Engineering Library (pøed verzí 5.0)<br />
<a href="http://bcel.sourceforge.net/">http://bcel.sourceforge.net/</a>
</li>

<li>Byte Code Engineering Library (verze &gt;= 5.0)<br />
<a href="http://commons.apache.org/proper/commons-bcel/">http://commons.apache.org/proper/commons-bcel/</a>
</li>

<li>BCEL Manual<br />
<a href="http://commons.apache.org/bcel/manual.html">http://commons.apache.org/bcel/manual.html</a>
</li>

<li>Byte Code Engineering Library (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/BCEL">http://en.wikipedia.org/wiki/BCEL</a>
</li>

<li>BCEL Tutorial<br />
<a href="http://www.smfsupport.com/support/java/bcel-tutorial!/">http://www.smfsupport.com/support/java/bcel-tutorial!/</a>
</li>

<li>Bytecode Engineering<br />
<a href="http://book.chinaunix.net/special/ebook/Core_Java2_Volume2AF/0131118269/ch13lev1sec6.html">http://book.chinaunix.net/special/ebook/Core_Java2_Volume2AF/0131118269/ch13lev1sec6.html</a>
</li>

<li>Bytecode Outline plugin for Eclipse (screenshoty + info)<br />
<a href="http://asm.ow2.org/eclipse/index.html">http://asm.ow2.org/eclipse/index.html</a>
</li>

<li>Javassist<br />
<a href="http://www.jboss.org/javassist/">http://www.jboss.org/javassist/</a>
</li>

<li>Byteman<br />
<a href="http://www.jboss.org/byteman">http://www.jboss.org/byteman</a>
</li>

<li>Java programming dynamics, Part 7: Bytecode engineering with BCEL<br />
<a href="http://www.ibm.com/developerworks/java/library/j-dyn0414/">http://www.ibm.com/developerworks/java/library/j-dyn0414/</a>
</li>

<li>The Java<sup>TM</sup> Virtual Machine Specification, Second Edition<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html">http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html</a>
</li>

<li>The class File Format<br />
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html">http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html</a>
</li>

<li>javap - The Java Class File Disassembler<br />
<a href="http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javap.html">http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javap.html</a>
</li>

<li>javap-java-1.6.0-openjdk(1) - Linux man page<br />
<a href="http://linux.die.net/man/1/javap-java-1.6.0-openjdk">http://linux.die.net/man/1/javap-java-1.6.0-openjdk</a>
</li>

<li>Using javap<br />
<a href="http://www.idevelopment.info/data/Programming/java/miscellaneous_java/Using_javap.html">http://www.idevelopment.info/data/Programming/java/miscellaneous_java/Using_javap.html</a>
</li>

<li>Examine class files with the javap command<br />
<a href="http://www.techrepublic.com/article/examine-class-files-with-the-javap-command/5815354">http://www.techrepublic.com/article/examine-class-files-with-the-javap-command/5815354</a>
</li>

<li>aspectj (Eclipse)<br />
<a href="http://www.eclipse.org/aspectj/">http://www.eclipse.org/aspectj/</a>
</li>

<li>Aspect-oriented programming (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Aspect_oriented_programming">http://en.wikipedia.org/wiki/Aspect_oriented_programming</a>
</li>

<li>AspectJ (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/AspectJ">http://en.wikipedia.org/wiki/AspectJ</a>
</li>

<li>EMMA: a free Java code coverage tool<br />
<a href="http://emma.sourceforge.net/">http://emma.sourceforge.net/</a>
</li>

<li>Cobertura<br />
<a href="http://cobertura.sourceforge.net/">http://cobertura.sourceforge.net/</a>
</li>

<li>jclasslib bytecode viewer<br />
<a href="http://www.ej-technologies.com/products/jclasslib/overview.html">http://www.ej-technologies.com/products/jclasslib/overview.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2014</small></p>
</body>
</html>

