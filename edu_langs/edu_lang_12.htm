<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky: sprity v knihovně Pygame</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky: sprity v knihovně Pygame</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Prakticky žádná hra odehrávající se v&nbsp;2D prostoru se neobejde bez použití mnoha objektů, které se pohybují v&nbsp;herním světě. Tyto objekty spolu mohou kolidovat (narážet do sebe atd.), popř.&nbsp;mohou nastat kolize mezi pohyblivým objektem a nepohyblivým pozadím herní scény. Aby nebylo nutné výpočet kolizí pro každou vznikající hru programovat od začátku, nabízí knihovna <i>Pygame</i> svým uživatelům řešení ve formě modulu <strong>pygame.sprite</strong>. A právě popisem některých možností nabízených tímto modulem se budeme zabývat v&nbsp;dnešním článku.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky: sprity v&nbsp;knihovně Pygame</a></p>
<p><a href="#k02">2. Vytvoření vlastního spritu s&nbsp;využitím třídy <strong>pygame.sprite.Sprite</strong></a></p>
<p><a href="#k03">3. Vytvoření skupiny spritů</a></p>
<p><a href="#k04">4. Vykreslení všech spritů z&nbsp;vybrané skupiny</a></p>
<p><a href="#k05">5. Zdrojový kód demonstračního příkladu <strong>pygame17</strong></a></p>
<p><a href="#k06">6. Změna pozice spritu ve vykreslované scéně</a></p>
<p><a href="#k07">7. Reakce na stisk kurzorových kláves</a></p>
<p><a href="#k08">8. Zdrojový kód demonstračního příkladu <strong>pygame18</strong></a></p>
<p><a href="#k09">9. Reakce na puštění kurzorových kláves</a></p>
<p><a href="#k10">10. Test kolize spritu s&nbsp;okrajem okna</a></p>
<p><a href="#k11">11. Zdrojový kód demonstračního příkladu <strong>pygame19</strong></a></p>
<p><a href="#k12">12. Repositář se zdrojovými kódy všech dnešních demonstračních příkladů</a></p>
<p><a href="#k13">13. Funkce použité v&nbsp;dnešních demonstračních příkladech</a></p>
<p><a href="#k14">14. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky: sprity v&nbsp;knihovně Pygame</h2>

<p>V&nbsp;předchozích třech částech [<a href="http://mojefedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-knihovna-pygame/">1</a>] [<a href="http://mojefedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-knihovna-pygame-prakticky/">2</a>] [<a href="http://mojefedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-prace-s-bitmapami-a-truetype-fonty/">3</a>] seriálu o programovacích jazycích i o knihovnách a frameworcích vhodných pro <a href="http://mojefedora.cz/stitek/vyuka/">výuku programování</a> popř.&nbsp;pro výuku základů počítačové <a href="http://mojefedora.cz/stitek/grafika/">grafiky</a>, jsme se seznámili se způsobem vykreslování (převážně) statických objektů do vytvářené dvourozměrné scény s&nbsp;využitím populární knihovny Pygame. Připomeňme si, že lze zvolit tři základní způsoby vykreslování objektů do 2D scény (v&nbsp;případě potřeby je samozřejmě možné tyto způsoby vhodně zkombinovat):</p>

<ul>

<li>Dvourozměrnou scénu či její část lze vykreslit doslova pixel po pixelu (explicitním nastavením barvy každého pixelu), což se hodí například ve chvíli, kdy se používají procedurální textury (založené například na <a href="http://www.root.cz/clanky/perlinova-sumova-funkce-a-jeji-aplikace/">Perlinově šumu</a> či na <a href="http://www.root.cz/serialy/fraktaly-v-pocitacove-grafice/">fraktálech</a>).</li>

<li>Použít lze i vykreslování s&nbsp;využitím základních geometrických tvarů, například úsečky či kružnice. U některých tvarů je dokonce možné zvolit, zda se má při vykreslování aplikovat antialiasing (vyhlazení hran) či nikoli.</li>

<li>Třetí možností je použití rastrových obrázků načtených z&nbsp;externích souborů. Speciálním případem jsou rastrové obrázky získané takzvanou <i>rasterizací</i> fontů, čehož lze využít při vykreslování textů (viz též <a href="http://mojefedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-prace-s-bitmapami-a-truetype-fonty/">předchozí část</a> tohoto seriálu).</li>

</ul>

<a href="http://mojefedora.cz/wp-content/uploads/2015/12/11.png"><img class="alignnone size-medium wp-image-6197" src="http://mojefedora.cz/wp-content/uploads/2015/12/11.png" alt="11" width="400" height="400" /></a>
<p><i>Obrázek 1: Scéna vykreslená pixel po pixelu, tj.&nbsp;explicitním nastavením barvy každého pixelu framebufferu.</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/12/01.png"><img class="alignnone size-full wp-image-6206" src="http://mojefedora.cz/wp-content/uploads/2015/12/01.png" alt="01" width="320" height="240" /></a>
<p><i>Obrázek 2: Různobarevné úsečky vykreslené bez použití antialiasingu.</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/12/03.png"><img class="alignnone size-medium wp-image-6208" src="http://mojefedora.cz/wp-content/uploads/2015/12/03.png" alt="03" width="320" height="240" /></a>
<p><i>Obrázek 3: Tytéž úsečky, ovšem nyní vykreslené s&nbsp;použitím antialiasingu</i>.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/12/12.png"><img class="alignnone size-medium wp-image-6217" src="http://mojefedora.cz/wp-content/uploads/2015/12/12.png" alt="12" width="320" height="240" /></a>
<p><i>Obrázek 4: Kombinace rastrového obrázku a úseček v&nbsp;jediné 2D scéně.</i></p>

<p>Poněkud komplikovanější situace nastane ve chvíli, kdy je zapotřebí původně statickou 2D scénu &bdquo;rozpohybovat&ldquo;, tj.&nbsp;vložit do ní různé pohyblivé objekty. Modifikace 2D scény pixel po pixelu v&nbsp;naprosté většině případů nepřichází v&nbsp;úvahu, protože se jedná o velmi pomalou operaci. Podobně pomalé je většinou i vykreslování základních geometrických tvarů, které sice může být v&nbsp;některých případech realizováno na grafickém akcelerátoru, ovšem v&nbsp;případě knihovny Pygame nemáme jistotu, že nedojde k&nbsp;softwarovému (a tedy náležitě pomalému) vykreslení. Zbývá nám tedy jediné &ndash; zaměřit se na využití pohybujících se rastrových objektů neboli <i>spritů</i>. V&nbsp;tomto ohledu nám knihovna Pygame může pomoci, protože programátorům nabízí modul nazvaný <strong>pygame.sprite</strong>, v&nbsp;němž je deklarováno hned několik tříd vhodných pro implementaci spritů. My si prozatím vystačíme s&nbsp;dvojicí tříd: <strong>pygame.sprite.Sprite</strong> [<a href="http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Sprite">4</a>] a <strong>pygame.sprite.Group</strong> [<a href="http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group">5</a>].</p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Vytvoření vlastního spritu s&nbsp;využitím třídy <strong>pygame.sprite.Sprite</strong></h2>

<p>Každý <i>sprite</i> je v&nbsp;knihovně Pygame představován instancí třídy odvozené od původní třídy <strong>pygame.sprite.Sprite</strong>. Důležité jsou především dva atributy. První atribut se jmenuje <strong>image</strong> a obsahuje rastrový obrázek s&nbsp;tvarem spritu (některé pixely samozřejmě mohou být průhledné či poloprůhledné, touto problematikou jsme se již ostatně zabývali <a href="http://mojefedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-knihovna-pygame-prakticky/">předminule</a> a <a href="http://mojefedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-prace-s-bitmapami-a-truetype-fonty/">minule</a>). Druhý atribut se jmenuje <strong>rect</strong> a jak již název tohoto atributu napovídá, jedná se o obdélník reprezentovaný svými rozměry a pozicí v&nbsp;2D světě. Rozměry se ve výchozím nastavení měří v&nbsp;pixelech a v&nbsp;případě spritů se tyto rozměry používají pro detekci kolizí. Pozice obdélníku v&nbsp;2D světě odpovídá pozici spritu, což znamená, že spritem lze velmi snadno pohybovat.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/12/071.png"><img class="alignnone size-medium wp-image-6212" src="http://mojefedora.cz/wp-content/uploads/2015/12/071-450x338.png" alt="07" width="450" height="338" /></a>
<p><i>Obrázek 5: Hra Warcraft II pro zobrazení budov i postaviček používá výhradně sprity.</i></p>

<p>Ukažme si nyní způsob vytvoření nového spritu odvozením jeho třídy od třídy <strong>pygame.sprite.Sprite</strong>. Pro jednoduchost nebudeme načítat externí rastrový obrázek s&nbsp;tvarem spritu, ale spokojíme se pouze s&nbsp;vyplněním bitmapy spritu konstantní barvou; ostatně z&nbsp;tohoto důvodu naši třídu nazveme <strong>BlockySprite</strong>. Nastavení barvy, velikosti i pozice spritu je provedeno na základně parametrů předaných konstruktoru:</p>

<pre>
<i># Třída představující sprite zobrazený jako jednobarevný čtverec.</i>
<strong>class</strong> BlockySprite(pygame.sprite.Sprite):
    <i># Konstruktor</i>
    <strong>def</strong> __init__(self, color, size, x, y):
        <i># Nejprve je nutné zavolat konstruktor předka,</i>
        <i># tj. konstruktor třídy pygame.sprite.Sprite:</i>
        pygame.sprite.Sprite.__init__(self)

        <i># Vytvoření obrázku představujícího vizuální obraz spritu:</i>
        self.image = pygame.Surface([size,size])
        self.image.fill(color)

        <i># Vytvoření obalového obdélníku</i>
        <i># (velikost se získá z rozměru obrázku)</i>
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.y = y
</pre>

<p>Povšimněte si toho, že skutečně nastavuje dva atributy třídy: <strong>image</strong> a <strong>rect</strong>.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Vytvoření skupiny spritů</h2>

<p>Před vykreslením spritů je nejprve nutné ty sprity, které se mají ve vytvářené 2D scéně objevit, sdružit do takzvané skupiny (<i>group</i>) a následně provést vykreslení všech spritů nacházejících se v&nbsp;této skupině (či skupinách). Skupina spritů je reprezentována instancí třídy <strong>pygame.sprite.Group</strong>, do níž se jednotlivé sprity přidávají pomocí metody <strong>add</strong>. V&nbsp;následujícím úryvku kódu je nejprve vytvořena (zkonstruována) instance třídy <strong>pygame.sprite.Group</strong>, následně jsou zkonstruovány dva sprity (instance naší třídy <strong>BlockySprite</strong> <a href="#k02">z&nbsp;předchozí kapitoly</a>) a nakonec jsou tyto dva sprity přidány do jedné skupiny:</p>

<pre>
<i># Objekt sdružující všechny sprity</i>
all_sprites = pygame.sprite.Group()

<i># Vytvoření dvojice spritů</i>
sprite1 = BlockySprite(RED,  50, 10, 10)
sprite2 = BlockySprite(BLUE, 25, 50, 10)

<i># Přidání dvojice spritů do seznamu</i>
all_sprites.add(sprite1)
all_sprites.add(sprite2)
</pre>



<p><a name="k04"></a></p>
<h2 id="k04">4. Vykreslení všech spritů z&nbsp;vybrané skupiny</h2>

<p>Ve chvíli, kdy jsou všechny sprity, které se mají vykreslit, sdruženy do jedné skupiny (<i>group</i>), je jejich vykreslení velmi snadné, protože ve třídě <strong>pygame.sprite.Group</strong> je deklarována metoda <strong>draw</strong>. Této metodě je nutné předat libovolný objekt typu <i>Surface</i>, tj.&nbsp;libovolný rastrový obrázek. To mj.&nbsp;znamená, že sprity můžeme vykreslit přímo do framebufferu, neboť i framebuffer (konkrétně zadní buffer) je v&nbsp;knihovně Pygame představován objektem typu <i>Surface</i>. Inicializace grafického subsystému a vykreslení skupiny spritů by tedy mohlo vypadat následovně:</p>

<pre>
<i># Inicializace knihovny Pygame</i>
pygame.init()

<i># Vytvoření okna pro vykreslování</i>
display = pygame.display.set_mode([WIDTH, HEIGHT])

<i># Vykreslení celé skupiny spritů do bufferu</i>
all_sprites.draw(display)
</pre>



<p><a name="k05"></a></p>
<h2 id="k05">5. Zdrojový kód demonstračního příkladu <strong>pygame17</strong></h2>

<p>Všechny úryvky kódu popsané v&nbsp;předchozích třech kapitolách nyní využijeme v&nbsp;demonstračním příkladu nazvaném <strong>pygame17</strong>, jehož úplný zdrojový kód je zobrazen pod tímto odstavcem, popř.&nbsp;ho lze získat na adrese <a href="https://github.com/tisnik/presentations/blob/master/pygame/pygame17.py">https://github.com/tisnik/presentations/blob/master/pygame/pygame17.py</a>:</p>

<pre>
<i>#!/usr/bin/python</i>
<i># vim: set fileencoding=utf-8</i>

<i># Demonstrační příklady využívající knihovnu Pygame</i>

<i># Příklad číslo 17: použití spritů</i>


<strong>import</strong> pygame, sys, os, math

<i># Nutno importovat kvůli konstantám QUIT atd.</i>
<strong>from</strong> pygame.locals <strong>import</strong> *

<i># Velikost okna aplikace</i>
WIDTH = 320
HEIGHT = 240

<i># Třída představující sprite zobrazený jako jednobarevný čtverec.</i>
<strong>class</strong> BlockySprite(pygame.sprite.Sprite):
    <i># Konstruktor</i>
    <strong>def</strong> __init__(self, color, size, x, y):
        <i># Nejprve je nutné zavolat konstruktor předka,</i>
        <i># tj. konstruktor třídy pygame.sprite.Sprite:</i>
        pygame.sprite.Sprite.__init__(self)

        <i># Vytvoření obrázku představujícího vizuální obraz spritu:</i>
        self.image = pygame.Surface([size,size])
        self.image.fill(color)

        <i># Vytvoření obalového obdélníku</i>
        <i># (velikost se získá z rozměru obrázku)</i>
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.y = y

<i># Inicializace knihovny Pygame</i>
pygame.init()

clock = pygame.time.Clock()

<i># Vytvoření okna pro vykreslování</i>
display = pygame.display.set_mode([WIDTH, HEIGHT])

<i># Nastavení titulku okna</i>
pygame.display.set_caption('Pygame test #17')

<i># Konstanty s n-ticemi představujícími základní barvy</i>
BLACK   = (  0,   0,   0)
RED     = (255,   0,   0)
BLUE    = (  0,   0,   255)

<i># Vyplnění plochy okna černou barvou</i>
display.fill(BLACK)

<i># Objekt sdružující všechny sprity</i>
all_sprites = pygame.sprite.Group()

<i># Vytvoření dvojice spritů</i>
sprite1 = BlockySprite(RED,  50, 10, 10)
sprite2 = BlockySprite(BLUE, 25, 50, 10)

<i># Přidání dvojice spritů do seznamu</i>
all_sprites.add(sprite1)
all_sprites.add(sprite2)

<i># Vykreslení celé skupiny spritů do bufferu</i>
all_sprites.draw(display)



<i># Hlavní herní smyčka</i>
<strong>while</strong> True:
    <i># Načtení a zpracování všech událostí z fronty</i>
    <strong>for</strong> event <strong>in</strong> pygame.event.get():
        <strong>if</strong> event.type == QUIT:
            pygame.quit()
            sys.exit()
        <strong>if</strong> event.type == KEYDOWN and event.key == K_ESCAPE:
            pygame.quit()
            sys.exit()

    pygame.display.update()
    clock.tick(20)

<i># finito</i>
</pre>

<img class="alignnone size-full wp-image-6358" src="http://mojefedora.cz/wp-content/uploads/2016/01/06.png" alt="06" width="322" height="264" />
<p><i>Obrázek 6: Screenshot demonstračního příkladu <strong>pygame17</strong>.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Změna pozice spritu ve vykreslované scéně</h2>

<p>Vytvoření statických (tj.&nbsp;nepohyblivých) spritů již máme odzkoušeno, nyní si tedy pojďme ukázat, jakým způsobem lze měnit pozice spritů ve vykreslované scéně. Prozatím se spokojíme s&nbsp;tím, že jeden ze spritů, který se ve dvourozměrné scéně nachází, bude možné ovládat kurzorovými klávesami. Pro tento účel si u každého spritu zapamatujeme ještě jeho aktuální rychlost v&nbsp;horizontálním a vertikálním směru. Pokud bude sprite nepohyblivý, budou obě složky rychlosti nulové, kladná horizontální složka rychlosti znamená pohyb spritu doprava (záporná samozřejmě doleva) a kladná vertikální složka rychlosti pak pohyb spritu dolů (záporná hodnota pohyb nahoru). Změna provedená ve třídě <strong>BlockySprite</strong> je minimální, pouze se do konstruktoru přidá kód pro vytvoření a prvotní inicializaci obou atributů (poslední dva řádky):</p>

<pre>
<i># Třída představující sprite zobrazený jako jednobarevný čtverec.</i>
<strong>class</strong> BlockySprite(pygame.sprite.Sprite):
    <i># Konstruktor</i>
    <strong>def</strong> __init__(self, color, size, x, y):
        <i># Nejprve je nutné zavolat konstruktor předka,</i>
        <i># tj. konstruktor třídy pygame.sprite.Sprite:</i>
        pygame.sprite.Sprite.__init__(self)

        <i># Vytvoření obrázku představujícího vizuální obraz spritu:</i>
        self.image = pygame.Surface([size,size])
        self.image.fill(color)

        <i># Vytvoření obalového obdélníku</i>
        <i># (velikost se získá z rozměru obrázku)</i>
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.y = y

        <i># Počáteční rychlost spritu</i>
        self.speed_x = 0
        self.speed_y = 0
</pre>

<p>Změna souřadnic libovolného spritu je snadná: postačuje modifikovat souřadnice <strong>x</strong> a <strong>y</strong> přiřazené k&nbsp;atributu <strong>rect</strong>, o němž jsme se již zmínili v&nbsp;předchozích kapitolách. Posun všech spritů ve skupině zařizuje funkce nazvaná <strong>move_sprites</strong>:</p>

<pre>
<i># Posun všech spritů ve skupině na základě jejich rychlosti</i>
<strong>def</strong> move_sprites(sprite_group):
    <strong>for</strong> sprite <strong>in</strong> sprite_group:
        sprite.rect.x = sprite.rect.x + sprite.speed_x
        sprite.rect.y = sprite.rect.y + sprite.speed_y
</pre>

<p>Po změně pozic spritů je nutné celou scénu znovu překreslit, což zajišťuje funkce nazvaná <strong>draw_scene</strong>. Důležité je, že tato funkce pracuje se zadním bufferem (<i>back buffer</i>), což znamená, že při překreslení pozadí scény i při vykreslení všech spritů nebude docházet k&nbsp;nepříjemnému poblikávání:</p>

<pre>
<i># Vykreslení celé scény na obrazovku</i>
<strong>def</strong> draw_scene(display, background_color, sprite_group):
    <i># Vyplnění plochy okna černou barvou</i>
    display.fill(background_color)
    <i># Vykreslení celé skupiny spritů do bufferu</i>
    sprite_group.draw(display)
    <i># Obnovení obsahu obrazovky (překlopení zadního a předního bufferu)</i>
    pygame.display.update()
</pre>

<img class="alignnone size-medium wp-image-6359" src="http://mojefedora.cz/wp-content/uploads/2016/01/07.png" alt="07" width="322" height="264" />
<p><i>Obrázek 7: Screenshot demonstračního příkladu <strong>pygame18</strong> ihned po jeho inicializaci.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Reakce na stisk kurzorových kláves</h2>

<p>Poslední funkcionalitu, kterou musíme doprogramovat, je reakce na stisk kurzorových kláves (šipek). Reakci na stisk kláves (ne ovšem na jejich puštění) zařizuje následující programový kód, který je umístěn do hlavní herní smyčky. Povšimněte si, že tento kód pouze nastavuje atributy <strong>speed_x</strong> či <strong>speed_y</strong>, protože vlastní pohyb spritů již máme vyřešen ve výše popsané funkci <strong>move_sprites</strong>:</p>

<pre>
<i># Načtení a zpracování všech událostí z fronty</i>
<strong>for</strong> event <strong>in</strong> pygame.event.get():
    <strong>if</strong> event.type == QUIT:
        pygame.quit()
        sys.exit()
    <strong>if</strong> event.type == KEYDOWN:
        <strong>if</strong> event.key == K_ESCAPE:
            pygame.quit()
            sys.exit()
        <i># Stiskem kurzorových kláves je možné měnit směr pohybu spritu</i>
        <strong>elif</strong> event.key == pygame.K_LEFT:
            player.speed_x = -3
        <strong>elif</strong> event.key == pygame.K_RIGHT:
            player.speed_x = +3
        <strong>elif</strong> event.key == pygame.K_UP:
            player.speed_y = -3
        <strong>elif</strong> event.key == pygame.K_DOWN:
            player.speed_y = +3
</pre>

<img class="alignnone size-medium wp-image-6360" src="http://mojefedora.cz/wp-content/uploads/2016/01/08.png" alt="08" width="322" height="264" />
<p><i>Obrázek 8: Screenshot demonstračního příkladu <strong>pygame18</strong> při posunu spritu do levého horního rohu.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Zdrojový kód demonstračního příkladu <strong>pygame18</strong></h2>

<p>Všechny úryvky kódu popsané v&nbsp;obou předchozích kapitolách jsou využity v&nbsp;demonstračním příkladu nazvaném <strong>pygame18</strong>, jehož úplný zdrojový kód je zobrazen pod tímto odstavcem, popř.&nbsp;ho lze získat na adrese <a href="https://github.com/tisnik/presentations/blob/master/pygame/pygame18.py">https://github.com/tisnik/presentations/blob/master/pygame/pygame17.py</a>:</p>

<pre>
<i>#!/usr/bin/python</i>
<i># vim: set fileencoding=utf-8</i>

<i># Demonstrační příklady využívající knihovnu Pygame</i>

<i># Příklad číslo 18: použití spritů, pohyblivý sprite</i>


<strong>import</strong> pygame, sys, os, math

<i># Nutno importovat kvůli konstantám QUIT atd.</i>
<strong>from</strong> pygame.locals <strong>import</strong> *

<i># Velikost okna aplikace</i>
WIDTH = 320
HEIGHT = 240



<i># Třída představující sprite zobrazený jako jednobarevný čtverec.</i>
<strong>class</strong> BlockySprite(pygame.sprite.Sprite):
    <i># Konstruktor</i>
    <strong>def</strong> __init__(self, color, size, x, y):
        <i># Nejprve je nutné zavolat konstruktor předka,</i>
        <i># tj. konstruktor třídy pygame.sprite.Sprite:</i>
        pygame.sprite.Sprite.__init__(self)

        <i># Vytvoření obrázku představujícího vizuální obraz spritu:</i>
        self.image = pygame.Surface([size,size])
        self.image.fill(color)

        <i># Vytvoření obalového obdélníku</i>
        <i># (velikost se získá z rozměru obrázku)</i>
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.y = y

        <i># Počáteční rychlost spritu</i>
        self.speed_x = 0
        self.speed_y = 0



<i># Inicializace knihovny Pygame</i>
pygame.init()

clock = pygame.time.Clock()

<i># Vytvoření okna pro vykreslování</i>
display = pygame.display.set_mode([WIDTH, HEIGHT])

<i># Nastavení titulku okna</i>
pygame.display.set_caption('Pygame test #18')

<i># Konstanty s n-ticemi představujícími základní barvy</i>
BLACK   = (  0,   0,   0)
RED     = (255,   0,   0)
GRAY    = (128, 128, 128)

<i># Objekt sdružující všechny sprity</i>
all_sprites = pygame.sprite.Group()

<i># Vytvoření dvojice spritů - zdi a hráče</i>
wall   = BlockySprite(GRAY, 50, 10, 10)
player = BlockySprite(RED,  25, WIDTH/2, HEIGHT/2)

<i># Přidání dvojice spritů do seznamu</i>
all_sprites.add(wall)
all_sprites.add(player)



<i># Posun všech spritů ve skupině na základě jejich rychlosti</i>
<strong>def</strong> move_sprites(sprite_group):
    <strong>for</strong> sprite <strong>in</strong> sprite_group:
        sprite.rect.x = sprite.rect.x + sprite.speed_x
        sprite.rect.y = sprite.rect.y + sprite.speed_y



<i># Vykreslení celé scény na obrazovku</i>
<strong>def</strong> draw_scene(display, background_color, sprite_group):
    <i># Vyplnění plochy okna černou barvou</i>
    display.fill(background_color)
    <i># Vykreslení celé skupiny spritů do bufferu</i>
    sprite_group.draw(display)
    <i># Obnovení obsahu obrazovky (překlopení zadního a předního bufferu)</i>
    pygame.display.update()



<i># Hlavní herní smyčka</i>
<strong>while</strong> True:
    <i># Načtení a zpracování všech událostí z fronty</i>
    <strong>for</strong> event <strong>in</strong> pygame.event.get():
        <strong>if</strong> event.type == QUIT:
            pygame.quit()
            sys.exit()
        <strong>if</strong> event.type == KEYDOWN:
            <strong>if</strong> event.key == K_ESCAPE:
                pygame.quit()
                sys.exit()
            <i># Stiskem kurzorových kláves je možné měnit směr pohybu spritu</i>
            <strong>elif</strong> event.key == pygame.K_LEFT:
                player.speed_x = -3
            <strong>elif</strong> event.key == pygame.K_RIGHT:
                player.speed_x = +3
            <strong>elif</strong> event.key == pygame.K_UP:
                player.speed_y = -3
            <strong>elif</strong> event.key == pygame.K_DOWN:
                player.speed_y = +3

    
    move_sprites(all_sprites)
    draw_scene(display, BLACK, all_sprites)
    clock.tick(20)

<i># finito</i>
</pre>

<img class="alignnone size-medium wp-image-6361" src="http://mojefedora.cz/wp-content/uploads/2016/01/09.png" alt="09" width="322" height="264" />
<p><i>Obrázek 9: Screenshot demonstračního příkladu <strong>pygame18</strong> při posunu spritu do pravého horního rohu.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Reakce na puštění kurzorových kláves</h2>

<p>Předchozí příklad je ještě možné upravit. První úprava bude spočívat v&nbsp;tom, že se pohyb spritu zastaví ihned poté, co uživatel pustí příslušné kurzorové tlačítko (šipku). Tato úprava je velmi jednoduchá, protože spočívá v&nbsp;tom, že se bude reagovat jak na stisk klávesy (změna rychlosti spritu v&nbsp;horizontálním či vertikálním směru), tak i na puštění klávesy (změna rychlosti, ale v&nbsp;opačném směru, resp.&nbsp;přesněji řečeno vynulování příslušné složky vektoru rychlosti). Podívejme se nyní na způsob implementace této úpravy:</p>

<pre>
    <i># Načtení a zpracování všech událostí z fronty</i>
    <strong>for</strong> event <strong>in</strong> pygame.event.get():
        <strong>if</strong> event.type == QUIT:
            pygame.quit()
            sys.exit()
        <strong>if</strong> event.type == KEYDOWN:
            <strong>if</strong> event.key == K_ESCAPE:
                pygame.quit()
                sys.exit()
            <i># Stiskem kurzorových kláves je možné měnit směr pohybu spritu</i>
            <strong>elif</strong> event.key == pygame.K_LEFT:
                player.speed_x = -3
            <strong>elif</strong> event.key == pygame.K_RIGHT:
                player.speed_x = +3
            <strong>elif</strong> event.key == pygame.K_UP:
                player.speed_y = -3
            <strong>elif</strong> event.key == pygame.K_DOWN:
                player.speed_y = +3
        <strong>if</strong> event.type == KEYUP:
            <i># Puštění kurzorových kláves vede k zastavení pohybu spritu</i>
            <strong>if</strong> event.key == pygame.K_LEFT:
                player.speed_x = 0
            <strong>elif</strong> event.key == pygame.K_RIGHT:
                player.speed_x = 0
            <strong>elif</strong> event.key == pygame.K_UP:
                player.speed_y = 0
            <strong>elif</strong> event.key == pygame.K_DOWN:
                player.speed_y = 0
</pre>

<img class="alignnone size-medium wp-image-6362" src="http://mojefedora.cz/wp-content/uploads/2016/01/10.png" alt="10" width="322" height="264" />
<p><i>Obrázek 9: Screenshot demonstračního příkladu <strong>pygame19</strong> ihned po jeho inicializaci.</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Test kolize spritu s&nbsp;okrajem okna</h2>

<p>Poslední úprava spočívá v&nbsp;tom, že se při pohybu spritů provede test, jestli sprite nenarazil do okrajů okna. Po nárazu je nutné upravit horizontální či vertikální souřadnici spritu a následně vynulovat příslušnou složku vektoru rychlosti. Tuto úpravu lze snadno přidat do již existující funkce <strong>move_sprites</strong>. Povšimněte si, jak je vypočtena pozice pravého a dolního okraje spritu::</p>

<pre>
<i># Posun všech spritů ve skupině na základě jejich rychlosti</i>
<strong>def</strong> move_sprites(sprite_group, playground_width, playground_height):
    <strong>for</strong> sprite <strong>in</strong> sprite_group:
        <i># Posun spritu</i>
        sprite.rect.x = sprite.rect.x + sprite.speed_x
        sprite.rect.y = sprite.rect.y + sprite.speed_y
        <i># Kontrola, zda sprite nenarazil do okraju okna</i>
        <strong>if</strong> sprite.rect.x &lt; 0:
            sprite.rect.x = 0
            sprite.speed_x = 0
        <strong>if</strong> sprite.rect.x + sprite.rect.width &gt; playground_width:
            sprite.rect.x = playground_width - sprite.rect.width
            sprite.speed_x = 0
        <strong>if</strong> sprite.rect.y &lt; 0:
            sprite.rect.y = 0
            sprite.speed_y = 0
        <strong>if</strong> sprite.rect.y + sprite.rect.height &gt; playground_height:
            sprite.rect.y = playground_height - sprite.rect.height
            sprite.speed_y = 0
</pre>

<img class="alignnone size-medium wp-image-6363" src="http://mojefedora.cz/wp-content/uploads/2016/01/11.png" alt="11" width="322" height="264" />
<p><i>Obrázek 10: Screenshot demonstračního příkladu <strong>pygame19</strong> při posunu spritu do levého horního rohu.</i></p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Zdrojový kód demonstračního příkladu <strong>pygame19</strong></h2>

<p>Obě vylepšení popsaná v&nbsp;předchozích dvou kapitolách jsou přidána do dnešního posledního demonstračního příkladu nazvaného <strong>pygame19</strong>. Následuje výpis <a href="https://github.com/tisnik/presentations/blob/master/pygame/pygame19.py">zdrojového kódu</a> tohoto příkladu:</p>

<pre>
<i>#!/usr/bin/python</i>
<i># vim: set fileencoding=utf-8</i>

<i># Demonstrační příklady využívající knihovnu Pygame</i>

<i># Příklad číslo 19: použití spritů, pohyblivý sprite</i>


<strong>import</strong> pygame, sys, os, math

<i># Nutno importovat kvůli konstantám QUIT atd.</i>
<strong>from</strong> pygame.locals <strong>import</strong> *

<i># Velikost okna aplikace</i>
WIDTH = 320
HEIGHT = 240



<i># Třída představující sprite zobrazený jako jednobarevný čtverec.</i>
<strong>class</strong> BlockySprite(pygame.sprite.Sprite):
    <i># Konstruktor</i>
    <strong>def</strong> __init__(self, color, size, x, y):
        <i># Nejprve je nutné zavolat konstruktor předka,</i>
        <i># tj. konstruktor třídy pygame.sprite.Sprite:</i>
        pygame.sprite.Sprite.__init__(self)

        <i># Vytvoření obrázku představujícího vizuální obraz spritu:</i>
        self.image = pygame.Surface([size,size])
        self.image.fill(color)

        <i># Vytvoření obalového obdélníku</i>
        <i># (velikost se získá z rozměru obrázku)</i>
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.y = y

        <i># Počáteční rychlost spritu</i>
        self.speed_x = 0
        self.speed_y = 0



<i># Inicializace knihovny Pygame</i>
pygame.init()

clock = pygame.time.Clock()

<i># Vytvoření okna pro vykreslování</i>
display = pygame.display.set_mode([WIDTH, HEIGHT])

<i># Nastavení titulku okna</i>
pygame.display.set_caption('Pygame test #19')

<i># Konstanty s n-ticemi představujícími základní barvy</i>
BLACK   = (  0,   0,   0)
RED     = (255,   0,   0)
GRAY    = (128, 128, 128)

<i># Objekt sdružující všechny sprity</i>
all_sprites = pygame.sprite.Group()

<i># Vytvoření dvojice spritů - zdi a hráče</i>
wall   = BlockySprite(GRAY, 50, 10, 10)
player = BlockySprite(RED,  25, WIDTH/2, HEIGHT/2)

<i># Přidání dvojice spritů do seznamu</i>
all_sprites.add(wall)
all_sprites.add(player)



<i># Posun všech spritů ve skupině na základě jejich rychlosti</i>
<strong>def</strong> move_sprites(sprite_group, playground_width, playground_height):
    <strong>for</strong> sprite <strong>in</strong> sprite_group:
        <i># Posun spritu</i>
        sprite.rect.x = sprite.rect.x + sprite.speed_x
        sprite.rect.y = sprite.rect.y + sprite.speed_y
        <i># Kontrola, zda sprite nenarazil do okraju okna</i>
        <strong>if</strong> sprite.rect.x &lt; 0:
            sprite.rect.x = 0
            sprite.speed_x = 0
        <strong>if</strong> sprite.rect.x + sprite.rect.width &gt; playground_width:
            sprite.rect.x = playground_width - sprite.rect.width
            sprite.speed_x = 0
        <strong>if</strong> sprite.rect.y &lt; 0:
            sprite.rect.y = 0
            sprite.speed_y = 0
        <strong>if</strong> sprite.rect.y + sprite.rect.height &gt; playground_height:
            sprite.rect.y = playground_height - sprite.rect.height
            sprite.speed_y = 0



<i># Vykreslení celé scény na obrazovku</i>
<strong>def</strong> draw_scene(display, background_color, sprite_group):
    <i># Vyplnění plochy okna černou barvou</i>
    display.fill(background_color)
    <i># Vykreslení celé skupiny spritů do bufferu</i>
    sprite_group.draw(display)
    <i># Obnovení obsahu obrazovky (překlopení zadního a předního bufferu)</i>
    pygame.display.update()



<i># Hlavní herní smyčka</i>
<strong>while</strong> True:
    <i># Načtení a zpracování všech událostí z fronty</i>
    <strong>for</strong> event <strong>in</strong> pygame.event.get():
        <strong>if</strong> event.type == QUIT:
            pygame.quit()
            sys.exit()
        <strong>if</strong> event.type == KEYDOWN:
            <strong>if</strong> event.key == K_ESCAPE:
                pygame.quit()
                sys.exit()
            <i># Stiskem kurzorových kláves je možné měnit směr pohybu spritu</i>
            <strong>elif</strong> event.key == pygame.K_LEFT:
                player.speed_x = -3
            <strong>elif</strong> event.key == pygame.K_RIGHT:
                player.speed_x = +3
            <strong>elif</strong> event.key == pygame.K_UP:
                player.speed_y = -3
            <strong>elif</strong> event.key == pygame.K_DOWN:
                player.speed_y = +3
        <strong>if</strong> event.type == KEYUP:
            <i># Puštění kurzorových kláves vede k zastavení pohybu spritu</i>
            <strong>if</strong> event.key == pygame.K_LEFT:
                player.speed_x = 0
            <strong>elif</strong> event.key == pygame.K_RIGHT:
                player.speed_x = 0
            <strong>elif</strong> event.key == pygame.K_UP:
                player.speed_y = 0
            <strong>elif</strong> event.key == pygame.K_DOWN:
                player.speed_y = 0

    move_sprites(all_sprites, display.get_width(), display.get_height())
    draw_scene(display, BLACK, all_sprites)
    clock.tick(20)

<i># finito</i>
</pre>

<img class="alignnone size-medium wp-image-6364" src="http://mojefedora.cz/wp-content/uploads/2016/01/12.png" alt="12" width="322" height="264" />
<p><i>Obrázek 12: Screenshot demonstračního příkladu <strong>pygame19</strong> při posunu spritu do pravého dolního rohu.</i></p>



<p><a name="k12"></a></p>
<h2 id="k12">12. Repositář se zdrojovými kódy všech dnešních demonstračních příkladů</h2>

<p>Všechny demonstrační příklady, s&nbsp;nimiž jsme se v&nbsp;dnešním článku seznámili, byly, podobně jako v&nbsp;předchozích částech tohoto seriálu, uloženy do Git repositáře umístěného na GitHubu (<a href="https://github.com/tisnik/presentations">https://github.com/tisnik/presentations</a>):</p>

<table>
<tr><th>#</th><th>Příklad</th><th>Zdrojový kód</th></tr>
<tr><td>1</td><td>pygame17.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/pygame/pygame17.py">https://github.com/tisnik/presentations/blob/master/pygame/pygame17.py</a></td></tr>
<tr><td>2</td><td>pygame18.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/pygame/pygame18.py">https://github.com/tisnik/presentations/blob/master/pygame/pygame18.py</a></td></tr>
<tr><td>3</td><td>pygame19.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/pygame/pygame19.py">https://github.com/tisnik/presentations/blob/master/pygame/pygame19.py</a></td></tr>
</table>



<p><a name="k13"></a></p>
<h2 id="k13">13. Funkce použité v&nbsp;dnešních demonstračních příkladech</h2>

<ol>

<li>pygame.init()<br />
<a href="http://www.pygame.org/docs/ref/pygame.html#pygame.init">http://www.pygame.org/docs/ref/pygame.html#pygame.init</a>
</li>

<li>pygame.quit()<br />
<a href="http://www.pygame.org/docs/ref/pygame.html#pygame.quit">http://www.pygame.org/docs/ref/pygame.html#pygame.quit</a>
</li>

<li>pygame.display.set_mode()<br />
<a href="http://www.pygame.org/docs/ref/display.html#pygame.display.set_mode">http://www.pygame.org/docs/ref/display.html#pygame.display.set_mode</a>
</li>

<li>pygame.display.set_caption()<br />
<a href="http://www.pygame.org/docs/ref/display.html#pygame.display.set_caption">http://www.pygame.org/docs/ref/display.html#pygame.display.set_caption</a>
</li>

<li>pygame.display.quit()<br />
<a href="http://www.pygame.org/docs/ref/display.html#pygame.display.quit">http://www.pygame.org/docs/ref/display.html#pygame.display.quit</a>
</li>

<li>pygame.display.update()<br />
<a href="http://www.pygame.org/docs/ref/display.html#pygame.display.update">http://www.pygame.org/docs/ref/display.html#pygame.display.update</a>
</li>

<li>pygame.event.get()<br />
<a href="http://www.pygame.org/docs/ref/event.html#pygame.event.get">http://www.pygame.org/docs/ref/event.html#pygame.event.get</a>
</li>

<li>pygame.time.Clock()</strong>
<a href="http://www.pygame.org/docs/ref/time.html#pygame.time.Clock">http://www.pygame.org/docs/ref/time.html#pygame.time.Clock</a>
</li>

<li>pygame.time.Clock.tick()<br />
<a href="http://www.pygame.org/docs/ref/time.html#pygame.time.Clock.tick">http://www.pygame.org/docs/ref/time.html#pygame.time.Clock.tick</a>
</li>

<li>pygame.Surface()<br />
<a href="http://www.pygame.org/docs/ref/surface.html">http://www.pygame.org/docs/ref/surface.html</a>
</li>

<li>pygame.Surface.fill()<br />
<a href="http://www.pygame.org/docs/ref/surface.html#pygame.Surface.fill">http://www.pygame.org/docs/ref/surface.html#pygame.Surface.fill</a>
</li>

<li>pygame.Sprite.__init__()<br />
<a href="http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Sprite">http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Sprite</a>
</li>

<li>pygame.sprite.Group()<br />
<a href="http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group">http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group</a>
</li>

<li>pygame.sprite.Group.add()<br />
<a href="http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group.add">http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group.add</a>
</li>

<li>pygame.sprite.Group.draw()<br />
<a href="http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group.draw">http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.Group.draw</a>
</li>

</ol>



<p><a name="k14"></a></p>
<h2 id="k14">14. Odkazy na Internetu</h2>

<ol>

<li>Program Arcade Games With Python And Pygame<br />
<a href="http://programarcadegames.com/index.php?lang=en#">http://programarcadegames.com/index.php?lang=en#</a>
</li>

<li>Program Arcade Games With Python And Pygame: Chapter 13: Introduction to Sprites:<br />
<a href="http://programarcadegames.com/index.php?chapter=introduction_to_sprites#">http://programarcadegames.com/index.php?chapter=introduction_to_sprites#</a>
</li>

<li>Pygame.org<br />
<a href="http://pygame.org/hifi.html">http://pygame.org/hifi.html</a>
</li>

<li>Pygame - instalační soubory pro různé operační systémy<br />
<a href="http://pygame.org/download.shtml">http://pygame.org/download.shtml</a>
</li>

<li>Pygame: documentation<br />
<a href="http://www.pygame.org/docs/">http://www.pygame.org/docs/</a>
</li>

<li>Pygame Wiki: Getting Started<br />
<a href="http://www.pygame.org/wiki/GettingStarted">http://www.pygame.org/wiki/GettingStarted</a>
</li>

<li>Pygame Tutorials: Tutorials Basic<br />
<a href="http://pygametutorials.wikidot.com/tutorials-basic">http://pygametutorials.wikidot.com/tutorials-basic</a>
</li>

<li>Pygame: Font class<br />
<a href="http://www.pygame.org/docs/ref/font.html">http://www.pygame.org/docs/ref/font.html</a>
</li>

<li>Python.org (dokumentace k&nbsp;jazyku, odkazy na instalační soubory atd.)<br />
<a href="https://www.python.org/">https://www.python.org/</a>
</li>

<li>How to Draw with Pygame on Your Raspberry Pi<br />
<a href="http://www.dummies.com/how-to/content/how-to-draw-with-pygame-on-your-raspberry-pi.html">http://www.dummies.com/how-to/content/how-to-draw-with-pygame-on-your-raspberry-pi.html</a>
</li>

<li>Bresenham's line algorithm<br />
<a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm</a>
</li>

<li>Xiaolin Wu's line algorithm<br />
<a href="https://en.wikipedia.org/wiki/Xiaolin_Wu%27s_line_algorithm">https://en.wikipedia.org/wiki/Xiaolin_Wu%27s_line_algorithm</a>
</li>

<li>Pyglet<br />
<a href="https://pypi.python.org/pypi/pyglet/1.2.4">https://pypi.python.org/pypi/pyglet/1.2.4</a>
</li>

<li>Pyglet documentation<br />
<a href="http://pythonhosted.org/pyglet/">http://pythonhosted.org/pyglet/</a>
</li>

<li>PyOpenGL<br />
<a href="https://pypi.python.org/pypi/PyOpenGL/">https://pypi.python.org/pypi/PyOpenGL/</a>
</li>

<li>Computer font (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Computer_font">https://en.wikipedia.org/wiki/Computer_font</a>
</li>

<li>TrueType (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/TrueType">https://en.wikipedia.org/wiki/TrueType</a>
</li>

<li>SDL and Fonts<br />
<a href="http://www.gamedev.net/page/resources/_/technical/game-programming/sdl--fonts-r1953">http://www.gamedev.net/page/resources/_/technical/game-programming/sdl--fonts-r1953</a>
</li>

<li>SDL_ttf Documentation<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/docs/">http://www.libsdl.org/projects/SDL_ttf/docs/</a>
</li>

<li>SDL_ttf 2.0 (není prozatím součástí SDLJava)<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/">http://www.libsdl.org/projects/SDL_ttf/</a>
</li>

<li>SDL_ttf doc<br />
<a href="http://www.libsdl.org/projects/SDL_ttf/docs/SDL_ttf_frame.html">http://www.libsdl.org/projects/SDL_ttf/docs/SDL_ttf_frame.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_Surface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_PixelFormat<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlpixelformat.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlpixelformat.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_LockSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdllocksurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdllocksurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_UnlockSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlunlocksurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlunlocksurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_LoadBMP<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlloadbmp.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlloadbmp.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_SaveBMP<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsavebmp.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlsavebmp.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_BlitSurface<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlblitsurface.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlblitsurface.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_VideoInfo<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlvideoinfo.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlvideoinfo.html</a>
</li>

<li>SDL 1.2 Documentation: SDL_GetVideoInfo<br />
<a href="http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlgetvideoinfo.html">http://www.libsdl.org/release/SDL-1.2.15/docs/html/sdlgetvideoinfo.html</a>
</li>

<li>Graphical user interface (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Graphical_user_interface">http://en.wikipedia.org/wiki/Graphical_user_interface</a>
</li>

<li>The Real History of the GUI<br />
<a href="http://articles.sitepoint.com/article/real-history-gui">http://articles.sitepoint.com/article/real-history-gui</a>
</li>

<li>Computer-History: Xerox Alto<br />
<a href="http://www.mr-gadget.de/apple/2004-01-15/computer-history-xerox-alto">http://www.mr-gadget.de/apple/2004-01-15/computer-history-xerox-alto</a>
</li>

<li>bitsavers.org<br />
<a href="http://www.bitsavers.org/">http://www.bitsavers.org/</a>
</li>

<li>Dokumenty k&nbsp;počítači Xerox Alto na bitsavers.org<br />
<a href="http://www.bitsavers.org/pdf/xerox/alto/">http://www.bitsavers.org/pdf/xerox/alto/</a>
</li>

<li>The ALTO Computer<br />
<a href="http://www.maniacworld.com/alto-computer-video.html">http://www.maniacworld.com/alto-computer-video.html</a>
</li>

<li>Xerox Alto Operating System and Alto Applications<br />
<a href="http://www.digibarn.com/collections/software/alto/index.html">http://www.digibarn.com/collections/software/alto/index.html</a>
</li>

<li>Xerox Alto (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Xerox_Alto">http://en.wikipedia.org/wiki/Xerox_Alto</a>
</li>

<li>BitBLT routines (1975)<br />
<a href="http://www.bitsavers.org/pdf/xerox/alto/BitBLT_Nov1975.pdf">http://www.bitsavers.org/pdf/xerox/alto/BitBLT_Nov1975.pdf</a>
</li>

<li>BitBlt in Squeak<br />
<a href="http://wiki.squeak.org/squeak/189">http://wiki.squeak.org/squeak/189</a>
</li>

<li>Bitmaps, Device Contexts and BitBlt<br />
<a href="http://www.winprog.org/tutorial/bitmaps.html">http://www.winprog.org/tutorial/bitmaps.html</a>
</li>

<li>BitBlt Game Programming Tutorial<br />
<a href="http://www.freevbcode.com/ShowCode.asp?ID=3677">http://www.freevbcode.com/ShowCode.asp?ID=3677</a>
</li>

<li>Bit blit (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/BitBLT">http://en.wikipedia.org/wiki/BitBLT</a>
</li>

<li>The Xerox Alto<br />
<a href="http://toastytech.com/guis/alto3.html">http://toastytech.com/guis/alto3.html</a>
</li>

<li>History of the graphical user interface<br />
<a href="http://en.wikipedia.org/wiki/History_of_the_graphical_user_interface">http://en.wikipedia.org/wiki/History_of_the_graphical_user_interface</a>
</li>

<li>Domovská stránka systému LÖVE<br />
<a href="http://love2d.org/">http://love2d.org/</a>
</li>

<li>Dokumentace k&nbsp;systému LÖVE<br />
<a href="http://love2d.org/wiki/love">http://love2d.org/wiki/love</a>
</li>

<li>Domovská stránka programovacího jazyka Lua<br />
<a href="http://www.lua.org/ ">http://www.lua.org/ </a>
</li>

<li>Seriál o programovacím jazyku Lua (root.cz):<br />
<a href="http://www.root.cz/serialy/programovaci-jazyk-lua/">http://www.root.cz/serialy/programovaci-jazyk-lua/</a>
</li>

<li>Web o Lieru, Gusanos, GeneRally, Atari atd.<br />
<a href="http://karelik.wz.cz/">http://karelik.wz.cz/</a>
</li>

<li>Web o Lieru, Gusanos<br />
<a href="http://karelik.wz.cz/gusanos.php">http://karelik.wz.cz/gusanos.php</a>
</li>

<li>GUSANOS<br />
<a href="http://gusanos.sourceforge.net/">http://gusanos.sourceforge.net/</a>
</li>

<li>GUSANOS Download<br />
<a href="http://sourceforge.net/projects/gusanos/">http://sourceforge.net/projects/gusanos/</a>
</li>

<li>Lua<br />
<a href="http://www.linuxexpres.cz/praxe/lua">http://www.linuxexpres.cz/praxe/lua</a>
</li>

<li>Lua<br />
<a href="http://cs.wikipedia.org/wiki/Lua">http://cs.wikipedia.org/wiki/Lua</a>
</li>

<li>Lua (programming language)<br />
<a href="http://en.wikipedia.org/wiki/Lua_(programming_language)">http://en.wikipedia.org/wiki/Lua_(programming_language)</a>
</li>

<li>The Lua Programming Language<br />
<a href="http://www.tiobe.com/index.php/paperinfo/tpci/Lua.html">http://www.tiobe.com/index.php/paperinfo/tpci/Lua.html</a>
</li>

<li>Lua Programming Gems<br />
<a href="http://www.lua.org/gems/">http://www.lua.org/gems/</a>
</li>

<li>LuaForge<br />
<a href="http://luaforge.net/">http://luaforge.net/</a>
</li>

<li>Forge project tree<br />
<a href="http://luaforge.net/softwaremap/trove_list.php">http://luaforge.net/softwaremap/trove_list.php</a>
</li>

<li>SdlBasic home page<br />
<a href="http://www.sdlbasic.altervista.org/main/">http://www.sdlbasic.altervista.org/main/</a>
</li>

<li>SdlBasic examples<br />
<a href="http://nitrofurano.linuxkafe.com/sdlbasic/">http://nitrofurano.linuxkafe.com/sdlbasic/</a>
</li>

<li>SdlBasic na Wikipedii<br />
<a href="http://en.wikipedia.org/wiki/SdlBasic">http://en.wikipedia.org/wiki/SdlBasic</a>
</li>

<li>Simple DirectMedia Layer<br />
<a href="http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer">http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer</a>
</li>

<li>SDLBASIC &ndash; The high-level interpreter for all?<br />
<a href="http://openbytes.wordpress.com/2008/11/08/sdlbasic-the-high-level-interpreter-for-all/">http://openbytes.wordpress.com/2008/11/08/sdlbasic-the-high-level-interpreter-for-all/</a>
</li>

<li>FreeBasic home page<br />
<a href="http://www.freebasic.net/">http://www.freebasic.net/</a>
</li>

<li>FreeBASIC (Wikipedia EN)<br />
<a href="https://en.wikipedia.org/wiki/FreeBASIC">https://en.wikipedia.org/wiki/FreeBASIC</a>
</li>

<li>FreeBASIC Wiki<br />
<a href="http://www.freebasic.net/wiki/wikka.php?wakka=FBWiki">http://www.freebasic.net/wiki/wikka.php?wakka=FBWiki</a>
</li>

<li>FreeBASIC Manual<br />
<a href="http://www.freebasic.net/wiki/wikka.php?wakka=DocToc">http://www.freebasic.net/wiki/wikka.php?wakka=DocToc</a>
</li>

<li>FreeBASIC (Wikipedia CZ)<br />
<a href="http://cs.wikipedia.org/wiki/FreeBASIC">http://cs.wikipedia.org/wiki/FreeBASIC</a>
</li>

<li>The Griffon Legend<br />
<a href="http://syn9.thingie.net/?table=griffonlegend">http://syn9.thingie.net/?table=griffonlegend</a>
</li>

<li>Seriál Letní škola programovacího jazyka Logo<br />
<a href="http://www.root.cz/serialy/letni-skola-programovaciho-jazyka-logo/">http://www.root.cz/serialy/letni-skola-programovaciho-jazyka-logo/</a>
</li>

<li>Scratch: oficiální stránka projektu<br />
<a href="http://scratch.mit.edu/">http://scratch.mit.edu/</a>
</li>

<li>Scratch: galerie projektů vytvořených ve Scratchi<br />
<a href="http://scratch.mit.edu/galleries/browse/newest">http://scratch.mit.edu/galleries/browse/newest</a>
</li>

<li>Scratch: nápověda<br />
<a href="file:///usr/share/scratch/Help/en/index.html">file:///usr/share/scratch/Help/en/index.html</a>
</li>

<li>Scratch: obrazovky nápovědy<br />
<a href="file:///usr/share/scratch/Help/en/allscreens.html">file:///usr/share/scratch/Help/en/allscreens.html</a>
</li>

<li>Scratch (Wikipedie CZ)<br />
<a href="http://cs.wikipedia.org/wiki/Scratch">http://cs.wikipedia.org/wiki/Scratch</a>
</li>

<li>Scratch (programming language)<br />
<a href="http://en.wikipedia.org/wiki/Scratch_(programming_language)">http://en.wikipedia.org/wiki/Scratch_(programming_language)</a>
</li>

<li>Scratch Modification<br />
<a href="http://wiki.scratch.mit.edu/wiki/Scratch_Modification">http://wiki.scratch.mit.edu/wiki/Scratch_Modification</a>
</li>

<li>Scratch Lowers Resistance to Programming<br />
<a href="http://www.wired.com/gadgetlab/2009/03/scratch-lowers/">http://www.wired.com/gadgetlab/2009/03/scratch-lowers/</a>
</li>

<li>Snap!<br />
<a href="http://snap.berkeley.edu/">http://snap.berkeley.edu/</a>
</li>

<li>Prostředí Snap!<br />
<a href="http://snap.berkeley.edu/snapsource/snap.html">http://snap.berkeley.edu/snapsource/snap.html</a>
</li>

<li>Alternatives to Scratch<br />
<a href="http://wiki.scratch.mit.edu/wiki/Alternatives_to_Scratch">http://wiki.scratch.mit.edu/wiki/Alternatives_to_Scratch</a>
</li>

<li>Basic-256 home page<br />
<a href="http://www.basic256.org/index_en">http://www.basic256.org/index_en</a>
</li>

<li>Basic-256 Language Documentation<br />
<a href="http://doc.basic256.org/doku.php">http://doc.basic256.org/doku.php</a>
</li>

<li>Basic-256 Art Gallery<br />
<a href="http://www.basic256.org/artgallery">http://www.basic256.org/artgallery</a>
</li>

<li>Basic-256 Tutorial<br />
<a href="http://www.basic256.org/tutorials">http://www.basic256.org/tutorials</a>
</li>

<li>Why BASIC?<br />
<a href="http://www.basic256.org/whybasic">http://www.basic256.org/whybasic</a>
</li>

<li>A book to teach ANYBODY how to program a computer (using BASIC)<br />
<a href="http://www.basicbook.org/">http://www.basicbook.org/</a>
</li>

<li>BASIC Computer Games (published 1978) - Hammurabi<br />
<a href="http://atariarchives.org/basicgames/showpage.php?page=78">http://atariarchives.org/basicgames/showpage.php?page=78</a>
</li>

<li>Hamurabi - zdrojový kód v BASICu<br />
<a href="http://www.dunnington.u-net.com/public/basicgames/HMRABI">http://www.dunnington.u-net.com/public/basicgames/HMRABI</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2016</small></p>
</body>
</html>

