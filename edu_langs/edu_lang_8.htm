<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Fyzikální engine implementovaný v knihovně LÖVE (3.část)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Fyzikální engine implementovaný v knihovně LÖVE (3.část)</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Ve třetím článku o fyzikálním enginu, který je součástí knihovny LÖVE, si ukážeme, jakým způsobem je možné v tomto systému vytvořit takzvané pružné (či elastické) vazby mezi několika tělesy. Taktéž si vysvětlíme, jak tyto vazby ovlivní vzájemnou interakci těles v simulovaném světě.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Fyzikální engine implementovaný v&nbsp;knihovně LÖVE (3.část)</a></p>
<p><a href="#k02">2. Systémy několika těles propojených s&nbsp;využitím elastických vazeb</a></p>
<p><a href="#k03">3. Vytvoření simulovaného světa s&nbsp;tělesy spojenými elastickými vazbami</a></p>
<p><a href="#k04">4. Objekt typu <strong>DistanceJoint</strong></a></p>
<p><a href="#k05">5. Vytvoření pružné vazby mezi dvojicí těles</a></p>
<p><a href="#k06">6. Zobrazení pružné vazby v&nbsp;simulovaném světě</a></p>
<p><a href="#k07">7. První demonstrační příklad &ndash; vytvoření pružné vazby mezi dvěma míčky</a></p>
<p><a href="#k08">8. Složitější topologie vazeb</a></p>
<p><a href="#k09">9. Druhý demonstrační příklad &ndash; 25 volně se pohybujících míčků</a></p>
<p><a href="#k10">10. Programové vytvoření elastických vazeb</a></p>
<p><a href="#k11">11. Třetí demonstrační příklad &ndash; vazby mezi míčky v&nbsp;mřížce 25&times;25</a></p>
<p><a href="#k12">12. Čtvrtý demonstrační příklad &ndash; vytvoření horizontálních i vertikálních vazeb</a></p>
<p><a href="#k13">13. Repositář se zdrojovými kódy všech čtyř dnešních demonstračních příkladů</a></p>
<p><a href="#k14">14. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Fyzikální engine implementovaný v&nbsp;knihovně LÖVE (3.část)</h2>

<p><a href="http://fedora.cz/fyzikalni-engine-implementovany-v-knihovne-love/">V&nbsp;úvodním článku</a> o fyzikálním enginu <strong>love.physics</strong>, který je součástí knihovny LÖVE, jsme se seznámili s&nbsp;tím, k&nbsp;čemu se vlastně tento engine využívá a jakým způsobem je ho možné zařadit do vyvíjených aplikací napsaných v&nbsp;programovacím jazyku Lua. Současně jsme se seznámili se základními typy objektů, s&nbsp;nimiž tento engine pracuje a z&nbsp;nichž se vytváří simulovaný (například herní) svět. Na díl první velmi úzce navázal <a href="http://fedora.cz/fyzikalni-engine-implementovany-v-knihovne-love-2-cast/">druhý díl</a> věnovaný konceptu takzvaných obalových těles používaných při detekci kolizí v&nbsp;simulovaném světě a taktéž se způsobem řešení některých problémů plynoucích z&nbsp;nepřesných výpočtů těchto kolizí. Připomeňme si, že kvůli přesnějšímu výpočtu kolizí je nutné některá tělesa označit příznakem &bdquo;střela&ldquo;.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/07.gif"><img class="alignnone size-medium wp-image-5767" src="http://fedora.cz/wp-content/uploads/2015/10/07.gif" alt="07" width="400" height="300" /></a>
<p><i>Obrázek 1: Obalová tělesa (bounding boxes) zobrazená pro všechny objekty v&nbsp;simulovaném světě. Princip obalových těles jsme si vysvětlili <a href="http://fedora.cz/fyzikalni-engine-implementovany-v-knihovne-love-2-cast/">v&nbsp;předchozí části seriálu</a>.</i></p>

<p>Fyzikální engine <strong>love.physics</strong> dokáže mezi tělesy vytvořit i přímé vazby, z&nbsp;nichž nejpoužívanější je elastická vazba (můžeme si zjednodušeně představit, že tělesa jsou spojena pružinkami). Z&nbsp;hlediska simulace objektů s&nbsp;elastickými vazbami je nejdůležitější silou ovlivňující trajektorii těchto těles <i>pružná (elastická) síla</i>. Jedná se, na rozdíl od globálně působící gravitační síly či odporu okolního prostředí, o sílu lokální, protože působí vždy mezi dvojicí těles, která jsou explicitně spojena elastickou vazbou. Tato síla může mít vliv na pohyb hmotného středu těles (těžiště pevných těles), popř.&nbsp;i na jejich otáčení v&nbsp;případě, že je konec elastické vazby umístěn mimo těžiště. Směr a velikost této síly je vypočten s&nbsp;využitím <i>Hookova zákona</i>. Nejdůležitější vlastností elastické vazby, kterou si můžeme představit jako neviditelnou pružinu nataženou mezi dvojici těles, je klidová délka, které se pružina při svém natažení či stlačení snaží dosáhnout a dále konstanty odpovídající síle pružiny a míře jejího tlumení (čím větší je tlumení, k&nbsp;tím menším zákmitům dochází a naopak).</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/11.png"><img class="alignnone size-medium wp-image-5771" src="http://fedora.cz/wp-content/uploads/2015/10/11-450x450.png" alt="11" width="450" height="450" /></a>
<p><i>Obrázek 2: Při kolizi těles dochází k&nbsp;protnutí jejich bounding boxů (podrobnější informace byly opět uvedeny <a href="http://fedora.cz/fyzikalni-engine-implementovany-v-knihovne-love-2-cast/">minule</a>).</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Systémy několika těles propojených s&nbsp;využitím elastických vazeb</h2>

<p>Pružné (elastické) vazby je možné použít pro vytvoření takzvaného <i>systému vázaných těles</i>. Jedná se o takové systémy, ve kterých jsou mezi jednotlivými tělesy vytvořeny pevné nebo elastické vazby. Pevné vazby nedovolují změnit vzdálenost mezi tělesy ve vazbě a řešení vzájemné polohy těles je v&nbsp;tomto případě zajištěno pomocí poměrně složité <i>inverzní kinematiky</i>, která však není v&nbsp;současné verzi systému <i>LÖVE</i> implementována. Naproti tomu u&nbsp;elastických vazeb se vzdálenost těchto těles může v&nbsp;určitém intervalu hodnot měnit. V&nbsp;převážné většině případů se jedná o&nbsp;vazby vytvořené mezi dvojicí těles (vazby totiž simulují pružiny natažené mezi dvojicí těles). Složitější vazby se vytváří složením těchto jednoduchých vazeb, což si ukážeme později na demonstračních příkladech.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/03.png"><img class="alignnone size-medium wp-image-5823" src="http://fedora.cz/wp-content/uploads/2015/10/03-450x450.png" alt="03" width="450" height="450" /></a>
<p><i>Obrázek 3: Začátek prvního demonstračního příkladu. Vidíme zde dvojici míčků spojených elastickou vazbou (ta je naznačena úsečkou).</i></p>

<p>Vazby mezi tělesy jsou většinou zadávány už při vytváření celého modelu, ovšem v&nbsp;systému <i>LÖVE</i> je možné počet vazeb i jejich vlastnosti měnit i v&nbsp;průběhu simulace, což povoluje například simulovat i rozpad celého objektu či naopak jeho složení z&nbsp;několika částí. Mimochodem, v&nbsp;enginu <strong>love.physics</strong> je dostupných hned několik typů vazeb, nejenom vazby elastické. Ostatně stačí se podívat na následující tabulku, v&nbsp;níž jsou podporované vazby vypsány:</p>

<table>
<tr><th> #</th><th>Objekt představující vazbu mezi tělesy</th></tr>
<tr><td> 1</td><td>DistanceJoint</td></tr>
<tr><td> 2</td><td>FrictionJoint</td></tr>
<tr><td> 3</td><td>GearJoint</td></tr>
<tr><td> 4</td><td>MouseJoint</td></tr>
<tr><td> 5</td><td>PrismaticJoint</td></tr>
<tr><td> 6</td><td>PulleyJoint</td></tr>
<tr><td> 7</td><td>RevoluteJoint</td></tr>
<tr><td> 8</td><td>RopeJoint</td></tr>
<tr><td> 9</td><td>WeldJoint</td></tr>
<tr><td>10</td><td>WheelJoint</td></tr>
</table>

<a href="http://fedora.cz/wp-content/uploads/2015/10/04.png"><img class="alignnone size-medium wp-image-5824" src="http://fedora.cz/wp-content/uploads/2015/10/04-450x450.png" alt="04" width="450" height="450" /></a>
<p><i>Obrázek 4: První demonstrační příklad: kvádr se nachází těsně před dopadem na podložku. To stejné platí pro dvojici míčků propojených elastickými vazbami.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Vytvoření simulovaného světa s&nbsp;tělesy spojenými elastickými vazbami</h2>

<p>Při inicializaci aplikace, ve které je počítán stav simulovaného dvourozměrného světa, se musí nastavit hmotnosti, počáteční pozice, rychlosti a samozřejmě taktéž tvary těles, což je téma, které již důvěrně známe z&nbsp;obou předchozích částí tohoto seriálu. Následně jsou vytvořeny vazby mezi tělesy, přičemž v&nbsp;závislosti na potřebách aplikace je možné tyto vazby vygenerovat buď ručně nebo automaticky (obojí způsob si ukážeme v&nbsp;demonstračních příkladech). Manuální i automatická tvorba musí brát v&nbsp;úvahu geometrickou stabilitu celého systému. Této stability se dosáhne vytvořením vazeb na hranách zadaných těles a dále vytvořením pomocných vazeb po úhlopříčkách, což si taktéž ukážeme v&nbsp;jednom demonstračním příkladu (bude se samozřejmě jednat pouze o dvojrozměrný případ). Systémy s&nbsp;elastickými vazbami jsou vhodné pro použití především u&nbsp;těch modelů, které v&nbsp;průběhu simulace (a s&nbsp;ní souvisejících deformací modelu) nemění svoji topologii.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/051.png"><img class="alignnone size-medium wp-image-5825" src="http://fedora.cz/wp-content/uploads/2015/10/051-450x450.png" alt="05" width="450" height="450" /></a>
<p><i>Obrázek 5: První demonstrační příklad: nyní došlo k&nbsp;odrazu kvádru od podložky a následně i k&nbsp;odrazu obou spojených míčků (od kvádru).</i></p>

<p>V&nbsp;některých případech však může být žádoucí, aby bylo možné modelovaný objekt rozdělit, tj.&nbsp;programově přerušit některé elastické vazby (a to kdykoli během simulace). Této vlastnosti lze dosáhnout specifikací maximální možné síly, která může působit mezi dvěma tělesy spojenými elastickou vazbou. V&nbsp;případě, že skutečná síla překročí tuto mez, dojde k&nbsp;&bdquo;přetržení&ldquo; pružiny a elastická vazba je zrušena. Pokud vznikne nutnost modelovat objekt, u nějž se topologie mění zásadnějším způsobem, je vhodnější použít dynamicky vázané systémy. Tyto pokročilejší techniky sice systém <i>LÖVE</i> (a engine <strong>love.physics</strong>) ve své současné verzi nepodporuje, ovšem lze je napodobit programově, neboť informace o stavu každé vazby (nejenom elastické) je možné poměrně jednoduše získat v&nbsp;kterémkoli okamžiku simulace.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/061.png"><img class="alignnone size-medium wp-image-5826" src="http://fedora.cz/wp-content/uploads/2015/10/061-450x450.png" alt="06" width="450" height="450" /></a>
<p><i>Obrázek 6: První demonstrační příklad: dopad kvádru zpět na podložku.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Objekt typu <strong>DistanceJoint</strong></h2>

<p>Elastická vazba, která je v&nbsp;systému <i>LÖVE</i> (resp.&nbsp;přesněji řečeno v&nbsp;modulu <strong>love.physics</strong>) představovaná objektem typu <i>DistanceJoint</i>, se vytvoří voláním konstruktoru <strong>love.physics.newDistanceJoint()</strong>. Tento konstruktor musí být zavolaný se šesti či nově dokonce se sedmi parametry. První dva parametry představují dvojici těles, které mají být spojeny pomocí elastické vazby (musí se tedy jednat o objekty typu <strong>Body</strong>). Další dvojice parametrů udává souřadnice prvního konce vazby, tj.&nbsp;místo, kde je pružina ukotvena v&nbsp;prvním tělese, a následující dvojice parametrů pak specifikuje souřadnice druhého konce vazby, tj.&nbsp;bod nalézající se ve druhém tělese (většinou oba koncové body leží v&nbsp;těžišti těles, viz všechny následující demonstrační příklady, ve skutečnosti to však není nutné). Posledním parametrem je možné specifikovat, zda se mají obě tělesa spojená pružnou vazbou vzájemně odrážet či nikoli.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/07.png"><img class="alignnone size-medium wp-image-5827" src="http://fedora.cz/wp-content/uploads/2015/10/07-450x450.png" alt="07" width="450" height="450" /></a>
<p><i>Obrázek 7: První demonstrační příklad: kvádr již pouze klouže po podložce.</i></p>

<p>Konstruktor <strong>love.physics.newDistanceJoint()</strong> vytvoří objekt, nad nímž je možné volat metody vypsané v&nbsp;následující tabulce:</p>

<table>
<tr><th> #</th><th>Metoda objektu DistanceJoint</th><th>Popis metody</th><th>Poznámka</th></tr>
<tr><td> 1</td><td>getAnchors()</td><td>získání bodů, ve kterých je pružina k tělesům připojena.</td><td>&nbsp;</td></tr>
<tr><td> 2</td><td>getBodies()</td><td>získání obou těles, ke kterým je pružina.</td><td>přidáno ve verzi 0.9.2</td></tr>
<tr><td> 3</td><td>getLength()</td><td>získání klidové vzdálenosti mezi oběma tělesy.</td><td>&nbsp;</td></tr>
<tr><td> 4</td><td>getFrequency()</td><td>získání rychlosti reakce pružiny na její natažení či stlačení.</td><td>&nbsp;</td></tr>
<tr><td> 5</td><td>getDamping()</td><td>získání míry tlumení pružiny (eliminace zákmitů).</td><td>odstraněno ve verzi 0.8.0</td></tr>
<tr><td> 6</td><td>getDampingRatio()</td><td>získání míry tlumení pružiny (eliminace zákmitů).</td><td>přidáno do verze 0.8.0</td></tr>
<tr><td> 7</td><td>setLength()</td><td>nastavení klidové vzdálenosti mezi oběma tělesy.</td><td>&nbsp;</td></tr>
<tr><td> 8</td><td>setFrequency()</td><td>nastavení rychlosti reakce pružiny na její natažení či stlačení.</td><td>&nbsp;</td></tr>
<tr><td> 9</td><td>setDamping()</td><td>nastavení míry tlumení.</td><td>odstraněno ve verzi 0.8.0</td></tr>
<tr><td>10</td><td>setDampingRatio()</td><td>nastavení míry tlumení.</td><td>přidáno do verze 0.8.0</td></tr>
<tr><td>11</td><td>getReactionForce()</td><td>aktuálně působící síla mezi tělesy.</td><td>přidáno do verze 0.8.0</td></tr>
<tr><td>12</td><td>destroy()</td><td>zrušení elastické vazby působící mezi dvěma tělesy.</td><td>&nbsp;</td></tr>
</table>

<a href="http://fedora.cz/wp-content/uploads/2015/10/08.png"><img class="alignnone size-medium wp-image-5828" src="http://fedora.cz/wp-content/uploads/2015/10/08-450x450.png" alt="08" width="450" height="450" /></a>
<p><i>Obrázek 8: První demonstrační příklad: kvádr již pouze klouže po podložce.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Vytvoření pružné vazby mezi dvojicí těles</h2>

<p>V&nbsp;prvním demonstračním příkladu, jehož úplný zdrojový kód bude uveden <a href="#k07">v&nbsp;sedmé kapitole</a>, je ukázáno, jak je možné s&nbsp;využitím pružných (elastických) vazeb navzájem propojit dvojici míčků. Mezi dva míčky je vložena neviditelná &bdquo;pružina&ldquo; představující elastickou vazbu. Oba konce pružiny jsou umístěny do středu míčků &ndash; jedná se o třetí až šestý parametr funkce <strong>love.physics.newDistanceJoint()</strong>, které se předávají jak objekty představující obě tělesa spojená vazbami, tak i souřadnice koncových bodů pružin (sami si můžete vyzkoušet, jak se simulace bude lišit v&nbsp;případě, že elastické vazby nebudou ukončeny v&nbsp;geometrických středech míčků). Následně je s&nbsp;využitím metody <strong>joint:setLength()</strong> nastavena klidová délka pružiny a dále metodou <strong>joint:setFrequency()</strong> rychlost odezvy pružiny na její natažení či naopak stlačení.</p>

<p>Vytvoření těles (<i>body</i>), jejich tvarů (<i>shape</i>) i elastické vazby (<i>joint</i>) je realizováno v&nbsp;callback funkci <strong>love.load()</strong>:</p>

<pre>
<i>--</i>
<i>-- Funkce volaná při inicializaci aplikace.</i>
<i>--</i>
<strong>function</strong> love.load()
    ...
    ...
    ...
    <i>-- těleso představující první míček</i>
    objects.ball1 = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ball1.body = 
    <i>-- tvar a rozměry</i>
    objects.ball1.shape = 
    <i>-- propojení tvaru s tělesem</i>
    objects.ball1.fixture = 
&nbsp;
    <i>-- těleso představující druhý míček</i>
    objects.ball2 = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ball2.body = 
    <i>-- tvar a rozměry</i>
    objects.ball2.shape = 
    <i>-- propojení tvaru s tělesem</i>
    objects.ball2.fixture = 
&nbsp;
    <i>-- vytvoření pružné vazby mezi míčky</i>
    <strong>local</strong> b1 = objects.ball1.body
    <strong>local</strong> b2 = objects.ball2.body
    <strong>local</strong> joint = love.physics.newDistanceJoint(b1, b2,
                b1:getX(), b1:getY(),
                b2:getX(), b2:getY())
    <i>-- klidová délka pružiny</i>
    joint:setLength(100)
    <i>-- rychlost odezvy pružiny na její natažení či naopak stlačení</i>
    joint:setFrequency(10)
    ...
    ...
    ...
<strong>end</strong>
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/10/091.png"><img class="alignnone size-medium wp-image-5829" src="http://fedora.cz/wp-content/uploads/2015/10/091-450x450.png" alt="09" width="450" height="450" /></a>
<p><i>Obrázek 9: První demonstrační příklad: pokračování animace.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Zobrazení pružné vazby v&nbsp;simulovaném světě</h2>

<p>Pozice pružin (elastických vazeb) je při vykreslování simulovaného světa naznačena s&nbsp;využitím úseček, které spojují středy obou míčků. Vzhledem k&nbsp;tomu, že nemáme přímé informace o pozici &bdquo;pružiny&ldquo; v&nbsp;ploše simulovaného světa, použijeme namísto toho známé informace &ndash; víme totiž, že oba konce pružin jsou navázány na středy obou míčků a ty dokážeme zjistit snadno, jelikož středy míčků přesně odpovídají jejich těžištím. O vykreslení scény se stará zdrojový kód umístěný do callback funkce <strong>love.draw()</strong>, takže si nyní ukažme tu část těla této funkce, která vykreslení elastické vazby zajišťuje:</p>

<pre>
<i>--</i>
<i>-- Tato funkce je volána automaticky při překreslení obsahu</i>
<i>-- okna či obrazovky.</i>
<i>--</i>
<strong>function</strong> love.draw()
    ...
    ...
    ...
    <i>-- vykreslení pružné vazby</i>
    love.graphics.setColor(250, 150, 250)
    <i>-- zjistíme těžiště obou míčků a propojíme je úsečkou</i>
    love.graphics.line(objects.ball1.body:getX(), objects.ball1.body:getY(),
                       objects.ball2.body:getX(), objects.ball2.body:getY())
    ...
    ...
    ...
<strong>end</strong>
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/10/101.png"><img class="alignnone size-medium wp-image-5830" src="http://fedora.cz/wp-content/uploads/2015/10/101-450x450.png" alt="10" width="450" height="450" /></a>
<p><i>Obrázek 10: První demonstrační příklad: pokračování animace.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. První demonstrační příklad &ndash; vytvoření pružné vazby mezi dvěma míčky</h2>

<p>Všechny důležité informace o způsobu vytvoření elastické vazby mezi dvojicí míčků jsme si již řekli v&nbsp;předchozích dvou kapitolách, takže nám již pouze zbývá si ukázat úplný zdrojový kód dnešního prvního demonstračního příkladu. V&nbsp;něm jsou vytvořena čtyři tělesa: nehybná zešikmená podlaha, kvádr, který na tuto podlahu dopadá a dvojice míčků. Ovládání tohoto příkladu je velmi jednoduché &ndash; klávesou <strong>[Esc]</strong> je ho možné ukončit a klávesou <strong>[R]</strong> simulaci znovu nastartovat (v&nbsp;podstatě se znovu zavolá callback funkce <strong>love.load()</strong>):</p>

<pre>
<i>--</i>
<i>-- Knihovna LÖVE</i>
<i>--</i>
<i>-- Dvacátý čtvrtý demonstrační příklad</i>
<i>--</i>
<i>-- Vytvoření pružné vazby mezi dvěma tělesy.</i>
<i>--</i>
&nbsp;
&nbsp;
&nbsp;
<i>-- rozměry okna, do něhož se bude provádět vykreslování</i>
width = 600
height = 600
ground_height = 50
&nbsp;
<i>-- tíhové zrychlení</i>
G = 9.81
&nbsp;
<i>-- počet pixelů odpovídající jednomu metru v simulovaném světě</i>
pixels_per_meter = 64
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná při inicializaci aplikace.</i>
<i>--</i>
<strong>function</strong> love.load()
    <i>-- načtení standardního fontu a nastavení grafického režimu</i>
    <strong>local</strong> font = love.graphics.newFont(love.default_font, 40)
&nbsp;
    <i>-- inicializace grafického režimu</i>
    love.graphics.setMode(width, height, false, false, 0)
&nbsp;
    <i>-- nastavení rozměrů simulovaného světa</i>
    <i>-- (mapování fyzikálních jednotek na pixely)</i>
    love.physics.setMeter(pixels_per_meter)
&nbsp;
    <i>-- vytvoření simulovaného světa</i>
    world = love.physics.newWorld(0, G * pixels_per_meter, true)
&nbsp;
    <i>-- tabulka s tělesy</i>
    objects = {}
&nbsp;
    <i>-- těleso představující zemi</i>
    objects.ground = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ground.body = love.physics.newBody(world, width/2, height-ground_height/2-40)
    <i>-- tvar a rozměry</i>
    objects.ground.shape = love.physics.newRectangleShape(0, 0, width, ground_height, -0.15)
    <i>-- propojení tvaru s tělesem</i>
    objects.ground.fixture = love.physics.newFixture(objects.ground.body, objects.ground.shape, 5)
    objects.ground.fixture:setRestitution(0.7)
&nbsp;
    <i>-- těleso představující první míček</i>
    objects.ball1 = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ball1.body = love.physics.newBody(world, 390, 50, "dynamic")
    <i>-- tvar a rozměry</i>
    objects.ball1.shape = love.physics.newCircleShape(30)
    <i>-- propojení tvaru s tělesem</i>
    objects.ball1.fixture = love.physics.newFixture(objects.ball1.body, objects.ball1.shape, 5)
    objects.ball1.fixture:setRestitution(0.9)
&nbsp;
    <i>-- těleso představující druhý míček</i>
    objects.ball2 = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ball2.body = love.physics.newBody(world, 510, 50, "dynamic")
    <i>-- tvar a rozměry</i>
    objects.ball2.shape = love.physics.newCircleShape(30)
    <i>-- propojení tvaru s tělesem</i>
    objects.ball2.fixture = love.physics.newFixture(objects.ball2.body, objects.ball2.shape, 5)
    objects.ball2.fixture:setRestitution(0.9)
&nbsp;
    <i>-- vytvoření pružné vazby mezi míčky</i>
    <strong>local</strong> b1 = objects.ball1.body
    <strong>local</strong> b2 = objects.ball2.body
    <strong>local</strong> joint = love.physics.newDistanceJoint(b1, b2,
                b1:getX(), b1:getY(),
                b2:getX(), b2:getY())
    joint:setLength(100)
    joint:setFrequency(10)
&nbsp;
    <i>-- těleso představující kvádr</i>
    objects.block3 = {}
    <i>-- počáteční umístění tělesa</i>
    objects.block3.body = love.physics.newBody(world, 450, 150, "dynamic")
    <i>-- tvar a rozměry</i>
    objects.block3.shape = love.physics.newRectangleShape(200, 100)
    <i>-- propojení tvaru s tělesem</i>
    objects.block3.fixture = love.physics.newFixture(objects.block3.body, objects.block3.shape, 5)
    objects.block3.fixture:setRestitution(0.0)
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná cca 30x za sekundu</i>
<i>--</i>
<strong>function</strong> love.update(dt)
    <i>-- přepočítat parametry celého "světa"</i>
    world:update(dt)
&nbsp;
    <strong>local</strong> delay = 1/30
    <strong>if</strong> dt &lt; delay <strong>then</strong>
        love.timer.sleep(delay - dt)
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Tato funkce je volána automaticky při překreslení obsahu</i>
<i>-- okna či obrazovky.</i>
<i>--</i>
<strong>function</strong> love.draw()
    <i>-- vykreslení země</i>
    love.graphics.setColor(72, 160, 14)
    love.graphics.polygon("line", objects.ground.body:getWorldPoints(objects.ground.shape:getPoints()))
&nbsp;
    <i>-- vykreslení prvního tělesa (míčku)</i>
    love.graphics.setColor(250, 150, 150)
    love.graphics.circle("line", objects.ball1.body:getX(), objects.ball1.body:getY(),
                                 objects.ball1.shape:getRadius())
&nbsp;
    <i>-- vykreslení druhého tělesa (míčku)</i>
    love.graphics.setColor(150, 150, 250)
    love.graphics.circle("line", objects.ball2.body:getX(), objects.ball2.body:getY(),
                                 objects.ball2.shape:getRadius())
&nbsp;
    <i>-- vykreslení pružné vazby</i>
    love.graphics.setColor(250, 150, 250)
    love.graphics.line(objects.ball1.body:getX(), objects.ball1.body:getY(),
                       objects.ball2.body:getX(), objects.ball2.body:getY())
&nbsp;
    <i>-- vykreslení třetího tělesa (kvádru)</i>
    love.graphics.setColor(150, 250, 150)
    love.graphics.polygon("line", objects.block3.body:getWorldPoints(objects.block3.shape:getPoints()))
&nbsp;
    <i>-- výpis zprávy</i>
    love.graphics.setColor(250, 250, 250)
    love.graphics.print("Escape: to exit.", 20, 615)
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Callback funkce zavolaná při stisku klávesy.</i>
<i>--</i>
<strong>function</strong> love.keypressed(k)
    <strong>if</strong> k == 'escape' <strong>then</strong>
    <i>-- klávesou "Escape" se aplikace ukončí</i>
        love.event.quit()
    <strong>elseif</strong> k == 'r' <strong>then</strong>
    <i>-- restart celé simulace po stisku klávesy [R]</i>
        love.load()
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- finito</i>
<i>--</i>
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/10/111.png"><img class="alignnone size-medium wp-image-5831" src="http://fedora.cz/wp-content/uploads/2015/10/111-450x450.png" alt="11" width="450" height="450" /></a>
<p><i>Obrázek 11: První demonstrační příklad: simulace je téměř u konce.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Složitější topologie vazeb</h2>

<p>V&nbsp;úvodních kapitolách jsme si mj.&nbsp;řekli, že pro zajištění stability celého systému těles, které jsou navzájem propojeny elastickými vazbami, je většinou nutné mezi tato tělesa umístit větší množství vazeb. V&nbsp;případě trojrozměrných těles se většinou jedná o stěnové a tělesové úhlopříčky, ovšem v&nbsp;dvojrozměrném prostoru je situace poněkud jednodušší &ndash; většinou totiž postačuje vytvořit vazby takovým způsobem, aby každá trojice nejbližších těles (myšleno samozřejmě v&nbsp;klidovém stavu celého systému) byla propojena trojicí elastických vazeb. Například ve třetím demonstračním příkladu, jehož popis následuje níže, je celý systém složen z&nbsp;25 míčků tvořících mřížku 5&times;5 míčků.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/121.png"><img class="alignnone size-medium wp-image-5832" src="http://fedora.cz/wp-content/uploads/2015/10/121-450x450.png" alt="12" width="450" height="450" /></a>
<p><i>Obrázek 12: Druhý demonstrační příklad &ndash; začátek simulace.</i></p>

<p>Zdánlivě by mohlo postačovat propojit tělesa pouze horizontálními a vertikálními vazbami (takže se při zobrazení vazeb skutečně použije pravidelná mřížka), ovšem takto vytvořený systém po nárazu na podložku samovolně &bdquo;splaskne&ldquo;, protože neexistuje žádná vazba, která by zabránila vzájemnému přiblížení či naopak vzdálení dvou protilehlých vrcholů čtverců. Aby k&nbsp;tomuto jevu nedocházelo, postačuje většinou vytvořit i úhlopříčné vazby v&nbsp;každém čtverci mřížky. Taktéž je možné vytvořit úhlopříčné vazby mezi dvojicí či trojicí čtverců atd. &ndash; výsledný systém potom klade při pokusu o ohyb mnohem větší odpor.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/131.png"><img class="alignnone size-medium wp-image-5833" src="http://fedora.cz/wp-content/uploads/2015/10/131-450x450.png" alt="13" width="450" height="450" /></a>
<p><i>Obrázek 13: Druhý demonstrační příklad &ndash; změna vzdáleností míčků na začátku simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/141.png"><img class="alignnone size-medium wp-image-5834" src="http://fedora.cz/wp-content/uploads/2015/10/141-450x450.png" alt="14" width="450" height="450" /></a>
<p><i>Obrázek 14: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Druhý demonstrační příklad &ndash; 25 volně se pohybujících míčků</h2>

<p>Vliv elastických vazeb na pohyb těles, která jsou těmito vazbami svázána, nelze v&nbsp;žádném případě podceňovat. Ostatně se můžeme podívat na další demonstrační příklad, v&nbsp;němž elastické vazby nejsou použity. Tento příklad bude sloužit jako základ pro oba příklady následující. Při inicializaci je kromě již obligátní podlahy v&nbsp;simulovaném světě vytvořeno i dvacet pět míčků, které ve výchozím stavu (na začátku simulace) tvoří pravidelnou mřížku 5&times;5 míčků. Po spuštění programu míčky dopadnou na podlahu a začnou se od ní i od sebe odrážet různými směry, přičemž na ně nepůsobí žádná elastická vazba. Podívejme se nyní na několik snímků z&nbsp;této simulace (další tři snímky již byly uvedeny v&nbsp;předchozí kapitole):</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/151.png"><img class="alignnone size-medium wp-image-5835" src="http://fedora.cz/wp-content/uploads/2015/10/151-450x450.png" alt="15" width="450" height="450" /></a>
<p><i>Obrázek 15: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/161.png"><img class="alignnone size-medium wp-image-5836" src="http://fedora.cz/wp-content/uploads/2015/10/161-450x450.png" alt="16" width="450" height="450" /></a>
<p><i>Obrázek 16: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/171.png"><img class="alignnone size-medium wp-image-5837" src="http://fedora.cz/wp-content/uploads/2015/10/171-450x450.png" alt="17" width="450" height="450" /></a>
<p><i>Obrázek 17: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/181.png"><img class="alignnone size-medium wp-image-5838" src="http://fedora.cz/wp-content/uploads/2015/10/181-450x450.png" alt="18" width="450" height="450" /></a>
<p><i>Obrázek 18: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/191.png"><img class="alignnone size-medium wp-image-5839" src="http://fedora.cz/wp-content/uploads/2015/10/191-450x450.png" alt="19" width="450" height="450" /></a>
<p><i>Obrázek 19: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/20.png"><img class="alignnone size-medium wp-image-5840" src="http://fedora.cz/wp-content/uploads/2015/10/20-450x450.png" alt="20" width="450" height="450" /></a>
<p><i>Obrázek 20: Druhý demonstrační příklad &ndash; pokračování simulace.</i></p>

<p>Následuje úplný zdrojový kód druhého demonstračního příkladu:</p>

<pre>
<i>--</i>
<i>-- Knihovna LÖVE</i>
<i>--</i>
<i>-- Dvacátý pátý demonstrační příklad</i>
<i>--</i>
<i>-- 25 míčků v mřížce 5x5</i>
<i>--</i>
&nbsp;
&nbsp;
&nbsp;
<i>-- rozměry okna, do něhož se bude provádět vykreslování</i>
width = 600
height = 600
ground_height = 50
&nbsp;
<i>-- tíhové zrychlení</i>
G = 9.81
&nbsp;
<i>-- počet pixelů odpovídající jednomu metru v simulovaném světě</i>
pixels_per_meter = 64
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná při inicializaci aplikace.</i>
<i>--</i>
<strong>function</strong> love.load()
    <i>-- načtení standardního fontu a nastavení grafického režimu</i>
    <strong>local</strong> font = love.graphics.newFont(love.default_font, 40)
&nbsp;
    <i>-- inicializace grafického režimu</i>
    love.graphics.setMode(width, height, false, false, 0)
&nbsp;
    <i>-- nastavení rozměrů simulovaného světa</i>
    <i>-- (mapování fyzikálních jednotek na pixely)</i>
    love.physics.setMeter(pixels_per_meter)
&nbsp;
    <i>-- vytvoření simulovaného světa</i>
    world = love.physics.newWorld(0, G * pixels_per_meter, true)
&nbsp;
    <i>-- tabulka s tělesy</i>
    objects = {}
&nbsp;
    <i>-- těleso představující zemi</i>
    objects.ground = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ground.body = love.physics.newBody(world, width/2, height-ground_height/2-40)
    <i>-- tvar a rozměry</i>
    objects.ground.shape = love.physics.newRectangleShape(0, 0, width, ground_height, -0.15)
    <i>-- propojení tvaru s tělesem</i>
    objects.ground.fixture = love.physics.newFixture(objects.ground.body, objects.ground.shape, 5)
    objects.ground.fixture:setRestitution(0.7)
&nbsp;
    objects.mesh = {}
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        objects.mesh[i] = {}
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <i>-- těleso představující míček</i>
            <strong>local</strong> obj = {}
            <i>-- počáteční umístění tělesa</i>
            obj.body = love.physics.newBody(world, 300 + i * 30, 50 + j * 30, "dynamic")
            <i>-- tvar a rozměry</i>
            obj.shape = love.physics.newCircleShape(10)
            <i>-- propojení tvaru s tělesem</i>
            obj.fixture = love.physics.newFixture(obj.body, obj.shape, 5)
            obj.fixture:setRestitution(0.9)
            objects.mesh[i][j] = obj
        <strong>end</strong>
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná cca 30x za sekundu</i>
<i>--</i>
<strong>function</strong> love.update(dt)
    <i>-- přepočítat parametry celého "světa"</i>
    world:update(dt)
&nbsp;
    <strong>local</strong> delay = 1/30
    <strong>if</strong> dt &lt; delay <strong>then</strong>
        love.timer.sleep(delay - dt)
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Tato funkce je volána automaticky při překreslení obsahu</i>
<i>-- okna či obrazovky.</i>
<i>--</i>
<strong>function</strong> love.draw()
    <i>-- vykreslení země</i>
    love.graphics.setColor(72, 160, 14)
    love.graphics.polygon("line", objects.ground.body:getWorldPoints(objects.ground.shape:getPoints()))
&nbsp;
    <i>-- vykreslení všech míčků</i>
    love.graphics.setColor(250, 150, 150)
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <strong>local</strong> obj = objects.mesh[i][j]
            love.graphics.circle("line", obj.body:getX(), obj.body:getY(),
                                         obj.shape:getRadius())
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- výpis zprávy</i>
    love.graphics.setColor(250, 250, 250)
    love.graphics.print("Escape: to exit.", 20, 615)
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Callback funkce zavolaná při stisku klávesy.</i>
<i>--</i>
<strong>function</strong> love.keypressed(k)
    <strong>if</strong> k == 'escape' <strong>then</strong>
    <i>-- klávesou "Escape" se aplikace ukončí</i>
        love.event.quit()
    <strong>elseif</strong> k == 'r' <strong>then</strong>
    <i>-- restart celé simulace po stisku klávesy [R]</i>
        love.load()
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- finito</i>
<i>--</i>
</pre>



<p><a name="k10"></a></p>
<h2 id="k10">10. Programové vytvoření elastických vazeb</h2>

<p>Na druhý demonstrační příklad, jehož zdrojový kód byl uveden <a href="#k09">v&nbsp;předchozí kapitole</a>, navážeme příkladem třetím, v&nbsp;němž se bude taktéž používat 25 míčků v&nbsp;mřížce 5&times;5 míčků, ovšem míčky již budou vzájemně svázány vertikálními vazbami. Co to v&nbsp;praxi bude znamenat? Mezi každými dvěma míčky ležícími pod sebou bude natažena &bdquo;pružina&ldquo;, takže celkový počet elastických vazeb dosáhne dvaceti (pět sloupců míčků, v&nbsp;každém sloupci čtyři elastické vazby). Podívejme se nyní na programový kód, který tyto elastické vazby vytvoří při inicializaci aplikace:</p>

<pre>
<i>--</i>
<i>-- Funkce volaná při inicializaci aplikace.</i>
<i>--</i>
<strong>function</strong> love.load()
    ...
    ...
    ...
    <i>-- vytvoření mřížky 5&times;5 z míčků</i>
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        objects.mesh[i] = {}
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <i>-- těleso představující míček</i>
            <strong>local</strong> obj = {}
            <i>-- počáteční umístění tělesa</i>
            obj.body = love.physics.newBody(world, 300 + i * 30, 50 + j * 30, "dynamic")
            <i>-- tvar a rozměry</i>
            obj.shape = love.physics.newCircleShape(10)
            <i>-- propojení tvaru s tělesem</i>
            obj.fixture = love.physics.newFixture(obj.body, obj.shape, 5)
            obj.fixture:setRestitution(0.9)
            objects.mesh[i][j] = obj
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- vytvoření pružné vazby mezi míčky</i>
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 4 <strong>do</strong>
            <strong>local</strong> obj = {}
            <strong>local</strong> b1 = objects.mesh[i][j].body
            <strong>local</strong> b2 = objects.mesh[i][j+1].body
            <strong>local</strong> joint = love.physics.newDistanceJoint(b1, b2,
                        b1:getX(), b1:getY(),
                        b2:getX(), b2:getY())
            joint:setLength(30)
            joint:setFrequency(10)
        <strong>end</strong>
    <strong>end</strong>
<strong>end</strong>
</pre>

<p>Pro lepší ilustraci vlivu elastických vazeb na simulaci je vhodné si vazby zobrazit přímo v&nbsp;simulovaném světě. To je poměrně snadné, což ukazuje i následující příklad:</p>

<pre>
<i>--</i>
<i>-- Tato funkce je volána automaticky při překreslení obsahu</i>
<i>-- okna či obrazovky.</i>
<i>--</i>
<strong>function</strong> love.draw()
    ...
    ...
    ...
&nbsp;
    <i>-- vykreslení pružné vazby</i>
    love.graphics.setColor(150, 150, 250)
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 4 <strong>do</strong>
            <strong>local</strong> obj1 = objects.mesh[i][j]
            <strong>local</strong> obj2 = objects.mesh[i][j+1]
            love.graphics.line(obj1.body:getX(), obj1.body:getY(),
                               obj2.body:getX(), obj2.body:getY())
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    ...
    ...
    ...
<strong>end</strong>
</pre>

<p>Takto vytvořené elastické vazby ovlivní stav simulovaného světa, což si opět můžeme ověřit na sérií snímků:</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/21.png"><img class="alignnone size-medium wp-image-5841" src="http://fedora.cz/wp-content/uploads/2015/10/21-450x450.png" alt="21" width="450" height="450" /></a>
<p><i>Obrázek 21: Třetí demonstrační příklad &ndash; začátek simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/22.png"><img class="alignnone size-medium wp-image-5842" src="http://fedora.cz/wp-content/uploads/2015/10/22-450x450.png" alt="22" width="450" height="450" /></a>
<p><i>Obrázek 22: Třetí demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/23.png"><img class="alignnone size-medium wp-image-5843" src="http://fedora.cz/wp-content/uploads/2015/10/23-450x450.png" alt="23" width="450" height="450" /></a>
<p><i>Obrázek 23: Třetí demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/24.png"><img class="alignnone size-medium wp-image-5844" src="http://fedora.cz/wp-content/uploads/2015/10/24-450x450.png" alt="24" width="450" height="450" /></a>
<p><i>Obrázek 24: Třetí demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/25.png"><img class="alignnone size-medium wp-image-5845" src="http://fedora.cz/wp-content/uploads/2015/10/25-450x450.png" alt="25" width="450" height="450" /></a>
<p><i>Obrázek 25: Třetí demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/26.png"><img class="alignnone size-medium wp-image-5846" src="http://fedora.cz/wp-content/uploads/2015/10/26-450x450.png" alt="26" width="450" height="450" /></a>
<p><i>Obrázek 26: Třetí demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/27.png"><img class="alignnone size-medium wp-image-5847" src="http://fedora.cz/wp-content/uploads/2015/10/27-450x450.png" alt="27" width="450" height="450" /></a>
<p><i>Obrázek 27: Třetí demonstrační příklad &ndash; pokračování simulace.</i></p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Třetí demonstrační příklad &ndash; vazby mezi míčky v&nbsp;mřížce 25&times;25</h2>

<p>Elastické vazby mezi míčky, které se v&nbsp;mřížce 5&times;5 míčků nachází nad sebou, jsou implementovány v&nbsp;dnešním třetím demonstračním příkladu, jehož úplný zdrojový kód je umístěn pod tímto odstavcem:</p>

<pre>
<i>--</i>
<i>-- Knihovna LÖVE</i>
<i>--</i>
<i>-- Dvacátý šestý demonstrační příklad</i>
<i>--</i>
<i>-- Vytvoření pružných vazeb mezi několika tělesy.</i>
<i>--</i>
&nbsp;
&nbsp;
&nbsp;
<i>-- rozměry okna, do něhož se bude provádět vykreslování</i>
width = 600
height = 600
ground_height = 50
&nbsp;
<i>-- tíhové zrychlení</i>
G = 9.81
&nbsp;
<i>-- počet pixelů odpovídající jednomu metru v simulovaném světě</i>
pixels_per_meter = 64
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná při inicializaci aplikace.</i>
<i>--</i>
<strong>function</strong> love.load()
    <i>-- načtení standardního fontu a nastavení grafického režimu</i>
    <strong>local</strong> font = love.graphics.newFont(love.default_font, 40)
&nbsp;
    <i>-- inicializace grafického režimu</i>
    love.graphics.setMode(width, height, false, false, 0)
&nbsp;
    <i>-- nastavení rozměrů simulovaného světa</i>
    <i>-- (mapování fyzikálních jednotek na pixely)</i>
    love.physics.setMeter(pixels_per_meter)
&nbsp;
    <i>-- vytvoření simulovaného světa</i>
    world = love.physics.newWorld(0, G * pixels_per_meter, true)
&nbsp;
    <i>-- tabulka s tělesy</i>
    objects = {}
&nbsp;
    <i>-- těleso představující zemi</i>
    objects.ground = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ground.body = love.physics.newBody(world, width/2, height-ground_height/2-40)
    <i>-- tvar a rozměry</i>
    objects.ground.shape = love.physics.newRectangleShape(0, 0, width, ground_height, -0.15)
    <i>-- propojení tvaru s tělesem</i>
    objects.ground.fixture = love.physics.newFixture(objects.ground.body, objects.ground.shape, 5)
    objects.ground.fixture:setRestitution(0.7)
&nbsp;
    objects.mesh = {}
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        objects.mesh[i] = {}
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <i>-- těleso představující míček</i>
            <strong>local</strong> obj = {}
            <i>-- počáteční umístění tělesa</i>
            obj.body = love.physics.newBody(world, 300 + i * 30, 50 + j * 30, "dynamic")
            <i>-- tvar a rozměry</i>
            obj.shape = love.physics.newCircleShape(10)
            <i>-- propojení tvaru s tělesem</i>
            obj.fixture = love.physics.newFixture(obj.body, obj.shape, 5)
            obj.fixture:setRestitution(0.9)
            objects.mesh[i][j] = obj
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- vytvoření pružné vazby mezi míčky</i>
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 4 <strong>do</strong>
            <strong>local</strong> obj = {}
            <strong>local</strong> b1 = objects.mesh[i][j].body
            <strong>local</strong> b2 = objects.mesh[i][j+1].body
            <strong>local</strong> joint = love.physics.newDistanceJoint(b1, b2,
                        b1:getX(), b1:getY(),
                        b2:getX(), b2:getY())
            joint:setLength(30)
            joint:setFrequency(10)
        <strong>end</strong>
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná cca 30x za sekundu</i>
<i>--</i>
<strong>function</strong> love.update(dt)
    <i>-- přepočítat parametry celého "světa"</i>
    world:update(dt)
&nbsp;
    <strong>local</strong> delay = 1/30
    <strong>if</strong> dt &lt; delay <strong>then</strong>
        love.timer.sleep(delay - dt)
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Tato funkce je volána automaticky při překreslení obsahu</i>
<i>-- okna či obrazovky.</i>
<i>--</i>
<strong>function</strong> love.draw()
    <i>-- vykreslení země</i>
    love.graphics.setColor(72, 160, 14)
    love.graphics.polygon("line", objects.ground.body:getWorldPoints(objects.ground.shape:getPoints()))
&nbsp;
    <i>-- vykreslení všech míčků</i>
    love.graphics.setColor(250, 150, 150)
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <strong>local</strong> obj = objects.mesh[i][j]
            love.graphics.circle("line", obj.body:getX(), obj.body:getY(),
                                         obj.shape:getRadius())
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- vykreslení pružné vazby</i>
    love.graphics.setColor(150, 150, 250)
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 4 <strong>do</strong>
            <strong>local</strong> obj1 = objects.mesh[i][j]
            <strong>local</strong> obj2 = objects.mesh[i][j+1]
            love.graphics.line(obj1.body:getX(), obj1.body:getY(),
                               obj2.body:getX(), obj2.body:getY())
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- výpis zprávy</i>
    love.graphics.setColor(250, 250, 250)
    love.graphics.print("Escape: to exit.", 20, 615)
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Callback funkce zavolaná při stisku klávesy.</i>
<i>--</i>
<strong>function</strong> love.keypressed(k)
    <strong>if</strong> k == 'escape' <strong>then</strong>
    <i>-- klávesou "Escape" se aplikace ukončí</i>
        love.event.quit()
    <strong>elseif</strong> k == 'r' <strong>then</strong>
    <i>-- restart celé simulace po stisku klávesy [R]</i>
        love.load()
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- finito</i>
<i>--</i>
</pre>



<p><a name="k12"></a></p>
<h2 id="k12">12. Čtvrtý demonstrační příklad &ndash; vytvoření horizontálních i vertikálních vazeb</h2>

<p>Předchozí demonstrační příklad můžeme velmi snadno upravit takovým způsobem, aby se kromě vertikálních vazeb vytvořených mezi míčky, které se v&nbsp;mřížce nachází nad sebou, použily i vazby mezi sousedními horizontálními míčky. Úprava zdrojového kódu je snadná a především přímočará, takže se jen podívejme na jeho výslednou podobu:</p>

<pre>
<i>--</i>
<i>-- Knihovna LÖVE</i>
<i>--</i>
<i>-- Dvacátý sedmý demonstrační příklad</i>
<i>--</i>
<i>-- Vytvoření pružných vazeb mezi několika tělesy.</i>
<i>--</i>
&nbsp;
&nbsp;
&nbsp;
<i>-- rozměry okna, do něhož se bude provádět vykreslování</i>
width = 600
height = 600
ground_height = 50
&nbsp;
<i>-- tíhové zrychlení</i>
G = 9.81
&nbsp;
<i>-- počet pixelů odpovídající jednomu metru v simulovaném světě</i>
pixels_per_meter = 64
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná při inicializaci aplikace.</i>
<i>--</i>
<strong>function</strong> love.load()
    <i>-- načtení standardního fontu a nastavení grafického režimu</i>
    <strong>local</strong> font = love.graphics.newFont(love.default_font, 40)
&nbsp;
    <i>-- inicializace grafického režimu</i>
    love.graphics.setMode(width, height, false, false, 0)
&nbsp;
    <i>-- nastavení rozměrů simulovaného světa</i>
    <i>-- (mapování fyzikálních jednotek na pixely)</i>
    love.physics.setMeter(pixels_per_meter)
&nbsp;
    <i>-- vytvoření simulovaného světa</i>
    world = love.physics.newWorld(0, G * pixels_per_meter, true)
&nbsp;
    <i>-- tabulka s tělesy</i>
    objects = {}
&nbsp;
    <i>-- těleso představující zemi</i>
    objects.ground = {}
    <i>-- počáteční umístění tělesa</i>
    objects.ground.body = love.physics.newBody(world, width/2, height-ground_height/2-40)
    <i>-- tvar a rozměry</i>
    objects.ground.shape = love.physics.newRectangleShape(0, 0, width, ground_height, -0.15)
    <i>-- propojení tvaru s tělesem</i>
    objects.ground.fixture = love.physics.newFixture(objects.ground.body, objects.ground.shape, 5)
    objects.ground.fixture:setRestitution(0.7)
&nbsp;
    objects.mesh = {}
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        objects.mesh[i] = {}
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <i>-- těleso představující míček</i>
            <strong>local</strong> obj = {}
            <i>-- počáteční umístění tělesa</i>
            obj.body = love.physics.newBody(world, 300 + i * 30, 50 + j * 30, "dynamic")
            <i>-- tvar a rozměry</i>
            obj.shape = love.physics.newCircleShape(10)
            <i>-- propojení tvaru s tělesem</i>
            obj.fixture = love.physics.newFixture(obj.body, obj.shape, 5)
            obj.fixture:setRestitution(0.9)
            objects.mesh[i][j] = obj
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- vytvoření pružné vazby mezi míčky</i>
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 4 <strong>do</strong>
            <strong>local</strong> obj = {}
            <strong>local</strong> b1 = objects.mesh[i][j].body
            <strong>local</strong> b2 = objects.mesh[i][j+1].body
            <strong>local</strong> joint = love.physics.newDistanceJoint(b1, b2,
                        b1:getX(), b1:getY(),
                        b2:getX(), b2:getY())
            joint:setLength(22)
            joint:setFrequency(20)
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- vytvoření kolmé pružné vazby mezi míčky</i>
    <strong>for</strong> i = 1, 4 <strong>do</strong>
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <strong>local</strong> obj = {}
            <strong>local</strong> b1 = objects.mesh[i][j].body
            <strong>local</strong> b2 = objects.mesh[i+1][j].body
            <strong>local</strong> joint = love.physics.newDistanceJoint(b1, b2,
                        b1:getX(), b1:getY(),
                        b2:getX(), b2:getY())
            joint:setLength(22)
            joint:setFrequency(20)
        <strong>end</strong>
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Funkce volaná cca 30x za sekundu</i>
<i>--</i>
<strong>function</strong> love.update(dt)
    <i>-- přepočítat parametry celého "světa"</i>
    world:update(dt)
&nbsp;
    <strong>local</strong> delay = 1/30
    <strong>if</strong> dt &lt; delay <strong>then</strong>
        love.timer.sleep(delay - dt)
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Tato funkce je volána automaticky při překreslení obsahu</i>
<i>-- okna či obrazovky.</i>
<i>--</i>
<strong>function</strong> love.draw()
    <i>-- vykreslení země</i>
    love.graphics.setColor(72, 160, 14)
    love.graphics.polygon("line", objects.ground.body:getWorldPoints(objects.ground.shape:getPoints()))
&nbsp;
    <i>-- vykreslení všech míčků</i>
    love.graphics.setColor(250, 150, 150)
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <strong>local</strong> obj = objects.mesh[i][j]
            love.graphics.circle("line", obj.body:getX(), obj.body:getY(),
                                         obj.shape:getRadius())
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- vykreslení pružné vazby</i>
    love.graphics.setColor(150, 150, 250)
    <strong>for</strong> i = 1, 5 <strong>do</strong>
        <strong>for</strong> j = 1, 4 <strong>do</strong>
            <strong>local</strong> obj1 = objects.mesh[i][j]
            <strong>local</strong> obj2 = objects.mesh[i][j+1]
            love.graphics.line(obj1.body:getX(), obj1.body:getY(),
                               obj2.body:getX(), obj2.body:getY())
        <strong>end</strong>
    <strong>end</strong>
    <strong>for</strong> i = 1, 4 <strong>do</strong>
        <strong>for</strong> j = 1, 5 <strong>do</strong>
            <strong>local</strong> obj1 = objects.mesh[i][j]
            <strong>local</strong> obj2 = objects.mesh[i+1][j]
            love.graphics.line(obj1.body:getX(), obj1.body:getY(),
                               obj2.body:getX(), obj2.body:getY())
        <strong>end</strong>
    <strong>end</strong>
&nbsp;
    <i>-- výpis zprávy</i>
    love.graphics.setColor(250, 250, 250)
    love.graphics.print("Escape: to exit.", 20, 615)
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- Callback funkce zavolaná při stisku klávesy.</i>
<i>--</i>
<strong>function</strong> love.keypressed(k)
    <strong>if</strong> k == 'escape' <strong>then</strong>
    <i>-- klávesou "Escape" se aplikace ukončí</i>
        love.event.quit()
    <strong>elseif</strong> k == 'r' <strong>then</strong>
    <i>-- restart celé simulace po stisku klávesy [R]</i>
        love.load()
    <strong>end</strong>
<strong>end</strong>
&nbsp;
&nbsp;
&nbsp;
<i>--</i>
<i>-- finito</i>
<i>--</i>
</pre>

<p>Podívejme se nyní na sérii snímků získaných v&nbsp;průběhu simulace prováděné čtvrtým demonstračním příkladem:</p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/28.png"><img class="alignnone size-medium wp-image-5848" src="http://fedora.cz/wp-content/uploads/2015/10/28-450x450.png" alt="28" width="450" height="450" /></a>
<p><i>Obrázek 28: Čtvrtý demonstrační příklad &ndash; začátek simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/29.png"><img class="alignnone size-medium wp-image-5849" src="http://fedora.cz/wp-content/uploads/2015/10/29-450x450.png" alt="29" width="450" height="450" /></a>
<p><i>Obrázek 29: Čtvrtý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/30.png"><img class="alignnone size-medium wp-image-5850" src="http://fedora.cz/wp-content/uploads/2015/10/30-450x450.png" alt="30" width="450" height="450" /></a>
<p><i>Obrázek 30: Čtvrtý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/31.png"><img class="alignnone size-medium wp-image-5851" src="http://fedora.cz/wp-content/uploads/2015/10/31-450x450.png" alt="31" width="450" height="450" /></a>
<p><i>Obrázek 31: Čtvrtý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/32.png"><img class="alignnone size-medium wp-image-5852" src="http://fedora.cz/wp-content/uploads/2015/10/32-450x450.png" alt="32" width="450" height="450" /></a>
<p><i>Obrázek 32: Čtvrtý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/33.png"><img class="alignnone size-medium wp-image-5853" src="http://fedora.cz/wp-content/uploads/2015/10/33-450x450.png" alt="33" width="450" height="450" /></a>
<p><i>Obrázek 33: Čtvrtý demonstrační příklad &ndash; pokračování simulace.</i></p>

<a href="http://fedora.cz/wp-content/uploads/2015/10/34.png"><img class="alignnone size-medium wp-image-5854" src="http://fedora.cz/wp-content/uploads/2015/10/34-450x450.png" alt="34" width="450" height="450" /></a>
<p><i>Obrázek 34: Čtvrtý demonstrační příklad &ndash; pokračování simulace.</i></p>

<p>Vidíme, že elastické vazby zcela nezabránily deformaci mřížky &ndash; bylo by nutné zavést ještě diagonální vazby, takový příklad si však ukážeme až v&nbsp;dalším pokračování tohoto seriálu.</p>



<p><a name="k13"></a></p>
<h2 id="k13">13. Repositář se zdrojovými kódy všech čtyř dnešních demonstračních příkladů</h2>

<p>Všechny čtyři demonstrační příklady, s&nbsp;nimiž jsme se v&nbsp;dnešním článku seznámili, byly uloženy do Git repositáře umístěného na GitHubu (<a href="https://github.com/tisnik/presentations">https://github.com/tisnik/presentations</a>). Každý demonstrační příklad je, podobně jako tomu bylo i příkladů z&nbsp;předchozích dvou článků, tvořen pouze zdrojovým kódem uloženým v&nbsp;souboru <strong>main.lua</strong>:</p>

<table>
<tr><th>#</th><th>Příklad</th><th>Zdrojový kód</th></tr>
<tr><td>1</td><td>example24</td><td><a href="https://github.com/tisnik/presentations/tree/master/love/example24">https://github.com/tisnik/presentations/tree/master/love/example24</a></td></tr>
<tr><td>2</td><td>example25</td><td><a href="https://github.com/tisnik/presentations/tree/master/love/example25">https://github.com/tisnik/presentations/tree/master/love/example25</a></td></tr>
<tr><td>3</td><td>example26</td><td><a href="https://github.com/tisnik/presentations/tree/master/love/example26">https://github.com/tisnik/presentations/tree/master/love/example26</a></td></tr>
<tr><td>4</td><td>example27</td><td><a href="https://github.com/tisnik/presentations/tree/master/love/example27">https://github.com/tisnik/presentations/tree/master/love/example27</a></td></tr>
</table>

<p>Poznámka: demonstrační příklady jsou číslovány průběžně, protože tento článek (alespoň nepřímo) navazuje na seriál o programovacích jazycích vhodných pro výuku počítačové grafiky.</p>



<p><a name="k14"></a></p>
<h2 id="k14">14. Odkazy na Internetu</h2>

<ol>

<li>Bounding Boxes<br />
<a href="http://www.3dkingdoms.com/weekly/weekly.php?a=21">http://www.3dkingdoms.com/weekly/weekly.php?a=21</a>
</li>

<li>Box2D (stránka projektu)<br />
<a href="http://box2d.org/">http://box2d.org/</a>
</li>

<li>Box2D FAQ<br />
<a href="https://github.com/erincatto/Box2D/wiki/FAQ">https://github.com/erincatto/Box2D/wiki/FAQ</a>
</li>

<li>Box2D v2.2.0 User Manual<br />
<a href="http://www.box2d.org/manual.html">http://www.box2d.org/manual.html</a>
</li>

<li>Bounding Box (OpenStreetMap)<br />
<a href="http://wiki.openstreetmap.org/wiki/Bounding_Box">http://wiki.openstreetmap.org/wiki/Bounding_Box</a>
</li>

<li>Minimum Bounding Rectange (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Minimum_bounding_rectangle">https://en.wikipedia.org/wiki/Minimum_bounding_rectangle</a>
</li>

<li>Minimum bounding box (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Minimum_bounding_box">https://en.wikipedia.org/wiki/Minimum_bounding_box</a>
</li>

<li>2D Bounding Box Collision Detection<br />
<a href="http://www.dreamincode.net/forums/topic/180069-xna-2d-bounding-box-collision-detection/">http://www.dreamincode.net/forums/topic/180069-xna-2d-bounding-box-collision-detection/</a>
</li>

<li>Chipmunk2D (další fyzikální engine)<br />
<a href="http://chipmunk-physics.net/">http://chipmunk-physics.net/</a>
</li>

<li>Physics Engine (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Physics_engine">https://en.wikipedia.org/wiki/Physics_engine</a>
</li>

<li>Modul love.physics<br />
<a href="https://love2d.org/wiki/love.physics">https://love2d.org/wiki/love.physics</a>
</li>

<li>Modul love.physics: Objekt typu World<br />
<a href="https://love2d.org/wiki/World">https://love2d.org/wiki/World</a>
</li>

<li>Modul love.physics: Objekt typu Body<br />
<a href="https://love2d.org/wiki/Body">https://love2d.org/wiki/Body</a>
</li>

<li>Modul love.physics: Objekt typu Shape<br />
<a href="https://love2d.org/wiki/Shape">https://love2d.org/wiki/Shape</a>
</li>

<li>Modul love.physics: Objekt typu Joint<br />
<a href="https://love2d.org/wiki/Joint">https://love2d.org/wiki/Joint</a>
</li>

<li>Modul love.physics: Objekt typu Fixture<br />
<a href="https://love2d.org/wiki/Fixture">https://love2d.org/wiki/Fixture</a>
</li>

<li>Particle Systems From the Ground Up<br />
<a href="http://buildnewgames.com/particle-systems/">http://buildnewgames.com/particle-systems/</a>
</li>

<li>Particle Systems<br />
<a href="http://natureofcode.com/book/chapter-4-particle-systems/">http://natureofcode.com/book/chapter-4-particle-systems/</a>
</li>

<li>Domovská stránka systému LÖVE<br />
<a href="http://love2d.org/">http://love2d.org/</a>
</li>

<li>Dokumentace k&nbsp;systému LÖVE<br />
<a href="http://love2d.org/wiki/love">http://love2d.org/wiki/love</a>
</li>

<li>Domovská stránka programovacího jazyka Lua<br />
<a href="http://www.lua.org/ ">http://www.lua.org/ </a>
</li>

<li>Seriál o programovacím jazyku Lua (root.cz):<br />
<a href="http://www.root.cz/serialy/programovaci-jazyk-lua/">http://www.root.cz/serialy/programovaci-jazyk-lua/</a>
</li>

<li>Domovská stránka systému LÖVE<br />
<a href="http://love2d.org/">http://love2d.org/</a>
</li>

<li>Domovská stránka programovacího jazyka Lua<br />
<a href="http://www.lua.org/ ">http://www.lua.org/ </a>
</li>

<li>Web o Lieru, Gusanos, GeneRally, Atari atd.<br />
<a href="http://karelik.wz.cz/">http://karelik.wz.cz/</a>
</li>

<li>Web o Lieru, Gusanos<br />
<a href="http://karelik.wz.cz/gusanos.php">http://karelik.wz.cz/gusanos.php</a>
</li>

<li>GUSANOS<br />
<a href="http://gusanos.sourceforge.net/">http://gusanos.sourceforge.net/</a>
</li>

<li>GUSANOS Download<br />
<a href="http://sourceforge.net/projects/gusanos/">http://sourceforge.net/projects/gusanos/</a>
</li>

<li>Lua<br />
<a href="http://www.linuxexpres.cz/praxe/lua">http://www.linuxexpres.cz/praxe/lua</a>
</li>

<li>Lua<br />
<a href="http://cs.wikipedia.org/wiki/Lua">http://cs.wikipedia.org/wiki/Lua</a>
</li>

<li>Lua (programming language)<br />
<a href="http://en.wikipedia.org/wiki/Lua_(programming_language)">http://en.wikipedia.org/wiki/Lua_(programming_language)</a>
</li>

<li>The Lua Programming Language<br />
<a href="http://www.tiobe.com/index.php/paperinfo/tpci/Lua.html">http://www.tiobe.com/index.php/paperinfo/tpci/Lua.html</a>
</li>

<li>Lua Programming Gems<br />
<a href="http://www.lua.org/gems/">http://www.lua.org/gems/</a>
</li>

<li>LuaForge<br />
<a href="http://luaforge.net/">http://luaforge.net/</a>
</li>

<li>Forge project tree<br />
<a href="http://luaforge.net/softwaremap/trove_list.php">http://luaforge.net/softwaremap/trove_list.php</a>
</li>

<li>SdlBasic home page<br />
<a href="http://www.sdlbasic.altervista.org/main/">http://www.sdlbasic.altervista.org/main/</a>
</li>

<li>SdlBasic examples<br />
<a href="http://nitrofurano.linuxkafe.com/sdlbasic/">http://nitrofurano.linuxkafe.com/sdlbasic/</a>
</li>

<li>SdlBasic na Wikipedii<br />
<a href="http://en.wikipedia.org/wiki/SdlBasic">http://en.wikipedia.org/wiki/SdlBasic</a>
</li>

<li>Simple DirectMedia Layer<br />
<a href="http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer">http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer</a>
</li>

<li>SDLBASIC &ndash; The high-level interpreter for all?<br />
<a href="http://openbytes.wordpress.com/2008/11/08/sdlbasic-the-high-level-interpreter-for-all/">http://openbytes.wordpress.com/2008/11/08/sdlbasic-the-high-level-interpreter-for-all/</a>
</li>

<li>FreeBasic home page<br />
<a href="http://www.freebasic.net/">http://www.freebasic.net/</a>
</li>

<li>FreeBASIC (Wikipedia EN)<br />
<a href="https://en.wikipedia.org/wiki/FreeBASIC">https://en.wikipedia.org/wiki/FreeBASIC</a>
</li>

<li>FreeBASIC Wiki<br />
<a href="http://www.freebasic.net/wiki/wikka.php?wakka=FBWiki">http://www.freebasic.net/wiki/wikka.php?wakka=FBWiki</a>
</li>

<li>FreeBASIC Manual<br />
<a href="http://www.freebasic.net/wiki/wikka.php?wakka=DocToc">http://www.freebasic.net/wiki/wikka.php?wakka=DocToc</a>
</li>

<li>FreeBASIC (Wikipedia CZ)<br />
<a href="http://cs.wikipedia.org/wiki/FreeBASIC">http://cs.wikipedia.org/wiki/FreeBASIC</a>
</li>

<li>The Griffon Legend<br />
<a href="http://syn9.thingie.net/?table=griffonlegend">http://syn9.thingie.net/?table=griffonlegend</a>
</li>

<li>Seriál Letní škola programovacího jazyka Logo<br />
<a href="http://www.root.cz/serialy/letni-skola-programovaciho-jazyka-logo/">http://www.root.cz/serialy/letni-skola-programovaciho-jazyka-logo/</a>
</li>

<li>Scratch: oficiální stránka projektu<br />
<a href="http://scratch.mit.edu/">http://scratch.mit.edu/</a>
</li>

<li>Scratch: galerie projektů vytvořených ve Scratchi<br />
<a href="http://scratch.mit.edu/galleries/browse/newest">http://scratch.mit.edu/galleries/browse/newest</a>
</li>

<li>Scratch: nápověda<br />
<a href="file:///usr/share/scratch/Help/en/index.html">file:///usr/share/scratch/Help/en/index.html</a>
</li>

<li>Scratch: obrazovky nápovědy<br />
<a href="file:///usr/share/scratch/Help/en/allscreens.html">file:///usr/share/scratch/Help/en/allscreens.html</a>
</li>

<li>Scratch (Wikipedie CZ)<br />
<a href="http://cs.wikipedia.org/wiki/Scratch">http://cs.wikipedia.org/wiki/Scratch</a>
</li>

<li>Scratch (programming language)<br />
<a href="http://en.wikipedia.org/wiki/Scratch_(programming_language)">http://en.wikipedia.org/wiki/Scratch_(programming_language)</a>
</li>

<li>Scratch Modification<br />
<a href="http://wiki.scratch.mit.edu/wiki/Scratch_Modification">http://wiki.scratch.mit.edu/wiki/Scratch_Modification</a>
</li>

<li>Scratch Lowers Resistance to Programming<br />
<a href="http://www.wired.com/gadgetlab/2009/03/scratch-lowers/">http://www.wired.com/gadgetlab/2009/03/scratch-lowers/</a>
</li>

<li>Snap!<br />
<a href="http://snap.berkeley.edu/">http://snap.berkeley.edu/</a>
</li>

<li>Prostředí Snap!<br />
<a href="http://snap.berkeley.edu/snapsource/snap.html">http://snap.berkeley.edu/snapsource/snap.html</a>
</li>

<li>Alternatives to Scratch<br />
<a href="http://wiki.scratch.mit.edu/wiki/Alternatives_to_Scratch">http://wiki.scratch.mit.edu/wiki/Alternatives_to_Scratch</a>
</li>

<li>Basic-256 home page<br />
<a href="http://www.basic256.org/index_en">http://www.basic256.org/index_en</a>
</li>

<li>Basic-256 Language Documentation<br />
<a href="http://doc.basic256.org/doku.php">http://doc.basic256.org/doku.php</a>
</li>

<li>Basic-256 Art Gallery<br />
<a href="http://www.basic256.org/artgallery">http://www.basic256.org/artgallery</a>
</li>

<li>Basic-256 Tutorial<br />
<a href="http://www.basic256.org/tutorials">http://www.basic256.org/tutorials</a>
</li>

<li>Why BASIC?<br />
<a href="http://www.basic256.org/whybasic">http://www.basic256.org/whybasic</a>
</li>

<li>A book to teach ANYBODY how to program a computer (using BASIC)<br />
<a href="http://www.basicbook.org/">http://www.basicbook.org/</a>
</li>

<li>BASIC Computer Games (published 1978) - Hammurabi<br />
<a href="http://atariarchives.org/basicgames/showpage.php?page=78">http://atariarchives.org/basicgames/showpage.php?page=78</a>
</li>

<li>Hamurabi - zdrojový kód v BASICu<br />
<a href="http://www.dunnington.u-net.com/public/basicgames/HMRABI">http://www.dunnington.u-net.com/public/basicgames/HMRABI</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2015</small></p>
</body>
</html>

