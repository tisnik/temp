<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky (2)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>

<body>

<h1>Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky (2)</h1>

<h3>Pavel Tišnovský</h3>

<h1>Úvodník</h1>

<p>Ve druhém článku věnovaném programovacím jazykům a knihovnám, které mohou být vhodné pro výuku programování a taktéž základů počítačové grafiky, si popíšeme další zajímavé projekty. Zatímco minule jsme se zabývali nástroji vhodnými spíše pro mladší děti (první stupeň ZŠ), dnes si popíšeme některé pokročilejší nástroje použitelné i na druhém stupni pro tvorbu komplexnějších projektů, včetně počítačových her.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky (2)</a></p>
<p><a href="#k02">2. Frameworky a knihovny navržené pro snadnou a rychlou tvorbu 2D her</a></p>
<p><a href="#k03">3. LÖVE</a></p>
<p><a href="#k04">4. Pygame</a></p>
<p><a href="#k05">5. Frameworky navržené pro tvorbu 3D her</a></p>
<p><a href="#k06">6. Pyglet</a></p>
<p><a href="#k07">7. Interpretry a překladače BASICu</a></p>
<p><a href="#k08">8. sdlBasic</a></p>
<p><a href="#k09">9. FreeBasic</a></p>
<p><a href="#k10">10. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Programovací jazyky a knihovny určené pro výuku základů počítačové grafiky (2)</h2>

<p>V&nbsp;dnešním článku o programovacích jazycích a knihovnách vhodných pro výuku programování s&nbsp;využitím počítačové grafiky navážeme na <a href="http://fedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-1/">předchozí článek</a>, v&nbsp;němž jsme si popsali trojici projektů použitelných (a taktéž používaných) pro první seznámení dětí s&nbsp;programováním. Připomeňme si, že se jednalo o projekt <i>Scratch</i>, v&nbsp;němž se programy vytvářejí vzájemným skládáním předpřipravených bloků představujících jednotlivé příkazy i řídicí konstrukce. Díky tomu vlastně ve vytvářených programech nemůže vzniknout syntaktická chyba, takže se studenti mohou soustředit na chyby sémantické a samozřejmě i na vlastní algoritmus, který je nutné implementovat. Dále jsme se zmínili o podobně koncipovaném projektu <i>Snap!</i>, který je založen na webových technologiích (HTML 5 + JavaScript) a navíc přidává i možnost vytvářet vlastní bloky (tj.&nbsp;vlastně pojmenované subrutiny či podprogramy). Třetím minule popsaným projektem byl <i>Basic-256</i>, tj.&nbsp;moderní reinkarnace BASICu podporující plnohodnotné strukturované programování a především pak snadné použití grafiky.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/14.png"><img class="alignnone size-medium wp-image-5455" src="http://fedora.cz/wp-content/uploads/2015/07/14-450x323.png" alt="14" width="450" height="323" /></a>
<p><i>Obrázek 1: Vytvoření nového pojmenovaného bloku uživatelem v&nbsp;projektu Snap! popsaného minule.</i></p>

<p>Dnes se budeme zabývat poněkud vyspělejšími nástroji určenými původně pro tvorbu dvourozměrných i třírozměrných her; tyto nástroje jsou však díky použitým programovacím jazykům vhodné i pro výuku programování. Nejprve si popíšeme známé frameworky navržené pro tvorbu 2D her, které se jmenují <a href="#k03">LÖVE</a> a <a href="#k04">Pygame</a> a následně se budeme věnovat projektu <a href="#k06">Pyglet</a>, v&nbsp;němž je možné díky návaznosti na grafickou knihovnu OpenGL vytvářet i aplikace s&nbsp;trojrozměrnou grafikou. Nezapomeneme ani na dvojici moderních BASICů, zejména na <a href="#k08">sdlBasic</a>, což je jeden z&nbsp;nejjednodušeji použitelných jazyků využívajících možnosti známé knihovny SDL, a to na vyšším stupni abstrakce, než je tomu u většiny propojení (<i>bindingů</i>) mezi SDL a programovacími jazyky. Na závěr se zmíníme o <a href="#k09">FreeBasicu</a>, což je poněkud překvapivě překladač a nikoli interpret.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/20.png"><img class="alignnone size-medium wp-image-5461" src="http://fedora.cz/wp-content/uploads/2015/07/20-450x346.png" alt="20" width="450" height="346" /></a>
<p><i>Obrázek 2: Lissajousovy obrazce vykreslené v&nbsp;BASICu-256 popsaného minule.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Frameworky a knihovny navržené pro snadnou a rychlou tvorbu 2D her</h2>

<p>Zdá se, že takřka ideálním tématem projektů, které je možné řešit již na druhém stupni ZŠ, jsou různé typy počítačových her. Ostatně stačí se jen podívat na projekty, které děti vytváří pro Micecraft a je zřejmé, že pro skutečně zajímavý projekt se minimálně část žáků nadchne. Pro tvorbu koncepčně většinou jednodušších 2D her lze použít různé typy skriptovacích vysokoúrovňových jazyků, které se začaly prosazovat již v&nbsp;dobách osmibitových mikropočítačů a své větší využití pak skriptovací jazyky nalezly na mnohem výkonnějších osobních počítačích. Kromě samotného jazyka je však nutné používat i nějakou vhodnou knihovnu pro práci s&nbsp;grafikou, zvukem a obsluhu vstupních zařízení (myš, klávesnice). V&nbsp;některých případech se jedná o jedinou knihovnu, která nabývá komplexnější podoby &ndash; frameworku. Pro potřeby výuky je důležité, aby byl takový framework postaven na snadno pochopitelných konceptech, které si lze snadno osvojit a vytvořit si tak mentální model celého frameworku. První dva dnes popisované frameworky &ndash; <i>LÖVE</i> a <i>Pygame</i> tento požadavek splňují.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/032.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/032-450x338.png" alt="03" width="450" height="338" class="alignnone size-medium wp-image-5495" /></a>
<p><i>Obrázek 3: Hra Gusanos, která využívá programovací jazyk Lua.</i></p>

<p>Před volbou frameworku použitého při výuce je nutné si zvolit vhodný (v&nbsp;tomto případě zcela jistě vysokoúrovňový) programovací jazyk. Určitý přelom (pravděpodobně není možné to nazvat přímo revolucí) v&nbsp;použití skriptovacích jazyků pro tvorbu her a jiných grafických aplikací nastal v&nbsp;roce 1993, kdy byla vydána první verze programovacího jazyka <i>Lua</i>. Tento programovací jazyk byl již od svých prvních verzí určen pro snadné vkládání (embedding) do jiných aplikací, mj.&nbsp;i her. A právě v&nbsp;oblasti počítačových her se <i>Lua</i> využívala a stále využívá velmi často, což ovšem není překvapivé, protože existuje relativně jednoduchá vazba mezi Luou a céčkem, samotný jazyk je vysokoúrovňový (dovolím si tvrdit, že skoro dosahuje kvalit Pythonu :-) a přitom pro spouštění skriptů je zapotřebí jen minimalisticky pojatý virtuální stroj. Tento jazyk byl použit v&nbsp;komerčních hrách, například v&nbsp;titulech <i>Baldur's Gate</i>, <i>Grim Fandango</i>, adventure hra <i>Escape from Monkey Island</i> či herní série <i>Blitzkrieg</i>, ovšem Lua se často objevuje i v&nbsp;nekomerčních titulech (příkladem open source hry využívající možností skriptovacích jazyků je klon <i>Liera</i>, který nese název <i>Gusanos</i>).</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/042.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/042-450x338.png" alt="04" width="450" height="338" class="alignnone size-medium wp-image-5496" /></a>
<p><i>Obrázek 4: Další snímek ze hry Gusanos, která využívá programovací jazyk Lua.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. LÖVE</h2>

<p>Systém <i>LÖVE</i>, jehož starší (dopředně nekompatibilní!) varianta byla popsána v&nbsp;rámci <a href="http://www.root.cz/serialy/programovaci-jazyk-lua/">seriálu o programovacím jazyku Lua</a>, je určen pro jednoduchou a především rychlou tvorbu her s&nbsp;2D grafikou, hudbou a zvuky, které jsou naskriptované ve <a href="#k02">výše zmíněném</a> programovacím jazyku <i>Lua</i>, popř.&nbsp;se v&nbsp;nich využívá pomocných funkcí naprogramovaných v&nbsp;céčku či C++ (je však možné provést vazbu i na další programovací jazyky). Velkou předností systému <i>LÖVE</i> je jeho snadná použitelnost, spočívající zejména v&nbsp;přehledném aplikačním programovém rozhraní (API) jednotlivých knihoven přítomných v&nbsp;tomto systému i jednoduché a snadno použitelné syntaxi jazyka <i>Lua</i> a jeho dynamickém typovém systému. Poněkud problematická je zpětná nekompatibilita se staršími verzemi <i>LÖVE</i>, což může vadit zejména studentům hledajícím inspiraci na Internetu (některé příklady totiž zkrátka nebudou funkční).</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/052.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/052-450x328.png" alt="05" width="450" height="328" class="alignnone size-medium wp-image-5497" /></a>
<p><i>Obrázek 5: Framework LÖVE ve chvíli, kdy není načtena žádná hra (tento animovaný obrázek se mění v&nbsp;různých verzích knihovny LÖVE).</i></p>

<p>Samotný systém <i>LÖVE</i> interně využívá (tj.&nbsp;volá funkce) několika céčkových a C++ knihoven, především pak knihovny <i>boost</i> (obecné algoritmy pro aplikace vytvářené v&nbsp;C++), <i>SDL</i> (nastavení grafických režimů, přepnutí do režimu celé obrazovky, čtení stavu klávesnice, myši a joysticku), <i>SDL_mixer</i> (podpora hudby a zvuků), <i>OpenGL</i> (2D grafika, double buffering), <i>DevIL</i> (práce s&nbsp;rastrovými obrázky) a <i>FreeType 2</i> (vykreslování písma), avšak vývojář, který pomocí <i>LÖVE</i> vytváří hry či jiné interaktivní aplikace s&nbsp;2D grafikou, hudbou a zvuky, je od těchto knihoven zcela odstíněn aplikačním programovým rozhraním systému <i>LÖVE</i> a přijde tak do styku pouze se skripty napsanými v&nbsp;programovacím jazyku Lua. To je pro zamýšlené účely ideální stav, který však může přinášet problémy u rozsáhlejších her či dalších typů aplikací. Podrobněji se touto velmi zajímavou a populární knihovnou budeme zabývat v&nbsp;navazující části tohoto seriálu, kde si ukážeme několik demonstračních příkladů.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/062.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/062.png" alt="06" width="450" height="450" class="alignnone size-medium wp-image-5498" /></a>
<p><i>Obrázek 6: Ukázka blendingu v&nbsp;systému LÖVE.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Pygame</h2>

<p>I přesto, že je programovací jazyk <i>Lua</i> při tvorbě počítačových her úspěšně používán přes dvacet let, objevují se i nové knihovny a enginy, které i v&nbsp;této oblasti využívají jiné vyšší (řekněme poněkud nepřesně skriptovací) programovací jazyky. Za zmínku zcela jistě stojí projekt <i>Pygame</i>, což je knihovna určená pro programovací jazyk Python, která interně volá funkce nativní knihovny SDL a několika dalších podpůrných knihoven. Myšlenka, na níž je <i>Pygame</i> postavena, je v&nbsp;mnoha ohledech podobná myšlence výše zmíněného systému <i>LÖVE</i> &ndash; implementace nízkoúrovňových operací nechť je vytvořena odborníky v&nbsp;programovacích jazycích C a C++; pokud budou tyto operace implementovány dostatečně rychle, je již možné zbytek hry naprogramovat ve vysokoúrovňovém jazyku Python. A ukazuje se, že je tato myšlenka &ndash; a obecně systém rozdělení aplikace mezi dva programovací jazyky (kompilovaný a skriptovací) &ndash; poměrně úspěšná, neboť v&nbsp;<i>Pygame</i> již vzniklo mnoho kvalitních her. I touto knihovnou se, podobně jako systémem <i>LÖVE</i>, budeme podrobněji zabývat později, pravděpodobně již ve třetí části tohoto seriálu.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/072.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/072.png" alt="07" width="393" height="130" class="alignnone size-medium wp-image-5499" /></a>
<p><i>Obrázek 7: Logo knihovny Pygame.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Frameworky navržené pro tvorbu 3D her</h2>

<p>Výše stručně popsaná knihovna <i>Pygame</i> je kvůli své relativně těsné vazbě na nativní knihovnu SDL určena především pro tvorbu 2D her, tj.&nbsp;různých strategií (realtime i tahových), plošinovek, RPG apod. Ve chvíli, kdy je zapotřebí vytvořit plnohodnotnou trojrozměrnou hru, je možné namísto <i>Pygame</i> použít další knihovnu určenou pro programovací jazyk Python. Tato knihovna se jmenuje <i>Pyglet</i> a mezi její základní vlastnosti patří vazba na knihovnu OpenGL a tedy i nepřímo na grafické akcelerátory. Kromě vazby na knihovnu OpenGL však v&nbsp;<i>Pyglet</i> mohou programátoři najít i další zajímavé moduly, například pro práci s&nbsp;hudbou a se zvuky (ALSA, OpenAL, DirectSound), podporu pro různé formáty uložení hudby (zejména OGG/Vorbis), podporu pro načítání a zobrazování animací uložených v&nbsp;DivX, AVI, MPEG, H.263 atd.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/081.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/081.png" alt="08" width="128" height="128" class="alignnone size-medium wp-image-5500" /></a>
<p><i>Obrázek 8: Logo knihovny Pyglet.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Pyglet</h2>

<p>Uveďme si příklad &bdquo;aplikace&ldquo; vytvořené s&nbsp;využitím knihovny Pyglet. Aplikace po svém spuštění a inicializaci vytvoří okno, inicializuje kontext OpenGL a následně do okna vykreslí bílý trojúhelník:</p>

<pre>
from pyglet.gl import *
&nbsp;
window = pyglet.window.Window()
&nbsp;
@window.event
def on_draw():
    glClear(GL_COLOR_BUFFER_BIT)
    glLoadIdentity()
    glBegin(GL_TRIANGLES)
    glVertex2f(0, 0)
    glVertex2f(window.width, 0)
    glVertex2f(window.width, window.height)
    glEnd()
&nbsp;
pyglet.app.run()
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/091.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/091-450x353.png" alt="09" width="450" height="353" class="alignnone size-medium wp-image-5501" /></a>
<p><i>Obrázek 9: Výstup předchozího demonstračního příkladu.</i></p>

<p>Vzhledem k&nbsp;tomu, že OpenGL je stavový stroj, je možné měnit barvy jednotlivých vrcholů trojúhelníku. V&nbsp;tomto případě grafický akcelerátor trojúhelník vyplní s&nbsp;využitím Gouraudova stínování:</p>

<pre>
from pyglet.gl import *
&nbsp;
window = pyglet.window.Window()
&nbsp;
@window.event
def on_draw():
    glClear(GL_COLOR_BUFFER_BIT)
    glLoadIdentity()
    glBegin(GL_TRIANGLES)
    glColor3f(1, 0, 0)
    glVertex2f(window.width/2, 0)
    glColor3f(0, 1, 0)
    glVertex2f(0, window.height)
    glColor3f(0, 0, 1)
    glVertex2f(window.width, window.height)
    glEnd()
&nbsp;
pyglet.app.run()
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/101.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/101-450x353.png" alt="10" width="450" height="353" class="alignnone size-medium wp-image-5502" /></a>
<p><i>Obrázek 10: Výstup dalšího demonstračního příkladu.</i></p>

<p>Velmi snadno je možné pracovat s&nbsp;textovými objekty, což se ve hrách samozřejmě využije, například pro tvorbu menu, zobrazení skóre apod.:</p>

<pre>
from pyglet.gl import *
&nbsp;
window = pyglet.window.Window()
&nbsp;
title = pyglet.text.Label(text="Game Title", x=window.width/2 - 40, y=window.height/2)
&nbsp;
@window.event
def on_draw():
    glClear(GL_COLOR_BUFFER_BIT)
    glLoadIdentity()
    glBegin(GL_TRIANGLES)
    glColor3f(1, 0, 0)
    glVertex2f(window.width/2, 0)
    glColor3f(0, 1, 0)
    glVertex2f(0, window.height)
    glColor3f(0, 0, 1)
    glVertex2f(window.width, window.height)
    glEnd()
    glColor3f(1, 1, 1)
    title.draw()
&nbsp;
pyglet.app.run()
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/111.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/111-450x353.png" alt="11" width="450" height="353" class="alignnone size-medium wp-image-5503" /></a>
<p><i>Obrázek 11: Výstup další úpravy demonstračního příkladu.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Interpretry a překladače BASICu</h2>

<p>V&nbsp;následujících dvou kapitolách se (v&nbsp;tomto seriálu již naposledy) vrátíme k&nbsp;interpretrům a překladačům programovacího jazyka BASIC, resp.&nbsp;přesněji řečeno moderních variant tohoto jazyka, které až na některá klíčová slova a koncepty nemají mnoho společného s&nbsp;původními BASICy používanými na osmibitových domácích mikropočítačích i na některých šestnáctibitových osobních mikropočítačích. Předností dále popsaného <i>sdlBasicu</i> je existence snadno použitelného integrovaného vývojového prostředí a taktéž vazba na knihovnu SDL. Naproti tomu <i>FreeBasic</i> je zvláštní snahou o zpětnou kompatibilitu s&nbsp;QBasicem a navíc novými jazykovými konstrukcemi, například i možností práce s&nbsp;ukazateli, dynamickou pamětí apod. Navíc FreeBasic nabízí vazbu na mnoho knihoven, ať již se jedná o SDL, OpenGL či o knihovnu emulující původní grafické režimy video karet pro IBM PC (CGA, EGA atd.).</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/qbasic_1.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/qbasic_1-450x281.png" alt="qbasic_1" width="450" height="281" class="alignnone size-medium wp-image-5504" /></a>
<p><i>Obrázek 12: Minimalisticky pojaté a přitom poměrně dobře použitelné IDE dodávané s&nbsp;QBasicem.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. sdlBasic</h2>

<p>Jedním z&nbsp;poměrně oblíbených moderních interpretrů programovacího jazyka BASIC je kromě <a href="http://fedora.cz/programovaci-jazyky-a-knihovny-urcene-pro-vyuku-zakladu-pocitacove-grafiky-1/#k06">minule popsaného</a>  projektu <i>BASIC-256</i> i nástroj pojmenovaný <i>sdlBasic</i>. Jedná se o známý dialekt BASICu založený na projektu <i>wxBasic</i> (interpret BASICu propojený s&nbsp;knihovnou <i>wxWidgets</i>), který je doplněný o minimalisticky pojaté, ovšem pro výuku dostatečně vybavené integrované vývojové prostředí s&nbsp;grafickým uživatelským rozhraním a taktéž o velké množství příkazů a funkcí, pomocí nichž je možné pracovat s&nbsp;knihovnou <i>SDL (Simple DirectMedia Layer)</i>. Právě díky dostupnosti knihovny <i>SDL</i> bylo v&nbsp;tomto dialektu BASICu naprogramováno poměrně velké množství různých her, grafických dem, ale i krátkých prográmků, které je v&nbsp;případě potřeby možné použít pro výuku. Stačí pouze navštívit stránku <a href="http://sdlbasic.t15.org/forumdisplay.php?fid=13">Code examples</a>.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/011.png"><img class="alignnone size-medium wp-image-5483" src="http://fedora.cz/wp-content/uploads/2015/07/011-450x351.png" alt="01" width="450" height="351" /></a>
<p><i>Obrázek 13: Integrované vývojové prostředí sdlBasicu.</i></p>

<p><i>sdlBasic</i> byl dokonce portován i na Sony Playstation Portable, což mj.&nbsp;znamená, že většinu programů odladěných v&nbsp;tomto jazyku na osobním počítači (PC) je možné přenést na PSP a tam následně spustit (pro vývoj lze použít emulátor PSP). Podle mého názoru představuje velkou nevýhodu <i>sdlBasicu</i> fakt, že pro mnohé distribuce neexistuje jeho oficiální balíček a překlad ze zdrojových kódů je poměrně komplikovaný (možná to souvisí i s&nbsp;tím, že se vývoj pozastavil, protože poslední větší změny v&nbsp;programovém kódu tohoto nástroje proběhly v&nbsp;roce 2012 (<a href="http://sourceforge.net/p/sdlbasic/news/">http://sourceforge.net/p/sdlbasic/news/</a>). Ze syntaktického hlediska se <i>sdlBasic</i>, podobně jako i další dnes popisovaný dialekt BASICu, přibližuje dalším moderním interpretrům a překladačům BASICu. To znamená, že se jedná o plnohodnotný strukturovaný programovací jazyk s&nbsp;podporou funkcí, subrutin (podprogramů) i strukturovaných programových smyček a nikoli o historický relikt založený na používání čísel řádků a nechvalně známých příkazů <strong>GOTO</strong>.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/021.png"><img class="alignnone size-medium wp-image-5484" src="http://fedora.cz/wp-content/uploads/2015/07/021-450x378.png" alt="02" width="450" height="378" /></a>
<p><i>Obrázek 14: SdlBasic při výskytu syntaktické chyby přeruší běh programu a umožní chybnou část kódu opravit.</i></p>

<p>Dobrým příkladem toho, jak může vypadat moderně pojatý jazyk BASIC, jsou řídicí příkazy, tj.&nbsp;rozhodovací konstrukce a programové smyčky. <i>sdlBasic</i> podporuje příkazy <strong>if-then-else-end if</strong>, <strong>select case...end select</strong>, programové smyčky lze implementovat přes <strong>while...wend</strong>, <strong>do..loop</strong>, <strong>for...next</strong> či dokonce <strong>for each...next</strong>. Tyto smyčky jsou doplněny o příkazy <strong>continue</strong>, <strong>exit for</strong> či <strong>exit while</strong> (tyto příkazy jsou sice &bdquo;ukecanější&ldquo;, ovšem vedou k&nbsp;tvorbě dosti přehledného kódu). Jednou z&nbsp;poněkud netypických vlastností, která by mohla programátory při přechodu na <i>sdlBasic</i> z&nbsp;jiného BASICu překvapit, je to, že u příkazu <strong>next</strong> se neuvádí jméno řídicí proměnné smyčky (počitadla), tak, jako je tomu u mnoha dalších interpretrů programovacího jazyka BASIC. Dokumentace k&nbsp;samotnému jazyku i ke knihovním funkcím je dostupná online na adrese <a href="http://www.sdlbasic.altervista.org/main/guide/">http://www.sdlbasic.altervista.org/main/guide/</a>. Nebýt zmíněné nedostupnosti balíčků pro mnohé distribuce, byl by <i>sdlBasic</i> asi nejlepším kandidátem z&nbsp;této skupiny programovacích jazyků.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/031.png"><img class="alignnone size-medium wp-image-5485" src="http://fedora.cz/wp-content/uploads/2015/07/031-450x351.png" alt="03" width="450" height="351" /></a>
<p><i>Obrázek 15: Informace o autorech sdlBasicu.</i></p>

<p>Podobně jako u dalších popisovaných nástrojů, i zde si na krátkých programech ukážeme syntaxi <i>sdlBasicu</i>:</p>

<pre>
setdisplay(256,256,32,1)
paper(0xFFFFFF)
ink(0x000000)
pen(0x000000)
cls
for y=0 to 256
    for x=0 to 256
        ink(x+y*256)
        putpixel(x,y)
    next
next
waitkey
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/041.png"><img class="alignnone size-medium wp-image-5486" src="http://fedora.cz/wp-content/uploads/2015/07/041-450x351.png" alt="04" width="450" height="351" /></a>
<p><i>Obrázek 16: Program, v&nbsp;němž je nejprve otevřeno okno s&nbsp;grafickou plochou o rozměrech 256&times;256 pixelů a bitovou hloubkou 32bpp, do něhož je prováděno vykreslování po jednotlivých pixelech, tj.&nbsp;na nejnižší úrovni abstrakce.</i></p>

<pre>
setdisplay(320,240,32,1)
paper(8^8-1)
ink(0)
pen(0)
cls
mousehide
&nbsp;
for a=1 to 15
    b=rnd(10)
    c=rnd(10)
    if not (b&gt;c) then
        prints(str$(b)+","+str$(c)+": b is not greater than c")
    end if
next
&nbsp;
waitkey
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/051.png"><img class="alignnone size-medium wp-image-5487" src="http://fedora.cz/wp-content/uploads/2015/07/051-450x351.png" alt="05" width="450" height="351" /></a>
<p><i>Obrázek 17: Ukázka využití operátoru + pro spojování řetězců a taktéž toho, že číselné proměnné není zapotřebí deklarovat.</i></p>

<pre>
SetDisplay(320,240,32,1)
&nbsp;
For i=0 To 120
    ink(rgb(0,i+15,0))
    Line(0,i,640,i)
Next
&nbsp;
ScreenSwap
&nbsp;
For y=0 To 120
    For x=0 To 320
        ink(GetPixel(x,y))
        SetPixel(x,240-y)
    Next
Next
&nbsp;
ScreenSwap
waitkey
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/061.png"><img class="alignnone size-medium wp-image-5488" src="http://fedora.cz/wp-content/uploads/2015/07/061-450x351.png" alt="06" width="450" height="351" /></a>
<p><i>Obrázek 18: Vytvoření gradientního přechodu operacemi GetPixel a PutPixel.</i></p>

<pre>
setdisplay(320,320,32,1)
&nbsp;
for x=0 to 319
    for y=0 to 320
        c = (x*x + y*y) % 255
        ink(c + c &lt;&lt; 8 + c &lt;&lt; 16)
        setpixel(x,y)
    next
next
&nbsp;
waitkey
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/071.png"><img class="alignnone size-medium wp-image-5489" src="http://fedora.cz/wp-content/uploads/2015/07/071-450x351.png" alt="07" width="450" height="351" /></a>
<p><i>Obrázek 19: Vykreslení vzorku nazvaného &bdquo;Circles&ldquo;.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. FreeBasic</h2>

<p>Jedním z&nbsp;nejlépe podporovaných open source dialektů BASICu je s&nbsp;velkou pravděpodobností <i>FreeBASIC</i>. Syntaxe tohoto jazyka byla zvolena s&nbsp;ohledem na to, aby se programátoři znající dnes již muzeální <i>QBasic</i> nebo <i>Quick Basic</i> nemuseli učit nový programovací jazyk a taktéž z&nbsp;toho důvodu, aby bylo možné převádět postarší DOSovské aplikace psané v&nbsp;BASICu na modernější operační systémy. <i>FreeBASIC</i> obsahuje překladač (a jenom překladač!), pomocí něhož lze vytvářet jak spustitelné aplikace pracující s&nbsp;příkazovým řádkem či grafickým uživatelským rozhraním, tak i statické či dynamické knihovny a objektové soubory (.o, .obj), které lze následně slinkovat například s&nbsp;céčkovými programy. Samotný programovací jazyk byl (i přes zachování zpětné kompatibility) rozšířen snad ve všech směrech &ndash; do jazyka je například implementován preprocesor, lze používat ukazatele na data i ukazatele na funkce, používat inline assembler, programovat vícevláknové aplikace, používat pole a řetězce s&nbsp;maximálním rozsahem až 2 GB atd.</p>

<a href="http://fedora.cz/wp-content/uploads/2015/07/pc_121_17.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/pc_121_17.png" alt="pc_121_17" width="320" height="240" class="alignnone size-full wp-image-5490" /></a>
<p><i>Obrázek 20: Screenshot ze hry The Griffon Legend naprogramované ve FreeBASICu.</i></p>

<p>Přímo v&nbsp;jazyku je zabudována grafická knihovna kompatibilní s&nbsp;<i>QBasicem</i> (právě díky ní byla portována hra Gorilly), ovšem navíc podporující práci se sprity, průhledností atd. S&nbsp;využitím dalších knihoven však lze tvořit aplikace používající knihovny <i>SDL</i>, <i>OpenGL</i>, <i>Allegro</i> apod., viz též následující tabulku:</p>

<table>
<tr><th>Název knihovny</th><th>Stručný popis</th></tr>
<tr><td>Allegro, Allegro 5 a SDL</td><td>knihovny používané především při vývoji her (grafika, zvuky, hudba, animace)</td></tr>
<tr><td>OpenGL    </td><td>3D grafika</td></tr>
<tr><td>BIG_INT a GMP</td><td>práce s&nbsp;čísly s&nbsp;libovolným rozsahem</td></tr>
<tr><td>cgi-util a fastCGI</td><td>podpora pro psaní CGI skriptů pro prakticky libovolný webový server</td></tr>
<tr><td>DevIL   </td><td>práce s&nbsp;různými grafickými formáty</td></tr>
<tr><td>fmod    </td><td>podpora pro hudební formáty, mezi jinými pro MODy, MP3, OGG vorbis atd.</td></tr>
<tr><td>GD      </td><td>vytváření obrázků, rendering</td></tr>
<tr><td>GLUT    </td><td>OpenGL Utility Toolkit</td></tr>
<tr><td>GTK+ a wx-c</td><td>podpora pro vytváření GUI</td></tr>
<tr><td>LibXML a Mini-XML</td><td>zpracování XML</td></tr>
<tr><td>MySQL   </td><td>rozhraní pro známou open source relační databázi</td></tr>
<tr><td>PDFlib  </td><td>vytváření PDF souborů</td></tr>
</table>

<a href="http://fedora.cz/wp-content/uploads/2015/07/pc_121_18.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/pc_121_18.png" alt="pc_121_18" width="320" height="240" class="alignnone size-medium wp-image-5491" /></a>
<p><i>Obrázek 21: Další screenshot ze hry The Griffon Legend naprogramované ve FreeBASICu.</i></p>

<p>Opět se podívejme na několik příkladů:</p>

<p>Práce se soubory:</p>

<pre>
dim i as long
&nbsp;
open "test.dat" for random as #1
for i = 1 to 10
        put #1, , i
next
&nbsp;
seek #1, 2
get #1, , i
&nbsp;
print "data: "; i; " current record: "; loc(1); " next: "; seek(1)
</pre>

<p>Ukázka práce s&nbsp;ukazateli:</p>

<pre>
TYPE Node
    PreviousNode AS Node POINTER
    NextNode     AS Node POINTER
END TYPE
&nbsp;
DIM CurrentNode AS Node POINTER
CurrentNode-&gt;NextNode = NULL
&nbsp;
DIM A AS SHORT POINTER, B AS SHORT POINTER, C AS SHORT POINTER POINTER
*A = *B \ **C
</pre>

<p>Použití preprocesoru pro vytvoření maker:</p>

<pre>
#DEFINE bar(x,y) ((x) * (y))
#DEFINE foo(x,y) bar(x-y,y-x)
a = foo(b, c)
</pre>

<p>Část programu, v&nbsp;němž je použita knihovna OpenGL a GLUT (povšimněte si podpory ukazatelů na funkce s&nbsp;využitím operátoru @):</p>

<pre>
sub doReshapeGL CDECL ( byval w as integer, _
                        byval h as integer )
    glViewport 0, 0, w, h
    glMatrixMode GL_PROJECTION
    glLoadIdentity
&nbsp;
    if ( h = 0 ) then
        gluPerspective  80/2, w, 1.0, 5000.0
    else
        gluPerspective  80/2, w / h, 1.0, 5000.0
    end if
&nbsp;
    glMatrixMode GL_MODELVIEW
    glLoadIdentity
&nbsp;
end sub
&nbsp;
sub initGLUT
    glutInit 1, strptr( " " )
&nbsp;
    glutInitWindowPosition 0, 0
    glutInitWindowSize 640, 480
    glutInitDisplayMode GLUT_RGBA or GLUT_DOUBLE or GLUT_DEPTH
    glutCreateWindow "FreeBASIC OpenGL example"
&nbsp;
    doInitGL
&nbsp;
    glutDisplayFunc  @doRender
    glutIdleFunc     @doRender
    glutReshapeFunc  @doReshapeGL
    glutKeyboardFunc @doInput
&nbsp;               
end sub
</pre>

<a href="http://fedora.cz/wp-content/uploads/2015/07/pc_121_19.png"><img src="http://fedora.cz/wp-content/uploads/2015/07/pc_121_19.png" alt="pc_121_19" width="256" height="190" class="alignnone size-medium wp-image-5492" /></a>
<p><i>Obrázek 22: Raytracer napsaný ve FreeBASICu.</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Odkazy na Internetu</h2>

<ol>

<li>Seriál o programovacím jazyku Lua (root.cz):<br />
<a href="http://www.root.cz/serialy/programovaci-jazyk-lua/">http://www.root.cz/serialy/programovaci-jazyk-lua/</a>
</li>

<li>Domovská stránka systému LÖVE<br />
<a href="http://love2d.org/">http://love2d.org/</a>
</li>

<li>Domovská stránka programovacího jazyka Lua<br />
<a href="http://www.lua.org/ ">http://www.lua.org/ </a>
</li>

<li>Web o Lieru, Gusanos, GeneRally, Atari atd.<br />
<a href="http://karelik.wz.cz/">http://karelik.wz.cz/</a>
</li>

<li>Web o Lieru, Gusanos<br />
<a href="http://karelik.wz.cz/gusanos.php">http://karelik.wz.cz/gusanos.php</a>
</li>

<li>GUSANOS<br />
<a href="http://gusanos.sourceforge.net/">http://gusanos.sourceforge.net/</a>
</li>

<li>GUSANOS Download<br />
<a href="http://sourceforge.net/projects/gusanos/">http://sourceforge.net/projects/gusanos/</a>
</li>

<li>Lua<br />
<a href="http://www.linuxexpres.cz/praxe/lua">http://www.linuxexpres.cz/praxe/lua</a>
</li>

<li>Lua<br />
<a href="http://cs.wikipedia.org/wiki/Lua">http://cs.wikipedia.org/wiki/Lua</a>
</li>

<li>Lua (programming language)<br />
<a href="http://en.wikipedia.org/wiki/Lua_(programming_language)">http://en.wikipedia.org/wiki/Lua_(programming_language)</a>
</li>

<li>The Lua Programming Language<br />
<a href="http://www.tiobe.com/index.php/paperinfo/tpci/Lua.html">http://www.tiobe.com/index.php/paperinfo/tpci/Lua.html</a>
</li>

<li>Lua Programming Gems<br />
<a href="http://www.lua.org/gems/">http://www.lua.org/gems/</a>
</li>

<li>LuaForge<br />
<a href="http://luaforge.net/">http://luaforge.net/</a>
</li>

<li>Forge project tree<br />
<a href="http://luaforge.net/softwaremap/trove_list.php">http://luaforge.net/softwaremap/trove_list.php</a>
</li>

<li>SdlBasic home page<br />
<a href="http://www.sdlbasic.altervista.org/main/">http://www.sdlbasic.altervista.org/main/</a>
</li>

<li>SdlBasic examples<br />
<a href="http://nitrofurano.linuxkafe.com/sdlbasic/">http://nitrofurano.linuxkafe.com/sdlbasic/</a>
</li>

<li>SdlBasic na Wikipedii<br />
<a href="http://en.wikipedia.org/wiki/SdlBasic">http://en.wikipedia.org/wiki/SdlBasic</a>
</li>

<li>Simple DirectMedia Layer<br />
<a href="http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer">http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer</a>
</li>

<li>SDLBASIC &ndash; The high-level interpreter for all?<br />
<a href="http://openbytes.wordpress.com/2008/11/08/sdlbasic-the-high-level-interpreter-for-all/">http://openbytes.wordpress.com/2008/11/08/sdlbasic-the-high-level-interpreter-for-all/</a>
</li>

<li>FreeBasic home page<br />
<a href="http://www.freebasic.net/">http://www.freebasic.net/</a>
</li>

<li>FreeBASIC (Wikipedia EN)<br />
<a href="https://en.wikipedia.org/wiki/FreeBASIC">https://en.wikipedia.org/wiki/FreeBASIC</a>
</li>

<li>FreeBASIC Wiki<br />
<a href="http://www.freebasic.net/wiki/wikka.php?wakka=FBWiki">http://www.freebasic.net/wiki/wikka.php?wakka=FBWiki</a>
</li>

<li>FreeBASIC Manual<br />
<a href="http://www.freebasic.net/wiki/wikka.php?wakka=DocToc">http://www.freebasic.net/wiki/wikka.php?wakka=DocToc</a>
</li>

<li>FreeBASIC (Wikipedia CZ)<br />
<a href="http://cs.wikipedia.org/wiki/FreeBASIC">http://cs.wikipedia.org/wiki/FreeBASIC</a>
</li>

<li>The Griffon Legend<br />
<a href="http://syn9.thingie.net/?table=griffonlegend">http://syn9.thingie.net/?table=griffonlegend</a>
</li>

<li>Seriál Letní škola programovacího jazyka Logo<br />
<a href="http://www.root.cz/serialy/letni-skola-programovaciho-jazyka-logo/">http://www.root.cz/serialy/letni-skola-programovaciho-jazyka-logo/</a>
</li>

<li>Scratch: oficiální stránka projektu<br />
<a href="http://scratch.mit.edu/">http://scratch.mit.edu/</a>
</li>

<li>Scratch: galerie projektů vytvořených ve Scratchi<br />
<a href="http://scratch.mit.edu/galleries/browse/newest">http://scratch.mit.edu/galleries/browse/newest</a>
</li>

<li>Scratch: nápověda<br />
<a href="file:///usr/share/scratch/Help/en/index.html">file:///usr/share/scratch/Help/en/index.html</a>
</li>

<li>Scratch: obrazovky nápovědy<br />
<a href="file:///usr/share/scratch/Help/en/allscreens.html">file:///usr/share/scratch/Help/en/allscreens.html</a>
</li>

<li>Scratch (Wikipedie CZ)<br />
<a href="http://cs.wikipedia.org/wiki/Scratch">http://cs.wikipedia.org/wiki/Scratch</a>
</li>

<li>Scratch (programming language)<br />
<a href="http://en.wikipedia.org/wiki/Scratch_(programming_language)">http://en.wikipedia.org/wiki/Scratch_(programming_language)</a>
</li>

<li>Scratch Modification<br />
<a href="http://wiki.scratch.mit.edu/wiki/Scratch_Modification">http://wiki.scratch.mit.edu/wiki/Scratch_Modification</a>
</li>

<li>Scratch Lowers Resistance to Programming<br />
<a href="http://www.wired.com/gadgetlab/2009/03/scratch-lowers/">http://www.wired.com/gadgetlab/2009/03/scratch-lowers/</a>
</li>

<li>Snap!<br />
<a href="http://snap.berkeley.edu/">http://snap.berkeley.edu/</a>
</li>

<li>Prostředí Snap!<br />
<a href="http://snap.berkeley.edu/snapsource/snap.html">http://snap.berkeley.edu/snapsource/snap.html</a>
</li>

<li>Alternatives to Scratch<br />
<a href="http://wiki.scratch.mit.edu/wiki/Alternatives_to_Scratch">http://wiki.scratch.mit.edu/wiki/Alternatives_to_Scratch</a>
</li>

<li>Basic-256 home page<br />
<a href="http://www.basic256.org/index_en">http://www.basic256.org/index_en</a>
</li>

<li>Basic-256 Language Documentation<br />
<a href="http://doc.basic256.org/doku.php">http://doc.basic256.org/doku.php</a>
</li>

<li>Basic-256 Art Gallery<br />
<a href="http://www.basic256.org/artgallery">http://www.basic256.org/artgallery</a>
</li>

<li>Basic-256 Tutorial<br />
<a href="http://www.basic256.org/tutorials">http://www.basic256.org/tutorials</a>
</li>

<li>Why BASIC?<br />
<a href="http://www.basic256.org/whybasic">http://www.basic256.org/whybasic</a>
</li>

<li>A book to teach ANYBODY how to program a computer (using BASIC)<br />
<a href="http://www.basicbook.org/">http://www.basicbook.org/</a>
</li>

<li>BASIC Computer Games (published 1978) - Hammurabi<br />
<a href="http://atariarchives.org/basicgames/showpage.php?page=78">http://atariarchives.org/basicgames/showpage.php?page=78</a>
</li>

<li>Hamurabi - zdrojový kód v BASICu<br />
<a href="http://www.dunnington.u-net.com/public/basicgames/HMRABI">http://www.dunnington.u-net.com/public/basicgames/HMRABI</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2015</small></p>
</body>
</html>

