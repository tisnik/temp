<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Tvorba pluginů pro grafický editor GIMP (2.část)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Tvorba pluginů pro grafický editor GIMP (2.část)</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Ve druhé části článku o tvorbě pluginů určených pro grafický editor GIMP si nejdříve ukážeme, jakým způsobem se vytvoří a zaregistruje jednoduchý plugin naprogramovaný v&nbsp;Pythonu a následně budeme tento plugin postupně rozšiřovat o interaktivní dialogy pro výběr barvy, rozměrů obrázku apod. Na závěr si pro porovnání ukážeme dva pluginy naprogramované pro změnu v&nbsp;jazyce Scheme.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Tvorba pluginů pro grafický editor GIMP (2.část)</a></p>
<p><a href="#k02">2. Vytvoření skutečného pluginu pro GIMP</a></p>
<p><a href="#k03">3. První demonstrační příklad: kostra pluginu naprogramovaného v&nbsp;Pythonu</a></p>
<p><a href="#k04">4. Uložení pluginu do správného adresáře a nastavení příznaku <i>execute</i></a></p>
<p><a href="#k05">5. Dialog pro výběr barvy</a></p>
<p><a href="#k06">6. Druhý demonstrační příklad: úprava pluginu pro vykreslení pozadí zadanou barvou</a></p>
<p><a href="#k07">7. Nastavení velikosti obrázku</a></p>
<p><a href="#k08">8. Třetí demonstrační příklad: úprava pluginu tak, aby bylo možné zadat velikost obrázku</a></p>
<p><a href="#k09">9. Čtvrtý demonstrační příklad: zobrazení základních ovládacích prvků</a></p>
<p><a href="#k10">10. Pátý demonstrační příklad: zobrazení složitějších ovládacích prvků</a></p>
<p><a href="#k11">11. Šestý demonstrační příklad: nový obrázek s&nbsp;RGB paletou (skript naprogramovaný ve Scheme)</a></p>
<p><a href="#k12">12. Sedmý demonstrační příklad: vykreslení Lissajousových obrazců</a></p>
<p><a href="#k13">13. Repositář s&nbsp;demonstračními příklady</a></p>
<p><a href="#k14">14. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Tvorba pluginů pro grafický editor GIMP (2.část)</h2>

<p><a href="https://mojefedora.cz/tvorba-pluginu-pro-graficky-editor-gimp/">V&nbsp;první části</a> seriálu o vytváření pluginů (přídavných modulů) pro známý grafický editor GIMP jsme si řekli, že pluginy je možné programovat buď v&nbsp;jazyce Scheme (tato technologie se nazývá <i>Script-fu</i>) nebo v&nbsp;populárním programovacím jazyce Python (<i>Python-fu</i>). Taktéž jsme se seznámili s&nbsp;interaktivními konzolemi, do nichž lze zapisovat jednotlivé příkazy, které jsou ihned prováděny (konzole pro Scheme se chová poněkud odlišně, než konzole pro Python). Dnes si ukážeme skutečné pluginy, které budou volány z&nbsp;menu GIMPu a které budou v&nbsp;případě potřeby doplněny o dialog, v&nbsp;němž bude možné nastavit jednotlivé parametry pluginů.</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/12.png"><img class="alignnone size-thumbnail wp-image-8360" src="https://mojefedora.cz/wp-content/uploads/2017/02/12-236x254.png" alt="" width="236" height="254" /></a>
<p><i>Obrázek 1: Prozatím prázdná interaktivní konzole Pythonu po spuštění.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Vytvoření skutečného pluginu pro GIMP</h2>

<p>Vytvoření skutečného pluginu se v&nbsp;několika ohledech odlišuje od pouhého zapisování skriptu do interaktivní konzole. Plugin je totiž nutné zaregistrovat takovým způsobem, aby GIMP věděl, ve kterém menu bude umístěna položka sloužící pro jeho spuštění. Taktéž je nutné specifikovat i další metadata o pluginu: jeho jméno, autora, licenci, datum vytvoření apod. Kromě toho nesmíme zapomenout na další důležitou věc &ndash; mnohé pluginy vyžadují zadání parametrů, což je samozřejmě podporováno, jak se ostatně budeme moci přesvědčit v&nbsp;dalších demonstračních příkladech. A nakonec &ndash; pokud je plugin naprogramován v&nbsp;Pythonu, je nutné zajistit, aby byl plugin spustitelný (viz následující kapitoly) a aby se na konci skriptu volala funkce <strong>main()</strong> (pluginy psané v&nbsp;jazyku Scheme se v&nbsp;tomto ohledu odlišují).</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/15.png"><img class="alignnone size-thumbnail wp-image-8363" src="https://mojefedora.cz/wp-content/uploads/2017/02/15-470x254.png" alt="" width="470" height="254" /></a>
<p><i>Obrázek 2: Procházení API GIMPu.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. První demonstrační příklad: kostra pluginu naprogramovaného v&nbsp;Pythonu</h2>

<p>Ukažme si, jak může vypadat kostra pluginu naprogramovaného v&nbsp;Pythonu. Celý plugin je rozdělen na čtyři části.</p>

<p>První část je jednoduchá &ndash; jedná se o importy. Důležité je importovat především knihovnu nazvanou <strong>gimpfu</strong>, která zpřístupní objekt <strong>gimp</strong>, ale i další objekty, například <a href="https://mojefedora.cz/tvorba-pluginu-pro-graficky-editor-gimp/#k08">v&nbsp;předchozí části</a> popsanou interní databázi objektů <strong>pdb</strong>:</p>

<pre>
from gimpfu import *
</pre>

<p>Dále plugin obsahuje minimálně jednu funkci, která je zavolána buď přímo po spuštění pluginu uživatelem (pokud se nezadávají parametry) nebo až ve chvíli, kdy uživatel v&nbsp;grafickém dialogu vyplní všechny parametry a klikne na tlačítko OK. Tato funkce může mít libovolné jméno, které ovšem musí korespondovat se jménem uvedeným v&nbsp;dalším bloku:</p>

<pre>
# funkce zavolana po spusteni pluginu uzivatelem
def create_new_image():
    pass
</pre>

<p>Část třetí je velmi důležitá, neboť obsahuje jak metadata pluginu, tak i případnou specifikaci jeho parametrů (jejich typ, popis, mezní hodnoty apod.). Metadata se předávají v&nbsp;rámci registrace pluginu funkcí nazvanou jednoduše <strong>register()</strong>. Tato funkce očekává minimálně jedenáct parametrů plus případné další pojmenované parametry. Postupně se jedná o tyto parametry:</p>

<ol>
<li>Unikátní jméno pluginu</li>
<li>Krátký popisek</li>
<li>Dlouhý popisek (může se lišit od popisku krátkého)</li>
<li>Autor</li>
<li>Licence či další informace o autorovi</li>
<li>Typicky datum vydání pluginu</li>
<li>Popisek v&nbsp;menu (tento text uvidí uživatel)</li>
<li>Specifikace, pro jaké typy obrázků je plugin určen popř.&nbsp;zda plugin funguje i když obrázek neexistuje ("" &ndash; žádný obrázek, "*" &ndash; všechny typy, "RGB" &ndash; jen RGB atd.)</li>
<li>Seznam vstupních parametrů zadávaných uživatelem</li>
<li>Seznam výstupních parametrů (typicky prázdné!)</li>
<li>Funkce, která se má zavolat</li>
<li>Další nepovinné pojmenované parametry, nejdůležitější je <strong>menu</strong></li>
</ol>

<p>Prakticky celá registrace pluginu vypadá následovně:</p>

<pre>
# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "create_new_image",
    "Vytvor novy obrazek",
    "Vytvor novy obrazek",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Vytvor novy obrazek",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [], # zadne parametry
    [],
    create_new_image,
    menu="&lt;Image&gt;/Filters/Test/")
</pre>

<p>Na poslední část nesmíme zapomenout &ndash; v&nbsp;Pythonu je nutné spustit funkci <strong>main()</strong>:</p>

<pre>
main()
</pre>



<p><a name="k04"></a></p>
<h2 id="k04">4. Uložení pluginu do správného adresáře a nastavení příznaku <i>execute</i></h2>

<p>Celý zdrojový kód našeho prvního skutečného pluginu vypadá následovně. Popis jednotlivých volaných funkcí je zřejmý z&nbsp;komentářů vložených do kódu:</p>

<pre>
#!/usr/bin/env python

from gimpfu import *

# funkce zavolana po spusteni pluginu uzivatelem
def create_new_image():
    # vytvoreni noveho obrazku
    image = gimp.Image(256, 256, RGB);

    # vytvoreni nove hladiny
    layer = gimp.Layer(image, "Hladina", 256, 256, RGB_IMAGE, 100, NORMAL_MODE)
    layer.fill(BACKGROUND_FILL)

    # pridani hladiny do zasobniku hladin v obrazku
    image.add_layer(layer, 0)

    # zobrazeni
    gimp.Display(image)

    # zajisteni, ze se okno s obrazkem skutecne prekresli
    gimp.displays_flush()


# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "create_new_image",
    "Vytvor novy obrazek",
    "Vytvor novy obrazek",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Vytvor novy obrazek",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [], # zadne parametry
    [],
    create_new_image,
    menu="&lt;Image&gt;/Filters/Test/")

main()
</pre>

<p>Zdrojový kód pluginu, který jsme si připravili v&nbsp;rámci předchozího textu, je nutné nainstalovat. Ve skutečnosti se celá &bdquo;instalace&ldquo; skládá z&nbsp;pouhých dvou kroků:</p>

<ol>

<li>Kopie zdrojového kódu pluginu do adresáře <i>~/.gimp-2.x/plug-ins</i>, kde <i>n</i> je číslo verze GIMPu. Pro jistotu si zkontrolujte, zda se tento adresář skutečně používá &ndash; k&nbsp;tomu slouží konfigurační dialog zobrazený na screenshotu níže.</li>

<li>Nastavení příznaku spouštění (+x). Na tento krok se i v&nbsp;tutoriálech často zapomíná, možná kvůli tomu, že autoři návodů používají operační systém Microsoft Windows. Ovšem pokud nebude skript s&nbsp;pluginem spustitelný, bude ho GIMP ignorovat! Proto je zapotřebí povolit jeho spuštění aktivním uživatelem, a to konkrétně příkazem <strong>chmod u+x cesta/jméno_skriptu.py</strong>, konkrétně <strong>chmod u+x ~/.gimp-2.8/plug-ins/new_image.py</strong></li>

</ol>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/01.png"><img class="alignnone size-thumbnail wp-image-8383" src="https://mojefedora.cz/wp-content/uploads/2017/02/01-272x254.png" alt="" width="272" height="254" /></a>
<p><i>Obrázek 3: Zobrazení adresářů, v&nbsp;nichž se hledají pluginy, ať již pluginy nativní (překládané) či pluginy naprogramované v&nbsp;Pythonu.</i></p>

<p>Po provedení těchto dvou kroků by se po restartu GIMPu měl plugin automaticky zaregistrovat a položka pro jeho spuštění <strong>Vytvor novy obrazek</strong> by se měla objevit v&nbsp;menu <strong>Filters &rarr; Test</strong>.</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/02.png"><img class="alignnone size-thumbnail wp-image-8384" src="https://mojefedora.cz/wp-content/uploads/2017/02/02-418x254.png" alt="" width="418" height="254" /></a>
<p><i>Obrázek 4: Výsledek spuštění prvního demonstračního příkladu.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Dialog pro výběr barvy</h2>

<p>V&nbsp;prvním demonstračním příkladu jsme si neukázali všechny možnosti, které grafický editor GIMP tvůrcům pluginů nabízí. Týká se to především možnosti specifikovat parametry pluginu při jeho spuštění, přičemž se pro nastavování parametrů používá interaktivní dialog s&nbsp;mnoha typy ovládacích prvků. Z&nbsp;tohoto důvodu si dnešní druhý demonstrační příklad nepatrně upravíme a nabídneme uživatelům pluginu, aby si sami zvolili barvu pozadí obrázku. Použijeme přitom ovládací prvek pro výběr barvy, který po výběru zobrazí systémový dialog, na němž lze barvu specifikovat mnoha různými způsoby &ndash; výběrem z&nbsp;předpřipravené palety, smícháním barvových složek atd. Skript tedy bude upraven na dvou místech.</p>

<p>Nejdříve změníme vlastní funkci starající se o vytvoření nového obrázku, vložení hladiny do obrázku a vyplnění této hladiny specifikovanou barvou. Povšimněte si nového parametru <strong>color</strong> a způsobu jeho použití:</p>

<pre>
# funkce zavolana po spusteni pluginu uzivatelem
def create_new_image_background(<strong>color</strong>):
    # vytvoreni noveho obrazku
    image = gimp.Image(256, 256, RGB);

    # vytvoreni nove hladiny
    layer = gimp.Layer(image, "Hladina", 256, 256, RGB_IMAGE, 100, NORMAL_MODE)

    # nastaveni barvy vykreslovani pozadi (druha barva ve vyberu)
    <strong>gimp.set_background(color)</strong>
    layer.fill(BACKGROUND_FILL)

    # pridani hladiny do zasobniku hladin v obrazku
    image.add_layer(layer, 0)

    # zobrazeni
    gimp.Display(image)

    # zajisteni, ze se okno s obrazkem skutecne prekresli
    gimp.displays_flush()
</pre>

<p>Druhá úprava se týká způsobu registrace pluginu, protože je nutné specifikovat, jaké parametry může uživatel změnit. Řekli jsme si, že uživateli nabídneme možnost výběru barvy a (prozatím) žádné další možnosti, takže seznam parametrů bude obsahovat jedinou položku s&nbsp;předvybranou barvou:</p>

<pre>
# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "create_new_image_background",
    "Vytvor novy obrazek s barevnym pozadim",
    "Vytvor novy obrazek s barevnym pozadim",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Vytvor novy obrazek s barevnym pozadim",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [
        (PF_COLOR, "color", "Barva pozadi obrazku", (0.5, 0.5, 0.5))
    ],
    [],
    create_new_image_background,
    menu="&lt;Image&gt;/Filters/Test/")
</pre>

<p>Výsledek bude z&nbsp;hlediska uživatele vypadat takto:</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/03.png"><img class="alignnone size-thumbnail wp-image-8385" src="https://mojefedora.cz/wp-content/uploads/2017/02/03.png" alt="" width="376" height="253" /></a>
<p><i>Obrázek 5: Dialog zobrazený při spuštění pluginu.</i></p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/04.png"><img class="alignnone size-thumbnail wp-image-8386" src="https://mojefedora.cz/wp-content/uploads/2017/02/04-318x254.png" alt="" width="318" height="254" /></a>
<p><i>Obrázek 6: Výběr barvy.</i></p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/05.png"><img class="alignnone size-thumbnail wp-image-8387" src="https://mojefedora.cz/wp-content/uploads/2017/02/05-419x254.png" alt="" width="419" height="254" /></a>
<p><i>Obrázek 7: Nový obrázek s&nbsp;vyplněným pozadím na základě vybrané barvy.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Druhý demonstrační příklad: úprava pluginu pro vykreslení pozadí zadanou barvou</h2>

<p>Úplný programový kód dnešního druhého demonstračního příkladu vypadá následovně:</p>

<pre>
#!/usr/bin/env python

from gimpfu import *

# funkce zavolana po spusteni pluginu uzivatelem
def create_new_image_background(color):
    # vytvoreni noveho obrazku
    image = gimp.Image(256, 256, RGB);

    # vytvoreni nove hladiny
    layer = gimp.Layer(image, "Hladina", 256, 256, RGB_IMAGE, 100, NORMAL_MODE)

    # nastaveni barvy vykreslovani pozadi (druha barva ve vyberu)
    gimp.set_background(color)
    layer.fill(BACKGROUND_FILL)

    # pridani hladiny do zasobniku hladin v obrazku
    image.add_layer(layer, 0)

    # zobrazeni
    gimp.Display(image)

    # zajisteni, ze se okno s obrazkem skutecne prekresli
    gimp.displays_flush()


# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "create_new_image_background",
    "Vytvor novy obrazek s barevnym pozadim",
    "Vytvor novy obrazek s barevnym pozadim",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Vytvor novy obrazek s barevnym pozadim",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [
        (PF_COLOR, "color", "Barva pozadi obrazku", (0.5, 0.5, 0.5))
    ],
    [],
    create_new_image_background,
    menu="&lt;Image&gt;/Filters/Test/")

main()
</pre>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/06.png"><img class="alignnone size-thumbnail wp-image-8388" src="https://mojefedora.cz/wp-content/uploads/2017/02/06.png" alt="" width="376" height="253" /></a>
<p><i>Obrázek 8: Výběr barvy.</i></p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/07.png"><img class="alignnone size-thumbnail wp-image-8389" src="https://mojefedora.cz/wp-content/uploads/2017/02/07-420x254.png" alt="" width="420" height="254" /></a>
<p><i>Obrázek 9: Nový obrázek s&nbsp;vyplněným pozadím na základě vybrané barvy.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Nastavení velikosti obrázku</h2>

<p>Zkusme si příklad rozšířit ještě o možnost specifikace velikosti obrázku, tj.&nbsp;počtu pixelů na horizontální a vertikální ose. V&nbsp;tomto případě použijeme ovládací prvek typu <strong>PF_SPINNER</strong>, kterému se zadá výchozí hodnota a v&nbsp;n-tici i minimální hodnota, hodnota maximální a přírůstek při použití šipek na spinneru (důsledek &ndash; ve skriptu už není nutné kontrolovat, jaké údaje uživatel zadal). Registrace pluginu a jeho metadata mohou vypadat následovně:</p>

<pre>
# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "create_new_image_background_and_size",
    "Vytvor novy obrazek s barevnym pozadim a nastavitelnou velikosti",
    "Vytvor novy obrazek s barevnym pozadim a nastavitelnou velikosti",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Vytvor novy obrazek s barevnym pozadim a nastavitelnou velikosti",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [
        (PF_COLOR, "color", "Barva pozadi obrazku", (0.5, 0.5, 0.5)),
        (PF_SPINNER, "xsize", "Sirka", 100, (1, 1000, 10)),
        (PF_SPINNER, "ysize", "Vyska", 100, (1, 1000, 10)),
    ],
    [],
    create_new_image_background_and_size,
    menu="&lt;Image&gt;/Filters/Test/")
</pre>

<p>Vlastní skript se změní jen minimální &ndash; funkci předáme o dva parametry více, které interně použijeme (musíme je převést na celé číslo):</p>

<pre>
def create_new_image_background_and_size(color, xsize, ysize):
    # vytvoreni noveho obrazku
    image = gimp.Image(int(xsize), int(ysize), RGB);

    # vytvoreni nove hladiny
    layer = gimp.Layer(image, "Hladina", int(xsize), int(ysize), RGB_IMAGE, 100, NORMAL_MODE)

    # nastaveni barvy vykreslovani pozadi (druha barva ve vyberu)
    gimp.set_background(color)
    layer.fill(BACKGROUND_FILL)

    # pridani hladiny do zasobniku hladin v obrazku
    image.add_layer(layer, 0)

    # zobrazeni
    gimp.Display(image)

    # zajisteni, ze se okno s obrazkem skutecne prekresli
    gimp.displays_flush()
</pre>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/08.png"><img class="alignnone size-thumbnail wp-image-8390" src="https://mojefedora.cz/wp-content/uploads/2017/02/08-303x254.png" alt="" width="303" height="254" /></a>
<p><i>Obrázek 10: Výběr barvy pozadí i velikosti obrázku.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Třetí demonstrační příklad: úprava pluginu tak, aby bylo možné zadat velikost obrázku</h2>

<p>Úplný programový kód dnešního třetího demonstračního příkladu vypadá následovně:</p>

<pre>
#!/usr/bin/env python

from gimpfu import *

# funkce zavolana po spusteni pluginu uzivatelem
def create_new_image_background_and_size(color, xsize, ysize):
    # vytvoreni noveho obrazku
    image = gimp.Image(int(xsize), int(ysize), RGB);

    # vytvoreni nove hladiny
    layer = gimp.Layer(image, "Hladina", int(xsize), int(ysize), RGB_IMAGE, 100, NORMAL_MODE)

    # nastaveni barvy vykreslovani pozadi (druha barva ve vyberu)
    gimp.set_background(color)
    layer.fill(BACKGROUND_FILL)

    # pridani hladiny do zasobniku hladin v obrazku
    image.add_layer(layer, 0)

    # zobrazeni
    gimp.Display(image)

    # zajisteni, ze se okno s obrazkem skutecne prekresli
    gimp.displays_flush()


# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "create_new_image_background_and_size",
    "Vytvor novy obrazek s barevnym pozadim a nastavitelnou velikosti",
    "Vytvor novy obrazek s barevnym pozadim a nastavitelnou velikosti",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Vytvor novy obrazek s barevnym pozadim a nastavitelnou velikosti",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [
        (PF_COLOR, "color", "Barva pozadi obrazku", (0.5, 0.5, 0.5)),
        (PF_SPINNER, "xsize", "Sirka", 100, (1, 1000, 10)),
        (PF_SPINNER, "ysize", "Vyska", 100, (1, 1000, 10)),
    ],
    [],
    create_new_image_background_and_size,
    menu="&lt;Image&gt;/Filters/Test/")

main()
</pre>



<p><a name="k09"></a></p>
<h2 id="k09">9. Čtvrtý demonstrační příklad: zobrazení základních ovládacích prvků</h2>

<p>Čtvrtý demonstrační příklad, jenž je použitelný (spustitelný) i bez nutnosti otevření či vytvoření nového obrázku, po svém vyvolání z&nbsp;menu zobrazí dialog, v&nbsp;němž se nachází všechny základní ovládací prvky, které je možné použít v&nbsp;grafickém editoru <i>GIMP</i>. Samotný skript ve skutečnosti nic neprovádí, protože zavolaná funkce <strong>basic_controls()</strong> je prázdná. Navíc se při jejím volání nepředávají všechny parametry: vzhledem ke způsobu volání této funkce je totiž nutné, aby akceptovala přesně takový počet parametrů, jaký odpovídá počtu ovládacích prvků zobrazených na dialogu (parametry si samozřejmě můžete v&nbsp;rámci cvičení spočítat a přidat). Po spuštění tohoto demonstračního příkladu a následném zobrazení dialogu si vyzkoušejte, jak se chovají jednotlivé ovládací prvky:</p>

<pre>
#!/usr/bin/env python

from gimpfu import *

# funkce zavolana po spusteni pluginu uzivatelem
def basic_controls():
    pass


# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "basic_controls",
    "Zobrazeni zakladnich ovladacich prvku",
    "Zobrazeni zakladnich ovladacich prvku",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Zobrazeni zakladnich ovladacich prvku",
    "", # plugin se spusti jen pokud neexistuje obrazek
    [
        (PF_INT,    "number",   "Cele cislo", 42),
        (PF_FLOAT,  "angle",    "Desetinne cislo", 0.5),
        (PF_STRING, "string",   "String", "bla bla"),
        (PF_TEXT,   "text",     "Text",   "The quick red fox jumped over the lazy dog"),

        (PF_BOOL,   "prepinac",  "Prepinac",  True),
        (PF_TOGGLE, "prepinac2", "Prepinac2", 1),
        (PF_OPTION, "vyber1",   "List box",  2, ("foo", "bar", "baz")),
        (PF_RADIO,  "vyber2",   "Prepinace", "jpg", (("png", "png"), ("jpg", "jpg"))),

        (PF_SPINNER, "spinner", "Numericky vstup", 42, (1, 8000, 1)),
        (PF_SLIDER,  "slider",  "Posuvnik", 100, (0, 100, 1)),

        (PF_COLOR,   "color",   "Barva", (1.0, 1.0, 1.0)),

    ],
    [],
    basic_controls,
    menu="&lt;Image&gt;/Filters/Test/")

main()
</pre>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/09.png"><img class="alignnone size-thumbnail wp-image-8391" src="https://mojefedora.cz/wp-content/uploads/2017/02/09-124x254.png" alt="" width="124" height="254" /></a>
<p><i>Obrázek 11: Základní ovládací prvky zobrazené čtvrtým příkladem.</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Pátý demonstrační příklad: zobrazení složitějších ovládacích prvků</h2>

<p>V&nbsp;pátém demonstračním příkladu jsou ukázány prakticky všechny složitější ovládací prvky, které je v&nbsp;případě potřeby možné použít v&nbsp;dialogu pro konfiguraci pluginu. Mezi tyto prvky patří zejména:</p>

<ul>
<li>Výběr barevné palety (zobrazí se v&nbsp;novém dialogu)</li>
<li>Výběr štětce pro kreslení (opět se zobrazí v&nbsp;novém dialogu)</li>
<li>Výběr vzorku pro vyplňování (nový dialog)</li>
<li>Výběr gradientu (barevného přechodu)</li>
<li>Výběr fontu</li>
<li>Výběr obrázku (listbox)</li>
<li>Výběr hladiny (listbox)</li>
<li>Výběr kanálu (listbox)</li>
<li>Výběr souboru (GTK dialog)</li>
</ul>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/10.png"><img class="alignnone size-thumbnail wp-image-8392" src="https://mojefedora.cz/wp-content/uploads/2017/02/10-139x254.png" alt="" width="139" height="254" /></a>
<p><i>Obrázek 12: Ovládací prvky zobrazené pátým příkladem.</i></p>

<p>Ani tento skript ve skutečnosti nepracuje korektně, protože se do funkce <strong>more_controls()</strong> nepředávají všechny parametry. To však příliš nevadí (v&nbsp;případě potřeby lze daný počet parametrů předat a tiše je ignorovat):</p>

<pre>
#!/usr/bin/env python

from gimpfu import *

# funkce zavolana po spusteni pluginu uzivatelem
def more_controls():
    pass


# Registrace skriptu do prosteedi grafickeho editoru GIMP
# a specifikace parametru nastavitelnych uzivatelem,
# ktere se posleze prenesou jako parametry skriptu.
register(
    "more_controls",
    "Zobrazeni dalsich ovladacich prvku",
    "Zobrazeni dalsich ovladacich prvku",
    "Pavel Tisnovsky",
    "Open source",
    "2017-02-11",
    "Zobrazeni dalsich ovladacich prvku",
    "*", # plugin se spusti jen pokud existuje obrazek
    [
        (PF_PALETTE,  "palette",  "Paleta", ""),
        (PF_BRUSH,    "brush",    "Stetec", None),
        (PF_PATTERN,  "pattern",  "Vzorek", None),
        (PF_GRADIENT, "gradient", "Gradient", None),
        (PF_FONT,     "font",     "Font", "Sans"),

        (PF_IMAGE,    "image",    "Obrazek",  None),
        (PF_LAYER,    "layer",    "Hladina",  None),
        (PF_CHANNEL,  "channel",  "Kanal",    None),
        (PF_DRAWABLE, "drawable", "Drawable", None),

        (PF_FILE,     "imagefile", "Image file", ""),
        (PF_DIRNAME,  "dir",       "Directory", "/tmp"),
    ],
    [],
    more_controls,
    menu="&lt;Image&gt;/Filters/Test/")

main()
</pre>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/11.png"><img class="alignnone size-thumbnail wp-image-8393" src="https://mojefedora.cz/wp-content/uploads/2017/02/11-417x254.png" alt="" width="417" height="254" /></a>
<p><i>Obrázek 13: Samostatné dialogy pro všechny ovládací prvky zobrazené pátým příkladem.</i></p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Šestý demonstrační příklad: nový obrázek s&nbsp;RGB paletou (skript naprogramovaný ve Scheme)</h2>

<p>Pro porovnání rozdílů mezi skripty napsanými v&nbsp;Pythonu na jedné straně a programovacím jazyku Scheme na straně druhé si ukážeme skript, který po svém spuštění vyzve uživatele k&nbsp;zadání rozměrů nového obrázku a posléze obrázek vytvoří a vykreslí do něj barvovou paletu (což jsme si vlastně ukázali minule, ovšem v&nbsp;Pythonu). Zdrojový kód příkladu, který naleznete pod tímto odstavcem, je nutné uložit do souboru s&nbsp;příponou <i>.scm</i> a následně ho zkopírovat nebo přesunout do adresáře <i>~/.gimp-2.x/scripts</i> (za <i>n</i> je nutné dosadit číslo aktuálně nainstalované podverze grafického editoru <i>GIMP</i>, s&nbsp;velkou pravděpodobností bude <i>n==8</i>, ostatně viz předchozí kapitoly).</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/12-1.png"><img class="alignnone size-thumbnail wp-image-8394" src="https://mojefedora.cz/wp-content/uploads/2017/02/12-1-272x254.png" alt="" width="272" height="254" /></a>
<p><i>Obrázek 14: Zobrazení adresářů, v&nbsp;nichž se hledají pluginy naprogramované v&nbsp;jazyku Scheme.</i></p>

<p>Posléze je možné spustit grafický editor <i>GIMP</i> a po jeho spuštění zvolit z&nbsp;hlavního menu příkaz <i>Script-Fu/Obnovit Skripty (Refresh Scripts)</i>. Po zvolení tohoto příkazu začne <i>GIMP</i> hledat a načítat skripty ze systémového adresáře i z&nbsp;adresáře uživatelského. Případné chyby ve skriptech se vypisují do konzole (pokud je GIMP z&nbsp;konzole/terminálu spuštěn) a posléze se zobrazí i v&nbsp;grafickém dialogu:</p>

<pre>
; Funkce, která vytvoří nový obrázek o zadané velikosti.
; V obrázku bude jedna hladina nazvaná "Hladina-1" a
; v této hladině bude vykreslena RGB paleta.
(define (script-fu-rgb-colors width height)
    ; definice lokálních proměnných platných uvnitř bloku
    (let*
        (
            ; vytvoření nového obrázku, jehož ID se uloží
            ; do proměnné nazvané "image"
            (image (car (gimp-image-new width height RGB)))
            ; vytvoření nové hladiny, jejíž ID se uloží
            ; do proměnné nazvané "layer"
            (layer (car (gimp-layer-new image width height RGB-IMAGE "Hladina-1" 100 NORMAL-MODE)))
            ; počitadla smyček
            (x 0)
            (y 0)
            ; pole s uloženými RGB hodnotami pixelu
            (pixel (cons-array 3 'byte))
        )

        ; zákaz ukládání operací do zásobníku
        (gimp-image-undo-disable image)

        ; přidání hladiny do vytvořeného obrázku
        (gimp-image-add-layer image layer 0)

        ; změna barvy popředí a pozadí
        (gimp-palette-set-foreground '(255 255 255))
        (gimp-context-set-background '(0 0 0))

        ; vyplnění hladiny konstantní barvou
        (gimp-drawable-fill layer 1)  ;0 FG, 1 BG

        ; vnější smyčka pro všechny řádky obrázku
        (while (&lt; y height)
          ; nastavit počitadlo vnitřní smyčky
          (set! x 0)
          ; vnitřní smyčka pro všechny pixely ležící na řádku
          (while (&lt; x width)
              (aset pixel 0 (* 256 (/ x width)))
              (aset pixel 1 (* 256 (/ y height)))
              (aset pixel 2 (* 256 (+ (/ x width) (/ y height))))
              ; vykreslení pixelu
              (gimp-drawable-set-pixel layer x y 3 pixel)
              ; zvýšit hodnotu počitadla vnitřní smyčky
              (set! x (+ x 1))
          )
          ; zvýšit hodnotu počitadla vnější smyčky
          (set! y (+ y 1))
        ) ; end of loop

        ; zobrazení právě vytvořeného obrázku
        (gimp-display-new image)

        ; povolení ukládání operací do zásobníku
        (gimp-image-undo-enable image)
    )
)

; Registrace skriptu do prostředí grafického editoru GIMP
; a specifikace proměnných nastavitelných uživatelem,
; které se posléze přenesou jako parametry skriptu.
(script-fu-register "script-fu-rgb-colors"
                    "&lt;Image&gt;/Filters/Render/Pattern/RGB colors"
                    "Vytvori obrazek s RGB paletou."
                    "Pavel Tisnovsky"
                    "Pavel Tisnovsky"
                    "2017-02-12"
                    ""
                    SF-ADJUSTMENT "Image width"  '(256 16 8192 16 64 0 1)
                    SF-ADJUSTMENT "Image height" '(256 16 8192 16 64 0 1)
)

; finito
</pre>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/13-1.png"><img class="alignnone size-thumbnail wp-image-8395" src="https://mojefedora.cz/wp-content/uploads/2017/02/13-1.png" alt="" width="488" height="233" /></a>
<p><i>Obrázek 15: Skript ve chvíli, kdy generuje obrázek.</i></p>

<p>Maximální rozlišení obrázku je omezeno na 8192&times;8129 pixelů a krok v&nbsp;ovládacím prvku je nastaven na 16. Samozřejmě je však možné zapsat libovolnou hodnotu menší než 8193 z&nbsp;klávesnice.</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/14-1.png"><img class="alignnone size-thumbnail wp-image-8396" src="https://mojefedora.cz/wp-content/uploads/2017/02/14-1-222x254.png" alt="" width="222" height="254" /></a>
<p><i>Obrázek 16: Výsledek běhu skriptu.</i></p>

<p>Náš demonstrační skript se po své registraci <i>GIMPem</i> nachází v&nbsp;menu <i>Filters/Render/Pattern</i> pod názvem <i>RGB colors</i>. Po výběru skriptu z&nbsp;menu se otevře dialog s&nbsp;možností zadání rozměrů nového obrázku. Vhodné hodnoty jsou například 128&times;128 pixelů nebo 256&times;256 pixelů, neboť u větších obrázků trvá jejich vykreslení poměrně dlouho. Jakmile jsou rozměry obrázku zadány, skript vytvoří nový plnobarevný (<i>truecolor</i>) obrázek, v&nbsp;něm zaregistruje jedinou hladinu pojmenovanou &bdquo;Hladina-1&ldquo; a do této hladiny vykreslí RGB paletu (obdélník s&nbsp;postupnou změnou barvových složek R, G a B). Vybarvení obrázku je provedeno tak, že se ve dvojici vnořených smyček se prochází všemi pixely obrázku (přesněji řečeno všemi pixely hladiny, protože hladiny mohou mít obecně jiné rozměry než samotný obrázek) a každý pixel je obarven na základě své x-ové a y-ové pozice v&nbsp;hladině.  Povšimněte si, že před prováděním jakýchkoli složitějších operací je zakázáno ukládání těchto operací do zásobníku, ve kterém si <i>GIMP</i> pamatuje předchozí stavy obrázku. Důvod je jednoduchý &ndash; urychlení běhu skriptu, které může být v&nbsp;tomto případě dosti výrazné (ani tak vás ale skript neoslní velkou rychlostí).</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/15-1.png"><img class="alignnone size-thumbnail wp-image-8397" src="https://mojefedora.cz/wp-content/uploads/2017/02/15-1-477x254.png" alt="" width="477" height="254" /></a>
<p><i>Obrázek 17: Funkce tvořená skriptem (pluginem) se zobrazí ve vestavěném prohlížeči.</i></p>



<p><a name="k12"></a></p>
<h2 id="k12">12. Sedmý demonstrační příklad: vykreslení Lissajousových obrazců</h2>

<p>Kreslení na úrovni jednotlivých pixelů, které bylo popsáno v&nbsp;předchozích kapitolách, není v&nbsp;žádném případě typickou operací, kterou skripty určené pro grafický editor <i>GIMP</i> provádí. Mnohem častěji se můžeme setkat se skripty, které kreslí či modifikují obrázek s&nbsp;využitím nástrojů dostupných samotným uživatelům <i>GIMPu</i>, což je samozřejmě mnohem zajímavější a užitečnější, neboť tyto nástroje jsou plně konfigurovatelné, a to jak programově (přímo ze spuštěného skriptu), tak i z&nbsp;grafického uživatelského rozhraní <i>GIMPu</i>. Právě tuto možnost si ukážeme v&nbsp;dnešním sedmém a současně i posledním demonstračním příkladu, v&nbsp;němž je předvedeno, jakým způsobem je možné kreslit do již vytvořeného obrázku pomocí tužky (kreslicí nástroj <i>pencil</i>) popř.&nbsp;štětce (kreslicí nástroj <i>brush</i>) nebo rozprašovače (kreslicí nástroj <i>airbrush</i>).</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/16-1.png"><img class="alignnone size-thumbnail wp-image-8398" src="https://mojefedora.cz/wp-content/uploads/2017/02/16-1-312x254.png" alt="" width="312" height="254" /></a>
<p><i>Obrázek 18: Výsledek běhu sedmého demonstračního příkladu při kreslení tužkou (pencil).</i></p>

<p>Pro kreslení tužkou je možné použít funkci <strong>gimp-pencil</strong>, pro kresbu štětcem funkci <strong>gimp-paintbrush</strong>. Při volání těchto funkcí se předávají různé parametry, především hladina, do níž se má vykreslování provést, počet bodů tvořících vrcholy polyčáry a poté vektor (zde je myšlena stejně pojmenovaná datová struktura, nikoli geometrický vektor), v&nbsp;němž jsou uloženy x-ové a y-ové souřadnice vrcholů polyčáry. Navíc se při kreslení štětcem předávají další parametry: kreslicí metoda (zda se barva při kreslení na stejné místo slévá či nikoli), délka barevného přechodu (<i>gradient</i>) a míra zeslabení při kresbě tlustým štětcem. Pokud tyto parametry nepotřebujeme  či nechceme zadávat, lze namísto funkce <strong>gimp-paintbrush</strong> volat funkci <strong>gimp-paintbrush-default</strong>.</p>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/17-1.png"><img class="alignnone size-thumbnail wp-image-8399" src="https://mojefedora.cz/wp-content/uploads/2017/02/17-1-225x254.png" alt="" width="225" height="254" /></a>
<p><i>Obrázek 19: Výsledek běhu sedmého demonstračního příkladu při malování štětcem (brush).</i></p>

<p>Sedmý demonstrační příklad po svém spuštění zobrazí formulář, do kterého je možné zadat základní parametry takzvaných <i>Lissajousových obrazců</i> (které jsou mj.&nbsp;využívané například při měření různých parametrů signálů pomocí osciloskopů). Jedná se o střed obrazce, poloměr obrazce v&nbsp;obou osách a také dvojici parametrů, které určují násobky základní frekvence. Tyto parametry ovlivňují tvar obrazce; pro souměrné tvary je například zajímavé použít dvojici malých nesoudělných celých čísel (2:3, 3:4, 3:5, 5:7 apod.). Při vykreslování obrazce je použit aktuálně nastavený nástroj tužka nebo štětec, přičemž přepínání mezi těmito dvěma nástroji se pro jednoduchost provádí zapoznámkováním jednoho z&nbsp;programových řádků v&nbsp;oblasti omezené znaky #######. Povšimněte si taktéž způsobu, jakým je do skriptu předán identifikátor aktuálního obrázku a hladiny:</p>

<pre>
; Funkce, která do existujícího obrázku vykreslí
; Lissajousův obrazec buď vybraným perem/tužkou nebo štětcem.
(define (script-fu-draw-lissajous selected-image selected-layer cx cy rx ry dx dy)
    ; definice lokálních proměnných
    (let*
        (
            ; vykreslovaná úsečka je představována vektorem
            ; (vektorem je zde myšlena datová struktura Scheme)
            (segment (make-vector 4 ))
            ; počet prvků vektoru
            (npoint 4)
            (alfa 0)
            (beta 0)
            ; 2xPi
            (full-circle (* 3.1415927 2))
            ; počet vykreslených segmentů
            (step (/ full-circle 200))
        )
        (gimp-undo-push-group-start selected-image)
        ; programová smyčka, v níž se vykreslí úsečkové segmenty
        ; ze kterých se skládá aproximace Lissajousovy křivky
        (while (&lt;= alfa full-circle)
            (set! beta (+ alfa step))
            ; výpočet počáteční a koncové souřadnice úsečky
            (vector-set! segment 0 (+ cx (* rx (cos (* alfa dx )) )))
            (vector-set! segment 1 (+ cy (* ry (cos (* alfa dy )) )))
            (vector-set! segment 2 (+ cx (* rx (cos (* beta dx )) )))
            (vector-set! segment 3 (+ cy (* ry (cos (* beta dy )) )))

            ; na tomto místě je možné vybrat buď kreslení
            ; tužkou/perem (pencil) nebo štětcem (brush)
            ; #################################################š
            ;(gimp-pencil selected-layer npoint segment )
            (gimp-paintbrush selected-layer 100 npoint segment 0 10)
            ; #################################################š

            ; přinutíme GIMP, aby obrázek vykreslil
            (gimp-displays-flush)
            (set! alfa beta)
        )
        ; uložíme stav obrázku na zásobník
        (gimp-undo-push-group-end selected-image) 
    )
    ; naposledy přinutíme GIMP, aby obrázek vykreslil
    (gimp-displays-flush)  
)

; Registrace skriptu do prostředí grafického editoru GIMP
; a specifikace proměnných nastavitelných uživatelem,
; které se posléze přenesou jako parametry skriptu.
(script-fu-register "script-fu-draw-lissajous"
                    "&lt;Image&gt;/Filters/Render/Lissajous"
                    "Vykresli Lissajousuv obrazec na zaklade zadanych parametru"
                    "Pavel Tisnovsky"
                    "Pavel Tisnovsky"
                    "2017-02-11"
                    "RGB* GRAY* INDEXED*"
                    SF-IMAGE "The Image" 0
                    SF-DRAWABLE "The Layer" 0
                    SF-ADJUSTMENT "X center" '(200 0 999 1 10 0 1)
                    SF-ADJUSTMENT "Y center" '(200 0 999 1 10 0 1)
                    SF-ADJUSTMENT "X radius" '(160 0 999 1 10 0 1)
                    SF-ADJUSTMENT "Y radius" '(160 0 999 1 10 0 1)
                    SF-ADJUSTMENT "Xd" '(2 0 10 1 10 0 1)
                    SF-ADJUSTMENT "Yd" '(3 0 10 1 10 0 1)
)

; finito
</pre>

<a href="https://mojefedora.cz/wp-content/uploads/2017/02/18-1.png"><img class="alignnone size-thumbnail wp-image-8400" src="https://mojefedora.cz/wp-content/uploads/2017/02/18-1-477x254.png" alt="" width="477" height="254" /></a>
<p><i>Obrázek 20: Skript se opět korektně zaregistroval v&nbsp;grafickém editoru GIMP a jeho popis je dostupný v&nbsp;prohlížeči procedur.</i></p>



<p><a name="k13"></a></p>
<h2 id="k13">13. Repositář s&nbsp;demonstračními příklady</h2>

<p>Všechny dnes popisované demonstrační příklady byly uloženy do Git repositáře
dostupného na adrese <a
href="https://github.com/tisnik/presentations">https://github.com/tisnik/presentations</a>.
Příklady si můžete v&nbsp;případě potřeby stáhnout i jednotlivě bez nutnosti
klonovat celý repositář:</p>

<table>
<tr><th>Příklad</th><th>Odkaz</th></tr>
<tr><td>new_image.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/new_image.py">https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/new_image.py</a></td></tr>
<tr><td>new_color_image.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/new_color_image.py">https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/new_color_image.py</a></td></tr>
<tr><td>color_image_with_specified_size.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/color_image_with_specified_size.py">https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/color_image_with_specified_size.py</a></td></tr>
<tr><td>basic_controls.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/basic_controls.py">https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/basic_controls.py</a></td></tr>
<tr><td>more_controls.py</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/more_controls.py">https://github.com/tisnik/presentations/blob/master/gimp/GIMP-Python/more_controls.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>rgb-colors.scm</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/scheme/rgb-colors.scm">https://github.com/tisnik/presentations/blob/master/gimp/scheme/rgb-colors.scm</a></td></tr>
<tr><td>draw-lissajous.scm</td><td><a href="https://github.com/tisnik/presentations/blob/master/gimp/scheme/draw-lissajous.scm">https://github.com/tisnik/presentations/blob/master/gimp/scheme/draw-lissajous.scm</a></td></tr>
</table>



<p><a name="k14"></a></p>
<h2 id="k14">14. Odkazy na Internetu</h2>

<ol>

<li>GIMP Home Page<br />
<a href="http://www.gimp.org/">http://www.gimp.org/</a>
</li>

<li>GIMP Python Documentation<br />
<a href="https://www.gimp.org/docs/python/">https://www.gimp.org/docs/python/</a>
</li>

<li>Writing GIMP Scripts and Plug-Ins<br />
<a href="http://gimpbook.com/scripting/">http://gimpbook.com/scripting/</a>
</li>

<li>GIMP Scripts and Plug-ins (slajdy)<br />
<a href="http://gimpbook.com/scripting/slides/index.html">http://gimpbook.com/scripting/slides/index.html</a>
</li>

<li>Use Python to write plug-ins for GIMP<br />
<a href="http://www.ibm.com/developerworks/library/os-autogimp/index.html">http://www.ibm.com/developerworks/library/os-autogimp/index.html</a>
</li>

<li>A Script-Fu Tutorial<br />
<a href="http://www.linuxtopia.org/online_books/graphics_tools/gimp_user_manual/en/gimp-using-script-fu-tutorial.html">http://www.linuxtopia.org/online_books/graphics_tools/gimp_user_manual/en/gimp-using-script-fu-tutorial.html</a>
</li>

<li>A Script-Fu Tutorial<br />
<a href="http://docs.gimp.org/en/gimp-using-script-fu-tutorial.html">http://docs.gimp.org/en/gimp-using-script-fu-tutorial.html</a>
</li>

<li>Digital Watercolor with Mypaint 0.9 and Gimp-painter (video)<br />
<a href="https://vimeo.com/18157214">https://vimeo.com/18157214</a>
</li>

<li>Water in Nature - a MyPaint + GIMP tutorial<br />
<a href="http://www.gimptalk.com/index.php?showtopic=37706">http://www.gimptalk.com/index.php?showtopic=37706</a>
</li>

<li>MyPaint (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/MyPaint">https://en.wikipedia.org/wiki/MyPaint</a>
</li>

<li>David Revoy (mj.&nbsp;používá MyPaint, GIMP i Kritu)<br />
<a href="http://davidrevoy.com/">http://davidrevoy.com/</a>
</li>

<li>Tux Paint Home Page<br />
<a href="http://www.tuxpaint.org/">http://www.tuxpaint.org/</a>
</li>

<li>Tux Paint (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Tux_Paint">https://en.wikipedia.org/wiki/Tux_Paint</a>
</li>

<li>MyPaint Home Page<br />
<a href="http://mypaint.org/">http://mypaint.org/</a>
</li>

<li>MyPaint &ndash; Documentation<br />
<a href="https://github.com/mypaint/mypaint/wiki/Documentation">https://github.com/mypaint/mypaint/wiki/Documentation</a>
</li>

<li>Gamut<br />
<a href="https://cs.wikipedia.org/wiki/Gamut">https://cs.wikipedia.org/wiki/Gamut</a>
</li>

<li>MtPaint Home Page<br />
<a href="http://mtpaint.sourceforge.net/">http://mtpaint.sourceforge.net/</a>
</li>

<li>The mtPaint Handbook<br />
<a href="http://mtpaint.sourceforge.net/handbook/en_GB/chap_00.html">http://mtpaint.sourceforge.net/handbook/en_GB/chap_00.html</a>
</li>

<li>MtPaint na Free Software Directory<br />
<a href="https://directory.fsf.org/wiki/MtPaint">https://directory.fsf.org/wiki/MtPaint</a>
</li>

<li>XPaint (minimalisticky pojatá home page)<br />
<a href="http://sf-xpaint.sourceforge.net/">http://sf-xpaint.sourceforge.net/</a>
</li>

<li>XPaint (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/XPaint">https://en.wikipedia.org/wiki/XPaint</a>
</li>

<li>X Athena Widgets<br />
<a href="https://en.wikipedia.org/wiki/X_Athena_Widgets">https://en.wikipedia.org/wiki/X_Athena_Widgets</a>
</li>

<li>Pinta: Painting Made Simple<br />
<a href="https://pinta-project.com/pintaproject/pinta/">https://pinta-project.com/pintaproject/pinta/</a>
</li>

<li>Pinta (software)<br />
<a href="https://en.wikipedia.org/wiki/Pinta_%28software%29">https://en.wikipedia.org/wiki/Pinta_%28software%29</a>
</li>

<li>Krita Home Page<br />
<a href="https://krita.org/en/">https://krita.org/en/</a>
</li>

<li>Krita (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Krita">https://en.wikipedia.org/wiki/Krita</a>
</li>

<li>Pinta – Image Editing Alternative to The GIMP<br />
<a href="https://www.maketecheasier.com/pinta-image-editing-alternative-to-the-gimp/">https://www.maketecheasier.com/pinta-image-editing-alternative-to-the-gimp/</a>
</li>

<li>GNU Paint Homepage<br />
<a href="https://www.gnu.org/software/gpaint/">https://www.gnu.org/software/gpaint/</a>
</li>

<li>GNU Paint na FreeCode<br />
<a href="http://freecode.com/projects/gpaint/">http://freecode.com/projects/gpaint/</a>
</li>

<li>KolourPaint - Paint Program<br />
<a href="https://www.kde.org/applications/graphics/kolourpaint/">https://www.kde.org/applications/graphics/kolourpaint/</a>
</li>

<li>The KolourPaint Handbook<br />
<a href="https://docs.kde.org/stable5/en/kdegraphics/kolourpaint/index.html">https://docs.kde.org/stable5/en/kdegraphics/kolourpaint/index.html</a>
</li>

<li>KolourPaint (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/KolourPaint">https://en.wikipedia.org/wiki/KolourPaint</a>
</li>

<li>KIconEdit - Icon Editor<br />
<a href="https://www.kde.org/applications/graphics/kiconedit/">https://www.kde.org/applications/graphics/kiconedit/</a>
</li>

<li>Phatch (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/Phatch">https://en.wikipedia.org/wiki/Phatch</a>
</li>

<li>GrafX2 Home Page<br />
<a href="http://pulkomandy.tk/projects/GrafX2">http://pulkomandy.tk/projects/GrafX2</a>
</li>

<li>GrafX2 (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/GrafX2">https://en.wikipedia.org/wiki/GrafX2</a>
</li>

<li>Resurgence of Pixel art<br />
<a href="http://www.developmentguruji.com/blog/142/Resurgence-of-Pixel-Art.html">http://www.developmentguruji.com/blog/142/Resurgence-of-Pixel-Art.html</a>
</li>

<li>Citypixel<br />
<a href="http://www.citypixel.com/index.htm">http://www.citypixel.com/index.htm</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2017</small></p>
</body>
</html>

