<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Vrapper aneb spojení možností Vimu a Eclipse</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Vrapper aneb spojení možností Vimu a Eclipse</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Integrované vývojové prostředí Eclipse, s nímž jsme se seznámili v seriálu o IDE ve Fedoře, je stále velmi populární, a to nejenom mezi vývojáři, kteří používají programovací jazyk Java. Pro některé zkušené uživatele textového editoru Vim však přechod na Eclipse může způsobovat problémy týkající se nutnosti použití interního (programátorského) editoru, kterým je Eclipse vybaveno. Jedno z řešení tohoto problému může představovat projekt Vrapper, který do Eclipse přináší poměrně pokročilou emulaci funkcí Vimu.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Integrované vývojové prostředí Eclipse</a></p>
<p><a href="#k02">2. Vrapper aneb spojení možností Vimu a Eclipse</a></p>
<p><a href="#k03">3. Instalace Vrapperu do Eclipse</a></p>
<p><a href="#k04">4. Režimy práce (módy) Vrapperu</a></p>
<p><a href="#k05">5. Editační příkazy a operátory</a></p>
<p><a href="#k06">6. Textové objekty</a></p>
<p><a href="#k07">7. Vyhledávání</a></p>
<p><a href="#k08">8. Značky</a></p>
<p><a href="#k09">9. Registry</a></p>
<p><a href="#k10">10. Obsah druhé části článku</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Integrované vývojové prostředí Eclipse</h2>

<p>S&nbsp;populárním a neustále rozvíjeným a vylepšovaným projektem <i>Eclipse</i> jsme se již seznámili v&nbsp;seriálu o IDE určených pro systém Fedora [<a href="http://mojefedora.cz/eclipse-integrovane-vyvojove-prostredi-pro-javu-i-dalsi-programovaci-jazyky/">1</a>][<a href="http://mojefedora.cz/vyuziti-eclipse-pro-vyvoj-aplikaci-v-programovacim-jazyku-java/">2</a>][<a href="http://mojefedora.cz/eclipse-a-programovaci-jazyk-java-poloautomaticke-opravy-chyb-a-refaktoring-zdrojovych-kodu/">3</a>][<a href="http://mojefedora.cz/eclipse-a-programovaci-jazyk-java-automaticka-tvorba-zdrojovych-kodu/">4</a>][<a href="http://mojefedora.cz/eclipse-a-programovaci-jazyk-java-5-automaticka-tvorba-zdrojovych-kodu-dokonceni/">5</a>]. Ve stručnosti si tedy pouze připomeňme, že se jedná o propracovanou a současně i do značné míry univerzálně použitelnou aplikaci, která se velmi často používá ve funkci integrovaného vývojového prostředí, především pro vývoj programů v&nbsp;Javě. V&nbsp;Eclipse lze vyvíjet desktopové i serverové aplikace, včetně aplikací založených na technologiích JEE; nesmíme zapomenout ani na vývoj pro operační systém Android s&nbsp;využitím pluginu nazvaného <i>Android Development Tools</i>.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2012/01/eclipse_01.png"><img title="vrapper01" src="http://mojefedora.cz/wp-content/uploads/2012/01/eclipse_01-450x343.png" alt="" width="450" height="343" /></a>
<p><i>Obrázek 1: Ukázka použití Eclipse ve funkci integrovaného vývojového prostředí použitého pro vývoj aplikací v&nbsp;programovacím jazyku Java.</i></p>

<p>Ve skutečnosti jsou však možnosti <i>Eclipse</i> mnohem větší, <i>Eclipse</i> totiž může díky svému systému přídavných modulů (pluginů) velmi dobře posloužit i pro vývoj a ladění aplikací v&nbsp;mnoha dalších programovacích jazycích, mezi něž patří například C a C++, (zajištěno pluginem <i>CDT</i>, jenž je typicky dostupný jako balíček pojmenovaný <strong>eclipse-cdt</strong>), Python (<i>PyDev</i>), PHP (<i>PHP Development Tools</i>) a dokonce i pro Fortran, COBOL či nověji Clojure (plugin <i>Counterclockwise</i>). Kromě toho pro toto vývojové prostředí existují pluginy určené pro tvorbu XML souborů, LaTeXových dokumentů, správu webových aplikací atd. Integrované vývojové prostředí <i>Eclipse</i> se taktéž používá pro vývoj takzvaných RCP aplikací (<i>Rich Client Platform</i>) využívaných především ve vnitrofiremních projektech (i když jsou tyto projekty s&nbsp;příchodem HTML 5 možná poněkud na ústupu). Zapomenout nesmíme ani na další pluginy, například na moduly určené pro využití systémů pro zprávu verzí (Git, ale i Mercurial, CSV či Subversion) či pluginy používané při testování aplikací.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2012/01/eclipse_11.png"><img title="vrapper02" src="http://mojefedora.cz/wp-content/uploads/2012/01/eclipse_11-450x343.png" alt="" width="450" height="343" /></a>
<p><i>Obrázek 2: Standardní rozložení oken v&nbsp;perspektivě nazvané &bdquo;Java Browsing&ldquo;, kterou využívají především vývojáři pracující na rozsáhlejších projektech. V&nbsp;Eclipse pojem &bdquo;perspektiva&ldquo; znamená rozložení oken IDE, které se pro různé účely může měnit.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Vrapper aneb spojení možností Vimu a Eclipse</h2>

<p>Integrované vývojové prostředí <i>Eclipse</i> se ovšem, ostatně jako prakticky každá jiná aplikace, nevyhnulo některým problémům, které vyplývají jak z&nbsp;použité technologie, tak i z&nbsp;faktu, že kooperace s&nbsp;dalšími aplikacemi může být v&nbsp;některých případech složitá. Poměrně elegantně je vyřešeno propojení <i>Eclipse</i> s&nbsp;překladači, interpretry a debuggery, což je ostatně pochopitelné, neboť bez tohoto propojení ztrácí myšlenka integrovaného vývojového prostředí svůj význam. Ovšem například nahrazení programátorského textového editoru, který je v&nbsp;<i>Eclipse</i> implementován, za jiný editor, je již mnohem složitější, což trápí zejména &bdquo;skalní&ldquo; uživatele programátorských editorů typu <i>Emacs</i> a <i>Vim</i>. Tito uživatelé mají mnohdy dlouholetou praxi v&nbsp;používání <i>Emacsu</i> a <i>Vimu</i>, takže znají mnohé klávesové zkratky a užitečné triky. K&nbsp;tomu navíc přidejme možnost editovat text ve <i>Vimu</i> velmi efektivním způsobem bez nutnosti opouštět základní alfanumerický blok klávesnice. Přechod na <i>Eclipse</i> je z&nbsp;pohledu těchto uživatelů dosti problematický, protože nelze zastírat, že schopnosti integrovaného programátorského editoru v&nbsp;<i>Eclipse</i> jsou poměrně primitivní (minimálně při porovnání právě s&nbsp;Vimem či Emacsem).</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/03.jpg"><img class="alignnone size-medium wp-image-5958" src="http://mojefedora.cz/wp-content/uploads/2015/11/03-450x166.jpg" alt="03" width="450" height="166" /></a>
<p><i>Obrázek 3: Autor článku používá tuto klávesnici (Poker II), která neobsahuje numerický blok ani blok s&nbsp;kurzorovými klávesami. Používání interního textového editoru Eclipse je zde tedy poměrně nešikovné. Instalací Vrapperu lze efektivitu editace zdrojových kódů rapidně zvýšit a současně zmenšit namáhání prstů při použití přeřaďovačů.</i></p>

<p>Na druhou stranu má však <i>Eclipse</i>, především <i>Eclipse JDT</i> určené pro vývoj aplikací v&nbsp;Javě, mnohé důležité vlastnosti spočívající v&nbsp;možnosti refaktoringu kódu, skvělé kooperace s&nbsp;interním překladačem a analyzátorem chyb, správcem projektu apod. (zjednodušeně lze říci, že <i>Eclipse</i> zdrojovému kódu &bdquo;rozumí&ldquo; a nepovažuje ho za pouhý shluk znaků, vět, bloků či odstavců popsatelných regulárními výrazy). Jak tedy propojit svět <i>Eclipse</i> se světem <i>Vimu</i>? Existuje hned několik řešení tohoto problému. Jedno z&nbsp;těchto řešení používá například projekt <a href="http://eclim.org/">Eclim</a>. Používá se zde buď spuštění <i>Eclipse</i> bez grafického uživatelského rozhraní s&nbsp;tím, že se funkce <i>Eclipse</i> volají z&nbsp;Vimu přes &bdquo;proxy&ldquo; server; alternativně se běžící instance <i>Vimu</i> vkládá do okna <i>Eclipse</i>. Odlišné řešení znají někteří uživatelé například z&nbsp;projektu <a href="http://www.vimperator.org/">Vimperator</a>. Jedná se o emulaci některých funkcí <i>Vimu</i> v&nbsp;jiné aplikaci (konkrétně <i>Vimperator</i> je určen pro Firefox). Právě tento přístup je použit i v&nbsp;dnes popisovaném pluginu <i>Vrapper</i>.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/04.png"><img class="alignnone size-medium wp-image-5959" src="http://mojefedora.cz/wp-content/uploads/2015/11/04.png" alt="04" width="125" height="60" /></a>
<p><i>Obrázek 4: Logo projektu Vrapper.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Instalace Vrapperu do Eclipse</h2>

<p>Nejprve si popišme způsob instalace pluginu <i>Vrapper</i>. Ta je velmi jednoduchá, a to i z&nbsp;toho důvodu, že tento plugin nezávisí na žádných dalších pluginech, takže pravděpodobnost neúspěchu při instalaci je poměrně malá. Ostatně abych si toto tvrzení ověřil, nainstaloval jsem plugin <i>Vrapper</i> i do &bdquo;starodávné&ldquo; verze <i>Eclipse</i> pocházející z&nbsp;roku 2009. Celá instalace <i>Vrapperu</i> spočívá v&nbsp;provedení několika kroků, které jsou naznačeny na následující sekvenci obrázků. Nechť si vážený čtenář přečte komentář ke každému obrázku, na němž jsou jednotlivé kroky instalace popsány podrobněji:</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/05.png"><img class="alignnone size-medium wp-image-5960" src="http://mojefedora.cz/wp-content/uploads/2015/11/05-450x296.png" alt="05" width="450" height="296" /></a>
<p><i>Obrázek 5: Dialog pro instalaci nových pluginů se poněkud neintuitivně skrývá v&nbsp;menu <strong>Help</strong> pod příkazem <strong>Install New Software</strong>.</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/06.png"><img class="alignnone size-medium wp-image-5961" src="http://mojefedora.cz/wp-content/uploads/2015/11/06-450x379.png" alt="06" width="450" height="379" /></a>
<p><i>Obrázek 6: Do tohoto dialogu je nutné zadat adresu (URL), na níž se nachází balíček Vrapper. Tato adresa zní <strong>http://vrapper.sourceforge.net/update-site/stable</strong>. Po potvrzení se objeví krátká zpráva &bdquo;Pending&ldquo; a posléze by se měly vypsat všechny balíčky, které byly na uvedené adrese nalezeny.</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/07.png"><img class="alignnone size-medium wp-image-5962" src="http://mojefedora.cz/wp-content/uploads/2015/11/07-450x379.png" alt="07" width="450" height="379" /></a>
<p><i>Obrázek 7: Prozatím provedeme pouze instalaci samotného Vrapperu a popř.&nbsp;i jeho varianty podporující režim split-window.</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/08.png"><img class="alignnone size-medium wp-image-5963" src="http://mojefedora.cz/wp-content/uploads/2015/11/08-450x379.png" alt="08" width="450" height="379" /></a>
<p><i>Obrázek 8: Po stisku <strong>Next</strong> se zobrazí všechny instalované balíčky. Povšimněte si, že se nemusí doinstalovávat žádné další podpůrné balíčky, na nichž by Vrapper závisel.</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/09.png"><img class="alignnone size-medium wp-image-5964" src="http://mojefedora.cz/wp-content/uploads/2015/11/09-450x379.png" alt="09" width="450" height="379" /></a>
<p><i>Obrázek 9: Dále je potřeba explicitně potvrdit, že souhlasíte s&nbsp;licencí, pod níž je plugin Vrapper šířen (jedná se o GPL, takže v&nbsp;tomto případě by neměly nastat žádné problémy).</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/10.png"><img class="alignnone size-medium wp-image-5965" src="http://mojefedora.cz/wp-content/uploads/2015/11/10-450x115.png" alt="10" width="450" height="115" /></a>
<p><i>Obrázek 10: Na dalším dialogu nám nezbývá, než souhlasit :-)</i></p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/11.png"><img class="alignnone size-medium wp-image-5966" src="http://mojefedora.cz/wp-content/uploads/2015/11/11-450x116.png" alt="11" width="450" height="116" /></a>
<p><i>Obrázek 11: Předposlední krok: rychlý restart celého integrovaného vývojového prostředí Eclipse.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Režimy práce (módy) Vrapperu</h2>

<p>Po (doufejme že úspěšné) instalaci si již můžeme práci s&nbsp;pluginem <i>Vrapper</i> otestovat. Na začátek je dobré si uvědomit, že <i>Vrapper</i> je použit v&nbsp;těch případech, v&nbsp;nichž <i>Eclipse</i> otevírá svůj programátorský textový editor (<i>Vrapper</i> rozšiřuje možnosti tohoto editoru), ale nikoli v&nbsp;některých formulářích, v&nbsp;nichž se používá běžný jednořádkový či víceřadkový editor nabízený knihovnou SWT. Stačí tedy například ve vývojovém prostředí otevřít libovolný zdrojový či konfigurační soubor. Důležité je sledovat, zda je tento plugin aktivní či nikoli, což se pozná při pohledu na jeho ikonu (viz též následující screenshot). Pokud je <i>Vrapper</i> aktivní, chová se interní editor integrovaného vývojového prostředí modálním způsobem, na který jsme zvyklí z&nbsp;<i>Vimu</i> či z&nbsp;jeho předchůdce <i>Vi</i>. To znamená, že implicitně se editor nachází v&nbsp;takzvaném normálním režimu (<i>normal mode</i>), po stisku dvojtečky se přepne do takzvaného příkazového režimu (<i>command mode</i>) a další jednopísmenné či dvoupísmenné klávesové zkratky slouží k&nbsp;přepnutí z&nbsp;režimu normálního do režimu vkládacího (<i>insert mode</i>) či režimu přepisovacího (<i>replace mode</i>).</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/12.png"><img class="alignnone size-medium wp-image-5967" src="http://mojefedora.cz/wp-content/uploads/2015/11/12-450x289.png" alt="12" width="450" height="289" /></a>
<p><i>Obrázek 12: Pokud se v&nbsp;integrovaném vývojovém prostředí objevila tato ikona, podařilo se Vrapper korektně nainstalovat a následně inicializovat.</i></p>

<p>Pro přepnutí z&nbsp;normálního režimu do režimu vkládacího či přepisovacího se používají především tyto jednopísmenné či dvoupísmenné příkazy:</p>

<table>
<tr><th>#</th><th>Příkaz</th><th>Význam příkazu</th><th>Začátek editace</th></tr>
<tr><td>1</td><td>a</td><td>přechod do vkládacího režimu</td><td><strong>za</strong> znakem, na němž byl umístěn kurzor</td></tr>
<tr><td>2</td><td>A</td><td>přechod do vkládacího režimu</td><td>na konci řádku</td></tr>
<tr><td>3</td><td>i</td><td>přechod do vkládacího režimu</td><td><strong>před</strong> znakem, na němž byl umístěn kurzor</td></tr>
<tr><td>4</td><td>I</td><td>přechod do vkládacího režimu</td><td>na prvním nebílém znaku na řádku</td></tr>
<tr><td>5</td><td>gI</td><td>přechod do vkládacího režimu</td><td>na prvním znaku na řádku</td></tr>
<tr><td>6</td><td>o</td><td>nový řádek+přechod do vkládacího režimu</td><td>na novém řádku <strong>pod</strong> původní pozicí kurzoru</td></tr>
<tr><td>7</td><td>O</td><td>nový řádek+přechod do vkládacího režimu</td><td>na novém řádku <strong>nad</strong> původní pozicí kurzoru</td></tr>
<tr><td>8</td><td>R</td><td>přechod do přepisovacího režimu</td><td>před znakem, na němž byl kurzor</td></tr>
</table>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/13.png"><img class="alignnone size-medium wp-image-5968" src="http://mojefedora.cz/wp-content/uploads/2015/11/13-450x289.png" alt="13" width="450" height="289" /></a>
<p><i>Obrázek 13: Právě aktuální režim Vrapperu je zobrazen na stavovém řádku Eclipse. Pokud se zadávají příkazy v&nbsp;příkazovém režimu, zobrazují se těsně pod oknem editoru.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Editační příkazy a operátory</h2>

<p>Kromě přechodu do vkládacího či přepisovacího režimu má normální režim ještě další velmi důležitý význam &ndash; slouží totiž k&nbsp;pohybu po textu, zadávání editačních příkazů, označení vizuálních bloků a taktéž pro volání příkazů pro vyhledávání v&nbsp;textu. Podívejme se nyní ve stručnosti na některé editační příkazy. Ty se typicky skládají ze tří částí: zadání počtu opakování (nepovinná část), specifikace vlastního příkazu (říká se mu operátor, stejně jako ve <i>Vimu</i>) a konečně specifikace příkazu pro posun kurzoru, čímž se vlastně určí rozsah textu, na nějž se editační příkaz bude vztahovat. Tento článek nemá být podrobnou uživatelskou příručkou k&nbsp;<i>Vrapperu</i>, proto si dostupné operátory popíšeme pouze velmi stručně. Naprostá většina operátorů pracuje stejně jako ve <i>Vimu</i>, takže se jeho skalní uživatelé nemusí při přechodu na <i>Vrapper</i> obávat velkých změn.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/14.png"><img class="alignnone size-medium wp-image-5969" src="http://mojefedora.cz/wp-content/uploads/2015/11/14-450x323.png" alt="14" width="450" height="323" /></a>
<p><i>Obrázek 14: Vrapper je možné nainstalovat i do starodávného Eclipse pocházejícího z&nbsp;roku 2009.</i></p>

<p>Editační příkazy, u nichž se nespecifikuje pohyb kurzoru (je dán implicitně):</p>

<table>
<tr><th> #</th><th>Operátor</th><th>Význam</th></tr>
<tr><td> 1</td><td>x</td><td>vymazání znaku (znaků) za kurzorem</td></tr>
<tr><td> 2</td><td>X</td><td>vymazání znaku (znaků) před kurzorem</td></tr>
<tr><td> 3</td><td>D</td><td>vymazání znaků od pozice kurzoru do konce řádku</td></tr>
<tr><td> 4</td><td>J</td><td>spojení řádků (vymazání EOLN na konci prvního spojovaného řádku)</td></tr>
<tr><td> 5</td><td>s</td><td>vymazání znaku (znaků) a přechod do vkládacího režimu</td></tr>
<tr><td> 6</td><td>S</td><td>vymazání řádku (řádků) a přechod do vkládacího režimu</td></tr>
<tr><td> 7</td><td>C</td><td>vymazání znaků od pozice kurzoru do konce řádku a přechod do vkládacího režimu</td></tr>
<tr><td> 8</td><td>p</td><td>paste (vložení textu z&nbsp;registru <strong>za</strong> kurzor)</td></tr>
<tr><td> 9</td><td>P</td><td>paste (vložení textu z&nbsp;registru <strong>před</strong> kurzor)</td></tr>
<tr><td>10</td><td>gJ</td><td>podobné příkazu J (join), ovšem mezi řádky se nevkládá mezera</td></tr>
<tr><td>11</td><td>gp</td><td>podobné příkazu p (paste), ovšem kurzor se přesune za vložený text (pokud se jedná o více řádků)</td></tr>
<tr><td>12</td><td>gP</td><td>podobné příkazu P (paste), ovšem kurzor se přesune za vložený text (pokud se jedná o více řádků)</td></tr>
</table>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/15.png"><img class="alignnone size-medium wp-image-5970" src="http://mojefedora.cz/wp-content/uploads/2015/11/15-450x307.png" alt="15" width="450" height="307" /></a>
<p><i>Obrázek 15: Instalace Vrapperu do starší verze integrovaného vývojového prostředí Eclipse.</i></p>

<p>Editační příkazy, u nichž se specifikuje pohyb kurzoru (je dán implicitně):</p>

<table>
<tr><th> #</th><th>Zkratka</th><th>Operátor</th><th>Význam</th></tr>
<tr><td> 1</td><td>y</td><td>yank</td><td>kopie textu do registru</td></tr>
<tr><td> 2</td><td>d</td><td>delete</td><td>vymazání textu (s&nbsp;vložením do registru)</td></tr>
<tr><td> 3</td><td>c</td><td>change</td><td>změna textu (delete a následný přechod do vkládacího režimu)</td></tr>
<tr><td> 4</td><td>r</td><td>replace</td><td>změna znaku pod kurzorem</td></tr>
<tr><td> 5</td><td>&gt;</td><td>shift right</td><td>posun textu doprava</td></tr>
<tr><td> 6</td><td>&lt;</td><td>shift left</td><td>posun textu doleva</td></tr>
<tr><td> 7</td><td>gu</td><td>lowercase</td><td>změna na malá písmena (mínusky)</td></tr>
<tr><td> 8</td><td>gU</td><td>UPPERCASE</td><td>změna na velká písmena (verzálky)</td></tr>
<tr><td> 9</td><td>gq</td><td>format</td><td>zformátování textu</td></tr>
<tr><td>10</td><td>v</td><td>visual</td><td>výběr bloku</td></tr>
</table>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/16.png"><img class="alignnone size-medium wp-image-5971" src="http://mojefedora.cz/wp-content/uploads/2015/11/16-450x392.png" alt="16" width="450" height="392" /></a>
<p><i>Obrázek 16: Instalace Vrapperu do starší verze integrovaného vývojového prostředí Eclipse.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Textové objekty</h2>

<p>Plugin <i>Vrapper</i>, podobně jako jeho ideový předchůdce textový editor <i>Vim</i>, podporuje i práci s&nbsp;takzvanými textovými objekty, které je možné kombinovat s&nbsp;výše uvedenými operátory. Pod tímto pojmem je možné si představit ucelenou část textu či zdrojového kódu. V&nbsp;případě dokumentů se jedná například o slova, věty či odstavce, u zdrojových kódů pak například o výraz v&nbsp;kulatých závorkách či o programový blok. V&nbsp;prostředí <i>Eclipse</i> jsou samozřejmě důležitější ty textové objekty, které se vztahují ke zdrojovému kódu. Jedná se především o tyto objekty:</p>

<table>
<tr><th> #</th><th>Textový objekt</th><th>Význam</th><th>Popis</th></tr>
<tr><td> 1</td><td>aw</td><td>a word</td><td>slovo včetně prázdných znaků okolo</td></tr>
<tr><td> 2</td><td>iw</td><td>inner word</td><td>slovo (bez prázdných znaků)</td></tr>
<tr><td> 3</td><td>aW</td><td>a WORD</td><td>slovo, ovšem včetně dalších znaků (závorky apod.)</td></tr>
<tr><td> 4</td><td>iW</td><td>inner WORD</td><td>slovo, ovšem včetně dalších znaků (závorky apod.)</td></tr>
<tr><td> 5</td><td>a]</td><td>a [] block</td><td>blok omezený znaky []</td></tr>
<tr><td> 6</td><td>i]</td><td>inner [] block</td><td>vnitřní blok omezený znaky [] (tedy bez závorek)</td></tr>
<tr><td> 7</td><td>a(</td><td>a () block</td><td>blok omezený znaky ()</td></tr>
<tr><td> 8</td><td>i(</td><td>inner () block</td><td>vnitřní blok omezený znaky () (tedy bez závorek)</td></tr>
<tr><td> 9</td><td>ab</td><td>a () block</td><td>blok omezený znaky ()</td></tr>
<tr><td>10</td><td>ib</td><td>inner () block</td><td>vnitřní blok omezený znaky () (tedy bez závorek)</td></tr>
<tr><td>11</td><td>a{</td><td>a {} block</td><td>blok omezený znaky {}</td></tr>
<tr><td>12</td><td>i{</td><td>inner {} block</td><td>vnitřní blok omezený znaky {} (tedy bez závorek)</td></tr>
<tr><td>13</td><td>aB</td><td>a {} block</td><td>blok omezený znaky {}</td></tr>
<tr><td>14</td><td>iB</td><td>inner {} block</td><td>vnitřní blok omezený znaky {} (tedy bez závorek)</td></tr>
<tr><td>13</td><td>a"</td><td>a string</td><td>řetězec včetně znaků ""</td></tr>
<tr><td>14</td><td>i"</td><td>inner string</td><td>řetězec kromě znaků ""</td></tr>
</table>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/17.png"><img class="alignnone size-medium wp-image-5972" src="http://mojefedora.cz/wp-content/uploads/2015/11/17-450x296.png" alt="17" width="450" height="296" /></a>
<p><i>Obrázek 17: Způsob konfigurace starší verze Vrapperu.</i></p>

<p>Kombinace textových objektů a operátorů je snadná:</p>

<table>
<tr><th> #</th><th>Příkaz</th><th>Význam</th><th>Popis</th></tr>
<tr><td> 1</td><td>dab</td><td>delete a block</td><td>(omezeno kulatými závorkam)</td></tr>
<tr><td> 2</td><td>dib</td><td>delete inner block</td><td>(omezeno kulatými závorkami)</td></tr>
<tr><td> 3</td><td>daB</td><td>delete a Block</td><td>(omezeno složenými závorkami)</td></tr>
<tr><td> 4</td><td>diB</td><td>delete inner Block</td><td>(omezeno složenými závorkami)</td></tr>
<tr><td> 5</td><td>cab</td><td>change a block</td><td>(kulaté závorky)</td></tr>
<tr><td> 6</td><td>cib</td><td>change inner block</td><td>(kulaté závorky)</td></tr>
<tr><td> 7</td><td>caB</td><td>change a Block</td><td>(složené závorky)</td></tr>
<tr><td> 8</td><td>ciB</td><td>change inner Block</td><td>(složené závorky)</td></tr>
<tr><td> 9</td><td>yab</td><td>yank a block</td><td>(kulaté závorky)</td></tr>
<tr><td>10</td><td>yib</td><td>yank inner block</td><td>(kulaté závorky)</td></tr>
<tr><td>11</td><td>yaB</td><td>yank a Block</td><td>(složené závorky)</td></tr>
<tr><td>12</td><td>yiB</td><td>yank inner Block</td><td>(složené závorky)</td></tr>
<tr><td>13</td><td>&gt;aB</td><td>right shift a Block</td><td>(složené závorky)</td></tr>
<tr><td>14</td><td>&gt;iB</td><td>right shift inner Block</td><td>(složené závorky)</td></tr>
</table>

<p>atd. atd. atd.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/18.png"><img class="alignnone size-medium wp-image-5973" src="http://mojefedora.cz/wp-content/uploads/2015/11/18-450x434.png" alt="18" width="450" height="434" /></a>
<p><i>Obrázek 18: Konfigurace barev používaných Vrapperem při vyhledávání.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Vyhledávání</h2>

<p>Pro vyhledávání ve zdrojovém kódu se používají příkazy <strong>/</strong> a <strong>?</strong>, přičemž první příkaz hledá směrem dolů (od kurzoru směrem ke konci souboru), zatímco příkaz druhý naopak směrem k&nbsp;začátku zdrojového textu. Po zadání <strong>/</strong> či <strong>?</strong> editor očekává regulární výraz ukončený klávesou Enter. Po vyhledání prvního výskytu textu odpovídajícího regulárnímu výrazu lze použít příkaz <strong>n</strong> pro nalezení dalšího výskytu či <strong>N</strong> pro nalezení výskytu předchozího (povšimněte si zde logiky: klávesa Shift vždy mění směr vyhledávání, minimálně na anglické klávesnici). Alternativně lze hledat výskyt jediného znaku příkazy <strong>f</strong> (<i>find</i>) a <strong>t</strong> (<i>till</i>), pro které opět existuje i verze hledající směrem zpět: <strong>F</strong> a <strong>T</strong>. Třetí možnost představují příkazy <strong>*</strong> a <strong>#</strong> určené pro hledání dalšího/předchozího identifikátoru, přičemž identifikátor se nachází pod kurzorem (tyto příkazy jsou velmi užitečné a vyplatí se je naučit používat).</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/19.png"><img class="alignnone size-medium wp-image-5974" src="http://mojefedora.cz/wp-content/uploads/2015/11/19-450x271.png" alt="19" width="450" height="271" /></a>
<p><i>Obrázek 19: Vyhledávání v&nbsp;praxi.</i></p>

<p>Průběh vyhledávání lze ovlivnit volbou <strong>:set hlsearch</strong>, která zvýrazní všechny výskyty textů odpovídajících zadanému regulárnímu výrazu. Toto chování se opět vypne volbou <strong>:set nohlsearch</strong>. Další užitečnou volbou může být <strong>:set incseach</strong>. V&nbsp;případě, že je tato volba použita (nastavena), bude se v&nbsp;textu automaticky zvýrazňovat ta část, která odpovídá regulárnímu výrazu, a to přímo v&nbsp;průběhu jeho zadávání. Ostatně postačuje se podívat na screenshoty číslo 19 a 20, kde jsou obě volby nastaveny.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/20.png"><img class="alignnone size-medium wp-image-5975" src="http://mojefedora.cz/wp-content/uploads/2015/11/20-450x271.png" alt="20" width="450" height="271" /></a>
<p><i>Obrázek 20: Vyhledávání v&nbsp;praxi.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Značky</h2>

<p>Plugin <i>Vrapper</i> podporuje i práci s&nbsp;takzvanými značkami (<i>marks</i>). Nejedná se však o značky vytvářené externími nástroji a ukládané většinou do souboru pojmenovaného <i>tags</i>, ale o interní seznam pozic kurzoru (jakési &bdquo;špendlíky&ldquo; zapíchnuté do důležitých míst) v&nbsp;souboru, na které se lze během editace vrátit, nebo na něž se lze odkazovat. Podobnou funkcionalitu nabízí i mnohé další programátorské textové editory, ovšem u nich se většinou jedná o maximálně deset značek, zatímco ve <i>Vrapperu</i> může být značek mnohem více, protože každé značce je přiřazeno jednopísmenné označení.V&nbsp;rámci jednoho souboru lze lokálně používat značky pojmenované malými písmeny <strong>a</strong> až <strong>z</strong>, zatímco značky pojmenované velkými písmeny <strong>A</strong> až <strong>Z</strong> si &bdquo;pamatují&ldquo; i jméno souboru, v&nbsp;němž jsou definovány, tudíž se jedná o značky globální. Speciální význam mají značky se jmény <strong>0</strong> až <strong>9</strong> a taktéž v&nbsp;některých případech velmi užitečná značka <strong>^</strong>. Významy některých jmen značek jsou shrnuty v&nbsp;následující tabulce:</p>

<table>
<tr><th>#</th><th>Jméno značky</th><th>Definice značky</th><th>Význam</th></tr>
<tr><td>1</td><td>a-z</td><td>manuálně</td><td>značky lokální v&nbsp;rámci souboru</td></tr>
<tr><td>2</td><td>A-Z</td><td>manuálně</td><td>značky globální, ke značce je připojeno i jméno souboru</td></tr>
<tr><td>3</td><td>0-9</td><td>automaticky</td><td>posledních deset pozic kurzoru při opuštění Vrapperu</td></tr>
<tr><td>4</td><td>&lt;</td><td>automaticky</td><td>začátek vybraného bloku</td></tr>
<tr><td>5</td><td>&gt;</td><td>automaticky</td><td>konec vybraného bloku</td></tr>
<tr><td>6</td><td>.</td><td>automaticky</td><td>pozice poslední změny provedené v&nbsp;editovaném souboru</td></tr>
<tr><td>7</td><td>^</td><td>automaticky</td><td>pozice kurzoru, na níž se kurzor naposledy nacházel ve vkládacím režimu</td></tr>
</table>

<p>Práce se značkami je v&nbsp;mnoha ohledech velmi jednoduchá, ostatně všechny
důležité příkazy najdete v&nbsp;následující tabulce:</p>

<table>
<tr><th>#</th><th>Příkaz</th><th>Význam</th></tr>
<tr><td>1</td><td>:marks</td><td>výpis všech právě aktivních značek</td></tr>
<tr><td>2</td><td>ma - mz</td><td>definice lokální značky a-z</td></tr>
<tr><td>3</td><td>mA - mZ</td><td>definice globální značky A-Z</td></tr>
<tr><td>4</td><td>'a - 'z</td><td>skok na řádek, kde je značka definovaná (jedná se o příkaz pohybu kurzoru!)</td></tr>
<tr><td>5</td><td>'A - 'Z</td><td>skok na soubor a řádek, kde je značka definovaná</td></tr>
<tr><td>6</td><td>`a - `z</td><td>skok na přesné místo, kde je značka definovaná (jedná se o příkaz pohybu kurzoru!)</td></tr>
<tr><td>7</td><td>'A - 'Z</td><td>skok na přesné místo (řádek i sloupec), kde je značka definovaná</td></tr>
</table>

<p>Příkazy <strong>'a</strong> - <strong>'z</strong> i <strong>`a</strong> až
<strong>`z</strong> jsou chápané jako příkazy pro pohyb kurzoru, což znamená,
že tyto příkazy lze kombinovat například s&nbsp;editačními operátory
<strong>d</strong> (<i>delete</i>), <strong>y</strong> (<i>yank</i>) a
<strong>c</strong> (<i>change</i>). To je velmi užitečné, protože lze snadno
vytvořit (lépe řečeno pouze označit) začátek &bdquo;bloku&ldquo;, například
příkazem <strong>ma</strong> a posléze je možné kurzor přesunout na konec bloku
a zvolit jeden z&nbsp;následujících příkazů (užitečnost ještě mnohem více
stoupá při použití značek v&nbsp;makrech):</p>

<table>
<tr><th>#</th><th>Příkaz</th><th>Význam</th></tr>
<tr><td>1</th><td>c`a</td><td>přepis části textu, jehož začátek je označený značkou <strong>a</strong> a konec je určený aktuální pozicí textového kurzoru</td></tr>
<tr><td>2</th><td>d`a</td><td>výmaz části textu, jehož začátek je označený značkou <strong>a</strong> a konec je určený aktuální pozicí textového kurzoru</td></tr>
<tr><td>3</th><td>y`a</td><td>vložení části textu, jehož začátek je označený značkou <strong>a</strong> a konec je určený aktuální pozicí textového kurzoru, do implicitního registru (bližší informace o registrech budou uvedeny v&nbsp;navazujícím textu)</td></tr>
<tr><td>4</th><td>gu`a</td><td>změna na malá písmena</td></tr>
<tr><td>5</th><td>gu`a</td><td>změna na velká písmena</td></tr>
<tr><td>6</th><td>gq`a</td><td>zformátování bloku (jako textu)</td></tr>
</table>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/21.png"><img class="alignnone size-medium wp-image-5976" src="http://mojefedora.cz/wp-content/uploads/2015/11/21-450x271.png" alt="21" width="450" height="271" /></a>
<p><i>Obrázek 21: Zobrazení všech značek příkazem <strong>:marks</strong>.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Registry</h2>

<p>Dalším užitečným a často používaným nástrojem nabízeným <i>Vrapperem</i> jsou takzvané <i>registry</i>. Jedná se o proměnné <i>Vrapperu</i> pojmenované jedním znakem, které v&nbsp;první řadě slouží pro kopii či přenos editovaných textů pomocí příkazů/operátorů <strong>c</strong> (<i>change</i>), <strong>s</strong> (<i>substitute</i>), <strong>d</strong> (<i>delete</i>), <strong>y</strong> (<i>yank</i>) a <strong>p</strong> (<i>paste</i>), což vlastně znamená, že registry lze využít ve funkci pojmenovaných schránek (<i>clipboard</i>). Druhou funkcí, které registry v&nbsp;tomto pluginu mají, je úschova maker, která se zaznamenávají příkazem <strong>q</strong> a vyvolávají se (spouští se) příkazem <strong>@</strong> (za těmito příkazy vždy následuje jméno registru, v&nbsp;němž je makro uschováno). Podobně jako v&nbsp;případě značek, existují registry naplňované uživatelem a registry, jejichž obsah je měněn textovým editorem automaticky při provádění různých operací. Jména a význam některých důležitých registrů můžete najít v&nbsp;následující tabulce:</p>

<table>
<tr><th>#</th><th>Registr</th><th>Význam</th></tr>
<tr><td>1</td><td>"</td><td>implicitní registr pro operace <strong>c</strong>, <strong>d</strong>, <strong>s</strong> nebo <strong>y</strong></td></tr>
<tr><td>2</td><td>a-z</td><td>registry, které je možné přímo měnit uživatelem</td></tr>
<tr><td>3</td><td>0-9</td><td>registry naplňované automaticky příkazy <strong>d</strong> a <strong>y</strong></td></tr>
<tr><td>4</td><td>:</td><td>registr obsahující poslední příkaz, vhodné při vyvolání tohoto příkazu jako makra</td></tr>
<tr><td>5</td><td>/</td><td>registr obsahující vyhledávaný řetězec</td></tr>
<tr><td>6</td><td>*</td><td>registr obsahující obsah schránky</td></tr>
<tr><td>7</td><td>+</td><td>registr obsahující obsah schránky</td></tr>
<tr><td>8</td><td>/</td><td>registr obsahující posledně vyhledávaný řetězec (resp.&nbsp;text odpovídající regulárnímu výrazu)</td></tr>
<tr><td>9</td><td>-</td><td>implicitní registr pro operace, které mění menší část textu, než je jeden textový řádek</td></tr>
</table>

<p>Pro výpis obsahu všech registrů se používá příkaz <strong>:registers</strong> nebo taktéž pouze jeho zkrácená forma <strong>:reg</strong>. Pomocí tohoto příkazu lze samozřejmě zobrazit i obsah maker zaznamenaných s&nbsp;využitím příkazu <strong>q</strong>. V&nbsp;předchozí tabulce byl uveden i speciální registr nazvaný prostě " (jde o ASCII uvozovky, nikoli o dvojici apostrofů). Tento registr je implicitně používán při provádění základních editovacích příkazů (či spíše operátorů) <strong>c</strong> (<i>change</i>), <strong>d</strong> (<i>delete</i>), <strong>y</strong> (<i>yank</i>) a <strong>p</strong> (<i>paste</i>). Pokud se má využít jiný registr, musí se před tyto příkazy napsat " (taktéž uvozovky, ovšem v&nbsp;tomto případě neplést s&nbsp;názvem registru), za nímž následuje jméno vybraného registru. Viz též následující příklady ukazující, jak se poměrně logicky dají ve <i>Vrapperu</i> tvořit složité editační operace z&nbsp;jednodušších operátorů a příkazů:</p>

<pre>
"add
"ap
&nbsp;
"b3dw
"bP
&nbsp;
"cdas
"cp
&nbsp;
"dyap
&nbsp;
"zyy
"xS
"q10s
</pre>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/22.png"><img class="alignnone size-medium wp-image-5977" src="http://mojefedora.cz/wp-content/uploads/2015/11/22-450x271.png" alt="22" width="450" height="271" /></a>
<p><i>Obrázek 22: Zobrazení všech registrů.</i></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Obsah druhé části článku</h2>

<p>I přes poměrně dokonalou emulaci <i>Vimu</i> však plugin <i>Vrapper</i> neumožňuje plnohodnotnou interpretaci skriptů naprogramovaných v&nbsp;jazyce <i>Vim Script</i> v&nbsp;<i>Eclipse</i> a tím pádem v&nbsp;něm ani není možné spouštět pluginy připravené pro textový editor <i>Vim</i>. To pochopitelně může představovat problém pro ty uživatele, kteří již ve <i>Vimu</i> aktivně využívají nějaký svůj oblíbený přídavný modul, ať již se jedná o široce známý plugin typu <i>NERDTree</i>, <i>Buffer Explorer</i>, <i>TagList</i> či o nějaký specializovanější přídavný modul. Částečné řešení tohoto problému představují pluginy připravené přímo pro <i>Vrapper</i>. Tyto pluginy jsou naprogramovány v&nbsp;Javě, se všemi klady a zápory, které toto řešení přináší. Mezi výhody je možné počítat fakt, že pluginy mohou být vytvářeny, upravovány i opravovány komunitou aktivně používající právě Javu (tato komunita bude pravděpodobně větší, než je počet vývojářů aktivně znajících <i>Vim Script</i>). Ve druhé části tohoto seriálu se s&nbsp;některými již hotovými pluginy určenými pro vývojáře v&nbsp;Javě, Pythonu či C/C++ seznámíme.</p>

<a href="http://mojefedora.cz/wp-content/uploads/2015/11/23.png"><img class="alignnone size-medium wp-image-5978" src="http://mojefedora.cz/wp-content/uploads/2015/11/23-450x281.png" alt="23" width="450" height="281" /></a>
<p><i>Obrázek 23: V&nbsp;případě, že vám něco ve Vrapperu schází, není problém si pro jakýkoli právě otevřený soubor spustit Vim, a to přímo z&nbsp;Eclipse zadáním příkazu <strong>:vim</strong>.</i></p>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2015</small></p>
</body>
</html>

