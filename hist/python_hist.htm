<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Další kulaté výročí v IT: dvacet let existence Pythonu 2</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Další kulaté výročí v IT: dvacet let existence Pythonu 2</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Na sérii článků o kulatých výročích v oblasti IT, které jsme oslavili loni i začátkem letoška, dnes navážeme. Blíží se totiž dvacáté výročí vydání Pythonu 2 a relativně brzy oslavíme i třicáté narozeniny samotného jazyka Python. Z kdysi marginálního jazyka se Python dostal prakticky až na samotný vrchol popularity.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Dvacet let existence Pythonu 2</a></p>
<p><a href="#k02">2. Předchůdce Pythonu &ndash; neúspěšný jazyk ABC</a></p>
<p><a href="#k03">3. Odsazování v&nbsp;ABC a Pythonu</a></p>
<p><a href="#k04">4. Další skriptovací jazyk?</a></p>
<p><a href="#k05">5. Python 1</a></p>
<p><a href="#k06">6. Python 2</a></p>
<p><a href="#k07">7. Svět Pythonu aneb nejedná se pouze o CPython</a></p>
<p><a href="#k08">8. Jython a IronPython</a></p>
<p><a href="#k09">9. PyPy a RPython</a></p>
<p><a href="#k10">10. Projekt Cython</a></p>
<p><a href="#k11">*** 11. Numba aneb další přístup k překladu Pythonu do nativního kódu</a></p>
<p><a href="#k12">*** 12. </a></p>
<p><a href="#k13">*** 13. GDScript</a></p>
<p><a href="#k14">*** 14. </a></p>
<p><a href="#k15">*** 15. </a></p>
<p><a href="#k16">*** 16. </a></p>
<p><a href="#k17">*** 17. </a></p>
<p><a href="#k18">*** 18. </a></p>
<p><a href="#k19">*** 19. </a></p>
<p><a href="#k20">*** 20. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Dvacet let existence Pythonu 2</h2>

<p><i>&bdquo;Interview Guido van Rossum: “I'd rather write code than
papers.”&ldquo;</i></p>

<p>Na úvod dnešního článku si zopakujme, že v&nbsp;loňském roce jsme si na
stránkách Roota připomněli trojici kulatých a současně i významných výročí
v&nbsp;oblasti programovacích jazyků. Po dvojici článků o <a
href="https://www.root.cz/clanky/tricet-let-od-vydani-revolucniho-turbo-pascalu-5-5/">třicátých
narozeninách Turbo Pascalu 5.5</a> a <a
href="https://www.root.cz/clanky/the-future-s-bright-the-future-s-cobol/">šedesátém
výročí vzniku programovacího jazyka COBOL</a> jsme si připomněli i sedmdesát
let, které <a
href="https://www.root.cz/clanky/sedmdesatiny-assembleru-lidsky-citelny-strojovy-kod/">uběhly
od vzniku nástroje</a>, který dnes nazýváme <i>assembler</i>. Díky tomu, že
samotný obor mechanických, elektromechanických a později čistě elektronických
počítačů existuje již osmdesát let, lze oprávněně očekávat, že další významná
výročí oslavíme i letos. Ostatně již stačil vyjít článek o jednom
z&nbsp;nejvýznamnějších programovacích jazyků vůbec. Jednalo se o <a
href="https://www.root.cz/clanky/sedesatiny-prevratneho-programovaciho-jazyka-algol-60/">ALGOL</a>,
přesněji řečeno o ALGOL-60. Ovšem zatímco samotný ALGOL je i přes velký vliv na
další vývoj programovacích jazyků prakticky mrtvým projektem, zdaleka to
neplatí pro dnešního jubilanta &ndash; programovací jazyk Python.</p>

<img src="https://i.iinfo.cz/images/55/algol-60-1.png" class="image-402359" alt="&#160;" width="607" height="159" />
<p><i>Obrázek 1: Vývoj programovacích jazyků, jejichž prapředkem je
ALGOL-58.</i></p>

<p>Ve skutečnosti letos oslavuje kulatiny Python 2, nikoli samotný jazyk Python
(i když toto je poměrně diskutabilní, protože v&nbsp;roce 1990 skutečně vznikla
interní verze pro potřeby <a href="https://www.cwi.nl/">CWI</a>). První
zveřejněná varianta Pythonu nesla označení 0.9.0 a byla poslána do diskusní
skupiny alt.sources v&nbsp;roce 1991.</p>

<p><div class="rs-tip-major">Poznámka: kulatiny tedy slaví Python 2.0, který
byl vydán v&nbsp;roce 2000 a slaví tedy 20 let.Z&nbsp;těchto číselných údajů
&ndash; 2.0, 2000, 20 &ndash; je patrné, že Guido van Rossum je pokrokový a
řídí se doporučeními <a href="http://eldar.cz/cimrman/cimr_hist.htm">Járy
Cimrmana na zapamatovatelná data</a>.</div></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Předchůdce Pythonu &ndash; neúspěšný jazyk ABC</h2>

<p><i>&bdquo;I remembered all my experience and some of my frustration with
ABC. I decided to try to design a simple scripting language that possessed some
of ABC's better properties, but without its problems. So I started typing. I
created a simple virtual machine, a simple parser, and a simple runtime. I made
my own version of the various ABC parts that I liked. I created a basic syntax,
used indentation for statement grouping instead of curly braces or begin-end
blocks, and developed a small number of powerful data types: a hash table (or
dictionary, as we call it), a list, strings, and numbers.&ldquo;</i></p>

<p>Pro většinu čtenářů asi nebude příliš velkým překvapením konstatování, že
autorem programovacího jazyka Python je <a
href="https://gvanrossum.github.io/">Guido van Rossum</a>. Před popisem vývoje
samotného Pythonu se však musíme nejprve zmínit o <a
href="https://homepages.cwi.nl/~steven/abc/">programovacím jazyce ABC</a>,
jehož vývoj začal již v&nbsp;polovině osmdesátých let minulého století
v&nbsp;CWI. Pravě na vývoji tohoto jazyka pracoval mj.&nbsp;i Guido; tehdy na
juniorské pozici a ve vývojovém týmu společně s&nbsp;Lambertem Meertensem, Leo
Geurtsem a Stevenem Pembertonem. Cílem tohoto týmu bylo vytvořit programovací
jazyk dobře použitelný i lidmi, kteří sice nejsou profesionálními programátory,
ale aplikace potřebují vytvářet a nějakým způsobem udržovat (jednou
z&nbsp;cílových skupin byli pochopitelně vědci).</p>

<p>Jen pro připomenutí dobových reálií &ndash; v&nbsp;polovině osmdesátých let
minulého století došlo k&nbsp;obrovskému rozvoji v&nbsp;oblasti osmibitových
domácích mikropočítačů i šestnáctibitových osobních mikropočítačů. A především
domácím mikropočítačům kraloval jiný programovací jazyk určený pro širokou
veřejnost a nikoli pro profesionály &ndash; <a
href="https://www.root.cz/clanky/programovaci-jazyk-basic-na-osmibitovych-mikropocitacich/">BASIC</a>.
Jenže na rozdíl od (většinou) nestrukturovaného BASICu, který navíc nabízel jen
základní datové typy (čísla, řetězce, jednorozměrná pole, matice) byl
programovací jazyk ABC navržen odlišným, dnes bychom řekli, že mnohem
modernějším způsobem (zdá se, že Meertens dokonce BASIC přímo nesnášel, jeho
motto bylo &bdquo;Stamp out Basic!&ldquo;). Ostatně podívejme se na jednoduchý
příklad programu, který získá všechna slova ze vstupního dokumentu. Můžeme zde
vidět velkou podobnost s&nbsp;pozdějším Pythonem &ndash; odsazování je součástí
syntaxe, používání dvojteček, programová smyčka typu for-each, použití
operátoru not.in atd:</p>

<pre>
HOW TO RETURN words document:
   PUT {} IN collection
   FOR line IN document:
      FOR word IN split line:
         IF word not.in collection:
            INSERT word IN collection
   RETURN collection
</pre>

<p><div class="rs-tip-major">Poznámka: <strong>HOW TO RETURN</strong> definuje
novou funkci, tj.&nbsp;jedná se o obdobu dnešního <strong>def</strong>.
Referenční příručka celého jazyka ABC je dostupná na stránce <a
href="https://homepages.cwi.nl/~steven/abc/qr.html">https://homepages.cwi.nl/~steven/abc/qr.html</a>.</div></p>

<p>Ovšem ukázalo se, že svět IT nebyl na tento programovací jazyk připraven
(někdo by řekl, že se jednalo o špatné načasování vstupu na trh). Na
mikropočítačích s&nbsp;relativně malými systémovými zdroji nebylo možné
potenciálu ABC využít (navíc mu konkuroval BASIC, o kterém vycházely desítky,
možná i stovky knížek a který byl díky uložení v&nbsp;ROM logicky prvním
jazykem většiny začátečníků) a na druhé straně výkonnostního spektra, tedy na
počítačích s&nbsp;UNIXem, se již používaly odlišné skriptovací jazyky,
například Tcl (1988) a Perl (1987); na strojích IBM se naproti tomu používal <a
href="https://www.root.cz/clanky/historie-vyvoje-textovych-editoru-xedit-a-programovaci-jazyk-rexx/#k06">jazyk
Rexx</a> (1979), ze kterého se na Amize vyvinul <a
href="https://www.root.cz/clanky/historie-vyvoje-pocitacovych-her-51-cast-dalsi-vyvojove-nastroje-dostupne-pro-mikropocitace-amiga/#k04">jazyk
ARexx</a>. Nicméně i přes relativní neúspěch jazyka ABC nebyly základní
myšlenky ztraceny, protože je později Guido van Rossum použil právě při
implementaci první verze Pythonu, který z&nbsp;jazyka ABC v&nbsp;mnoha ohledech
vycházel.</p>

<p>Prvotní verze Pythonu (před oficiální verzí 1.0) jsou vypsány
v&nbsp;následující tabulce:</p>

<table>
<tr><th>Verze</th><th>Datum vydání</th></tr>
<tr><td>0.9.0</td><td>20. února 1991</td></tr>
<tr><td>0.9.1</td><td>konec února 1991</td></tr>
<tr><td>0.9.2</td><td>podzim 1991</td></tr>
<tr><td>0.9.4</td><td>24. prosince 1991</td></tr>
<tr><td>0.9.5</td><td>2. ledna 1992</td></tr>
<tr><td>0.9.6</td><td>6. dubna 1992</td></tr>
<tr><td>0.9.8</td><td>9. ledna 1993</td></tr>
<tr><td>0.9.9</td><td>29. července 1993</td></tr>
</table>

<p><div class="rs-tip-major">Poznámka: pravděpodobně již nikdo tyto verze
nepoužívá v&nbsp;produkčním prostředí, což ovšem neplatí pro Python
1.</div></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Odsazování v&nbsp;ABC a Pythonu</h2>

<p>Zkušenější programátoři, kteří se seznamují s&nbsp;programovacím jazykem
Python, bývají překvapeni tím, že součástí syntaxe tohoto jazyka je i odsazení;
navíc se na začátku bloků používá dvojtečka (naopak začátečníci, kteří jiný
jazyk neznají, tento fakt většinou zcela přirozeně přijmou). Kde se vlastně
tento neobvyklý zápis programů objevil? Ještě před samotným jazykem ABC bylo
vytvořeno několik jeho předchůdců označovaných písmenem B a číslovkou (B0, B1,
...). A již v&nbsp;B0 se objevilo <i>povinné</i> odsazování, které zde mělo
význam sdružení operací do bloků. Ovšem samotné bloky tehdy byly uvozeny
klíčovými slovy <strong>BEGIN</strong> a <strong>END</strong>. Plánovalo se, že
díky použití klíčových slov bude odsazování prováděno automaticky ve
specializovaném programátorském textovém editoru.</p>

<p><div class="rs-tip-major">Poznámka: tato klíčová slova známe i
z&nbsp;Pascalu nebo programovacího jazyka Lua. Ovšem v&nbsp;těchto jazycích
není odsazování striktně vyžadováno, na rozdíl od jazyka B.</div></p>

<a href="https://www.root.cz/obrazek/368436/"><img src="https://i.iinfo.cz/images/238/tp03-6-prev.png" class="image-368436" alt="&#160;" width="370" height="219" /></a>
<p><i>Obrázek 2: Nepovinné, ovšem pochopitelně doporučené odsazování
v&nbsp;Pascalu, resp.&nbsp;zde konkrétně v&nbsp;Turbo Pascalu.</i></p>

<p>Ovšem poté si tvůrci jazyka B0 uvědomili, že vyžadovat odsazení a současně
navíc i použití klíčových slov <strong>BEGIN</strong> a <strong>END</strong> je
vlastně nadbytečné a proto v&nbsp;jazyce B1 (tedy ve druhé generaci jazyka B)
již chybělo klíčové slovo <strong>BEGIN</strong>. Namísto <strong>END</strong>
se používalo spojení <strong>END IF</strong>, <strong>END FOR</strong> atd. (to
tedy znamená, že podmínky a smyčky automaticky vytvářely bloky, což je podle
mého názoru dobrý způsob strukturování programů). A nakonec se v&nbsp;jazyce B2
programátoři &bdquo;museli&ldquo; zcela obejít bez zápisu začátků a konců bloků
pomocí klíčových slov &ndash; vše bylo vyřešeno pouhým odsazením.</p>

<p><div class="rs-tip-major">Poznámka: odsazení pro specifikaci bloků se
používalo i v&nbsp;jiných jazycích (Miranda atd.), ovšem jazyk B byl
pravděpodobně prvním jazykem, kde k&nbsp;této implementaci došlo.</div></p>

<p>Dalším typickým prvkem jazyka B (a posléze ABC a Pythonu) je dvojtečka před
začátkem bloku. Myšlenka použít dvojtečku vznikla v&nbsp;roce 1978, kdy Robert
Dewar, Peter King, Jack Schwartz a náš starý známý Lambert Meertens navrhovali
syntaxi jazyka B a porovnávali různě zápisy bubble sortu. Nakonec zavolali
manželku Roberta Dewara a zeptali se jí, zda se jí navržená varianta líbí. Ta
odpověděla, že má pocit, že se zápis &bdquo;FOR i ...&ldquo; vztahuje pouze
k&nbsp;jednomu řádku a nikoli k&nbsp;celému bloku pod tímto řádkem. A právě na
základě tohoto alfa testingu návrhu jazyka bylo rozhodnuto před začátkem bloku
používat dvojtečku, což Pythonu vydrželo až do dneška.</p>

<p><div class="rs-tip-major">Poznámka: to vlastně znamená, že dvojtečka před
začátkem bloku (namísto závorek či klíčových slov) není v&nbsp;žádném případě
novým a neobvyklým vynálezem; je s&nbsp;námi v&nbsp;IT již 42 let.</div></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Další skriptovací jazyk?</h2>

<p>Jak jsme se již zmínili <a href="#k01">v&nbsp;úvodní kapitole</a>, vznikl
programovací jazyk Python na samotném začátku devadesátých let minulého
století. Z&nbsp;mnoha pohledů se jednalo o důležitý mezník v&nbsp;rozvoji IT,
protože právě tehdy se začala stále více rozšiřovat myšlenka, že programovací
jazyky určené <i>pro vývoj plnohodnotných aplikací</i> lze zhruba rozdělit do
dvou kategorií &ndash; překládané systémové jazyky a jazyky skriptovací.
Samozřejmě, že se skriptovací jazyky používaly i před tímto obdobím, ale
většinou se jednalo o relativně primitivní formy předpisů pro dávkové úlohy
(výjimkou je například již zmíněný jazyk Rexx, jehož vyjadřovací prostředky již
byly na vysoké úrovni) a převažoval názor, že plnohodnotné aplikace musí být
psány v&nbsp;překládaných jazycích, tedy typicky v&nbsp;jazycích ALGOLské větvě
se statickým typováním (schválně nepíšu se silným typováním, to je sice
související, ovšem odlišná vlastnost).</p>

<p>V&nbsp;průběhu devadesátých let se tedy zpočátku mírně opovrhované
skriptovací jazyky staly mnohdy nedílnou součástí mnoha profesionálních
aplikací. Celý vývoj a s&nbsp;ním související myšlenkový posun byl nakonec
shrnut ve slavném článku <a
href="https://web.stanford.edu/~ouster/cgi-bin/home.php">Johna Ousterhouta</a>
&bdquo;Scripting: Higher Level Programming for the 21st Century&ldquo;, v&nbsp;
němž se opakovala myšlenka na souběžné a koopertivní použití dvou jazyků
&ndash; systémového a skriptovacího.</p>

<p><div class="rs-tip-major">Poznámka: do skupiny klasických skriptovacích
jazyků z&nbsp;této doby lze zařadit právě Python, dále Perl, Tcl, Rexx, shell
(resp.&nbsp;jeho různé varianty) a taktéž poněkud později vytvořený jazyk Ruby.
Ovšem ze širšího pohledu můžeme skupinu rozšířit například i o <a
href="https://www.root.cz/serialy/programovaci-jazyk-lua/">programovací jazyk
Lua</a> nebo o JavaScript.</div></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Python 1</h2>

<p>První stabilní (ve smyslu sémantiky) verze programovacího jazyka Python byla
vydána v&nbsp;roce 1994 a verze 1.x byly postupně vydávány až do roku 2001, kdy
vyšla poslední jedničková verze 1.6.1, která celou řadu Python 1 uzavřela.
V&nbsp;Pythonu 1 pochopitelně nenalezneme všechny vlastnosti, které známe ze
stále ještě rozšířeného Pythonu 2 nebo Pythonu 3. Například řetězce byly
v&nbsp;Pythonu 1 čistě osmibitové (ASCII), zatímco už v&nbsp;Pythonu 2 bylo
možné použít Unicode řetězce. Dále v&nbsp;Pythonu 1 nebyla podporována
<i>generátorová notace seznamu</i> neboli <i>list comprehension</i>. Taktéž
neexistovaly operátory spojené s&nbsp;přiřazením, tedy například
<strong>+=</strong>, <strong>|=</strong> atd. Ty byly přidány až do Pythonu 2;
inspirací byly pochopitelně céčkové jazyky. A konečně, v&nbsp;Pythonu 1 neměly
řetězce žádné metody, například <strong>string.startswith</strong> atd. &ndash;
i tato funkcionalita byla přidána až v&nbsp;Pythonu 2.</p>

*** image ***
<p><i>Obrázek 3: Python 1.5.2 na moderním hardware.</i></p>

<p>V&nbsp;následující tabulce jsou vypsány všechny oficiálně vydané verze
Pythonu 1:</p>

<table>
<tr><th>Verze</th><th>Datum vydání</th></tr>
<tr><td>1.0.0</td><td>26. ledna 1994</td></tr>
<tr><td>1.0.2</td><td>15. února 1994</td></tr>
<tr><td>1.0.3</td><td>4. května 1994</td></tr>
<tr><td>1.0.4</td><td>14. července, 1994</td></tr>
<tr><td>1.1  </td><td>11. října 1994</td></tr>
<tr><td>1.1.1</td><td>10. listopadu 1994</td></tr>
<tr><td>1.2  </td><td>13. dubna 1995</td></tr>
<tr><td>1.3  </td><td>13. října 1995</td></tr>
<tr><td>1.4  </td><td>25. října 1996</td></tr>
<tr><td>1.5  </td><td>3. ledna 1998</td></tr>
<tr><td>1.5.1</td><td>31. října 1998</td></tr>
<tr><td>1.5.2</td><td>13. dubna 1999</td></tr>
<tr><td>1.6  </td><td>5. září 2000</td></tr>
<tr><td>1.6.1</td><td>25. února 2001</td></tr>
</table>

<p><div class="rs-tip-major">Poznámka: v&nbsp;době, kdy verze knihovny určené
pro JavaScript vydaná před dvěma týdny je považována za zoufale zastaralou, se
to může zdát zvláštní, ale stále se můžeme ve specifických případech setkat
s&nbsp;použitím Pythonu verze 1. Konkrétně jsem viděl použití Pythonu 1.5.2 a
1.6.1. Ostatně konkrétně tyto verze jsou dostupné ve formě zdrojových kódů a
jsou stále přeložitelné i na současných verzích Linuxu.</div></p>

*** image ***
<p><i>Obrázek 4: Interaktivní smyčka REPL Pythonu 1.5.2 již měla všechny
základní vlastnosti interaktivních smyček používaných dodnes.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Python 2</h2>

<p><i>&bdquo;Python where we can, C++ where we must.&ldquo;<br />
Google</i></p>

<p>Tento článek vznikl primárně kvůli Pythonu 2, jehož první vydání datujeme na
16. říjen 2000, takže Python 2 skutečně letos oslaví dvacetileté výročí
(resp.&nbsp;přesněji řečeno ho neoslaví, protože mu ještě před tímto datem
skončí oficiální podpora). Python 2 byl velmi úspěšným projektem, který do
značné míry zajistil Pythonu místo na samotném vrcholu popularity
programovacích jazyků. Ovšem již v&nbsp;roce 2008 vyšel Python 3.0 (založený na
<a href="https://www.python.org/dev/peps/pep-3000/">PEP 3000</a> alias Python
3000), který je s&nbsp;verzí 2 částečně nekompatibilní. A právě popularita a
velké rozšíření Pythonu 2 a jeho balíčků na jedné straně a nekompatibilita
Pythonu 3 na straně druhé zapříčinila více než desetileté schizma světa
Pythonu, které je teprve postupně napravováno s&nbsp;tím, jak se stále více
balíčků a aplikací portuje na Python 3.</p>

*** image ***
<p><i>Obrázek 5: Původní logo Pythonu.</i></p>

<p><div class="rs-tip-major">Poznámka: na druhou stranu je nutné poznamenat, že
se přechod na Python 3 v&nbsp;mnoha oblastech podařil a to v&nbsp;mnoha
případech relativně snadno. Nenastala tedy taková patová situace, jako
v&nbsp;případě Perlu 5 vs. Perl 6 (dnes Raku).</div></p>

*** image ***
<p><i>Obrázek 6: Nové logo Pythonu.</i></p>

<p>Opět si pochopitelně vypíšeme data vydání různých verzí Pythonu 2 (bez
desetinných vydání):</p>

<table>
<tr><th>Verze</th><th>Datum vydání</th></tr>
<tr><td>2.0</td><td>16. října 2000</td></tr>
<tr><td>2.1</td><td>17. dubna 2001</td></tr>
<tr><td>2.2</td><td>21. prosince 2001</td></tr>
<tr><td>2.3</td><td>29. července 2003</td></tr>
<tr><td>2.4</td><td>30. listopadu 2004</td></tr>
<tr><td>2.5</td><td>16. září 2006</td></tr>
<tr><td>2.6</td><td>1. října 2008</td></tr>
</table>



<p><a name="k07"></a></p>
<h2 id="k07">7. Svět Pythonu aneb nejedná se pouze o CPython</h2>

<p>Původní interpretr programovacího jazyka Python se dnes nazývá CPython,
protože mnohdy je nutné odlišit mezi mnoha implementacemi Pythonu.
V&nbsp;současnosti totiž kromě klasického (a nutno říci, že pro některé účely i
pomalého) CPythonu máme k&nbsp;dispozici i překladače, a to jak AOT (<i>ahead
of-time</i>), tak i JIT (<i>just-in-time</i>). Navíc existují i další varianty
Pythonu určené pro běh na virtuálních strojích Javy popř.&nbsp;CLR. Svět
Pythonu je tedy velmi rozsáhlý a pravděpodobně se (možná vedle Scheme a LISPu)
jedná o jazyk s&nbsp;nejvíce různorodými implementacemi vůbec. S&nbsp;některými
zajímavými implementacemi Pythonu se ve stručnosti seznámíme v&nbsp;navazujícím
textu.</p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Jython a IronPython</h2>

<p>Jython je jméno implementace programovacího jazyka Python určená pro běh ve
virtuálním stroji jazyka Java (<i>JVM &ndash; Java Virtual Machine</i>). A
nejenom to &ndash; aplikace psané v&nbsp;Jythonu mohou <i>kooperovat</i>
s&nbsp;třídami a rozhraními vytvořenými v&nbsp;Javě, což je pro mnoho aplikací
velmi výhodné, protože s&nbsp;rostoucí složitostí moderních aplikací je
většinou zapotřebí mít k&nbsp;dispozici vhodný skriptovací jazyk sloužící jako
&bdquo;lepidlo&ldquo; (<i>glue</i>) mezi jednotlivými bloky, z&nbsp;nichž se
aplikace skládá (viz již výše zmínený Ousterhoutův článek). Jython ovšem
samozřejmě není dokonalý. Jednou z&nbsp;jeho nevýhod je fakt, že je stále
postaven na dnes již obstarožním Pythonu 2, druhou nevýhodou pak ta skutečnost,
že se jedná o dosti pomalý jazyk. Tato pomalost se negativně projeví zejména
při výpočtech a někdy i při manipulaci s&nbsp;rozsáhlými datovými strukturami,
ovšem u aplikací, v&nbsp;nichž převládají I/O operace se nemusí jednat o
kritický nedostatek.</p>

*** image ***
<p><i>Obrázek 7: Logo programovacího jazyka Jython.</i></p>

<p>Alternativou k&nbsp;Jythonu jsou jazyky Groovy a Scala.</p>

<p>Další implementací Pythonu je IronPython. Zatímco Jython je určený pro JVM,
IronPython využívá možností poskytovaných <i>CLR</i> (<i>Common Language
Infrastructure</i>) a nad ní postavenou knihovnou <i>DLR</i> (<i>Dynamic
Language Runtime</i>), která je přímo určená pro implementaci dynamických
programovacích jazyků. IronPython může spolupracovat s&nbsp;kódem napsaným
v&nbsp;dalších jazycích běžících nad CLR a tím pádem dobře zapadá do celého
frameworku .NET i Mono. Výkonnost IronPythonu bývá srovnatelná s&nbsp;klasickým
CPythonem &ndash; některé benchmarky dopadají hůře, jiné lépe (obecně však lze
říci, že IronPython je rychlejší než Jython).</p>

*** image ***
<p><i>Obrázek 8: Logo programovacího jazyka IronPython.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. PyPy a RPython</h2>

<p><i>&bdquo;RPython is half-Python, half-not-Python, and Python&ldquo;</i></p>

<p>S&nbsp;projektem <a href="http://pypy.org/">PyPy</a> se již s&nbsp;velkou
pravděpodobností setkalo mnoho programátorů používajících pro vývoj
programovací jazyk Python. Jen ve stručnosti si řekněme, že se jedná o jednu
z&nbsp;(dnes již velkého množství) implementací Pythonu, která je založena na
interpretru (podobně jako klasický CPython) zkombinovaném s&nbsp;just-in-time
překladačem (<i>JITem</i>). Samotný projekt PyPy je přitom z&nbsp;velké části
napsán ve dvou jazycích &ndash; běžném Pythonu a navíc i v&nbsp;RPythonu, což
je programovací jazyk, jehož základní vlastnosti si v&nbsp;této kapitole
stručně představíme. RPython získal své jméno ze sousloví &bdquo;Restricted
Python&ldquo;, přičemž všechna omezení, která RPython zavádí, jsou pečlivě
vybrána z&nbsp;toho důvodu, aby se zjednodušila či vůbec umožnila analýza
(R)pythonovského kódu, který je překládán do nativního (objektového) kódu.</p>

<p>Tím se dostáváme k&nbsp;základní vlastnosti RPythonu &ndash; ten totiž není
interpretován, ale skutečně překládán do objektového kódu a z&nbsp;výsledku se
vytváří spustitelná aplikace. Celý proces zpracování je poměrně komplikovaný a
zdlouhavý, ale ve stručnosti ho lze popsat několika body:</p>

<ol>

<li>Na vstupu se nachází zdrojové kódy naprogramované v&nbsp;RPythonu
(<strong>.py</strong>)</li>

<li>Nejprve je ze zdrojových kódů vytvořen bajtkód (<strong>.pyc</strong>)</li>

<li>Z&nbsp;bajtkódu se vygeneruje <a
href="https://en.wikipedia.org/wiki/Control_flow_graph">CFG</a> a ten se
následně analyzuje</li>

<li>Grafovou strukturou se prochází a mj.&nbsp;se provádí anotace proměnných
(odvození typů, viditelnosti apod.)</li>

<li>Následuje několik konverzí, které se mohou lišit podle toho, pro jakou
platformu se generuje výsledek a jaké optimalizace jsou povoleny (inlining,
rozbalení smyček atd.)</li>

<li>Dále se do mezivýsledku vkládají i instrukce pro GC</li>

<li>Z&nbsp;grafové struktury se vygeneruje zdrojový kód pro výslednou platformu
(typicky pro překladače ANSI C, což je platforma, která nás zajímá dnes)</li>

<li>Pro naši platformu: překladačem ANSI C se provede překlad do objektového
kódu</li>

<li>Nakonec se provede slinkování a vytvoření výsledného spustitelného souboru
(nebo dynamické knihovny)</li>

</ol>



<p><a name="k10"></a></p>
<h2 id="k10">10. Projekt Cython</h2>

<p>Jedním z&nbsp;nejznámějších a pravděpodobně i nejpoužívanějších projektů,
které se zaměřují na překlad Pythonu, patří nástroj nazvaný <i>Cython</i>
(pozor: neplést s&nbsp;podobně pojmenovaným <i>CPythonem</i>, což je ovšem
označení klasického interpretru Pythonu, které se většinou používá ve chvíli,
kdy je v&nbsp;nějakém kontextu zapotřebí rozlišit <i>CPython</i> od
<i>Jythonu</i> a také <i>Iron Pythonu</i>). Dnes se zmímíme jen o základních
vlastnostech Cythonu.</p>

<img src="https://i.iinfo.cz/images/529/rpython-cpython-1.png" class="image-332504" alt="&#160;" width="500" height="230" />
<p><i>Obrázek 9: Logo Cythonu.</i></p>

<p>Tento překladač pracuje poněkud odlišným způsobem než RPython. Zatímco se
totiž RPython snaží odvozovat datové typy proměnných, argumentů i návratových
hodnot funkcí na základě analýzy grafu (CFG), používá Cython přímý překlad
Pythonu do programovacího jazyka C. Ve chvíli, kdy Cython nezná datový typ
funkce/proměnné/argumentu, použije <strong>PyObject *</strong>, tedy ukazatel
na datovou strukturu reprezentující v&nbsp;Pythonu libovolnou hodnotu.
V&nbsp;dalším kódu je samozřejmě nutné z&nbsp;tohoto objektu získat skutečnou
hodnotu. I takto vlastně velmi primitivně provedený překlad dokáže programový
kód zrychlit, což je ostatně patrné i na výsledku benchmarků. Cython jde ale
ještě dále, protože rozšiřuje jazyk Python o další klíčová slova, především pak
o slovo <strong>cdef</strong>. Toto klíčové slovo je možné použít pro přesnou
specifikaci typu proměnné či argumentu, a to způsobem, který plně vychází
z&nbsp;programovacího jazyka C. Tato typová informace samozřejmě umožňuje
provedení dalších optimalizací ve výsledném kódu (opět lze vidět na výsledcích
benchmarku).</p>

<p><div class="rs-tip-major">Poznámka: zdrojové kódy, v&nbsp;nichž jsou použita
rozšíření Cythonu, již nejsou plně kompatibilní s&nbsp;Pythonem a z&nbsp;tohoto
důvodu se většinou ukládají do souborů s&nbsp;koncovkou <strong>.pyx</strong>,
což je zkratka původně odvozená od projektu <i>Pyrex</i>, z&nbsp;něhož byl
Cython vyvinut.</div></p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Numba aneb další přístup k překladu Pythonu do nativního kódu</h2>

<p>Princip činnosti nástroje Numba se v&nbsp;několika ohledech odlišuje od
RPythonu ale i od Cythonu. Numba totiž umožňuje překlad kódu za běhu aplikace,
tj.&nbsp;v&nbsp;<i>runtime</i>. Jedná se tedy o <a
href="https://en.wikipedia.org/wiki/Just-in-time_compilation">JIT</a> neboli o
<i>just-in-time</i> překladač, který má tu výhodu, že dokáže odvodit datové
typy proměnných a argumentů funkcí na základě skutečného chování aplikace. To
samozřejmě neznamená, že by JIT již při prvním volání funkce přesně věděl, jak
má funkci přeložit. Ve skutečnosti se dozví pouze informace o jediné konkrétní
větvi, kterou může přeložit. V&nbsp;případě, že bude ta samá funkce později
volána s&nbsp;odlišnými typy parametrů, popř.&nbsp;se její chování změní jiným
způsobem (Python je velmi dynamický jazyk), provede se just-in-time překlad
znovu, takže zde zaplatíme za vyšší výpočetní výkon poněkud většími paměťovými
nároky a pomalejším během prvních volání funkce.</p>



<p><a name="k12"></a></p>
<h2 id="k12">12. </h2>



<p><a name="k13"></a></p>
<h2 id="k13">13. GDScript</h2>

http://docs.godotengine.org/en/3.0/getting_started/scripting/gdscript/gdscript_basics.html

<pre>
func some_function(param1, param2):
    var local_var = 5
&nbsp;
    if param1 &lt; local_var:
        print(param1)
    elif param2 &gt; 5:
        print(param2)
    else:
        print("Fail!")
&nbsp;
    for i in range(20):
        print(i)
&nbsp;
    while param2 != 0:
        param2 -= 1
&nbsp;
    var local_var2 = param1 + 3
    return local_var2
</pre>

<pre>
func _on_object_hit(object):
    if object.has_method("smash"):
        object.smash()
</pre>



<p><a name="k14"></a></p>
<h2 id="k14">14. </h2>



<p><a name="k15"></a></p>
<h2 id="k15">15. </h2>

    Web Development
    Game Development
    Machine Learning and Artificial Intelligence
    Data Science and Data Visualization
    Desktop GUI
    Web Scraping Applications
    Business Applications
    Audio and Video Applications
    CAD Applications
    Embedded Applications


<p><a name="k16"></a></p>
<h2 id="k16">16. </h2>



<p><a name="k17"></a></p>
<h2 id="k17">17. </h2>



<p><a name="k18"></a></p>
<h2 id="k18">18. Jazyk Python na vrcholu popularity</h2>

<tr><th>Rok</th><th>Vítěz</th></tr>
<tr><td>2019</td><td>C</td></tr>
<tr><td>2018</td><td>Python</td></tr>
<tr><td>2017</td><td>C</td></tr>
<tr><td>2016</td><td>Go</td></tr>
<tr><td>2015</td><td>Java</td></tr>
<tr><td>2014</td><td>JavaScript</td></tr>
<tr><td>2013</td><td>Transact-SQL</td></tr>
<tr><td>2012</td><td>Objective-C</td></tr>
<tr><td>2011</td><td>Objective-C</td></tr>
<tr><td>2010</td><td>Python</td></tr>
<tr><td>2009</td><td>Go</td></tr>
<tr><td>2008</td><td>C</td></tr>
<tr><td>2007</td><td>Python</td></tr>
<tr><td>2006</td><td>Ruby</td></tr>
<tr><td>2005</td><td>Java</td></tr>
<tr><td>2004</td><td>PHP</td></tr>
<tr><td>2003</td><td>C++</td></tr>



<p><a name="k19"></a></p>
<h2 id="k19">19. </h2>

PyPL: 
Worldwide, Python is the most popular language, Python grew the most in the last 5 years (19.0%) and Java lost the most (-6.5%)



<p><a name="k20"></a></p>
<h2 id="k20">20. Odkazy na Internetu</h2>

<ol>

<li>A Brief Timeline of Python<br />
<a href="http://python-history.blogspot.com/2009/01/brief-timeline-of-python.html">http://python-history.blogspot.com/2009/01/brief-timeline-of-python.html</a>
</li>

<li>The ABC Programming Language: a short introduction<br />
<a href="https://homepages.cwi.nl/~steven/abc/">https://homepages.cwi.nl/~steven/abc/</a>
</li>

<li>ABC (programming language)<br />
<a href="https://en.wikipedia.org/wiki/ABC_(programming_language)">https://en.wikipedia.org/wiki/ABC_(programming_language)</a>
</li>

<li>Most Popular Programming Languages 1965 - 2019<br />
<a href="https://www.youtube.com/watch?v=Og847HVwRSI">https://www.youtube.com/watch?v=Og847HVwRSI</a>
</li>

<li>Karin Dewar, Indentation and the Colon<br />
<a href="http://python-history.blogspot.com/2011/07/karin-dewar-indentation-and-colon.html">http://python-history.blogspot.com/2011/07/karin-dewar-indentation-and-colon.html</a>
</li>

<li>History of the software<br />
<a href="https://docs.python.org/3/license.html">https://docs.python.org/3/license.html</a>
</li>

<li>History of Python (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/History_of_Python">https://en.wikipedia.org/wiki/History_of_Python</a>
</li>

<li>History of Python (Python Course)<br />
<a href="https://www.python-course.eu/python3_history_and_philosophy.php">https://www.python-course.eu/python3_history_and_philosophy.php</a>
</li>

<li>The Python Programming Language<br />
<a href="https://www.tiobe.com/tiobe-index/python/">https://www.tiobe.com/tiobe-index/python/</a>
</li>

<li>PYPL PopularitY of Programming Language<br />
<a href="https://pypl.github.io/PYPL.html">https://pypl.github.io/PYPL.html</a>
</li>

<li>Supported Systems for Python<br />
<a href="https://www.oldapps.com/Python.php">https://www.oldapps.com/Python.php</a>
</li>

<li>Download Python for Other Platforms<br />
<a href="https://legacy.python.org/download/other/">https://legacy.python.org/download/other/</a>
</li>

<li>PythonD<br />
<a href="http://www.caddit.net/pythond/">http://www.caddit.net/pythond/</a>
</li>

<li>Old Python releases<br />
<a href="https://www.python.org/download/releases/">https://www.python.org/download/releases/</a>
</li>

<li>Interactive: The Top Programming Languages 2016 (starší data, pěkný způsob filtrace atd.)<br />
<a href="https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2016">https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2016</a>
</li>

<li>Generational list of programming languages<br />
<a href="https://en.wikipedia.org/wiki/Generational_list_of_programming_languages">https://en.wikipedia.org/wiki/Generational_list_of_programming_languages</a>
</li>

<li>Most Popular Programming Languages on Stack Overflow Bar Chart Race<br />
<a href="https://www.youtube.com/watch?v=cKzP61Gjf00">https://www.youtube.com/watch?v=cKzP61Gjf00</a>
</li>

<li>Zdrojové kódy starých verzí Pythonu<br />
<a href="https://legacy.python.org/download/releases/src/">https://legacy.python.org/download/releases/src/</a>
</li>

<li>Python 1.5.2<br />
<a href="https://www.python.org/download/releases/1.5/">https://www.python.org/download/releases/1.5/</a>
</li>

<li>Python 1.6.1<br />
<a href="https://www.python.org/download/releases/1.6.1/">https://www.python.org/download/releases/1.6.1/</a>
</li>

<li>Python from ActiveState<br />
<a href="https://www.activestate.com/products/python/">https://www.activestate.com/products/python/</a>
</li>

<li>10 Important Uses of Python<br />
<a href="https://www.educba.com/uses-of-python/">https://www.educba.com/uses-of-python/</a>
</li>

<li>Top 10 Python Applications in the Real World You Need to Know<br />
<a href="https://www.edureka.co/blog/python-applications/">https://www.edureka.co/blog/python-applications/</a>
</li>

<li>8 World-Class Software Companies That Use Python<br />
<a href="https://realpython.com/world-class-companies-using-python/">https://realpython.com/world-class-companies-using-python/</a>
</li>

<li>Grumpy is a Python to Go source code transcompiler and runtime<br />
<a href="https://github.com/google/grumpy">https://github.com/google/grumpy</a>
</li>

<li>OpenStack<br />
<a href="https://www.openstack.org/">https://www.openstack.org/</a>
</li>

<li>Ansible<br />
<a href="https://www.ansible.com/">https://www.ansible.com/</a>
</li>

<li>GDScript<br />
<a href="http://docs.godotengine.org/en/3.0/getting_started/scripting/gdscript/gdscript_basics.html">http://docs.godotengine.org/en/3.0/getting_started/scripting/gdscript/gdscript_basics.html</a>
</li>

<li>GDScript: An introduction to dynamic languages<br />
<a href="http://docs.godotengine.org/en/3.0/getting_started/scripting/gdscript/gdscript_advanced.html#doc-gdscript-more-efficiently">http://docs.godotengine.org/en/3.0/getting_started/scripting/gdscript/gdscript_advanced.html#doc-gdscript-more-efficiently</a>
</li>

<li>Scripting: Higher Level Programming for the 21st Century<br />
<a href="http://www.xahlee.info/comp/scripting_the_21st_century.html">http://www.xahlee.info/comp/scripting_the_21st_century.html</a>
</li>

<li>tecplot - CFD Visualization &amp; Analysis Tools<br />
<a href="https://www.tecplot.com/">https://www.tecplot.com/</a>
</li>

<li>Rhinoceros (Rhino3D)<br />
<a href="https://www.rhino3d.com/">https://www.rhino3d.com/</a>
</li>

<li>Maya<br />
<a href="https://www.autodesk.com/products/maya/overview">https://www.autodesk.com/products/maya/overview</a>
</li>

<li>Blender: Python Scripting<br />
<a href="https://www.lynda.com/Blender-tutorials/Python-Scripting-Blender/486043-2.html">https://www.lynda.com/Blender-tutorials/Python-Scripting-Blender/486043-2.html</a>
</li>

<li>Interview Guido van Rossum: “I'd rather write code than papers.”<br />
<a href="https://www.cwi.nl/news/blogs/interview-guido-van-rossum-201cid-rather-write-code-than-papers.201d">https://www.cwi.nl/news/blogs/interview-guido-van-rossum-201cid-rather-write-code-than-papers.201d</a>
</li>

<li>IronPython<br />
<a href="https://ironpython.net/">https://ironpython.net/</a>
</li>

<li>What’s New in Python 2.0<br />
<a href="https://docs.python.org/3/whatsnew/2.0.html">https://docs.python.org/3/whatsnew/2.0.html</a>
</li>

<li>Python Implementations: Compilers<br />
<a href="https://wiki.python.org/moin/PythonImplementations#Compilers">https://wiki.python.org/moin/PythonImplementations#Compilers</a>
</li>

<li>RPython Frontend and C Wrapper Generator<br />
<a href="http://www.codeforge.com/article/383293">http://www.codeforge.com/article/383293</a>
</li>

<li>PyPy’s Approach to Virtual Machine Construction<br />
<a href="https://bitbucket.org/pypy/extradoc/raw/tip/talk/dls2006/pypy-vm-construction.pdf">https://bitbucket.org/pypy/extradoc/raw/tip/talk/dls2006/pypy-vm-construction.pdf</a>
</li>

<li>Numba<br />
<a href="http://numba.pydata.org/">http://numba.pydata.org/</a>
</li>

<li>The Magic of RPython<br />
<a href="https://refi64.com/posts/the-magic-of-rpython.html">https://refi64.com/posts/the-magic-of-rpython.html</a>
</li>

<li>RPython: Frequently Asked Questions<br />
<a href="http://rpython.readthedocs.io/en/latest/faq.html">http://rpython.readthedocs.io/en/latest/faq.html</a>
</li>

<li>RPython’s documentation<br />
<a href="http://rpython.readthedocs.io/en/latest/index.html">http://rpython.readthedocs.io/en/latest/index.html</a>
</li>

<li>RPython (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/PyPy#RPython">https://en.wikipedia.org/wiki/PyPy#RPython</a>
</li>

<li>Getting Started with RPython<br />
<a href="http://rpython.readthedocs.io/en/latest/getting-started.html">http://rpython.readthedocs.io/en/latest/getting-started.html</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2020</small></p>
</body>
</html>

