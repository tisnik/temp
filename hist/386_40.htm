<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Čtyřicet let existence architektury 386</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Čtyřicet let existence architektury 386</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p></p>



<h2>Obsah</h2>

<p><a href="#k01">1. Čtyřicet let existence architektury 386</a></p>
<p><a href="#k02">2. Vznik konceptu mikroprocesoru</a></p>
<p><a href="#k03">3. První generace mikroprocesorů firmy Intel: od čipu 4004 k&nbsp;8080 (BOBO)</a></p>
<p><a href="#k04">4. Mikroprocesory Intel 8086 a Intel 8088 &ndash; vznik nové platformy</a></p>
<p><a href="#k05">5. Stručný popis programátorského modelu mikroprocesorů Intel 8086</a></p>
<p><a href="#k06">*** 6. Od čipu Intel 8086 k&nbsp;mikroprocesorům 80386</a></p>

<p><a href="#k06">*** 6. Efektivnější vykonávání instrukcí v&nbsp;modernějších generacích mikroprocesorů Intel</a></p>
<p><a href="#k07">*** 7. Programátorský model mikroprocesorů Intel 80386</a></p>
<p><a href="#k08">*** 8. Nové segmentové registry u mikroprocesorů Intel 80386</a></p>
<p><a href="#k09">*** 9. Další nové instrukce dostupné u mikroprocesorů Intel 80386</a></p>
<p><a href="#k10">*** 10. &bdquo;Bitový procesor&ldquo;</a></p>
<p><a href="#k11">*** 11. </a></p>
<p><a href="#k12">*** 12. </a></p>
<p><a href="#k13">*** 13. </a></p>
<p><a href="#k14">*** 14. </a></p>
<p><a href="#k15">*** 15. </a></p>
<p><a href="#k16">*** 16. </a></p>
<p><a href="#k17">*** 17. </a></p>
<p><a href="#k18">*** 18. </a></p>
<p><a href="#k19">*** 19. </a></p>
<p><a href="#k20">*** 20. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Čtyřicet let existence architektury 386</h2>

<p>V&nbsp;říjnu roku 1985, tedy prakticky přesně před čtyřiceti lety, byl
oficiálně představen 32bitový mikroprocesor pojmenovaný Intel 80386. Jednalo se
o čip, který sice do značné míry navazoval na původní mikroprocesory Intel 8086
(resp.&nbsp;pro úplnost: ve světě osobních mikropočítačů IBM PC se spíše
jednalo o čip Intel 8088) i na Intel 80286, ovšem současně nabízel i poměrně
velké množství dalších vlastností, které mj.&nbsp;zjednodušovaly provozování
sofistikovanějších operačních systémů. Architektura 836 (oficiálně se
označovala <i>IA-32</i> &ndash; <i>Intel Architecture, 32-bit</i>),
resp.&nbsp;možná přesněji řečeno módy činnosti, sada registrů a instrukční sada
mikroprocesorů Intel 80386, byla po komerční stránce velmi úspěšná a vlastně do
jisté míry přetrvala dodnes, protože se stále vydává software, který tuto
architekturu podporuje (i když jsou k&nbsp;dispozici mnohem pokročilejší
64bitové architektury, a to jak CISCové, tak i RISCové).</p>

<div class="rs-img-center" style="margin-left: auto; margin-right: auto; max-width: 529px"><a href="https://www.root.cz/obrazek/1229742/"><img src="https://i.iinfo.cz/images/229/386-large.jpg" class="image-1229742" width="529" height="525" data-prev-filename="https://i.iinfo.cz/images/229/386-prev.jpg" data-prev-filename-webp="https://i.iinfo.cz/images/229/386-prev.webp" data-prev-width="272" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/229/386-large.jpg" data-large-filename-webp="https://i.iinfo.cz/images/229/386-large.webp" data-large-width="529" data-large-height="525" alt="Mikroprocesor Intel 80386" data-description="Mikroprocesor Intel 80386" title="Autor: Konstantin Lanzet, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" style="width: 100%; height: auto; max-width: 529px" /></a><p>Obrázek 1: Mikroprocesor Intel 80386<br class="_remove" /></p><p class="author">Autor: Konstantin Lanzet, podle licence: <a href="http://en.wikipedia.org/wiki/Rights_Managed">Rights Managed</a><br class="_remove" /></p></div>

<p>Z&nbsp;pohledu společnosti Intel, která tento mikroprocesor vyvinula a
současně i vyráběla (to dnes již není zcela samozřejmá kombinace), se jednalo o
velmi dobrý produkt, který navíc na trh přišel ve správný čas &ndash; vznik
386ky totiž bylo možné vnímat i jako poměrně důraznou odpověď na počítače
postavené okolo konkurenčních mikroprocesorů Motorola 68k (zejména Atari ST,
Amiga, Macintosh a Sun-1 &ndash; všechny byly vydány ještě před oficiálním
představením Intelu 80386). Architektura původních mikroprocesorů 8086/8088 i
80286 (a tím pádem i platformy PC) byla totiž v&nbsp;porovnání s&nbsp;počítači
postavenými na Motorole 68k, poměrně zastaralá.</p>

<div class="rs-img-center" style="margin-left: auto; margin-right: auto; max-width: 450px"><a href="https://www.root.cz/obrazek/1229748/"><img src="https://i.iinfo.cz/images/414/motorola-2.png" class="image-1229748" width="450" height="439" data-prev-filename="https://i.iinfo.cz/images/414/motorola-2-prev.png" data-prev-filename-webp="https://i.iinfo.cz/images/414/motorola-2-prev.webp" data-prev-width="277" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/414/motorola-2.png" data-large-filename-webp="https://i.iinfo.cz/images/414/motorola-2.webp" data-large-width="450" data-large-height="439" alt="Konkurenční mikroprocesor Motorola řady 68000" data-description="Konkurenční mikroprocesor Motorola řady 68000" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" style="width: 100%; height: auto; max-width: 450px" /></a><p>Obrázek 2: Konkurenční mikroprocesor Motorola řady 68000<br class="_remove" /></p><p class="author">Autor: tisnik, podle licence: <a href="http://en.wikipedia.org/wiki/Rights_Managed">Rights Managed</a><br class="_remove" /></p></div>

<p><div class="rs-tip-major">Poznámka: mohlo by se zdát, že rozšíření
architektury 386 bude pro společnost Intel jednoznačnou výhrou. Na jednu stranu
tomu tak skutečně bylo, na stranu druhou se však jednalo o určitou formu pasti,
protože ani firma Intel nedokázala později přijít (resp.&nbsp;uspět)
s&nbsp;odlišnou architekturou. Všechny takové snahy, například architektury
Intel 860 či Itanium, musely konkurovat právě čipům s&nbsp;architekturou 386 a
mj.&nbsp;taktéž s&nbsp;velkým množstvím SW vyrobených pro tuto řadu
mikroprocesorů.</div></p>

<p>V&nbsp;dnešním článku si připomeneme nejvýznamnější vlastnosti
mikroprocesorů řady Intel 80386, které zahájily éru architektury 386.</p>

<div class="rs-img-center" style="margin-left: auto; margin-right: auto; max-width: 370px"><a href="https://www.root.cz/obrazek/1229745/"><img src="https://i.iinfo.cz/images/414/motorola-1.jpg" class="image-1229745" width="370" height="257" data-prev-filename="https://i.iinfo.cz/images/414/motorola-1.jpg" data-prev-filename-webp="https://i.iinfo.cz/images/414/motorola-1.webp" data-prev-width="370" data-prev-height="257" data-large-filename="https://i.iinfo.cz/images/414/motorola-1.jpg" data-large-filename-webp="https://i.iinfo.cz/images/414/motorola-1.webp" data-large-width="370" data-large-height="257" alt="Konkurenční mikroprocesor Motorola řady 68000" data-description="Konkurenční mikroprocesor Motorola řady 68000" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" style="width: 100%; height: auto; max-width: 370px" /></a><p>Obrázek 3: Konkurenční mikroprocesor Motorola řady 68000<br class="_remove" /></p><p class="author">Autor: tisnik, podle licence: <a href="http://en.wikipedia.org/wiki/Rights_Managed">Rights Managed</a><br class="_remove" /></p></div>



<p><a name="k02"></a></p>
<h2 id="k02">2. Vznik konceptu mikroprocesoru</h2>

<p>V&nbsp;roce 1970 se začal v&nbsp;rámci projektu <i>CADC</i> (<i>Central Air
Data Computer</i>) vytvářet systém, který je některými historiky považován za
první skutečný mikroprocesor. Jednalo se o procesor nazývaný <i>MP944</i>, jež
byl určený pro stíhačky F-14 Tomcat amerického námořnictva. Z&nbsp;důvodu
vojenského utajení (probíhala studená válka) se odborná veřejnost dozvěděla
technické podrobnosti o tomto procesoru až v&nbsp;roce 1998, tj.&nbsp;skoro
třicet let po vytvoření této technologie. Ve skutečnosti se nejednalo o
mikroprocesor v&nbsp;pravém slova smyslu, spíše o čipovou sadu, jejíž
jednotlivé čipy byly propojena s&nbsp;využitím rychlé sériové linky (což je
ovšem nadčasový design). Aritmeticko-logická jednotka zpracovávala
dvacetibitová slova (tato značná bitová šířka byla vyžadována kvůli přesnosti
některých senzorů) sériovým způsobem, tj.&nbsp;do jednotky vcházelo nové slovo,
které bylo bit po bitu zpracováváno, zatímco na výstupu se postupně vysunoval
výsledek předchozí operace. Vzhledem k&nbsp;oddělení ALU od řídicích obvodů se
tedy opravdu nejedná o skutečný mikroprocesor, jak ho chápeme dnes (tedy o čip,
který integruje ALU s&nbsp;řadičem i s&nbsp;pracovními registry).</p>

<p>Pro vznik a vývoj mikroprocesorů byla nejdůležitější právě sedmdesátá léta
minulého století, tedy období, kdy se již poměrně velké množství lidí mohlo
seznámit s&nbsp;takzvanými minipočítači (ty se začaly rozšiřovat na university,
ale i do běžných podniků). Rychlost vývoje integrovaných obvodů se v&nbsp;tomto
období tak prudce zvýšila, že na začátku sedmdesátých let jen několik lidí na
světě vůbec dokázalo předvídat strategický význam těchto elektronických
součástek. Na konci sedmdesátých let (tedy za pouhé jedno desetiletí) již byly
celé dvě generace mikroprocesorů na ústupu, mikroprocesory si našly cestu do
průmyslu i domácností, a začala bitva několika firem o místo na trhu
s&nbsp;šestnáctibitovými a třicetidvoubitovými mikroprocesory.</p>

<p>Na stránkách Roota jsme si již některé milníky ve vývoji mikroprocesorů
popsali, včetně dnes již legendárních čipů <i>MOS 6502</i>, <i>Zilog Z80</i> a
<i>Motorola 6809</i>. Zajímavé je, že například mikroprocesory řady MOS 6502 se
(i když v&nbsp;modifikované podobě) stále před několika lety vyráběly,
v&nbsp;mnoha modemech jsme se mohli setkat s&nbsp;rozšířenou variantou
mikroprocesoru Zilog Z80 atd. To zajisté svědčí o nadčasovém designu a kvalitě
jejich tvůrců (v&nbsp;těchto případech se konkrétně jedná o Federica Faggina a
Chucka Peddleho).</p>

<p>Ovšem jen jedna řada čipů přežila &ndash; i když ve značně modifikované
podobě &ndash; i v&nbsp;mainstreamových počítačích. Jedná se právě o řadu Intel
8086, která je dnes neodmyslitelně spjata právě s&nbsp;vývojem platformy PC. Do
této řady patří i Intel 386.</p>

<img src="https://i.iinfo.cz/urs/4004_3-119516643321060.gif" alt="faggin"/>
<p><i>Obrázek 4: Detailní pohled na iniciály Federica Faggina na masce i4004.</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. První generace mikroprocesorů firmy Intel: od čipu 4004 k&nbsp;8080 (BOBO)</h2>

<p>Za první skutečný mikroprocesor na světě je všeobecně považován čip nazvaný
<i>Intel 4004</i>, jehož duchovním tvůrcem je známý Federico Faggin. Společnost
Intel měla v&nbsp;roce 1970, kdy začal vývoj 4004, pouhých 150 zaměstnanců a
soustředila se převážně na výrobu polovodičových pamětí &ndash; velmi úspěšná
byla například paměť 1103 s&nbsp;kapacitou 1024 bitů a s&nbsp;pouhými třemi
tranzistory na jednu buňku. Samotný nadřízený Faggina, kterým nebyl nikdo jiný
než Andy Groove, v&nbsp;mikroprocesorech neviděl žádnou velkou budoucnost a prý
ani neexistoval dlouhodobější plán pro komerční využití mikroprocesorů. Pouze
pro potřeby výrobců kalkulaček (ovšem těch stolních, ne kapesních :-) však
Intel začal s&nbsp;vývojem čipu, který byl &ndash; na návrh Faggina &ndash;
pojmenován 4004. Ostatní podpůrné součástky (specializované integrované obvody)
taktéž začínaly číslicemi 400. Faggin se jakožto hlavní tvůrce dokonce
&bdquo;podepsal&ldquo; do výrobní masky čipu, takže každý mikroprocesor Intel
4004 nese jeho iniciály &ndash; viz oba obrázky uvedené v&nbsp;předchozí
kapitole i pod tímto odstavcem.</p>

<img src="https://i.iinfo.cz/urs/4004_4-preview-119516673446712.jpg" alt="4004" />
<p><i>Obrázek 5: Všech pět vrstev mikroprocesoru Intel 4004.</i></p>

<p>Z&nbsp;dnešního pohledu jsou parametry tohoto mikroprocesoru až směšné.
Jednalo se o čtyřbitový mikroprocesor, který však ve své instrukční sadě
obsahoval i operace s&nbsp;osmibitovými operandy (číslice byly uloženy
v&nbsp;kódu BCD, takže čtyřbitová ALU dávala v&nbsp;tomto kontextu smysl).
Celkem bylo programátorovi dostupných 46 instrukcí, jejichž sémantika i syntaxe
zápisu byla inspirována (možná i více než pouze inspirována) instrukční sadou
Datapoint terminal CPU firmy Computer Terminal Corp. I v&nbsp;dnešních
procesorech řady x86 se s&nbsp;velmi podobnou instrukční sadou setkáme, proto
je termín „Intelí syntaxe“ poněkud nepřesný, protože jde o syntaxi starší než
samotné mikroprocesory. Intel 4004 je tedy skutečný pradědeček dnešní platformy
x86, i když s&nbsp;ní není ve striktním slova smyslu kompatibilní.</p>

<p><div class="rs-tip-major">Poznámka: při zpětném pohledu by se mohlo zdát, že
vznik mikroprocesoru ve firmě Intel byl vlastně logickým důsledkem celkového
vývoje elektroniky (stále pokračující integrace většího množství obvodů na
jediný čip). Ovšem v&nbsp;době, kdy se rozhodovalo, zda pokračovat ve vývoji
mikroprocesoru Intel 4004, se ozývaly hlasy, že by bylo výhodnější investovat
spíše do dalšího vývoje a rozšiřování kapacity výroby dynamických RAM (DRAM).
Zazněla totiž myšlenka &bdquo;do každého mikropočítače dokážeme prodat
maximálně jeden čip s&nbsp;mikroprocesorem, ovšem mnohem více čipů
s&nbsp;dynamickými RAM&ldquo; (což je skutečně do určité míry
pravda).</div></p>

<p>Ve skutečnosti nebyl mikroprocesor Intel 4004 komerčně moc úspěšný, ale
firma Intel se začala tímto odvětvím průmyslu intenzivněji zabývat, což jí
vydrželo až do dneška (píše se ovšem rok 2025 a budoucnost je nejistá).
V&nbsp;roce 1972, tj.&nbsp;pouhých pět měsíců po uvedení Intel 4004 (to se nám
to zrychluje) představila společnost Intel jeho osmibitového nástupce. Jednalo
se o mikroprocesor 8008. V&nbsp;jeho instrukční sadě se již mnoho programátorů
bez problému vyzná, protože po rozšíření se s&nbsp;ní můžeme setkat i
v&nbsp;8080 a Zilog Z80. Tento čip již při použití stejné desetimikronové
technologie obsahoval 3500 tranzistorů, pracoval na frekvenci 800 kHz a mohl
adresovat již 16 kB paměti. Samotný výpočetní výkon byl oproti 4004 skoro
dvojnásobný, především však byla použita osmibitová sběrnice a řada podpůrných
obvodů, se kterými se můžeme setkat i u pozdějších procesorů.</p>

<p>Za dva roky poté, tj.&nbsp;v&nbsp;roce 1974, společnost Intel uvedla další
mikroprocesor nazvaný Intel 8080. Ten již pracoval s&nbsp;hodinovou frekvencí 2
MHz, obsahoval cca 4500 tranzistorů a mohl adresovat až 64 kB paměti. Jednou
z&nbsp;předností tohoto procesoru bylo použití nové třímikronové technologie
výroby. Intel 8080 byl použit v&nbsp;mnoha počítačích (Altair 8800, ale
například i tuzemské domácí mikropočítače), i když ke své práci potřeboval
kromě standardního pětivoltového napájení ještě jedno vyšší napětí (pro
oscilátory) a také dva podpůrné obvody &ndash; Intel 8224 a Intel 8228. Jednou
ze zajímavostí je, že se tento mikroprocesor vyráběl i v&nbsp;naší Tesle pod
označením MHB 8080A (dlužno říci, že to bylo v&nbsp;době, kdy se ve světě
přecházelo na šestnáctibitové a třicetidvoubitové mikroprocesory).</p>

<p>Posledním čistě osmibitovým procesorem firmy Intel byl čip Intel 8085
vytvořený v&nbsp;roce 1976. Jednalo se v&nbsp;podstatě o vylepšený Intel 8080,
který pracoval na 5 MHz, obsahoval cca 6500 tranzistorů, měl přímo na čipu
některé další obvody (sériová linka apod.) a především nepotřeboval
nestandardní napětí, takže se jeho zařazení do počítačů a dalších zařízení
zjednodušilo. Tento mikroprocesor ovšem přišel až v&nbsp;době, kdy na trhu
kralovaly mikroprocesory jiných firem, Zilog a MOS Technologies.</p>

<a href="https://i.iinfo.cz/images/443/pc105-a-3.jpg"><img loading="lazy" src="https://i.iinfo.cz/images/443/pc105-a-3-prev.jpg" alt="pc105_a" width="250" height="270"></a>
<p><i>Obrázek 5: První verze školního počítače IQ-151 postaveného na
mikroprocesoru 8080. Povšimněte si kulatých tlačítek, které jsou pro tento
počítač typické a taktéž klávesy RESET. Ta nebyla od ostatních kláves nijak
oddělena, pravděpodobně proto, aby se studenti naučili dávat si pozor, kterou
klávesu mačkají :-) (už se asi nikdy nedozvíme, kolik programů bylo „díky“
vhodně umístěné klávese RESET ztraceno). Skříň počítače byla vyrobena z
oranžově nalakovaného plechu, jehož milou vlastností byl přenos tepla z
chladiče umístěného v zadní části počítače (žebra chladiče jsou částečně vidět
i na této fotografii) na celou jeho plochu, což mj. znamenalo, že se televizor
nemohl stavět přímo na počítač, ale musely se používat různé dřevěné špalíky a
podobné hi-tech řešení.</i></p>

<p>Programátorský model 8080:</p>

<table>
<tr><th>#</th><th>Typ registrů</th><th>Počet registrů</th><th>Bitová šířka registru</th><th>Názvy registrů</th></tr>
<tr><td>1</td><td>Akumulátor          </td><td>1</td><td>8 bitů</td><td>A</td></tr>
<tr><td>2</td><td>Univerzální registry</td><td>6</td><td>8 bitů</td><td>B, C, D, E, H, L</td></tr>
<tr><td>3</td><td>Ukazatel zásobníku  </td><td>1</td><td>8 bitů</td><td>SP</td></tr>
<tr><td>4</td><td>Příznakový registr  </td><td>1</td><td>5/8 bitů</td><td>FLAGS</td></tr>
<tr><td>5</td><td>Programový čítač    </td><td>1</td><td>16 bitů</td><td>PC</td></tr>
</table>

<p>Některé registry se pro provedení určitých operací (adresování atd.)
spojovaly v&nbsp;šestnáctibitové registrové páry:</p>

<table>
<tr><th>Označení</th><th>Pár</th></tr>
<tr><td>PSW</td><td>A+Flags</td></tr>
<tr><td>BC</td><td>B+C</td></tr>
<tr><td>DE</td><td>D+E</td></tr>
<tr><td>HL (M)</td><td>H+L</td></tr>
</table>



<p><a name="k04"></a></p>
<h2 id="k04">4. Mikroprocesory Intel 8086 a Intel 8088 &ndash; vznik nové platformy</h2>

<p>Jak jsme si již řekli <a href="#k01">v&nbsp;úvodní kapitole</a>, byl
mikroprocesor Intel 80386 navržen takovým způsobem, aby byl zpětně kompatibilní
s&nbsp;mikroprocesory Intel 8086 a Intel 8088, takže se alespoň ve stručnosti o
těchto dvou mikroprocesorech zmiňme, protože jsou nedílnou součástí historie
IT. Dnes se pochopitelně jedná o historické čipy, které byly na trh uvedeny již
v&nbsp;letech 1978 a 1979. O přibližně dva roky později použila společnost IBM
mikroprocesor Intel 8088 jako základní prvek osobního mikropočítače IBM PC,
z&nbsp;něhož se postupně vyvinula celá platforma PC, jež se dodnes vyvíjí a
používá (se všemi výhodami a zápornými vlastnostmi tohoto vývoje).</p>

<div class="rs-img-center" style="margin-left: auto; margin-right: auto; max-width: 720px"><a href="https://i.iinfo.cz/images/8/zakladni-deska-z-ibm-pc.webp"><img loading="lazy" src="https://i.iinfo.cz/images/8/zakladni-deska-z-ibm-pc-large.webp" class="image-1127796" width="720" height="502" alt="Základní deska z IBM PC" title='Autor: &lt;a href="https://www.tech-insider.org/personal-computers/research/1990/images/09_a.JPG"&gt;tech-insider&lt;/a&gt;' style="width: 100%; height: auto; max-width: 720px"></a></div>
<p><i>Obrázek 6: Motherboard IBM PC s&nbsp;mikroprocesorem Intel 8088..</i></p>

<p>V&nbsp;srpnu roku 1981, tedy před 44 lety, se začal prodávat šestnáctibitový
osobní mikropočítač IBM PC. Z&nbsp;dnešního pohledu se sice jednalo o velmi
málo výkonný stroj, ovšem v&nbsp;době vzniku IBM PC patřil tento mikropočítač
v&nbsp;oblasti osobních mikropočítačů mezi špičku, alespoň co se týká hrubého
výpočetního výkonu. Obsahoval šestnáctibitový mikroprocesor Intel 8088
(s&nbsp;vnější sběrnicí zúženou na osm bitů) taktovaný na 4,77 MHz. Kapacita
operační paměti se pohybovala od 16 kB do 256 kB (takže se ani zdaleka
nedotýkala tehdy teoretické hranice 640 kB, na kterou se narazilo sice později,
ale o to tvrději). Pro vykreslování grafiky se používala grafická karta CGA,
pro profesionální textové aplikace pak karta MDA s&nbsp;odlišným monitorem.
Zvukový výstup obstarával nechvalně známý PC Speaker.</p>

<p>Důležité byly přitom dva fakty &ndash; IBM PC vyráběla společnost IBM, která
byla pro mnoho korporací známým a dlouhodobým partnerem (a určitě byla vnímána
zcela jinak, než například &bdquo;herně neseriózní&ldquo; společnost Atari). A
navíc IBM PC byla do určité míry otevřená architektura se standardizovanou
sběrnicí umožňující modulární design (což se ukázalo již na možnosti výběru
video karty &ndash; obě nabízené karty sice byly špatné, ale ne stejně špatné,
takže si uživatel mohl vybírat menší zlo).</p>

<div class="rs-img-center" style="margin-left: auto; margin-right: auto; max-width: 640px"><a href="https://www.root.cz/obrazek/1127950/"><img loading="lazy" src="https://i.iinfo.cz/images/72/pc-02-3.webp" class="image-1127950" width="640" height="400" alt="" title='Autor: tisnik, mobygames, etc., podle licence: &lt;a href="http://en.wikipedia.org/wiki/Rights_Managed"&gt;Rights Managed&lt;/a&gt;' style="width: 100%; height: auto; max-width: 640px"></a></div>
<p><i>Obrázek 7: Hra Alley Cat v&nbsp;podání karty CGA.</i></p>

<p>Osobní mikropočítače IBM PC byly oficiálně postaveny na mikroprocesorové
architektuře <i>Intel 8086</i>, díky čemž je tato architektura vlastně stále
živá (16bitový reálný režim zde totiž stále existuje resp.&nbsp;donedávna
existoval kvůli <i>bootstrapingu</i>). Jednalo se o plně šestnáctibitovou
architekturu, která však ideově navazovala na předchozí dvě generace
osmibitových mikroprocesorů společnosti Intel, tj.&nbsp;na již výše zmíněnou
řadu <i>Intel 8008</i> a především pak úspěšný <i>Intel 8080</i>, který se na
určitou dobu stal průmyslovým standardem.</p>

<p>Nicméně samotné IBM PC (tedy vůbec první počítač z&nbsp;této rodiny)
nepoužívalo mikroprocesor <i>Intel 8086</i>, ale jeho &bdquo;osekanou&ldquo; a
levnější variantu nazvanou <i>Intel 8088</i>. Ona osmička na konci číselného
označení čipu naznačuje, že i když se interně jednalo o šestnáctibitový
mikroprocesor, externí datová sběrnice byla pouze osmibitová. Interně byl ovšem
Intel 8088 prakticky totožný s&nbsp;Intelem 8086, a to včetně
aritmeticko-logické jednotky (<i>ALU</i>) i <i>execution unit</i> (<i>EU</i>).
Odlišovala se jen jediná komponenta, a to konkrétně <i>bus interface unit</i>
(<i>BIU</i>).</p>

<p>Otázkou zůstává, jak se na mikroprocesor Intel 8088 dívat &ndash; jedná se o
osmibitový či šestnáctibitový čip? Z&nbsp;pohledu aritmeticko-logické jednotky
a interní datové sběrnice jde o šestnáctibitový čip, z&nbsp;pohledu externího
pak o čip osmibitový. A programátoři vlastně ani nerozliší mezi plnohodnotným
čipem <i>Intel 8086</i> a jeho &bdquo;shrouhnutou&ldquo; variantou <i>Intel
8088</i> (až na pomalejší běh programů).</p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Stručný popis programátorského modelu mikroprocesorů Intel 8086</h2>

<p>Programátorský model mikroprocesoru Intel 8086 (naprosto stejné je to ovšem
i pro Intel 8088) do určité míry vychází z&nbsp;jeho předchůdců, tedy
z&nbsp;čipů 8080 a 8085. Došlo ovšem k&nbsp;rozšíření sady pracovních i
specializovaných registrů, k&nbsp;určité unifikaci jejich role (což
zjednodušilo instrukční sadu &ndash; to může znít paradoxně, ale je tomu tak) a
k&nbsp;rozšíření pracovních registrů na šířku šestnácti bitů. Navíc se
rozšířily i adresovací režimy a při adresování se kromě základní
šestnáctibitové adresy počítá i adresa segmentu získaná z&nbsp;takzvaných
segmentových registrů CS, DS, ES či SS. Oproti mikroprocesoru Intel 8080 se
tedy jedná o poměrně výrazný skok vpřed, ovšem v&nbsp;porovnání s&nbsp;dalšími
mikroprocesory této éry patří 8086 spíše mezi jednodušší mikroprocesory (což
ovšem nemusí být vždy špatně).</p>

<p><div class="rs-tip-major">Poznámka: porovnejte s&nbsp;programátorským
modelem Intel 8080 <a href="#k03">ve třetí kapitole</a>.</div></p>

<p>Pracovat je možné s&nbsp;těmito čtrnácti pracovními, adresovými,
segmentovými a specializovanými registry:</p>

<table>
<tr><th>#</th><th>Typ registrů</th><th>Počet registrů</th><th>Bitová šířka registru</th><th>Názvy registrů</th></tr>
<tr><td>1</td><td>Univerzální registry</td><td>4</td><td>16 bitů</td><td>AX, BX, CX, DX</td></tr>
<tr><td>2</td><td>Indexové registry   </td><td>2</td><td>16 bitů</td><td>SI, DI</td></tr>
<tr><td>3</td><td>Bázové registry     </td><td>2</td><td>16 bitů</td><td>BP, SP</td></tr>
<tr><td>4</td><td>Segmentové registry </td><td>4</td><td>16 bitů</td><td>CS, DS, ES, SS</td></tr>
<tr><td>5</td><td>Příznakový registr  </td><td>1</td><td>16 bitů</td><td>FLAGS</td></tr>
<tr><td>6</td><td>Programový čítač    </td><td>1</td><td>16 bitů</td><td>IP</td></tr>
</table>

<p>První čtyři registry jsou sice nazvány <i>univerzální</i>, ovšem jejich role
není v&nbsp;praxi zcela zaměnitelná. Každý z&nbsp;těchto registrů má totiž
kromě své základní role ještě další roli/role a vystupuje jako implicitní
operand u mnoha instrukcí. Instrukční sada není v&nbsp;žádném případě
ortogonální, naopak se jedná o snad nejméně ortogonální sadu v&nbsp;oblasti
šestnáctibitových čipů, se všemi výhodami, ale i mnoha nevýhodami, které to
přinášelo jak programátorům, tak i výrobcům překladačů:</p>

<p>Různé role &bdquo;univerzálních&ldquo; pracovních registrů:</p>

<table>
<tr><th>Registr</th><th>Rozdělení</th><th>Význam</th></tr>
<tr><td>AX</td><td>AH/AL</td><td>akumulátor</td></tr>
<tr><td>BX</td><td>BH/BL</td><td>bázová adresa</td></tr>
<tr><td>CX</td><td>CH/CL</td><td>čítač (counter)</td></tr>
<tr><td>DX</td><td>DH/DL</td><td>data, rozšíření akumulátoru</td></tr>
</table>

<p>Dnešní čipy řady x86 a x86-64 obsahují tisíce instrukcí, ovšem původní čip
8086 podporoval pouze cca 120 instrukcí, které jsou vypsány v&nbsp;následující
tabulce:</p>

<pre>
AAA      CMPSB     JA        JNC     LAHF      MUL      REP     SCASB
AAD      CMPSW     JAE       JNE     LDS       NEG      REPE    SCASW
AAM      CWD       JB        JNG     LEA       NOP      REPNE   SHL
AAS      DAA       JBE       JNGE    LES       NOT      REPNZ   SHR
ADC      DAS       JC        JNL     LODSB     OR       REPZ    STC
ADD      DEC       JCXZ      JNLE    LODSW     OUT      RET     STD
AND      DIV       JE        JNO     LOOP      POP      RETF    STI
CALL     HLT       JG        JNP     LOOPE     POPA     ROL     STOSB
CBW      IDIV      JGE       JNS     LOOPNE    POPF     ROR     STOSW
CLC      IMUL      JL        JNZ     LOOPNZ    PUSH     SAHF    SUB
CLD      IN        JLE       JO      LOOPZ     PUSHA    SAL     TEST
CLI      INC       JMP       JP      MOV       PUSHF    SAR     XCHG
CMC      INT       JNA       JPE     MOVSB     RCL      SBB     XLATB
CMP      INTO      JNAE      JPO     MOVSW     RCR              XOR
         IRET      JNB       JS
                   JNBE      JZ
</pre>



<p><a name="k06"></a></p>
<h2 id="k06">6. Od čipu Intel 8086 k&nbsp;mikroprocesorům 80386</h2>

<p>Doba, ve které vznikaly první tři generace mikroprocesorů řady 8086, se vyznačovala překotným vývojem mj.&nbsp;i právě v&nbsp;oblasti mikroprocesorové techniky. Již jsme se zmínili o konkurenčních čipech Motorola 68000, které </p>

<p>Ovšem postupně se vyvíjely i mikroprocesory odvozené od původního poměrně primitivního Intelu 8086 (resp.&nbsp;jeho ořezané varianty Intel 8088). Rozšiřovala se instrukční sada o nové instrukce a adresovací režimy, přidávaly se nové pracovní registry, přidávaly se nové režimy činnosti mikroprocesoru (chráněný režim 286, odlišný chráněný režim 386, virtuální režim) atd. Ovšem současně se kromě těchto kvantitativních změn vylepšovala i interní architektura mikroprocesorů, což například vedlo k&nbsp;urychlení instrukcí. U řady instrukcí jsme tak postupně došli od jejich vykonání v&nbsp;několika desítkách strojových cyklů například na jediný strojový cyklus a poté na možnost dokončit v&nbsp;jednom cyklu více souběžně prováděných instrukcí.</p>

<p></p>

<table>
<tr><th>Mikroprocesor</th><th>Rok uvedení</th><th>Frekvence (MHz)</th><th>Tranzistorů</th><th>Poznámka</th></tr>
<tr><td>8086    </td><td>1978</td><td>5, 8, 10</td><td>  29000</td><td>praotec celé rodiny 80x86</td></tr>
<tr><td>8088    </td><td>1979</td><td>4,77 a 8</td><td>  29000</td><td>byl použit v&nbsp;původním IBM PC</td></tr>
<tr><td>80186   </td><td>1982</td><td>6</td><td>  55000</td><td>využíván jako mikrořadič, nikoli jako procesor v&nbsp;počítačích</td></tr>
<tr><td>80188   </td><td>1982</td><td>6</td><td>  55000</td><td>varianta 80186 s&nbsp;osmibitovou vnější sběrnicí</td></tr>
<tr><td>80286   </td><td>1982</td><td>6, 8, 12,5, 16, 20, 25</td><td> 134000</td><td>použit v&nbsp;PC AT</td></tr>
<tr><td>80386DX </td><td>1985</td><td>16, 20, 25, 33</td><td> 275000</td><td>první 32bitový čip z&nbsp;rodiny 80x86</td></tr>
<tr><td>80386SX </td><td>1988</td><td>16, 20, 25, 33</td><td> 275000</td><td>varianta 80386DX se šestnáctibitovou datovou sběrnicí</td></tr>
<tr><td>80386SL </td><td>1990</td><td>20, 25</td><td> 855000</td><td>obsahuje i cache a řadiče sběrnice a paměti</td></tr>
</table>



<p><a name="k06"></a></p>
<h2 id="k06">6. Efektivnější vykonávání instrukcí v&nbsp;modernějších generacích mikroprocesorů Intel</h2>


<p>Postupně rostoucí počet tranzistorů sám o sobě ovšem nic nevypovídá o skutečné rychlosti mikroprocesoru, protože do značné míry záleží na tom, jakým způsobem jsou tyto tranzistory využity. Postupně rostoucí kvalita implementace instrukcí (například přidáním nové specializované sčítačky pro výpočty adres, přidání fronty instrukcí, možnost takzvaného <i>prefetchingu</i> instrukcí, implementace RISCové pipeline atd.) vedla k&nbsp;tomu, že se postupně snižoval počet cyklů nutných pro dokončení instrukcí. To tedy znamená, že i když mohl být jak mikroprocesor Intel 8086, tak i Intel 80286 provozován na stejné frekvenci 8MHz, bude 80286 ve skutečnosti rychlejší. Ukažme si to například na základní instrukci součtu dvou osmibitových nebo šestnáctibitových hodnot &ndash; <strong>ADD</strong>. Délka výpočtů se odlišuje podle typů operandů a taktéž podle typu mikroprocesoru (čím menší číslo je v&nbsp;tabulce uvedeno, tím lépe):</p>

<table>
<tr><th>Operandy</th><th>8086/88</th><th>186</th><th>286</th><th>386</th><th>486</th><th>Pentium</th></tr>
<tr><td>reg, reg</td><td>3    </td><td>3 </td><td>2</td><td>2</td><td>1</td><td>1</td></tr>
<tr><td>mem, reg</td><td>24+EA</td><td>10</td><td>7</td><td>7</td><td>3</td><td>3</td></tr>
<tr><td>reg, mem</td><td>13+EA</td><td>10</td><td>7</td><td>6</td><td>2</td><td>2</td></tr>
<tr><td>reg, imm</td><td>4    </td><td>4 </td><td>3</td><td>2</td><td>1</td><td>1</td></tr>
<tr><td>mem, imm</td><td>23+EA</td><td>16</td><td>7</td><td>7</td><td>3</td><td>3</td></tr>
<tr><td>acc, imm</td><td>4    </td><td>4 </td><td>3</td><td>2</td><td>1</td><td>1</td></tr>
</table>

<p>Přičemž u čipů 8086/8088 se přidává několik cyklů pro <i>EA</i> neboli pro výpočet efektivní adresy (<i>effective address</i>):</p>

<table>
<tr><th>Adresování</th><th>Počet cyklů EA</th></tr>
<tr><td>reg+offset</td><td>5</td></tr>
<tr><td>přímá adresa</td><td>6</td></tr>
<tr><td>BP+DI nebo BX+SI</td><td>7</td></tr>
<tr><td>BX+DI nebo BP+SI</td><td>8</td></tr>
<tr><td>BP+DI+disp nebo BX+SI+disp</td><td>11</td></tr>
<tr><td>BX+DI+disp nebo BP+SI+disp</td><td>12</td></tr>
</table>
      
<p>Navíc, pokud se mění (explicitně specifikuje) segmentový registr, je nutné přičíst další dva hodinové cykly.</p>
      
<p><div class="rs-tip-major">Poznámka: už u čipu 186 byla přidána samostatná sčítačka pro výpočty adresy, takže se nemusela používat universální ALU. Díky tomu už výpočet efektivní adresy nebyl tak pomalý.</div></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Programátorský model mikroprocesorů Intel 80386</h2>

<p>Mikroprocesory 80386 a 80486 jsou nazývány 32bitovými čipy mj.&nbsp;i z&nbsp;toho důvodu, že se u nich rozšířila aritmeticko-logická jednotka tak, aby bylo možné pracovat s&nbsp;32bitovými operandy. A tomu se musela přizpůsobit i sada pracovních registrů. Společnost Intel se rozhodla, že namísto &bdquo;párování&ldquo; dvou šestnáctibitových registrů do registrů 32bitových rozšíří původní registry ze šestnácti bitů na plných 32 bitů. Týká se to všech čtyř pracovních registrů AX, BX, CX, DX, indexových registrů SI, DI, bázových registrů SP, BP i ukazatele na instrukci IP. Tyto registry byly rozšířeny o horních šestnáct bitů, přičemž je stále možné adresovat spodních 16 bitů původními jmény registrů a/nebo (pouze u pracovních registrů) použít jejich horních a spodních osm bitů zvlášť (AX=AH+AL atd.). V&nbsp;assembleru se 32bitové registry poznají podle toho, že začínají písmenem <strong>E</strong>:</p>

<table>
<tr><th>32bitový registr</th><th>Spodních 16 bitů</th><th>Rozdělení horní/dolní bajt</th><th>Funkce registru</th></tr>
<tr><td>EAX</td><td>AX</td><td>AH/AL</td><td>akumulátor</td></tr>
<tr><td>EBX</td><td>BX</td><td>BH/BL</td><td>bázový registr</td></tr>
<tr><td>ECX</td><td>CX</td><td>CH/CL</td><td>čítač</td></tr>
<tr><td>EDX</td><td>DX</td><td>DH/DL</td><td>datový registr</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>ESP</td><td>SP</td><td>&nbsp;</td><td>ukazatel na vrchol zásobníku</td></tr>
<tr><td>EBP</td><td>BP</td><td>&nbsp;</td><td>báze zásobníkového rámce</td></tr>
<tr><td>ESI</td><td>SI</td><td>&nbsp;</td><td>indexový registr pro zdroj dat</td></tr>
<tr><td>EDI</td><td>DI</td><td>&nbsp;</td><td>indexový registr pro cíl dat</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>EIP</td><td>IP</td><td>&nbsp;</td><td>ukazatel na prováděnou instrukci</td></tr>
</table>

<p><div class="rs-tip-major">Poznámka: zachování přístupu k&nbsp;šestnáctibitovým (spodním) polovinám registrů a dokonce k&nbsp;nejnižšímu bajtu a bajtu nad ním sice může vypadat zvláštně, ovšem tento koncept umožnil relativně dobrou práci s&nbsp;řetězci, což je například u klasických čistě RISCových procesorů sice možné (díky specializovaným instrukcím LOAD a STORE), ale ne plně efektivní.</div></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Nové segmentové registry u mikroprocesorů Intel 80386</h2>

<p>Mikroprocesory 80386 mají k&nbsp;dispozici taktéž dva nové segmentové registry pojmenované jednoduše <strong>FS</strong> a <strong>GS</strong>. Tyto registry lze použít pro adresování libovolného segmentu operační paměti a nemají žádný další speciální význam, na rozdíl od původní čtveřice segmentových registrů <strong>CS</strong> (kódový segment), <strong>DS</strong> (datový segment), <strong>SS</strong> (segment se zásobníkem) a <strong>ES</strong> (použit u řetězcových a blokových operací). Ovšem pochopitelně u složitějších aplikací mohou být další dva segmentové registry užitečné a mohou je využívat i překladače vyšších programovacích jazyků. S&nbsp;těmito novými registry se pracuje stejně, jako s&nbsp;původní čtveřicí.</p>

<p><div class="rs-tip-major">Poznámka: pochopitelně je otázkou, zda by nebylo lepší spíše přidat více pracovních registrů, to však původní schéma kódování instrukcí neumožňuje, takže jsme si museli počkat až na 64bitovou architekturu.</div></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Další nové instrukce dostupné u mikroprocesorů Intel 80386</h2>

<p>Procesory ze třetí generace čipů 80x86 mají rozšířenou sadu instrukcí určenou pro konverze dat. Těmito instrukcemi jsme se prozatím v&nbsp;tomto seriálu podrobněji nezabývali, takže si nyní vypišme všechny dostupné varianty i s&nbsp;jejich stručným popisem. To, zda se jedná o nové instrukce či nikoli, je patrné z&nbsp;obsahu druhého sloupce:</p>

<table>
<tr><th>Instrukce</th><th>Kompatibilita</th><th>Stručný popis instrukce</th></tr>
<tr><td>CBW </td><td>8086</td><td>znaménkové rozšíření AL&rarr;AX</td></tr>
<tr><td>CWD </td><td>8086</td><td>znaménkové rozšíření AX&rarr;DX:AX</td></tr>
<tr><td>CWDE</td><td>80386</td><td>znaménkové rozšíření AX&rarr;EAX</td></tr>
<tr><td>CDQ </td><td>80386</td><td>znaménkové rozšíření EAX&rarr;EDX:EAX</td></tr>
</table>

<p>Tyto instrukce původní osmibitovou, 16bitovou či 32bitovou hodnotu rozšíří na dvojnásobnou šířku, přičemž berou v&nbsp;úvahu znaménko (nejedná se tedy o pouhé vynulování horních bitů registru či dvojice registrů). V&nbsp;rámci čipů 80386 byly přidány instrukce <strong>CWDE</strong> a <strong>CDQ</strong>.  Zajímavé je, že tyto instrukce trvají dva cykly, zatímco instrukce původní (jednodušší) trvají cykly tři.</p>

<p>Instrukce uvedené v&nbsp;předchozí tabulce pracují pouze s&nbsp;akumulátorem popř.&nbsp;s&nbsp;dvojicí registrů D:A (DX:AX nebo EDX:EAX). Čipy 80386 jsou ale doplněny i obecnějšími instrukcemi určenými pro rozšíření hodnoty při přenosu dat z/do jiných registrů nebo z&nbsp;operační paměti. Jedná se tedy o variantu obecné přenosové instrukce <strong>MOV</strong> nazvanou <strong>MOVZX</strong>, ovšem s&nbsp;tím, že se horních osm bitů resp.&nbsp;šestnáct bitů vynuluje:</p>

<table>
<tr><th>Instrukce</th><th>Operandy</th><th>Stručný popis instrukce</th></tr>
<tr><td>MOVZX</td><td>reg16, reg8</td><td>přenos z&nbsp;osmibitového registru do registru 16bitového s&nbsp;vynulováním horních osmi bitů</td></tr>
<tr><td>MOVZX</td><td>reg32, reg16</td><td>přenos z&nbsp;16bitového registru do registru 32bitového s&nbsp;vynulováním horních šestnácti bitů</td></tr>
<tr><td>MOVZX</td><td>reg16, mem</td><td>přenos osmi bitů z&nbsp;operační paměti s&nbsp;vynulováním horních osmi bitů</td></tr>
<tr><td>MOVZX</td><td>reg32, mem</td><td>přenos šestnácti bitů z&nbsp;operační paměti s&nbsp;vynulováním horních šestnácti bitů</td></tr>
</table>

<p><div class="rs-tip-major">Poznámka: další adresovací režimy podporované instrukcí <strong>MOV</strong> nejsou u <strong>MOVZX</strong> podporovány.</div></p>

<p>K&nbsp;dispozici je i instrukce nazvaná <strong>MOVSX</strong> umožňující přenosy dat se znaménkovým rozšířením. Pro kladné hodnoty (nejvyšší bit je nulový) je tato instrukce totožná s&nbsp;výše uvedenou <strong>MOVZX</strong>, pro hodnoty záporné (nejvyšší bit nastaven na jedničku) se pak vyšší polovina cílového registru taktéž nastaví na jedničku:</p>

<table>
<tr><th>Instrukce</th><th>Operandy</th><th>Stručný popis instrukce</th></tr>
<tr><td>MOVSX</td><td>reg16, reg8</td><td>přenos z&nbsp;osmibitového registru do registru 16bitového se znaménkovým rozšířením do horních osmi bitů</td></tr>
<tr><td>MOVSX</td><td>reg32, reg16</td><td>přenos z&nbsp;16bitového registru do registru 32bitového se znaménkovým rozšířením do horních šestnácti bitů</td></tr>
<tr><td>MOVSX</td><td>reg16, mem</td><td>přenos osmi bitů z&nbsp;operační paměti se znaménkovým rozšířením do horních osmi bitů</td></tr>
<tr><td>MOVSX</td><td>reg32, mem</td><td>přenos šestnácti bitů z&nbsp;operační paměti se znaménkovým rozšířením do horních šestnácti bitů</td></tr>
</table>



<p><a name="k10"></a></p>
<h2 id="k10">10. &bdquo;Bitový procesor&ldquo;</h2>

<p>Mikroprocesory 80386 mají k&nbsp;dispozici i instrukce pro provádění různých bitových operací. Jedná se velmi užitečné nízkoúrovňové operace a podobné instrukce nalezneme například v&nbsp;mnoha mikrořadičích:</p>

<table>
<tr><th>Instrukce</th><th>Operandy</th><th>Stručný popis instrukce</th></tr>
<tr><td>BT</td><td>src, n</td><td>n-tý bit se zkopíruje do příznaku Carry</td></tr>
<tr><td>BTC</td><td>src, n</td><td>negace n-tého bitu se zkopíruje do příznaku Carry</td></tr>
<tr><td>BTR</td><td>src, n</td><td>jako instrukce BT, ale bit se poté vynuluje</td></tr>
<tr><td>BTS</td><td>src, n</td><td>jako instrukce BT, ale bit se poté nastaví na 1</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>BSF</td><td>dest, src</td><td>hledá první nenulový bit od bitu nejnižšího</td></tr>
<tr><td>BSR</td><td>dest, src</td><td>hledá první nenulový bit od bitu nejvyššího</td></tr>
</table>



<p><a name="k11"></a></p>
<h2 id="k11">11. </h2>

<p></p>



<p><a name="k12"></a></p>
<h2 id="k12">12. </h2>

<p></p>



<p><a name="k13"></a></p>
<h2 id="k13">13. </h2>

<p></p>



<p><a name="k14"></a></p>
<h2 id="k14">14. </h2>

<p></p>



<p><a name="k15"></a></p>
<h2 id="k15">15. </h2>

<p></p>



<p><a name="k16"></a></p>
<h2 id="k16">16. </h2>

<p></p>



<p><a name="k17"></a></p>
<h2 id="k17">17. </h2>

<p></p>



<p><a name="k18"></a></p>
<h2 id="k18">18. </h2>

<p></p>



<p><a name="k19"></a></p>
<h2 id="k19">19. </h2>

<p></p>



<p><a name="k20"></a></p>
<h2 id="k20">20. Odkazy na Internetu</h2>

<ol>

<li>The Intel 8088 Architecture and Instruction Set<br />
<a href="https://people.ece.ubc.ca/~edc/464/lectures/lec4.pdf">https://people.ece.ubc.ca/~edc/464/lectures/lec4.pdf</a>
</li>

<li>x86 Opcode Structure and Instruction Overview<br />
<a href="https://pnx.tf/files/x86_opcode_structure_and_instruction_overview.pdf">https://pnx.tf/files/x86_opcode_structure_and_instruction_overview.pdf</a>
</li>

<li>x86 instruction listings (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/X86_instruction_listings">https://en.wikipedia.org/wiki/X86_instruction_listings</a>
</li>

<li>x86 assembly language (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/X86_assembly_language">https://en.wikipedia.org/wiki/X86_assembly_language</a>
</li>

<li>Intel Assembler (Cheat sheet)<br />
<a href="http://www.jegerlehner.ch/intel/IntelCodeTable.pdf">http://www.jegerlehner.ch/intel/IntelCodeTable.pdf</a>
</li>

<li>25 Microchips That Shook the World<br />
<a href="https://spectrum.ieee.org/tech-history/silicon-revolution/25-microchips-that-shook-the-world">https://spectrum.ieee.org/tech-history/silicon-revolution/25-microchips-that-shook-the-world</a>
</li>

<li>Chip Hall of Fame: Intel 8088 Microprocessor<br />
<a href="https://spectrum.ieee.org/tech-history/silicon-revolution/chip-hall-of-fame-intel-8088-microprocessor">https://spectrum.ieee.org/tech-history/silicon-revolution/chip-hall-of-fame-intel-8088-microprocessor</a>
</li>

<li>Jak se zrodil procesor?<br />
<a href="https://www.root.cz/clanky/jak-se-zrodil-procesor/">https://www.root.cz/clanky/jak-se-zrodil-procesor/</a>
</li>

<li>The 8086/8088 Primer<br />
<a href="https://www.stevemorse.org/8086/index.html">https://www.stevemorse.org/8086/index.html</a>
</li>

<li>flat assembler: Assembly language resources<br />
<a href="https://flatassembler.net/">https://flatassembler.net/</a>
</li>

<li>FASM na Wikipedii<br />
<a href="https://en.wikipedia.org/wiki/FASM">https://en.wikipedia.org/wiki/FASM</a>
</li>

<li>Fresh IDE FASM inside<br />
<a href="https://fresh.flatassembler.net/">https://fresh.flatassembler.net/</a>
</li>

<li>MS-DOS Version 4.0 Programmer's Reference<br />
<a href="https://www.pcjs.org/documents/books/mspl13/msdos/dosref40/">https://www.pcjs.org/documents/books/mspl13/msdos/dosref40/</a>
</li>

<li>DOS API (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/DOS_API">https://en.wikipedia.org/wiki/DOS_API</a>
</li>

<li>Bit banging<br />
<a href="https://en.wikipedia.org/wiki/Bit_banging">https://en.wikipedia.org/wiki/Bit_banging</a>
</li>

<li>IBM Basic assembly language and successors (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/IBM_Basic_assembly_language_and_successors">https://en.wikipedia.org/wiki/IBM_Basic_assembly_language_and_successors</a>
</li>

<li>X86 Assembly/Bootloaders<br />
<a href="https://en.wikibooks.org/wiki/X86_Assembly/Bootloaders">https://en.wikibooks.org/wiki/X86_Assembly/Bootloaders</a>
</li>

<li>Complete 8086 instruction set<br />
<a href="https://content.ctcd.edu/courses/cosc2325/m22/docs/emu8086ins.pdf">https://content.ctcd.edu/courses/cosc2325/m22/docs/emu8086ins.pdf</a>
</li>

<li>Complete 8086 instruction set<br />
<a href="https://yassinebridi.github.io/asm-docs/8086_instruction_set.html">https://yassinebridi.github.io/asm-docs/8086_instruction_set.html</a>
</li>

<li>8088 MPH by Hornet + CRTC + DESiRE (final version)<br />
<a href="https://www.youtube.com/watch?v=hNRO7lno_DM">https://www.youtube.com/watch?v=hNRO7lno_DM</a>
</li>

<li>Area 5150 by CRTC &amp; Hornet (Party Version) / IBM PC+CGA Demo, Hardware Capture<br />
<a href="https://www.youtube.com/watch?v=fWDxdoRTZPc">https://www.youtube.com/watch?v=fWDxdoRTZPc</a>
</li>

<li>80x86 Integer Instruction Set Timings (8088 - Pentium)<br />
<a href="http://aturing.umcs.maine.edu/~meadow/courses/cos335/80x86-Integer-Instruction-Set-Clocks.pdf">http://aturing.umcs.maine.edu/~meadow/courses/cos335/80x86-Integer-Instruction-Set-Clocks.pdf</a>
</li>

<li>Colour Graphics Adapter: Notes<br />
<a href="https://www.seasip.info/VintagePC/cga.html">https://www.seasip.info/VintagePC/cga.html</a>
</li>

<li>Demoing An 8088<br />
<a href="https://hackaday.com/2015/04/10/demoing-an-8088/">https://hackaday.com/2015/04/10/demoing-an-8088/</a>
</li>

<li>Interrupts in 8086 microprocessor<br />
<a href="https://www.geeksforgeeks.org/interrupts-in-8086-microprocessor/">https://www.geeksforgeeks.org/interrupts-in-8086-microprocessor/</a>
</li>

<li>Interrupt Structure of 8086<br />
<a href="https://www.eeeguide.com/interrupt-structure-of-8086/">https://www.eeeguide.com/interrupt-structure-of-8086/</a>
</li>

<li>List of Intel CPU microarchitectures<br />
<a href="https://en.wikipedia.org/wiki/List_of_Intel_CPU_microarchitectures">https://en.wikipedia.org/wiki/List_of_Intel_CPU_microarchitectures</a>
</li>

<li>IBM PC slaví 40 let: otevřená architektura změnila svět<br />
<a href="https://www.root.cz/clanky/ibm-pc-slavi-40-let-otevrena-architektura-zmenila-svet/">https://www.root.cz/clanky/ibm-pc-slavi-40-let-otevrena-architektura-zmenila-svet/</a>
</li>

<li>Jak se zrodil procesor?<br />
<a href="https://www.root.cz/clanky/jak-se-zrodil-procesor/">https://www.root.cz/clanky/jak-se-zrodil-procesor/</a>
</li>

<li>All About Computers - 386 processor<br />
<a href="https://shinesystems.blogspot.com/2009/06/386-processor.html">https://shinesystems.blogspot.com/2009/06/386-processor.html</a>
</li>

<li>Legendární školní mikropočítač IQ-151 <br />
<a href="https://www.root.cz/clanky/legendarni-skolni-mikropocitac-iq-151/">https://www.root.cz/clanky/legendarni-skolni-mikropocitac-iq-151/</a>
</li>

<li>Vývoj her a grafických dem pro oslavovanou i nenáviděnou platformu PC (první kroky) <br />
<a href="https://www.root.cz/clanky/vyvoj-her-a-grafickych-dem-pro-oslavovanou-i-nenavidenou-platformu-pc-prvni-kroky/">https://www.root.cz/clanky/vyvoj-her-a-grafickych-dem-pro-oslavovanou-i-nenavidenou-platformu-pc-prvni-kroky/</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="https://github.com/tisnik/">Pavel Tišnovský</a> &nbsp; 2025</small></p>
</body>
</html>

