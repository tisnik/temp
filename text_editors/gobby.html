<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Gobby - zdaøilá symbióza textového editoru a chatovacího programu</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
</head>

<body>

<h1>Gobby - zdaøilá symbióza textového editoru a chatovacího programu</h1>

<h2>Perex</h2>

<p></p>

<hr />

<p>Mezi pomìrnì velkým mno¾stvím balíèkù, které jsou dostupné ve standardních repositáøích <i>Fedory</i>, se nachází i jedna zajímavá a v&nbsp;nìkterých situacích i docela u¾iteèná aplikace, je¾ svým u¾ivatelùm nabízí funkce vzniklé jakousi symbiózou mezi bì¾ným textovým editorem a chatovacím programem. Tato aplikace se jmenuje <a href="http://gobby.0x539.de/trac/">Gobby</a> a jedná se o zástupce specializovaných textových editorù umo¾òujících spolupráci vìt¹ího mno¾ství u¾ivatelù na stejném textovém dokumentu v&nbsp;reálném èase. To znamená, ¾e v¹ichni u¾ivatelé mohou vybraný dokument editovat souèasnì, pøièem¾ díky neustálé vzájemné synchronizaci vidí i v¹echny editaèní operace provádìné ostatními u¾ivateli. Synchronizace probíhá v&nbsp;reálném èase a je provádìna a¾ na úroveò jednotlivých stlaèení kláves, co¾ je mnohdy dùle¾ité, zejména pøi konzultacích nad chybami ve zdrojových kódech. Ka¾dý u¾ivatel si navíc mù¾e zvolit barvu pozadí, kterou jsou zvýrazòovány ty èásti textu, na kterých pracoval.</p>

<img src="gobby_01.png" />
<p><i>Obrázek 1: Logo aplikace Gobby<br />Autor: 0x539 dev group</i></p>

<p>Vzhledem k&nbsp;tomu, ¾e aplikace <i>Gobby</i> umo¾òuje pouze práci s&nbsp;holým textem (<i>plain text</i>), nemohou být editované textové dokumenty formátovány takovým zpùsobem, jako je tomu v&nbsp;textových procesorech. Není napøíklad umo¾nìno mìnit styl písma, jeho velikost, zarovnání odstavcù apod. Naproti tomu je mo¾né u editovaných textových souborù barevnì zvýraznit syntaxi, proto¾e <i>Gobby</i> obsahuje syntaktická (èi pøesnìji øeèeno lexikální) pravidla pro mnoho typù programovacích jazykù, konfiguraèních souborù, znaèkovacích jazykù apod. Bez problémù je takté¾ mo¾né pracovat s&nbsp;dokumenty obsahujícími znaky s&nbsp;akcenty. V&nbsp;tomto pøípadì se pøedpokládá, ¾e je pou¾ito kódování <a href="http://en.wikipedia.org/wiki/Utf-8">UTF-8</a>. Pøi práci s&nbsp;vìt¹ím mno¾stvím dokumentù se pou¾ívají dnes ji¾ obvyklé taby.</p>

<img src="gobby_02.png" />
<p><i>Obrázek 2: Editace souboru .bashrc se zapnutím zvýraznìní syntaxe (pro shell).</i></p>

<p>Program <i>Gobby</i> samozøejmì není jediným zástupcem tohoto typu aplikací, které bývají oznaèovány zkratkou <i>RTCE</i>, neboli <i>Real-time collaborative editor</i>. Mezi dal¹í programy se stejnou èi podobnou funkcionalitou patøí napøíklad <a href="http://moonedit.com/">MoonEdit</a>, <a href="http://www.codingmonkeys.de/subethaedit/">SubEthaEdit</a> (v&nbsp;obou pøípadech jde o desktopové aplikace), ale takté¾ mnohé nástroje pøístupné pøes webové rozhraní, napøíklad pomìrnì populární <a href="http://etherpad.org/">Etherpad</a> nebo <a href="http://wave.google.com/">Google Wave</a>. Program <i>Gobby</i> se od vý¹e zmínìných aplikací odli¹uje dobrou integrací do desktopového prostøedí <i>Gnome</i> (vèetnì podpory drag &amp; drop) a takté¾ <a href="http://cs.wikipedia.org/wiki/GNU_General_Public_License">licencí GPL</a>, pod ní¾ je program ¹íøen. Na rozdíl od <i>Google Wave</i> a <i>Etherpadu</i> je mo¾né spolupracovat na textových dokumentech, ani¾ by se u¾ivatelé museli registrovat a pøihla¹ovat na nìjaký server &ndash; ve¹kerá komunikace probíhá pøímo mezi jednotlivými programy <i>Gobby</i>, pøièem¾ se pøi komunikaci vyu¾ívá ¹ifrované a tedy zabezpeèené spojení.</p>

<img src="gobby_03.png" />
<p><i>Obrázek 3: Souèasná editace dokumentu tøemi u¾ivateli. Text napsaný ka¾dým u¾ivatelem je zvýraznìn jím zvolenou barvou pozadí (tuto barvu je mo¾né v&nbsp;prùbìhu práce mìnit, Gobby v¹ak zajistí, aby si dva u¾ivatelé nevybrali stejný barvový odstín).</i></p>

<p>Instalace programu <i>Gobby</i> do <i>Fedory</i> je velmi jednoduchá, proto¾e se jedná o balíèek umístìný ve standardních repositáøích. V&nbsp;grafickém prostøedí (Gnome, KDE, ...) tedy postaèuje spustit grafický instalátor a v&nbsp;nìm <i>Gobby</i> vyhledat podle jeho jména zpùsobem, jaký je ukázán na ètvrtém obrázku.</p>

<img src="gobby_04.png" />
<p><i>Obrázek 4: Instalace aplikace Gobby pomocí grafického instalaèního programu (Fedora 15).</i></p>

<p>Pokud preferujete provádìní instalací spí¹e z&nbsp;pøíkazové øádky, postaèuje v&nbsp;konzoli èi terminálu spustit následující pøíkaz:</p>

<pre>
sudo yum install gobby
</pre>

<img src="gobby_05.png" />
<p><i>Obrázek 5: Instalace aplikace Gobby z&nbsp;pøíkazového øádku (Fedora 15).</i></p>

<p>Po úspì¹né instalaci je ji¾ mo¾né aplikaci <i>Gobby</i> ihned zaèít pou¾ívat. Na rozdíl od bì¾ných textových editorù je v¹ak po spu¹tìní nutné zvolit, v&nbsp;jakém re¾imu bude <i>Gobby</i> pracovat. Volbu je mo¾né provést mezi dvìma re¾imy. Po volbì prvního re¾imu, který se volí pøíkazem <i>Create session</i>, se <i>Gobby</i> zaène chovat jako server, k&nbsp;nìmu¾ se mohou pøipojovat dal¹í u¾ivatelé pøíkazem <i>Join session</i>. Pøed vytvoøením nového sezení se <i>Gobby</i> v&nbsp;zobrazeném dialogu zeptá na èíslo portu, na nìm¾ má být server dostupný (vìt¹inou není nutné zmìnit pøednastavenou hodnotu 6522), dále pak na jméno u¾ivatele, které se zobrazuje v&nbsp;chatovacím podoknì (viz dal¹í text), na barvu pozadí, kterým je editovaný text zvýraznìn a takté¾ na heslo, které musí pou¾ít ostatní u¾ivatelé pøi pøihlá¹ení k&nbsp;vytvoøenému sezení. Heslo je volitelné &ndash; pokud v¹ak není zadáno, znamená to, ¾e se mù¾e k&nbsp;sezení pøipojit i nevítaný náv¹tìvník (nemù¾e se v¹ak nijak skrýt).</p>

<img src="gobby_06.png" />
<p><i>Obrázek 6: Dialog zobrazený pøi vytváøení nového sezení (session).</i></p>

<p>Ostatní u¾ivatelé se mohou k&nbsp;vytvoøenému sezení pøipojit pøíkazem <i>Join session</i>. Formuláø pro pøipojení k&nbsp;existujícímu sezení je ponìkud odli¹ný od formuláøe pro vytvoøení sezení, proto¾e se kromì portu musí zadat i celá adresa poèítaèe, na nìm¾ bì¾í <i>Gobby</i> pracující ve funkci serveru. Pro zjednodu¹ení vyhledání serveru jsou v&nbsp;dolní èásti formuláøe zobrazeny v¹echny poèítaèe na lokální síti s&nbsp;otevøeným portem 6522. Zadání jména u¾ivatele a barvy pozadí je shodné, jako v&nbsp;pøedchozím dialogu. <i>Gobby</i> je¹tì pøed pøipojením nového u¾ivatele k&nbsp;sezení zkontroluje jeho jméno a zvolenou barvu pozadí, aby nedocházelo ke kolizím. Navíc se mù¾e zeptat i na heslo, ov¹em pouze v&nbsp;tom pøípadì, ¾e heslo bylo skuteènì zadáno pøi vytvoøení sezení.</p>

<img src="gobby_07.png" />
<p><i>Obrázek 7: Dialog zobrazený pøi pøipojování se k&nbsp;ji¾ vytvoøenému sezení (session).</i></p>

<p>Pokud se úspì¹nì podaøilo navázat spojení, zobrazí se ve spodní èásti hlavního okna aplikace <i>Gobby</i> v¹em ji¾ pøipojeným u¾ivatelùm hlá¹ení o novém u¾ivateli. Navíc se upraví i seznam u¾ivatelù, který lze zobrazit volbou <i>User list</i>:</p>

<img src="gobby_08.png" />
<p><i>Obrázek 8: Okno se seznamem aktivních i neaktivních u¾ivatelù.</i></p>

<p>V&nbsp;dolní èásti hlavního okna aplikace <i>Gobby</i> je zobrazena oblast chatu, jeho¾ základní funkce se pøíli¹ neli¹í od funkcí nabízených napøíklad chatovacími programy pracujícími s&nbsp;protokolem IRC (<i>Xchat</i> apod.). Ov¹em nejdùle¾itìj¹í funkce <i>Gobby</i> spoèívá v&nbsp;synchronizované editaci textových dokumentù. Ta je celkem snadná &ndash; dokument se nejdøíve musí buï vytvoøit, popø.&nbsp;je mo¾né otevøít ji¾ existující dokument na lokálním souborovém systému. Tento dokument se ihned stane dostupným i dal¹ím pøipojeným u¾ivatelùm, kterým se buï zobrazí zcela automaticky (volba <i>Preferences&rarr;Behaviour&rarr;Open new remotely-created document automatically.</i>) nebo si ho mohou otevøít ze seznamu dokumentù. Dokument vytvoøený èi otevøený nìkterým z&nbsp;dal¹ích u¾ivatelù je samozøejmì mo¾né ulo¾it na lokální souborový systém.</p>

<img src="gobby_09.png" />
<p><i>Obrázek 9: Seznam dokumentù vytvoøených èi otevøených nìkterým z&nbsp;u¾ivatelù.</i></p>

<p>Soubì¾ná práce vìt¹ího mno¾ství u¾ivatelù nad jedním dokumentem je prakticky bezproblémová. Zmìna provedená ka¾dým u¾ivatelem je zvýraznìna jím zvolenou barvou pozadí a díky tomu, ¾e se synchronizace v¹ech editaèních operací provádí ihned po stisku klávesy, nedochází v&nbsp;naprosté vìt¹inì pøípadù k&nbsp;¾ádným kolizím, a to ani tehdy, pokud více u¾ivatelù edituje stejný øádek. Samotný textový editor nabízí základní editaèní funkce, práci se schránkou (<i>clipboard</i>) a výbìrem (<i>selection</i>), funkci pro vyhledání a nahrazení textu a takté¾ skok na urèený øádek. Chování editoru lze globálnì nastavit volbou <i>Edit&rarr;Preferences</i>, popø.&nbsp;pouze pro aktivní dokument volbou <i>Edit&rarr;Document Preferences</i> (mezi pravdìpodobnì nejdùle¾itìj¹í parametry patøí volba automatického zalamování textu a takté¾ výbìr re¾imu práce s&nbsp;tabulátory). V&nbsp;pøípadì, ¾e je ¹patnì rozpoznán typ dokumentu (a tím pádem se ¹patnì zvýrazòuje syntaxe), lze provést nápravu pøes volbu <i>Edit&rarr;Syntax</i>.</p>

<img src="gobby_10.png" />
<p><i>Obrázek 10: Soubì¾ná práce dvou u¾ivatelù nad textovým souborem obsahujícím záplatu (patch). Ka¾dý u¾ivatel zmìnil jeden øádek patche, co¾ se projevilo odli¹nou barvou pozadí.</i></p>

<p>Závìrem je mo¾né øíct, ¾e aplikace <i>Gobby</i> je i pøes svoji zdánlivou jednoduchost velmi u¾iteèným nástrojem, zejména v&nbsp;pøípadech, kdy je nutné, aby vìt¹í mno¾ství u¾ivatelù pracovalo nad stejným dokumentem. V&nbsp;tìchto pøípadech je komunikace zalo¾ená na posílání jednotlivých textových øádkù pøes chatovací program nebo pou¾ívání &bdquo;sí»ových schránek&ldquo; typu <a href="http://fpaste.org">http://fpaste.org</a> mnohdy zbyteènì krkolomné a vyu¾ití webových editorù zase vìt¹inou vy¾aduje registraci (a navíc bývá pomalej¹í). K&nbsp;výhodám <i>Gobby</i> navíc musíme pøidat dobrou integraci do Gnome desktopu, systémovou nezávislost a bezpeènost zaruèenou díky pou¾ití ¹ifrovaného spojení.</p>

<img src="gobby_11.png" />
<p><i>Obrázek 11: Díky tomu, ¾e se protokol pou¾ívaný aplikací Gobby za poslední roky nezmìnil, je mo¾né komunikovat i se star¹ími verzemi Gobby, mezi nì¾ patøí napøíklad tato verze spu¹tìná ve Fedoøe 10.</i></p>



<hr />
<p><small>Autor: Pavel Ti¹novský &ndash; 2011</small></p>
</body>
</html>

