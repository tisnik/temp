<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Nástroje pro tvorbu UML diagramù z pøíkazové øádky</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Nástroje pro tvorbu UML diagramù z pøíkazové øádky</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>V pøedchozím èlánku o nástrojích pro tvorbu grafù a diagramù z pøíkazové øádky byla popsána utilita gnuplot, sada nástrojù Graphviz a takté¾ utilita Ditaa. ®ádný z tìchto nástrojù v¹ak neumìl vytváøet UML diagramy a z tohoto dùvodu se dnes zamìøíme na program nazvaný PlantUML, který tuto funkcionalitu nabízí.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Nástroje pro tvorbu UML diagramù z pøíkazové øádky</a></p>
<p><a href="#k02">2. PlantUML</a></p>
<p><a href="#k03">3. Diagram aktivit</a></p>
<p><a href="#k04">4. Zmìna stylu diagramu aktivit</a></p>
<p><a href="#k05">5. Vìtvení v&nbsp;diagramu aktivit</a></p>
<p><a href="#k06">6. Diagram tøíd</a></p>
<p><a href="#k07">7. Metody a atributy v&nbsp;diagramu tøíd</a></p>
<p><a href="#k08">8. Rozhraní v&nbsp;diagramu tøíd</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Nástroje pro tvorbu UML diagramù z pøíkazové øádky</h2>

<p>Jazyk oznaèovaný zkratkou <i>UML</i> neboli <i>Unified Modeling Language</i>
je, jak ji¾ jeho název napovídá, unifikovaný modelovací jazyk, který má, na
rozdíl od pøevá¾nì textovì orientovaných programovacích jazykù, vlastní
grafickou syntaxi (tj.&nbsp;pravidla urèující zpùsob sestavování jednotlivých
elementù jazyka do vìt¹ích objektù) a takté¾ sémantiku (tj.&nbsp;jednoznaèná
pravidla urèující jednotlivým syntaktickým výrazùm jejich význam). <i>UML</i>
se dnes pou¾ívá jak v&nbsp;prùbìhu návrhu architektury rozsáhlých informaèních
systémù, tak i na ni¾¹í úrovni: pro popis statického popø.&nbsp;i dynamického
chování jednotlivých modulù, z&nbsp;nich¾ se informaèní systém skládá (jak
uvidíme dále, lze napøíklad diagram aktivit pou¾ít i namísto vývojového
diagramu). Nìkteré spoleènosti mají celý návrh IS postavený právì na UML, ov¹em
vìt¹inou se dává pøednost pragmatiètìj¹ímu pøístupu a vyu¾ívají se jen nìkteré
UML diagramy, které bývají doplnìny napøíklad pseudokódem (navíc se ukazuje, ¾e
pro neobjektové prvky informaèních systémù, napøíklad pro návrh relaèních
databází, nemusí být UML tím nejlep¹ím øe¹ením, co¾ do znaèné míry souvisí se
zpùsobem vývoje UML).</p>

<p>Nìkterými nástroji urèenými pro tvorbu UML diagramù jsme se ji¾ zabývali
témìø pøed deseti lety :-) v&nbsp;èlánku, který naleznete na adrese <a
href="http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu/">http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu/</a>.
Vìt¹ina zmínìných nástrojù kupodivu stále existuje (samozøejmì
v&nbsp;modernizované podobì), i kdy¾ v&nbsp;nìkterých pøípadech do¹lo ke zmìnì
jejich jména. Dnes se ov¹em budeme zabývat utilitou, která od u¾ivatele
nevy¾aduje ani ruèní kreslení diagramù s&nbsp;vyu¾itím grafického u¾ivatelského
rozhraní a dokonce ani nezpracovává zdrojové kódy a netvoøí z&nbsp;nich diagram
tøíd. Tento relativnì jednodu¹e pou¾itelný nástroj se jmenuje
<i>PlantUML</i>.</p>



<p><a name="k02"></a></p>
<h2 id="k02">2. PlantUML</h2>

<p>Nástroj <i>PlantUML</i> (<a
href="http://plantuml.sourceforge.net/">http://plantuml.sourceforge.net/</a>)
doká¾e na základì textového popisu UML diagramu vytvoøit bitmapový obrázek
s&nbsp;tímto diagramem, pøièem¾ u¾ivatel mù¾e do jisté míry ovlivnit zpùsob
jeho vykreslení, pøidat popis hran apod. V&nbsp;souèasné verzi <i>PlantUML</i>
jsou podporovány následující typy UML diagramù: diagram aktivit, stavový
diagram, diagram tøíd, diagram objektù, diagram komponent, diagram u¾ití a
sekvenèní diagram. Ve skuteènosti sice UML popisuje i dal¹í typy diagramù,
ov¹em <i>PlantUML</i> s&nbsp;velkou pravdìpodobností doká¾e pokrýt vìt¹inu
potøeb analytikù i programátorù, proto¾e v&nbsp;nabídce podporovaných diagramù
jsou zastoupeny v¹echny tøi kategorie: popis struktury informaèního systému,
popis chování informaèního systému a popis interakce èi komunikace.
<i>PlantUML</i> je naprogramovaný v&nbsp;Javì, ov¹em podobnì jako tomu bylo
v&nbsp;pøípadì minule popsaného nástroje <i>Ditaa</i> se jedná o relativnì malý
program, který pro svùj bìh nevy¾aduje enormní mno¾ství zdrojù (diskový
prostor, RAM atd.). Pro u¾ivatele <i>PlantUML</i> je na adrese <a
href="http://sourceforge.net/projects/plantuml/files/plantuml.jar/download">http://sourceforge.net/projects/plantuml/files/plantuml.jar/download</a>
k&nbsp;dispozici spustitelný Java archiv, dále je vhodné si stáhnout referenèní
pøíruèku k&nbsp;jazyku z&nbsp;adresy <a
href="http://plantuml.sourceforge.net/PlantUML_Language_Reference_Guide.pdf">http://plantuml.sourceforge.net/PlantUML_Language_Reference_Guide.pdf</a>.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Diagram aktivit</h2>

<p>V&nbsp;diskuzi vedené pod pøedchozím èlánkem se mj.&nbsp;øe¹ila i
problematika (automatizovaného) vykreslování vývojových diagramù (<i>flow
chart</i>). Klasické vývojové diagramy sice nejsou v&nbsp;UML pøímo
podporovány, ale existuje zde velmi podobný typ diagramu nazvaný <i>diagram
aktivit</i>. Tímto diagramem je mo¾né nahradit vývojové diagramy
s&nbsp;vìtvením i programovými smyèkami. Diagram aktivit lze
v&nbsp;<i>PlantUML</i> vytvoøit velmi jednoduchým zpùsobem, co¾ si ostatnì
uká¾eme na nìkolika demonstraèních pøíkladech.</p>

<p>První pøíklad obsahuje definici diagramu aktivit, který obsahuje jen jedinou
akci, tj.&nbsp;uzel pøedstavující vìt¹inou dále nedìlený krok, který se
v&nbsp;systému provádí. Diagram obsahuje symbol inicializace (èerná teèka),
koncový bod (kru¾nice s&nbsp;èernou teèkou uprostøed) a uzel s&nbsp;provádìným
krokem. Mezi symbolem inicializace a uzlem je nakreslena ¹ipka, podobná ¹ipka
je pak nakreslena mezi uzlem a koncovým bodem. V&nbsp;<i>PlantUML</i> je tento
diagram pøedstavován následujícím kódem (textovým souborem). Pov¹imnìte si
pou¾ití symbolù (*) jak pro symbol inicializace, tak i pro koncový bod:</p>

<pre>
@startuml
(*) --&gt; "Aktivita"
"Aktivita" --&gt; (*)
@enduml
</pre>

<p>Deklarace zaèíná øádkem <strong>@startuml</strong> a konèí øádkem
<strong>@enduml</strong>. Zajímavé je, ¾e není nutné uvádìt typ diagramu
&ndash; ten je odvozen z&nbsp;kontextu.</p>

<p>Spu¹tìní se provede následovnì:</p>

<pre>
java -jar plantuml.jar ActivityDiagram1.txt
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-1.png" class="image-195537" width="82" height="173" alt="&#160;" />
<p><i>Obrázek 1: Diagram aktivit vygenerovaný ze zdrojového kódu prvního
pøíkladu. Ve výchozím nastavení jsou uzly umístìné pod sebe a ¹ipky mezi nimi
smìøují vertikálnì dolù (v&nbsp;pøípadì, ¾e není pou¾ito rozvìtvení, kterým se
budeme zabývat ní¾e).</i></p>

<p>Podívejme se nyní na nepatrnì slo¾itìj¹í diagram aktivit, který obsahuje dva
sekvenènì provádìné kroky. Tento diagram je mo¾né vytvoøit explicitním uvedením
v¹ech vazeb (¹ipek) mezi obìma uzly, symbolem inicializace i koncovým bodem.
Takto deklarovaný diagram mù¾e být výsledkem práce nìjakého skriptu apod.:</p>

<pre>
@startuml
(*) --&gt; "Aktivita1"
"Aktivita1" --&gt; "Aktivita2"
"Aktivita2" --&gt; (*)
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-2.png" class="image-195538" width="90" height="247" alt="&#160;" />
<p><i>Obrázek 2: Diagram aktivit vygenerovaný ze zdrojového kódu druhého pøíkladu.</i></p>

<p>Ve skuteènosti je ale mo¾né popis diagramu zjednodu¹it zpùsobem naznaèeným
pod tímto odstavcem. Pov¹imnìte si, ¾e ka¾dý uzel je zde zmínìn pouze
jedenkrát, proto¾e vazba mezi uzlem &bdquo;Aktivita1&ldquo; a
&bdquo;Aktivita2&ldquo; je naznaèena samostatnou ¹ipkou:</p>

<pre>
@startuml
(*) --&gt; "Aktivita1"
--&gt; "Aktivita2"
--&gt; (*)
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-3.png" class="image-195539" width="90" height="247" alt="&#160;" />
<p><i>Obrázek 3: Diagram aktivit vygenerovaný ze zdrojového kódu tøetího
pøíkladu. Tento obrázek je toto¾ný s&nbsp;druhým obrázkem, ov¹em deklarace
diagramu aktivit je jednodu¹¹í.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Zmìna stylu diagramu aktivit</h2>

<p>Jak ji¾ bylo øeèeno v&nbsp;úvodní kapitole, je mo¾né pøi tvorbì diagramù
s&nbsp;vyu¾itím nástroje <i>PlantUML</i> ovlivnit zpùsob vykreslení diagramu.
V&nbsp;mnoha pøípadech se nevyhneme pøidání popisu k&nbsp;jednotlivým ¹ipkám
diagramu aktivit, co¾ lze zajistit zápisem poznámky do hranatých závorek:</p>

<pre>
@startuml
(*) --&gt; [zaèátek procesu] "Aktivita1"
--&gt; [zpracování po¾adavku] "Aktivita2"
--&gt; [konec procesu] (*)
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-4.png" class="image-195540" width="196" height="301" alt="&#160;" />
<p><i>Obrázek 4: Diagram aktivit vygenerovaný ze zdrojového kódu ètvrtého
pøíkladu. Uzly jsou v&nbsp;tomto diagramu umístìny pod sebe.</i></p>

<p>Takté¾ je mo¾né zmìnit uspoøádání uzlù (a tím pádem i smìr ¹ipek). Namísto
symbolu --&gt; pøedstavujícího ¹ipku je mo¾né alternativnì pou¾ít:</p>

<ol>
<li>-down-&gt; odpovídá bì¾né ¹ipce smìøující (¹ikmo) dolù</li>
<li>-right-&gt; ¹ipka orientovaná doprava</li>
<li>-&gt; stejný význam jako má pøedchozí symbol</li>
<li>-left-&gt; ¹ipka orientovaná doleva</li>
<li>-up-&gt; ¹ipka orientovaná nahoru</li>
</ol>

<p>Zkusme si nyní pøedchozí diagram zmìnit takovým zpùsobem, aby byly v¹echny
uzly umístìné v&nbsp;jedné horizontální rovinì. Úprava je ve skuteènosti velmi
jednoduchá:</p>

<pre>
@startuml
(*) -right-&gt; [zaèátek procesu] "Aktivita1"
-right-&gt; [zpracování po¾adavku] "Aktivita2"
-right-&gt; [konec procesu] (*)
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-5.png" class="image-195541" width="611" height="52" alt="&#160;" />
<p><i>Obrázek 5: Diagram aktivit vygenerovaný ze zdrojového kódu pátého
pøíkladu. Nyní jsou v¹echny uzly zobrazeny v&nbsp;jedné horizontální
rovinì.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Vìtvení v&nbsp;diagramu aktivit</h2>

<p>Velmi dùle¾itou souèástí naprosté vìt¹iny diagramù aktivit je rozvìtvení. To
je reprezentováno malým kosoètvercem, tak¾e se tento prvek diagramu podobá
rozvìtvení pou¾ívaného v&nbsp;klasickém vývojovém diagramu, ov¹em s&nbsp;tím
rozdílem, ¾e se podmínka pro rozvìtvení mù¾e (ale nemusí) psát do pøedchozího
kroku (zde si dovolím sémantiku diagramu aktivit nepatrnì pozmìnit, proto¾e
samotné rozvìtvení není v&nbsp;diagramu aktivit chápáno jako samostatný krok).
Pojïme si nyní ukázat, jak by se postupovalo pøi vytváøení diagramu
analogickému známému vtípku o univerzálním návodu na opravu v¹eho: <a
href="http://joyreactor.com/post/287235">http://joyreactor.com/post/287235</a>.
Zde se ji¾ setkáme s&nbsp;potøebou vìtvení, které se do diagramu aktivit
zapisuje &ndash; co¾ mnoho programátorù patrnì potì¹í &ndash; pomocí slov
<strong>if</strong>, <strong>then</strong>, <strong>else</strong> a
<strong>endif</strong>. Jednoduché rozvìtvení mù¾e být zapsáno následovnì:</p>

<pre>
@startuml
(*) --&gt; "Does it move?"
if "" then
--&gt; [yes] "WD-40"
else
--&gt; [no] "Duct Tape"
endif
"WD-40" --&gt; (*)
"Duct Tape" --&gt; (*)
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-6.png" class="image-195542" width="181" height="335" alt="&#160;" />
<p><i>Obrázek 6: Jednoduché rozvìtvení reprezentované v&nbsp;diagramu
aktivit.</i></p>

<p>Rozvìtvení deklarované v&nbsp;pøedchozím diagramu se sice vykreslilo
korektnì (= tak, jak jsme pøedpokládali), ov¹em následující èást ji¾ zpùsobí
problémy, nebo» <i>PlantUML</i> bude pova¾ovat oba uzly nadepsané &bdquo;Should
it?&ldquo; za uzel jediný. Ostatnì mù¾eme si to sami vyzkou¹et:</p>

<pre>
@startuml
(*) --&gt; "Does it move?"
if "" then
--&gt; [yes] "Should it?"
else
--&gt; [no] "Should it?"
endif
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-7.png" class="image-195543" width="124" height="272" alt="&#160;" />
<p><i>Obrázek 7: Namísto dvou uzlù máme uzel jediný.</i></p>

<p>Øe¹ení tohoto problému je pomìrnì jednoduché. <i>PlantUML</i> toti¾ umo¾òuje
pojmenovat jednotlivé uzly (kroky), pøièem¾ zadaná jména se mohou odli¹ovat od
textù zobrazených v&nbsp;uzlu. V&nbsp;na¹em pøípadì tedy mù¾eme první uzel
pojmenovat <strong>s1</strong> a druhý <strong>s2</strong>, co¾ je patrné
z&nbsp;následujícího upraveného demonstraèního pøíkladu:</p>

<pre>
@startuml
(*) --&gt; "Does it move?"
if "" then
--&gt; [yes] "Should it?" as s1
else
--&gt; [no] "Should it?" as s2
endif
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-8.png" class="image-195544" width="199" height="272" alt="&#160;" />
<p><i>Obrázek 8: Dva rozdílné uzly se stejným textem.</i></p>

<p>Jednotlivé vìtve se samozøejmì mohou (a musí) dále rozvìtvovat.
V&nbsp;deklaraci diagramu se to zaøídí jednodu¹e &ndash; vnoøenými strukturami
<strong>if-then-else-endif</strong>. Zkusme nyní upravit ná¹ demonstraèní
pøíklad takovým zpùsobem, aby se pou¾ilo dal¹í rozvìtvení v&nbsp;obou dal¹ích
vìtvích:</p>

<pre>
@startuml
(*) --&gt; "Does it move?"
&nbsp;
if "" then
--&gt; [yes] "Should it?" as s1
if "" then
--&gt; [yes] "No problem" as np1
else
--&gt; [no] "Use duct tape"
endif
&nbsp;
else
--&gt; [no] "Should it?" as s2
if "" then
--&gt; [yes] "Use WD-40"
else
--&gt; [no] "No problem" as np2
endif
&nbsp;
endif
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-9.png" class="image-195545" width="459" height="430" alt="&#160;" />
<p><i>Obrázek 9: Návod jak opravit v¹e, alfa verze.</i></p>

<p>Zbývá nám doplnit koncový bod, co¾ je ji¾ snadné:</p>

<pre>
@startuml
(*) --&gt; "Does it move?"
&nbsp;
if "" then
--&gt; [yes] "Should it?" as s1
if "" then
--&gt; [yes] "No problem" as np1
np1 --&gt; (*)
else
--&gt; [no] "Use duct tape" as tape
tape --&gt; (*)
endif
&nbsp;
else
--&gt; [no] "Should it?" as s2
if "" then
--&gt; [yes] "Use WD-40" as wd40
wd40 --&gt; (*)
else
--&gt; [no] "No problem" as np2
np2 --&gt; (*)
endif
&nbsp;
endif
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-10.png" class="image-195546" width="459" height="430" alt="&#160;" />
<p><i>Obrázek 10: Návod jak opravit v¹e, beta verze.</i></p>

<p>Pro lep¹í názornost je mo¾né jednotlivé podvìtve zvýraznit odsazením, které
je samozøejmì takté¾ podporováno:</p>

<pre>
@startuml
(*) --&gt; "Does it move?"
&nbsp;
if "" then
&nbsp;
    --&gt; [yes] "Should it?" as s1
    if "" then
        --&gt; [yes] "No problem" as np1
        np1 --&gt; (*)
    else
        --&gt; [no] "Use duct tape" as tape
        tape --&gt; (*)
    endif
&nbsp;
else
&nbsp;
    --&gt; [no] "Should it?" as s2
    if "" then
        --&gt; [yes] "Use WD-40" as wd40
        wd40 --&gt; (*)
    else
        --&gt; [no] "No problem" as np2
        np2 --&gt; (*)
    endif
&nbsp;
endif
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-11.png" class="image-195547" width="459" height="493" alt="&#160;" />
<p><i>Obrázek 11: Návod jak opravit v¹e, finální verze.</i></p>

<p>Na závìr si je¹tì uka¾me, jak se k&nbsp;jednotlivým uzlùm mohou pøiøadit
poznámky (notes). Pov¹imnìte si, ¾e u uzlù je mo¾né specifikovat, zda se
poznámka zobrazí nalevo èi napravo a takté¾ to, ¾e je mo¾né zapisovat poznámku
na vìt¹í mno¾ství øádkù:</p>

<pre>
@startuml
(*) --&gt; "Some Activity"
note right: This activity has to be defined
"Some Activity" --&gt; (*)
note left
This note is on
several lines
end note
@endum
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-12.png" class="image-195548" width="441" height="193" alt="&#160;" />
<p><i>Obrázek 12: Poznámky pøiøazené k&nbsp;uzlùm.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Diagram tøíd</h2>

<p>Druhým velmi èasto pou¾ívaným diagramem definovaným ve standardu UML je
diagram tøíd (<i>class diagram</i>). V&nbsp;tomto typu diagramu je mo¾né
zobrazit jednoduché i slo¾itìj¹í vztahy mezi tøídami, napøíklad fakt, ¾e tøída
<strong>Boolean</strong> je potomkem tøídy <strong>Object</strong> (pøíklad je
pøevzatý z&nbsp;Javy):</p>

<pre>
@startuml
Object &lt;|-- Boolean
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-13.png" class="image-195549" width="100" height="175" alt="&#160;" />
<p><i>Obrázek 13: Vztah mezi tøídami Object a Boolean zobrazený v&nbsp;diagramu
tøíd.</i></p>

<p>Mù¾eme samozøejmì zobrazit i vazby mezi vìt¹ím poètem tøíd. Pov¹imnìte si,
¾e nikde není zapotøebí specifikovat, ¾e se má zobrazit diagram tøíd a ne
diagram aktivit: toto rozhodnutí provede <i>PlantUML</i> automaticky:</p>

<pre>
@startuml
Object &lt;|-- Boolean
Object &lt;|-- String
Object &lt;|-- Number
Number &lt;|-- Integer
Number &lt;|-- Double
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-14.png" class="image-195550" width="373" height="283" alt="&#160;" />
<p><i>Obrázek 14: Vztahy mezi vìt¹ím poètem tøíd.</i></p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Metody a atributy v&nbsp;diagramu tøíd</h2>

<p>U jednotlivých tøíd je mo¾né deklarovat jejich atributy a takté¾ metody.
Pøíklad popsaný v&nbsp;pøedchozí kapitole je mo¾né relativnì jednoduchým
zpùsobem vylep¹it o atributy a metody. Je to velmi snadné &ndash; postaèuje
napsat jméno tøídy a za dvojteèkou pak jméno atributu èi jméno metody (i se
závorkami, samozøejmì i s&nbsp;názvy parametrù, pokud je to nutné):</p>

<pre>
@startuml
Object &lt;|-- Boolean
Object: equals()
Object: hashCode()
Object: clone()
Object &lt;|-- String
Object &lt;|-- Number
Boolean: FALSE
Boolean: TRUE
Number: byteValue()
Number &lt;|-- Integer
Number &lt;|-- Double
String: indexOf()
String: isEmpty()
String: length()
String: split()
Integer: MAX_VALUE
Integer: MIN_VALUE
Double: MAX_VALUE
Double: MIN_VALUE
Double: POSITIVE_INFINITY
Double: NEGATIVE_INFINITY
Double: NaN
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-15.png" class="image-195551" width="367" height="359" alt="&#160;" />
<p><i>Obrázek 15: Atributy a metody nìkolika tøíd v&nbsp;hierarchii.</i></p>

<p>Pokud je nutné zvýraznit i pøístupová práva k&nbsp;atributùm, je vhodnìj¹í
pou¾ít alternativní zpùsob zápisu metadat o tøídì. Ten se podobá zápisu
deklarace tøídy v&nbsp;C++ èi Javì, pøièem¾ znaky se speciálním významem pøed
názvem atributu urèují viditelnost i pøístupová práva:</p>

<pre>
@startuml
class TestClass {
-privateField
#protectedField
~packageProtectedField
+publicField
}
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-16.png" class="image-195552" width="170" height="118" alt="&#160;" />
<p><i>Obrázek 16: Tøída s&nbsp;atributy, které mají rùzná pøístupová
práva.</i></p>

<p>Pro úplnost doplòme tøídu i o metody s&nbsp;rùznými pøístupovými právy:</p>

<pre>
@startuml
class TestClass {
-privateField
#protectedField
~packageProtectedField
+publicField
-privateMethod()
#protectedMethod()
~packageProtectedMethod()
+publicMethod()
}
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-17.png" class="image-195553" width="193" height="169" alt="&#160;" />
<p><i>Obrázek 17: Tøída s&nbsp;atributy a metodami, které mají rùzná pøístupová
práva. Pov¹imnìte si oddìlení atributù od metod, to je provedeno
automaticky.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Rozhraní v&nbsp;diagramu tøíd</h2>

<p>Poslední dùle¾itou vlastností nástroje <i>PlantUML</i> pøi práci
s&nbsp;diagramem tøíd je vytvoøení uzlù pøedstavujících rozhraní. Prvním krokem
je zmìna stylu ¹ipek &ndash; namísto plných úseèek se pou¾ijí èárkované úseèky,
a to pou¾itím jiného symbolu pro ¹ipky v&nbsp;deklaraci diagramu:</p>

<pre>
@startuml
"Iterable&lt;E&gt;" &lt;|.. "Collection&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. "List&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. "Queue&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. "Set&lt;E&gt;"
"Set&lt;E&gt;" &lt;|.. "SortedSet&lt;E&gt;"
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-18.png" class="image-195554" width="371" height="391" alt="&#160;" />
<p><i>Obrázek 18: Tøídy nebo rozhraní?</i></p>

<p>Ve skuteènosti je v¹ak pøedchozí diagram nekorektní, proto¾e
<strong>Iterable</strong> atd. jsou skuteèná rozhraní a mìla by být oznaèena
písmenem <strong>I</strong> (<i>interface</i>) a nikoli <strong>C</strong>
(<i>class</i>). To lze velmi snadno napravit pou¾itím slova
<strong>interface</strong>:</p>

<pre>
@startuml
interface "Iterable&lt;E&gt;" &lt;|.. interface "Collection&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. interface "List&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. interface "Queue&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. interface "Set&lt;E&gt;"
"Set&lt;E&gt;" &lt;|.. interface "SortedSet&lt;E&gt;"
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-19.png" class="image-195555" width="371" height="391" alt="&#160;" />
<p><i>Obrázek 19: Nyní jsou rozhraní skuteèná rozhraní.</i></p>

<p>Pro úplnost si je¹tì uka¾me ponìkud slo¾itìj¹í pøíklad s&nbsp;vìt¹ím
mno¾stvím rozhraní a souèasnì i tøíd. Pov¹imnìte si, ¾e jedna tøída mù¾e
implementovat vìt¹í mno¾ství rozhraní:</p>

<pre>
@startuml
interface "Iterable&lt;E&gt;" &lt;|.. interface "Collection&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. interface "List&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. interface "Queue&lt;E&gt;"
"Collection&lt;E&gt;" &lt;|.. interface "Set&lt;E&gt;"
"Set&lt;E&gt;" &lt;|.. interface "SortedSet&lt;E&gt;"
"List&lt;E&gt;" &lt;|.. ArrayList
"List&lt;E&gt;" &lt;|.. LinkedList
"Set&lt;E&gt;" &lt;|.. HashSet
"Set&lt;E&gt;" &lt;|.. TreeSet
"SortedSet&lt;E&gt;" &lt;|.. TreeSet
"Queue&lt;E&gt;" &lt;|.. LinkedList
@enduml
</pre>

<img src="http://i.iinfo.cz/images/487/plantuml-20.png" class="image-195556" width="547" height="499" alt="&#160;" />
<p><i>Obrázek 20: Diagram rozhraní a tøíd.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Odkazy na Internetu</h2>

<ol>

<li>Nástroje pro tvorbu UML diagramù (nikoli z&nbsp;pøíkazové øádky):<br />
<a href="http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu/">http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu/</a>
</li>

<li>PlantUML (home page)<br />
<a href="http://plantuml.sourceforge.net/">http://plantuml.sourceforge.net/</a>
</li>

<li>PlantUML (download page)<br />
<a href="http://sourceforge.net/projects/plantuml/files/plantuml.jar/download">http://sourceforge.net/projects/plantuml/files/plantuml.jar/download</a>
</li>

<li>PlantUML (Language Reference Guide)<br />
<a href="http://plantuml.sourceforge.net/PlantUML_Language_Reference_Guide.pdf">http://plantuml.sourceforge.net/PlantUML_Language_Reference_Guide.pdf</a>
</li>

<li>Plain-text diagrams take shape in Asciidoctor!<br />
<a href="http://asciidoctor.org/news/2014/02/18/plain-text-diagrams-in-asciidoctor/">http://asciidoctor.org/news/2014/02/18/plain-text-diagrams-in-asciidoctor/</a>
</li>

<li>Graphviz - Graph Visualization Software<br />
<a href="http://www.graphviz.org/">http://www.graphviz.org/</a>
</li>

<li>graphviz (Manual Page)<br />
<a href="http://www.root.cz/man/7/graphviz/">http://www.root.cz/man/7/graphviz/</a>
</li>

<li>dot (Manual page)<br />
<a href="http://www.root.cz/man/1/dot/">http://www.root.cz/man/1/dot/</a>
</li>

<li>Ditaa home page<br />
<a href="http://ditaa.sourceforge.net/">http://ditaa.sourceforge.net/</a>
</li>

<li>Ditaa introduction<br />
<a href="http://ditaa.sourceforge.net/#intro">http://ditaa.sourceforge.net/#intro</a>
</li>

<li>Ditaa usage<br />
<a href="http://ditaa.sourceforge.net/#usage">http://ditaa.sourceforge.net/#usage</a>
</li>

<li>Node, Edge and Graph Attributes<br />
<a href="http://www.graphviz.org/doc/info/attrs.html">http://www.graphviz.org/doc/info/attrs.html</a>
</li>

<li>Graphviz (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Graphviz">http://en.wikipedia.org/wiki/Graphviz</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2015</small></p>
</body>
</html>

