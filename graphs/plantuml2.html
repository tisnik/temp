<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Nástroje pro tvorbu UML diagramù z pøíkazové øádky (II)</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Nástroje pro tvorbu UML diagramù z pøíkazové øádky (II)</h1>

<h3>Pavel Ti¹novský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Ve druhé èásti èlánku o nástrojích urèených pro kreslení UML diagramù z pøíkazové øádky si uká¾eme zpùsob tvorby dal¹ích typù diagramù v nástroji PlantUML. Minule jsme se zabývali pøedev¹ím kreslením diagramù aktivit a diagramù tøíd, dnes se bude jednat o stavové diagramy a sekvenèní diagramy.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Nástroje pro tvorbu UML diagramù z pøíkazové øádky (II)</a></p>
<p><a href="#k02">2. Stavové diagramy</a></p>
<p><a href="#k03">3. Tvorba stavových diagramù v&nbsp;PlantUML</a></p>
<p><a href="#k04">4. Slo¾itìj¹í diagram</a></p>
<p><a href="#k05">5. Hierarchické èlenìní stavových diagramù</a></p>
<p><a href="#k06">6. Sekvenèní diagramy</a></p>
<p><a href="#k07">7. Tvorba sekvenèních diagramù v&nbsp;PlantUML</a></p>
<p><a href="#k08">8. Nastavení vlastností sekvenèních diagramù</a></p>
<p><a href="#k09">9. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Nástroje pro tvorbu UML diagramù z pøíkazové øádky (II)</h2>

<p><a
href="http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu-z-prikazove-radky/">V&nbsp;úvodní
èásti èlánku</a> o nástrojích, které lze pou¾ít pro neinteraktivní tvorbu UML
diagramù z&nbsp;pøíkazové øádky, jsme si øekli základní informace o pomìrnì
propracovaném a pøitom relativnì malém a snadno ovladatelném nástroji
s&nbsp;názvem <a href="http://plantuml.sourceforge.net/">PlantUML</a>. Víme
ji¾, jak lze v&nbsp;<i>PlantUML</i> kreslit základní <i>diagramy aktivit</i>
(co¾ je vylep¹ená varianta klasických vývojových diagramù, ov¹em
s&nbsp;podporou kresby paralelních vìtví apod.) a takté¾ <i>diagramy tøíd</i>,
které ov¹em ve skuteènosti mohou být pou¾ity i v&nbsp;mnoha dal¹ích situacích,
napøíklad pøi grafickém popisu struktury relaèní databáze. Souèasný standard
jazyka UML v¹ak popisuje i mnoho dal¹ích typù diagramù, které se rozdìlují do
tøech kategorií: diagramy popisující strukturu informaèního (èi jiného)
systému, diagramy popisující dynamické chování informaèního systému a diagramy
interakce mezi systémem a jeho okolím.</p>

<img src="http://i.iinfo.cz/images/487/plantuml-11.png" class="image-195547" width="459" height="493" alt="&#160;" />
<p><i>Obrázek 1: Diagram aktivit vykreslený nástrojem PlantUML.</i></p>

<p>Mezi UML diagramy vyjadøující (statickou) strukturu popisovaného systému
patøí <a
href="http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu-z-prikazove-radky/#k06">ji¾
minule zmínìný</a> <i>diagram tøíd</i>, <i>diagram objektù (instancí)</i>,
<i>diagram komponent</i> èi <i>diagram balíèkù</i>. Pøi popisu chování systému
se pou¾ívají <a
href="http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu-z-prikazove-radky/#k03">takté¾
ji¾ minule popsané</a> <i>diagramy aktivit</i>, ní¾e zmínìné <i>stavové
diagramy</i> a <i>diagramy u¾ití</i>. Pokud je zapotøebí graficky popsat
interakci systému se svým okolím (popø.&nbsp;interakci mezi jednotlivými moduly
èi dokonce objekty), pou¾ívají se pro tento úèel <i>sekvenèní diagramy</i>,
<i>diagramy interakcí</i> a v&nbsp;neposlední øadì i <i>diagramy
komunikace</i>. Na tomto místì je v¹ak vhodné poznamenat, ¾e poèet rùzných typù
diagramù i jejich sémantika se ve specifikacích UML postupnì roz¹iøuje (i kdy¾
na druhou stranu nijak zásadnì).</p>

<img src="http://i.iinfo.cz/images/487/plantuml-20.png" class="image-195556" width="547" height="499" alt="&#160;" />
<p><i>Obrázek 2: Diagram tøíd vykreslený nástrojem PlantUML.</i></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. Stavové diagramy</h2>

<p>Velmi èasto pou¾ívaným typem UML diagramù jsou <i>stavové diagramy</i>
neboli <i>state diagrams</i>, které lze vyu¾ít pro popis koneèného poètu stavù
popisovaného systému a pøedev¹ím pak pøechodù mezi jednotlivými stavy (navíc se
zde objevuje koncept událostí). Ve své nejjednodu¹¹í podobì je mo¾né stavovým
diagramem reprezentovat klasický stavový automat, ov¹em mo¾nosti UML jsou
v&nbsp;tomto pøípadì je¹tì roz¹íøeny o takzvané pseudostavy. Pøíkladem
pseudostavu mù¾e být rozvìtvení (<i>fork</i>) èi naopak spojení (<i>join</i>)
popø.&nbsp;pseudostav rozhodování (ten v¹ak nemá stejný význam, jako rozvìtvení
pou¾ívané v&nbsp;pøípadì minule popsaného <i>diagramu aktivit</i>).
V&nbsp;následujících tøech kapitolách si uká¾eme, jakým zpùsobem je mo¾né
<i>stavové diagramy</i> vykreslovat v&nbsp;nástroji <i>PlantUML</i> i to, jak
lze stavové diagramy hierarchicky rozdìlovat, co¾ je v&nbsp;pøípadì
slo¾itìj¹ích systémù nezbytné pro zachování srozumitelnosti a souèasnì i
dostateèné podrobnosti stavového diagramu.</p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Tvorba stavových diagramù v&nbsp;PlantUML</h2>

<p>V&nbsp;nástroji <i>PlantUML</i> se pro tvorbu stavových diagramù pou¾ívá
pøedev¹ím symbol <strong>--&gt;</strong>, jím¾ se znaèí pøechod mezi dvìma
stavy systému. Na levé i pravé stranì tohoto symbolu se mù¾e
v&nbsp;nejjednodu¹¹ím pøípadì nacházet jméno stavu popø.&nbsp;speciální symbol
[*] znaèící buï poèáteèní pseudostav (<i>initial state</i>) popø.&nbsp;koncový
pseudostav (<i>final state</i>). Podívejme se nyní na nejjednodu¹¹í mo¾ný
stavový diagram, který obsahuje jeden normální stav, poèáteèní pseudostav a
koncový pseudostav. Najdeme zde i dvojici pøechodù. První pøechod je vytvoøen
mezi poèáteèním pseudostavem a jediným stavem automatu, dal¹í pøechod pak mezi
tímto stavem a koncovým pseudostavem:</p>

<pre>
@startuml
&nbsp;
[*] --&gt; Stav
Stav --&gt; [*]
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-9.png" class="image-196209" width="67" height="229" alt="&#160;" />
<p><i>Obrázek 3: Stavový diagram vytvoøený na základì prvního demonstraèního
pøíkladu.</i></p>

<p>Stavový diagram samozøejmì mù¾eme dále roz¹iøovat. Ve výchozím nastavení se
jednotlivé stavy kreslí pod sebe, ov¹em ve chvíli, kdy se namísto symbolu
<strong>--&gt;</strong> pou¾ije symbol <strong>-&gt;</strong>, doká¾e
<i>PlantUML</i> tyto stavy vykreslit vedle sebe:</p>

<pre>
@startuml
&nbsp;
[*] --&gt; Stav1
Stav1 --&gt; [*]
&nbsp;
Stav1 -&gt; Stav2
Stav2 --&gt; [*]
&nbsp;
@enduml
</pre>

<p>Podívejme se nyní na nepatrnì slo¾itìj¹í diagram se tøemi rùznými stavy
reprezentujícími tøi základní skupenství vody (za bì¾ných podmínek). Tento
diagram nám bude v&nbsp;dal¹í kapitole slou¾it jako základ pro dal¹í
roz¹iøování a vylep¹ování (poèáteèní a koncový pseudostav je zde uveden
pro úplnost a takté¾ proto, aby <i>PlantUML</i> korektnì rozpoznal, jaký
diagram má nakreslit):</p>

<img src="http://i.iinfo.cz/images/582/diags-10.png" class="image-196210" width="168" height="229" alt="&#160;" />
<p><i>Obrázek 4: Stavový diagram vytvoøený na základì druhého demonstraèního
pøíkladu.</i></p>

<pre>
@startuml
&nbsp;
[*] --&gt; Led
Led --&gt; Kapalina
Kapalina --&gt; Pára
Pára --&gt; Led
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-11.png" class="image-196211" width="126" height="369" alt="&#160;" />
<p><i>Obrázek 5: Stavový diagram vytvoøený na základì tøetího demonstraèního
pøíkladu.</i></p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Slo¾itìj¹í diagram</h2>

<p>Diagram z&nbsp;obrázku èíslo 5 ve skuteènosti není zcela korektní, proto¾e
neobsahuje v¹echny fyzikálnì mo¾né pøechody mezi tøemi skupenstvími vody.
Musíme tedy diagram roz¹íøit i o dal¹í tøi pøechody. To je v&nbsp;na¹em pøípadì
velmi snadné, co¾ je ostatnì patrné i pøi pohledu na následující zdrojový kód.
Pov¹imnìte si, ¾e ka¾dý stav je zde zmínìn nìkolikrát:</p>

<pre>
@startuml
&nbsp;
[*] --&gt; Led
&nbsp;
Led --&gt; Kapalina
Kapalina --&gt; Led
&nbsp;
Kapalina --&gt; Pára
Pára --&gt; Kapalina
&nbsp;
Pára --&gt; Led
Led --&gt; Pára
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-12.png" class="image-196212" width="134" height="369" alt="&#160;" />
<p><i>Obrázek 6: Stavový diagram vytvoøený na základì ètvrtého demonstraèního
pøíkladu.</i></p>

<p>K&nbsp;jednotlivým pøechodùm je mo¾né pøidat i popis, co¾ je v&nbsp;praxi
velmi dùle¾ité. U na¹eho demonstraèního pøíkladu je popis jednoduchý &ndash;
stavy pøedstavují skupenství vody, pøechody pak proces vedoucí ke zmìnì
skupenství &ndash; vypaøování, zkapalnìní, tání, tuhnutí, sublimace a
desublimace:</p>

<pre>
@startuml
&nbsp;
[*] --&gt; Led
&nbsp;
Led --&gt; Kapalina :tání
Kapalina --&gt; Led :tuhnutí
&nbsp;
Kapalina --&gt; Pára :vypaøování
Pára --&gt; Kapalina :zkapalnìní
&nbsp;
Pára --&gt; Led :desublimace
Led --&gt; Pára :sublimace
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-13.png" class="image-196213" width="395" height="407" alt="&#160;" />
<p><i>Obrázek 7: Stavový diagram vytvoøený na základì pátého demonstraèního
pøíkladu.</i></p>

<p>Vizuálnì nepìkné vzájemné posunutí jednotlivých uzlù diagramu lze snadno (i
kdy¾ ne zcela pøesnì) &bdquo;usmìrnit&ldquo; pomocí symbolu
<strong>-&gt;</strong>, kterým se vedle sebe umístí uzly s&nbsp;názvy
&bdquo;Led&ldquo; a &bdquo;Kapalina&ldquo;:</p>

<pre>
@startuml
&nbsp;
[*] --&gt; Led
&nbsp;
Kapalina -&gt; Led :tuhnutí
Led -&gt; Kapalina :tání
&nbsp;
Kapalina --&gt; Pára :vypaøování
Pára --&gt; Kapalina :zkapalnìní
&nbsp;
Pára --&gt; Led :desublimace
Led --&gt; Pára :sublimace
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-14.png" class="image-196214" width="402" height="279" alt="&#160;" />
<p><i>Obrázek 8: Stavový diagram vytvoøený na základì ¹estého demonstraèního
pøíkladu. Dva uzly se nachází na stejné horizontální úrovni.</i></p>

<p>Pro doplnìní lze k&nbsp;jednotlivým uzlùm (tedy stavùm, skupenstvím)
pøiøadit i dal¹í text. Nejjednodu¹eji to lze provést tak, jak je naznaèeno
v&nbsp;dal¹ím pøíkladu &ndash; uvedou se jména uzlù, dvojteèka a libovolný
text, který je do uzlù pøidán:</p>

<pre>
@startuml
&nbsp;
[*] --&gt; Led
&nbsp;
Kapalina -&gt; Led :tuhnutí
Led -&gt; Kapalina :tání
&nbsp;
Kapalina --&gt; Pára :vypaøování
Pára --&gt; Kapalina :zkapalnìní
&nbsp;
Pára --&gt; Led :desublimace
Led --&gt; Pára :sublimace
&nbsp;
<strong>Kapalina: 0°C a¾ 100°C</strong>
<strong>Led: &lt; 0°C</strong>
<strong>Pára: &gt; 100°C</strong>
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-15.png" class="image-196215" width="402" height="279" alt="&#160;" />
<p><i>Obrázek 9: Stavový diagram vytvoøený na základì sedmého demonstraèního
pøíkladu. Ke v¹em uzlùm byl pøidán dal¹í text.</i></p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Hierarchické èlenìní stavových diagramù</h2>

<p>Mnoho systémù je tak slo¾itých, ¾e jejich popis s&nbsp;vyu¾itím pouze
jediného &bdquo;plochého&ldquo; stavového diagramu by byl znaènì nepøehledný.
V&nbsp;tuto chvíli se v¹ak dá vyu¾ít dal¹í vlastnost UML podporovaná i
nástrojem <i>PlantUML</i>. Jedná se o hierarchické rozèlenìní stavového
diagramu na podcelky. Podívejme se na dal¹í demonstraèní pøíklad, v&nbsp;nìm¾
je první i druhý stav rozdìlen na dva stavové poddiagramy. Ty jsou popsány
v&nbsp;samostatné sekci uzavøené do bloku zaèínajícího klíèovým slovem
<strong>state</strong>, za ním¾ následuje jméno stavu, který se má
rozlo¾it:</p>

<pre>
@startuml
[*] --&gt; Stav1
Stav1 --&gt; Stav2
Stav2 --&gt; Stav1
&nbsp;
<strong>state</strong> Stav1 {
    [*] --&gt; Podstav11
    Podstav11 -&gt; Podstav12
    Podstav12 --&gt; Podstav13
    Podstav13 --&gt; [*]
}
&nbsp;
<strong>state</strong> Stav2 {
    [*] -&gt; Podstav21
    Podstav21 -&gt; Podstav22
    Podstav22 -&gt; [*]
}
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-16.png" class="image-196216" width="342" height="565" alt="&#160;" />
<p><i>Obrázek 10: Stavový diagram vytvoøený na základì osmého demonstraèního
pøíkladu. Oba dva stavy jsou rozèlenìny do nìkolika podstavù.</i></p>

<p>Uveïme si je¹tì jeden pøíklad hierarchicky rozèlenìného stavového diagramu.
Nìkteré uzly hlavního diagramu i jeho podcelkù jsou umístìny pod sebou, dal¹í
uzly pak vedle sebe. Toho lze dosáhnout, jak jsme si ji¾ øekli vý¹e, vhodnou
kombinací symbolù <strong>-&gt;</strong> a <strong>--&gt;</strong>:</p>

<pre>
@startuml
[*] --&gt; Stav1
Stav1 --&gt; Stav2
Stav1 --&gt; Stav3
Stav2 -&gt; Stav3
Stav2 --&gt; Stav4
Stav3 --&gt; Stav4
Stav4 --&gt; [*]
&nbsp;
<strong>state</strong> Stav1 {
    [*] --&gt; Podstav11
    Podstav11 -&gt; Podstav12
    Podstav12 --&gt; Podstav13
    Podstav13 -left&gt; [*]
}
&nbsp;
<strong>state</strong> Stav2 {
    [*] --&gt; Podstav21
    Podstav21 --&gt; Podstav22
    Podstav22 --&gt; [*]
}
&nbsp;
<strong>state</strong> Stav3 {
    [*] --&gt; Podstav31
    Podstav31 --&gt; Podstav32
    Podstav32 --&gt; [*]
}
&nbsp;
<strong>state</strong> Stav4 {
    [*] -&gt; Podstav41
    Podstav41 -&gt; Podstav42
    Podstav42 -&gt; [*]
}
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-17.png" class="image-196217" width="342" height="951" alt="&#160;" />
<p><i>Obrázek 11: Stavový diagram vytvoøený na základì devátého demonstraèního
pøíkladu. Vzájemné umístìní uzlù je øízeno u¾ivatelem.</i></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Sekvenèní diagramy</h2>

<p><i>Stavové diagramy</i> popsané v&nbsp;pøedchozích ètyøech kapitolách sice
doká¾ou názornì popsat stavy systému i mo¾né pøechody mezi jednotlivými stavy,
ov¹em v&nbsp;mnoha pøípadech vzniká potøeba podrobnìji popsat i interakci mezi
popisovaným systémem a jeho okolím, interakci mezi dvìma nebo více moduly
systému èi (na té nejpodrobnìj¹í úrovni) interakci probíhající mezi
jednotlivými objekty, z&nbsp;nich¾ se systém skládá. Pro tento úèel slou¾í
v&nbsp;jazyku UML <i>sekvenèní diagramy (sequence diagrams)</i>, v&nbsp;nich¾
lze velmi názorným zpùsobem naznaèit èasovou posloupnost posílání zpráv mezi
rùznými typy objektù, popø.&nbsp;k&nbsp;zobrazené posloupnosti zpráv pøidat
dal¹í komentáøe a znaèky. Jeden z&nbsp;typických a pomìrnì èasto v&nbsp;praxi
pou¾ívaných pøíkladù pou¾ití <i>sekvenèních diagramù</i> je popis komunikace
s&nbsp;vyu¾itím sí»ových i jiných protokolù. Ostatnì právì na sí»ovém protokolu
(navázání spojení a zru¹ení spojení) si <i>sekvenèní diagramy</i> uká¾eme
prakticky v&nbsp;navazujících dvou kapitolách.</p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Tvorba sekvenèních diagramù v&nbsp;PlantUML</h2>

<p>Nejjednodu¹¹í sekvenèní diagram je mo¾né v&nbsp;nástroji <i>PlantUML</i>
deklarovat následujícím zpùsobem. Pomocí symbolu <strong>-&gt;</strong> je
naznaèeno poslání zprávy mezi dvojicí objektù, v&nbsp;tomto pøípadì mezi
klientem a serverem. Sekvenèní diagram neobsahuje ¾ádné poèáteèní ani koncové
pseudostavy, co¾ je jeden z&nbsp;rozpoznávacích znakù mezi sekvenèním diagramem
a stavovým diagramem. Proto také pøi odstranìní pseudostavù mù¾e
<i>PlantUML</i> automaticky zmìnit stavový diagram za diagram sekvenèní, co¾ je
samozøejmì chyba:</p>

<pre>
@startuml
&nbsp;
Client -&gt; Server: SYN
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-1.png" class="image-196201" width="144" height="127" alt="&#160;" />
<p><i>Obrázek 12: Sekvenèní diagram vytvoøený na základì prvního demonstraèního
pøíkladu.</i></p>

<p>Druhý pøíklad je nepatrnì slo¾itìj¹í a ukazuje zpùsob navázání komunikace
v&nbsp;protokolu TCP (tzv. three-way handshake):</p>

<pre>
@startuml
&nbsp;
Client -&gt; Server: SYN
Server -&gt; Client: SYN-ACK
Client -&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-2.png" class="image-196202" width="155" height="185" alt="&#160;" />
<p><i>Obrázek 13: Sekvenèní diagram vytvoøený na základì druhého demonstraèního
pøíkladu.</i></p>

<p>Deklarace pøedchozího diagramu byla pravdìpodobnì ponìkud ne¹ikovná, proto¾e
se na druhém øádku prohodila jména komunikujících objektù. To lze snadno
napravit, proto¾e symbol <strong>-&gt;</strong> je mo¾né nahradit symbolem
<strong>&lt;-</strong>, který (samozøejmì) znaèí poslání zprávy opaèným
smìrem:</p>

<pre>
@startuml
&nbsp;
Client -&gt; Server: SYN
Client &lt;- Server: SYN-ACK
Client -&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-3.png" class="image-196203" width="155" height="185" alt="&#160;" />
<p><i>Obrázek 14: Sekvenèní diagram vytvoøený na základì tøetího demonstraèního
pøíkladu.</i></p>

<p>Podívejme se je¹tì na nepatrnì slo¾itìj¹í pøíklad: ukonèení spojení,
tentokrát zpùsobem oznaèovaným four-way handshake (spojení ukonèují a vzájemnì
si ho potvrzují obì strany). Jednotlivé zprávy byly navíc automaticky
oèíslovány, co¾ zajistilo uvedení klíèového slova
<strong>autonumber</strong>:</p>

<pre>
@startuml
&nbsp;
<strong>autonumber</strong>
&nbsp;
Client -&gt; Server: FIN
Client &lt;- Server: ACK
Client &lt;- Server: FIN
Client -&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-4.png" class="image-196204" width="144" height="215" alt="&#160;" />
<p><i>Obrázek 15: Sekvenèní diagram vytvoøený na základì ètvrtého demonstraèního
pøíkladu.</i></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. Nastavení vlastností sekvenèních diagramù</h2>

<p>Sekvenèní diagramy (ale i dal¹í UML diagramy) lze v&nbsp;nástroji
<i>PlantUML</i> rùznì upravovat. V&nbsp;dal¹ím demonstraèním pøíkladu je do
diagramu pøidán titulek s&nbsp;vyu¾itím klíèového slova
<strong>title</strong>:</p>

<pre>
@startuml
&nbsp;
<strong>autonumber</strong>
<strong>title</strong> TCP: Connection termination
&nbsp;
Client -&gt; Server: FIN
Client &lt;- Server: ACK
Client &lt;- Server: FIN
Client -&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-5.png" class="image-196205" width="253" height="245" alt="&#160;" />
<p><i>Obrázek 16: Sekvenèní diagram vytvoøený na základì pátého demonstraèního
pøíkladu.</i></p>

<p>Dále lze mìnit barvy zpráv specifikací po¾adované barvy zprávy uzavøené do
hranatých závorek a zaèínající symbolem #. Lze pou¾ít jak jméno barvy, tak i
známý hexadecimální kód #RRGGBB pou¾ívaný v&nbsp;HTML a CSS. Pov¹imnìte si, ¾e
specifikace barvy zprávy se objevuje uvnitø symbolu ¹ipky:</p>

<pre>
@startuml
&nbsp;
<strong>autonumber</strong>
<strong>title</strong> TCP: Connection termination
&nbsp;
Client -[#red]&gt; Server: FIN
Client &lt;[#green]- Server: ACK
Client &lt;[#red]- Server: FIN
Client -[#green]&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-6.png" class="image-196206" width="253" height="245" alt="&#160;" />
<p><i>Obrázek 17: Sekvenèní diagram vytvoøený na základì ¹estého demonstraèního
pøíkladu.</i></p>

<p>U sekvenèních diagramù se velmi èasto objevuje potøeba okomentovat
jednotlivé zprávy. To zajistí klíèové slovo <strong>note</strong> doplnìné o
informaci, na které stranì diagramu se má komentáø objevit
(<strong>left</strong>, <strong>right</strong>).</p>

<pre>
@startuml
&nbsp;
<strong>autonumber</strong>
<strong>title</strong> TCP: Connection termination
&nbsp;
Client -[#red]&gt; Server: FIN
&nbsp;
<strong>note left</strong>: endpoint wishes to stop its half of the connection
&nbsp;
Client &lt;[#green]- Server: ACK
&nbsp;
<strong>note right</strong>: other end acknowledges with an ACK
&nbsp;
Client &lt;[#red]- Server: FIN
Client -[#green]&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-7.png" class="image-196207" width="690" height="265" alt="&#160;" />
<p><i>Obrázek 18: Sekvenèní diagram vytvoøený na základì sedmého demonstraèního
pøíkladu.</i></p>

<p>Poslední zajímavou a dnes popsanou vlastností sekvenèních diagramù je
naznaèení zpo¾dìní pøi komunikaci, tj.&nbsp;pøi posílání zpráv. Zpo¾dìní je
mo¾né v&nbsp;deklaraci sekvenèního diagramu zapsat napøíklad následujícím
zpùsobem: <strong>...delay...</strong>, co¾ je ostatnì patrné i
ze zdrojového kódu zobrazeného pod tímto odstavcem:</p>

<pre>
@startuml
&nbsp;
<strong>autonumber</strong>
<strong>title</strong> TCP: Connection termination
&nbsp;
Client -[#red]&gt; Server: FIN
&nbsp;
<strong>note left</strong>: endpoint wishes to stop its half of the connection
&nbsp;
...delay...
&nbsp;
Client &lt;[#green]- Server: ACK
<strong>note right</strong>: other end acknowledges with an ACK
&nbsp;
...later...
&nbsp;
Client &lt;[#red]- Server: FIN
&nbsp;
...delay...
&nbsp;
Client -[#green]&gt; Server: ACK
&nbsp;
@enduml
</pre>

<img src="http://i.iinfo.cz/images/582/diags-8.png" class="image-196208" width="690" height="387" alt="&#160;" />
<p><i>Obrázek 19: Sekvenèní diagram vytvoøený na základì osmého demonstraèního
pøíkladu.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Odkazy na Internetu</h2>

<ol>

<li>Nástroje pro tvorbu UML diagramù:<br />
<a href="http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu/">http://www.root.cz/clanky/nastroje-pro-tvorbu-uml-diagramu/</a>
</li>

<li>Unified Modeling Language<br />
<a href="https://en.wikipedia.org/wiki/Unified_Modeling_Language">https://en.wikipedia.org/wiki/Unified_Modeling_Language</a>
</li>

<li>UML basics: The sequence diagram<br />
<a href="http://www.ibm.com/developerworks/rational/library/3101.html">http://www.ibm.com/developerworks/rational/library/3101.html</a>
</li>

<li>UML 2 State Machine Diagrams: An Agile Introduction<br />
<a href="http://www.agilemodeling.com/artifacts/stateMachineDiagram.htm">http://www.agilemodeling.com/artifacts/stateMachineDiagram.htm</a>
</li>

<li>PlantUML (home page)<br />
<a href="http://plantuml.sourceforge.net/">http://plantuml.sourceforge.net/</a>
</li>

<li>PlantUML (download page)<br />
<a href="http://sourceforge.net/projects/plantuml/files/plantuml.jar/download">http://sourceforge.net/projects/plantuml/files/plantuml.jar/download</a>
</li>

<li>PlantUML (Language Reference Guide)<br />
<a href="http://plantuml.sourceforge.net/PlantUML_Language_Reference_Guide.pdf">http://plantuml.sourceforge.net/PlantUML_Language_Reference_Guide.pdf</a>
</li>

<li>Plain-text diagrams take shape in Asciidoctor!<br />
<a href="http://asciidoctor.org/news/2014/02/18/plain-text-diagrams-in-asciidoctor/">http://asciidoctor.org/news/2014/02/18/plain-text-diagrams-in-asciidoctor/</a>
</li>

<li>Graphviz - Graph Visualization Software<br />
<a href="http://www.graphviz.org/">http://www.graphviz.org/</a>
</li>

<li>graphviz (Manual Page)<br />
<a href="http://www.root.cz/man/7/graphviz/">http://www.root.cz/man/7/graphviz/</a>
</li>

<li>dot (Manual page)<br />
<a href="http://www.root.cz/man/1/dot/">http://www.root.cz/man/1/dot/</a>
</li>

<li>Ditaa home page<br />
<a href="http://ditaa.sourceforge.net/">http://ditaa.sourceforge.net/</a>
</li>

<li>Ditaa introduction<br />
<a href="http://ditaa.sourceforge.net/#intro">http://ditaa.sourceforge.net/#intro</a>
</li>

<li>Ditaa usage<br />
<a href="http://ditaa.sourceforge.net/#usage">http://ditaa.sourceforge.net/#usage</a>
</li>

<li>Node, Edge and Graph Attributes<br />
<a href="http://www.graphviz.org/doc/info/attrs.html">http://www.graphviz.org/doc/info/attrs.html</a>
</li>

<li>Graphviz (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Graphviz">http://en.wikipedia.org/wiki/Graphviz</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Ti¹novský</a> &nbsp; 2015</small></p>
</body>
</html>

