<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Model Context Protocol: vznikajÃ­cÃ­ standard pro potÅ™eby aplikacÃ­ vyuÅ¾Ã­vajÃ­cÃ­ch AI a LLM</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>Model Context Protocol: vznikajÃ­cÃ­ standard pro potÅ™eby aplikacÃ­ vyuÅ¾Ã­vajÃ­cÃ­ch AI a LLM</h1>

<h3>Pavel TiÅ¡novskÃ½</h3>

<p></p>

<h1>ÃšvodnÃ­k</h1>

<p>SouÄasnÄ› s vÃ½vojem aplikacÃ­, kterÃ© do nÄ›jakÃ© mÃ­ry vyuÅ¾Ã­vajÃ­ umÄ›lou inteligenci a/nebo velkÃ© jazykovÃ© modely se ukÃ¡zala potÅ™eba existence standardnÃ­ho mechanismu pro komunikaci mezi jednotlivÃ½mi moduly tÄ›chto aplikacÃ­. Å˜eÅ¡enÃ­m by mohl bÃ½t Model Context Protocol neboli MCP.</p>



<h2>Obsah</h2>

<p><a href="#k01">1. Model Context Protocol: vznikajÃ­cÃ­ standard pro potÅ™eby aplikacÃ­ vyuÅ¾Ã­vajÃ­cÃ­ch AI a LLM</a></p>
<p><a href="#k02">2. ZÃ¡kladnÃ­ vlastnosti MCP</a></p>
<p><a href="#k03">3. Instalace balÃ­Äku <strong>mcp</strong></a></p>
<p><a href="#k04">4. Instalace nÃ¡strojÅ¯ nutnÃ½ch pro spuÅ¡tÄ›nÃ­ MCP Inspectoru</a></p>
<p><a href="#k05">5. Implementace jednoduchÃ©ho MCP serveru s&nbsp;jedinÃ½m definovanÃ½m zdrojem</a></p>
<p><a href="#k06">6. SpuÅ¡tÄ›nÃ­ serveru s&nbsp;jeho otestovÃ¡nÃ­m pomocÃ­ MCP Inspectoru</a></p>
<p><a href="#k07">7. MCP server s&nbsp;definovanÃ½m dynamickÃ½m zdrojem (<i>resource template</i>)</a></p>
<p><a href="#k08">8. OtestovÃ¡nÃ­ novÃ© varianty MCP serveru</a></p>
<p><a href="#k09">9. Zdroj vracejÃ­cÃ­ strukturovanÃ¡ data</a></p>
<p><a href="#k10">10. Server s&nbsp;definicÃ­ nÃ¡stroje (<i>tool</i>)</a></p>
<p><a href="#k11">11. OtestovÃ¡nÃ­ MCP serveru s&nbsp;volÃ¡nÃ­m nÃ¡stroje</a></p>
<p><a href="#k12">12. SloÅ¾itÄ›jÅ¡Ã­ MCP servery s&nbsp;nÄ›kolika zdroji a/nebo nÃ¡stroji</a></p>
<p><a href="#k13">13. Jak MCP Inspector spouÅ¡tÃ­ MCP server?</a></p>
<p><a href="#k14">14. PÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ MCP serveru z&nbsp;pÅ™Ã­kazovÃ© Å™Ã¡dky s&nbsp;transportem STDIO</a></p>
<p><a href="#k15">15. PÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ MCP serveru z&nbsp;pÅ™Ã­kazovÃ© Å™Ã¡dky s&nbsp;transportem SSE</a></p>
<p><a href="#k16">16. MCP klient spouÅ¡tÄ›jÃ­cÃ­ server s&nbsp;komunikacÃ­ pÅ™es STDIO</a></p>
<p><a href="#k17">17. MCP klient s&nbsp;komunikacÃ­ pÅ™es SSE</a></p>
<p><a href="#k18">18. Klient, kterÃ½ pÅ™eÄte zdroj z&nbsp;MCP serveru</a></p>
<p><a href="#k19">19. RepositÃ¡Å™ s&nbsp;demonstraÄnÃ­mi pÅ™Ã­klady</a></p>
<p><a href="#k20">20. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. Model Context Protocol: vznikajÃ­cÃ­ standard pro potÅ™eby aplikacÃ­ vyuÅ¾Ã­vajÃ­cÃ­ch AI a LLM</h2>

<p>V&nbsp;poslednÃ­m roce je moÅ¾nÃ© sledovat velmi rychlÃ½ vÃ½voj aplikacÃ­, kterÃ©
nÄ›jakÃ½m zpÅ¯sobem vyuÅ¾Ã­vajÃ­ umÄ›lou inteligenci (AI) popÅ™.&nbsp;velkÃ© jazykovÃ©
modely (LLM). TakovÃ© aplikace nebo sluÅ¾by se mohou sklÃ¡dat z&nbsp;vÄ›tÅ¡Ã­ho
mnoÅ¾stvÃ­ komponent, kterÃ© spolu musÃ­ nÄ›jakÃ½m zpÅ¯sobem komunikovat &ndash; a to
vÄ›tÅ¡inou oboustrannÄ› a asynchronnÄ›. SamozÅ™ejmÄ› jiÅ¾ existuje nÄ›kolik vÃ­ce Äi
mÃ©nÄ› standardnÃ­ch zpÅ¯sobÅ¯ takovÃ© komunikace &ndash; REST API, GraphQL, RPC, do
jistÃ© mÃ­ry i komunikaÄnÃ­ protokol Apache Kafky. OvÅ¡em kaÅ¾dÃ©mu zmÃ­nÄ›nÃ©mu
komunikaÄnÃ­mu mechanismu nÄ›co chybÃ­. REST API je mechanismus pro prÃ¡ci se
zdroji (i kdyÅ¾ ho lze rÅ¯znÃ½mi zpÅ¯soby ohÃ½bat), GraphQL je urÄen pÅ™edevÅ¡Ã­m pro
provÃ¡dÄ›nÃ­ dotazÅ¯, RPC naopak pro volÃ¡nÃ­ vzdÃ¡lenÃ©ho kÃ³du a protokol Apache Kafky
pro realizaci komunikaÄnÃ­ch strategiÃ­ pub-sub, push-pull a streamingu.</p>

<p><div class="rs-tip-major">PoznÃ¡mka: pochopitelnÄ› existujÃ­ dalÅ¡Ã­ desÃ­tky Äi
spÃ­Å¡e stovky dalÅ¡Ã­ch mechanismÅ¯.</div></p>



<p><a name="k02"></a></p>
<h2 id="k02">2. ZÃ¡kladnÃ­ vlastnosti MCP</h2>

<p>Å˜eÅ¡enÃ­m by mohl bÃ½t <i>Model Context Protocol</i> neboli <i>MCP</i>.
V&nbsp;nÄ›m dochÃ¡zÃ­ ke kombinaci nÄ›kolika zpÅ¯sobÅ¯ komunikace. Lze pracovat se
zdroji (<i>resources</i>), coÅ¾ do znaÄnÃ© mÃ­ry odpovÃ­dÃ¡ klasickÃ©mu REST API, lze
volat takzvanÃ© nÃ¡stroje (<i>tools</i>), coÅ¾ odpovÃ­dÃ¡ RPC a navÃ­c je umoÅ¾nÄ›na
oboustrannÃ¡ a asynchronnÃ­ komunikace mezi klienty a servery. V&nbsp;souÄasnosti
jsou definovÃ¡ny dva takzvanÃ© <i>transporty</i>, coÅ¾ je zpÅ¯sob realizace
komunikace mezi klientem a serverem na niÅ¾Å¡Ã­ vrstvÄ›. BuÄ se vyuÅ¾Ã­vÃ¡ STDIO, coÅ¾
vlastnÄ› nenÃ­ nic jinÃ©ho neÅ¾ pÅ™Ã­mÃ¡ komunikace mezi klientem a serverem pÅ™es
standardnÃ­ vstupy a vÃ½stupu (a tedy komunikace probÃ­hÃ¡ lokÃ¡lnÄ›, navÃ­c si klient
mÅ¯Å¾e server pÅ™Ã­mo spustit). A druhÃ½m transportem je SSE neboli <i>Server Sent
Events</i>; komunikace potÃ© probÃ­hÃ¡ pÅ™es HTTP/HTTPS.</p>

<p><div class="rs-tip-major">PoznÃ¡mka: samotnÃ½ MCP se neustÃ¡le vyvÃ­jÃ­ a vyvÃ­jÃ­
se i balÃ­Äky, kterÃ© ho umoÅ¾ÅˆujÃ­ vyuÅ¾Ã­vat v&nbsp;rÅ¯znÃ½ch programovacÃ­ch
jazycÃ­ch. NapÅ™Ã­klad teprve nedÃ¡vno byla pÅ™idÃ¡na podpora pro OAUTH atd., nenÃ­
vyÅ™eÅ¡eno verzovÃ¡nÃ­, sprÃ¡va API, samotnÃ© balÃ­Äky majÃ­ (pÅ™iznejme si to) dosti
mizernou dokumentaci atd. I pÅ™esto se zaÄÃ­nÃ¡ MCP pomÄ›rnÄ› vÃ½raznÃ½m zpÅ¯sobem
v&nbsp;oblastech AI a LLM prosazovat, takÅ¾e si ukÃ¡Å¾eme jeho zÃ¡kladnÃ­ zpÅ¯soby
vyuÅ¾itÃ­ a pozdÄ›ji i moÅ¾nosti jeho nasazenÃ­ v&nbsp;sloÅ¾itÄ›jÅ¡Ã­m &bdquo;osobnÃ­m
asistentovi&ldquo; zaloÅ¾enÃ©m na LLM.</div></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Instalace balÃ­Äku <strong>mcp</strong></h2>

<p>MCP je moÅ¾nÃ© vyuÅ¾Ã­vat mnoha rÅ¯znÃ½mi zpÅ¯soby. Je napÅ™Ã­klad podporovÃ¡n
nÄ›kterÃ½mi frameworky urÄenÃ½mi pro tvorbu aplikacÃ­ zaloÅ¾enÃ½ch na velkÃ½ch
jazykovÃ½ch modelech atd. OvÅ¡em pro zaÄÃ¡tek je dobrÃ© zjistit, jakÃ© jsou vlastnÄ›
zÃ¡kladnÃ­ vlastnosti MCP a z&nbsp;tohoto dÅ¯vodu si naprogramujeme vlastnÃ­ MCP
server (resp.&nbsp;hned nÄ›kolik jeho variant) a taktÃ©Å¾ jednoduchÃ© MCP klienty.
V&nbsp;souÄasnosti je moÅ¾nÃ© aplikace pouÅ¾Ã­vajÃ­cÃ­ MCP naprogramovat v&nbsp;mnoha
jazycÃ­ch; my se pro jednoduchost zamÄ›Å™Ã­me na Python. Pro ekosystÃ©m Pythonu
vznikl balÃ­Äek nazvanÃ½ pÅ™Ã­hodnÄ› <strong>mcp</strong>, kterÃ½ si nainstalujeme
pÅ™Ã­kazem:</p>

<pre>
$ <strong>pip install --user mcp</strong>
</pre>

<p>Resp.&nbsp;na systÃ©mech rozliÅ¡ujÃ­cÃ­ch Python 2 a Python 3:</p>

<pre>
$ <strong>pip3 install --user mcp</strong>
</pre>

<p>BalÃ­Äek <strong>mcp</strong> mÃ¡ sice nÄ›kolik zÃ¡vislostÃ­ (napÅ™Ã­klad celÃ½
Pydantic a Uvicorn), ovÅ¡em i tak by mÄ›la bÃ½t jeho instalace prakticky
okamÅ¾itÃ¡:</p>

<pre>
Collecting mcp
  Downloading mcp-1.5.0-py3-none-any.whl.metadata (20 kB)
Requirement already satisfied: anyio&gt;4.5 in /home/ptisnovs/.local/lib/python3.12/site-packages (from mcp) (4.6.2.post1)
Collecting httpx-sse&gt;0.4 (from mcp)
  Downloading httpx_sse-0.4.0-py3-none-any.whl.metadata (9.0 kB)
Requirement already satisfied: httpx&gt;0.27 in /home/ptisnovs/.local/lib/python3.12/site-packages (from mcp) (0.28.0)
Collecting pydantic-settings&gt;2.5.2 (from mcp)
  Downloading pydantic_settings-2.8.1-py3-none-any.whl.metadata (3.5 kB)
Requirement already satisfied: pydantic&lt;3.0.0,&gt;2.7.2 in /home/ptisnovs/.local/lib/python3.12/site-packages (from mcp) (2.10.5)
Collecting sse-starlette&gt;1.6.1 (from mcp)
  Downloading sse_starlette-2.2.1-py3-none-any.whl.metadata (7.8 kB)
Requirement already satisfied: starlette&gt;0.27 in /home/ptisnovs/.local/lib/python3.12/site-packages (from mcp) (0.41.3)
Requirement already satisfied: uvicorn&gt;0.23.1 in /home/ptisnovs/.local/lib/python3.12/site-packages (from mcp) (0.34.0)
Requirement already satisfied: idna&gt;2.8 in /usr/lib/python3.12/site-packages (from anyio&gt;4.5-&gt;mcp) (3.7)
Requirement already satisfied: sniffio&gt;1.1 in /home/ptisnovs/.local/lib/python3.12/site-packages (from anyio&gt;4.5-&gt;mcp) (1.3.1)
Requirement already satisfied: certifi in /home/ptisnovs/.local/lib/python3.12/site-packages (from httpx&gt;0.27-&gt;mcp) (2024.8.30)
Requirement already satisfied: httpcore==1.* in /home/ptisnovs/.local/lib/python3.12/site-packages (from httpx&gt;0.27-&gt;mcp) (1.0.7)
Requirement already satisfied: h11&lt;0.15,&gt;0.13 in /home/ptisnovs/.local/lib/python3.12/site-packages (from httpcore==1.*-&gt;httpx&gt;0.27-&gt;mcp) (0.14.0)
Requirement already satisfied: annotated-types&gt;0.6.0 in /home/ptisnovs/.local/lib/python3.12/site-packages (from pydantic&lt;3.0.0,&gt;2.7.2-&gt;mcp) (0.7.0)
Requirement already satisfied: pydantic-core==2.27.2 in /home/ptisnovs/.local/lib/python3.12/site-packages (from pydantic&lt;3.0.0,&gt;2.7.2-&gt;mcp) (2.27.2)
Requirement already satisfied: typing-extensions&gt;4.12.2 in /usr/lib/python3.12/site-packages (from pydantic&lt;3.0.0,&gt;2.7.2-&gt;mcp) (4.12.2)
Requirement already satisfied: python-dotenv&gt;0.21.0 in /home/ptisnovs/.local/lib/python3.12/site-packages (from pydantic-settings&gt;2.5.2-&gt;mcp) (1.0.1)
Collecting anyio&gt;4.5 (from mcp)
  Downloading anyio-4.9.0-py3-none-any.whl.metadata (4.7 kB)
Requirement already satisfied: click&gt;7.0 in /home/ptisnovs/.local/lib/python3.12/site-packages (from uvicorn&gt;0.23.1-&gt;mcp) (8.1.8)
Downloading mcp-1.5.0-py3-none-any.whl (73 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 73.7/73.7 kB 1.6 MB/s eta 0:00:00
Downloading httpx_sse-0.4.0-py3-none-any.whl (7.8 kB)
Downloading pydantic_settings-2.8.1-py3-none-any.whl (30 kB)
Downloading sse_starlette-2.2.1-py3-none-any.whl (10 kB)
Downloading anyio-4.9.0-py3-none-any.whl (100 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100.9/100.9 kB 4.4 MB/s eta 0:00:00
Installing collected packages: httpx-sse, anyio, sse-starlette, pydantic-settings, mcp
  Attempting uninstall: anyio
    Found existing installation: anyio 4.6.2.post1
    Uninstalling anyio-4.6.2.post1:
      Successfully uninstalled anyio-4.6.2.post1
Successfully installed anyio-4.9.0 httpx-sse-0.4.0 mcp-1.5.0 pydantic-settings-2.8.1 sse-starlette-2.2.1
</pre>

<p>Po instalaci by mÄ›l bÃ½t k&nbsp;dispozici i pÅ™Ã­kaz <strong>mcp</strong>,
jehoÅ¾ existenci a dostupnost si snadno ovÄ›Å™Ã­me:</p>

<pre>
 Usage: mcp [OPTIONS] COMMAND [ARGS]...
&nbsp;
 MCP development tools
&nbsp;
â•­â”€ Options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ --help          Show this message and exit.                                                                                          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€ Commands â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ version   Show the MCP version.                                                                                                      â”‚
â”‚ dev       Run a MCP server with the MCP Inspector.                                                                                   â”‚
â”‚ run       Run a MCP server.                                                                                                          â”‚
â”‚ install   Install a MCP server in the Claude desktop app.                                                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: v&nbsp;pÅ™Ã­padÄ›, Å¾e nenÃ­
<strong>mcp</strong> dostupnÃ½, je moÅ¾nÃ©, Å¾e adresÃ¡Å™
<strong>~/.local/bin</strong> nenÃ­ pÅ™idÃ¡n do promÄ›nnÃ© prostÅ™edÃ­
<strong>PATH</strong>.</div></p>

<p>TaktÃ©Å¾ si mÅ¯Å¾eme pÅ™Ã­mo v&nbsp;interaktivnÃ­ smyÄce Pythonu naimportovat
nÄ›kterou tÅ™Ã­du z&nbsp;tohoto balÃ­Äku (napÅ™Ã­klad <strong>FastMCP</strong>) a
zobrazit si jejÃ­ nÃ¡povÄ›du:</p>

<pre>
$ <strong>python</strong>
&nbsp;
Python 3.12.9 (main, Feb  4 2025, 00:00:00) [GCC 14.2.1 20240912 (Red Hat 14.2.1-3)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; from mcp.server.fastmcp import FastMCP
&gt;&gt;&gt; help(FastMCP)
</pre>

<p>S&nbsp;vÃ½sledkem:</p>

<pre>
Help on class FastMCP in module mcp.server.fastmcp.server:

class FastMCP(builtins.object)
 |  FastMCP(name: 'str | None' = None, instructions: 'str | None' = None, **settings: 'Any')
 |
 |  Methods defined here:
 |
 |  __init__(self, name: 'str | None' = None, instructions: 'str | None' = None, **settings: 'Any')
 |      Initialize self.  See help(type(self)) for accurate signature.
 |
 |  add_prompt(self, prompt: 'Prompt') -&gt; 'None'
 |      Add a prompt to the server.
 |
 |      Args:
 |          prompt: A Prompt instance to add
 |
 |  add_resource(self, resource: 'Resource') -&gt; 'None'
 |      Add a resource to the server.
 |
 |      Args:
 |          resource: A Resource instance to add
 |
 ...
 ...
 ...
</pre>



<p><a name="k04"></a></p>
<h2 id="k04">4. Instalace nÃ¡strojÅ¯ nutnÃ½ch pro spuÅ¡tÄ›nÃ­ MCP Inspectoru</h2>

<p>BalÃ­Äek <strong>mcp</strong>, kterÃ½ jsme prÃ¡vÄ› nainstalovali, nabÃ­zÃ­ moÅ¾nost
vyuÅ¾itÃ­ takzvanÃ©ho <i>MCP Inspectoru</i>, coÅ¾ je aplikace s&nbsp;webovÃ½m
grafickÃ½m uÅ¾ivatelskÃ½m rozhranÃ­m, kterou lze pouÅ¾Ã­t pro otestovÃ¡nÃ­ MCP serverÅ¯.
Tato aplikace vyÅ¾aduje instalaci <strong>npm</strong> a
<strong>node.js</strong>. Distribuce Linuxu vÄ›tÅ¡inou tyto nÃ¡stroje majÃ­ ve
svÃ½ch repositÃ¡Å™Ã­ch balÃ­ÄkÅ¯ (i kdyÅ¾ moÅ¾nÃ¡ ne nejnovÄ›jÅ¡Ã­ verze, coÅ¾ nÃ¡m ale
nemusÃ­ vadit), takÅ¾e jejich instalace je jednoduchÃ¡. Pro distribuce zaloÅ¾enÃ© na
RPM lze pouÅ¾Ã­t napÅ™Ã­klad:</p>

<pre>
$ <strong>dnf install npm</strong>
&nbsp;
$ <strong>dnf install nodejs</strong>
</pre>

<p>Pro jistotu si otestujeme, jestli jsou tyto nÃ¡stroje skuteÄnÄ›
nainstalovÃ¡ny:</p>

<pre>
$ <strong>npm --version</strong>
10.8.2
&nbsp;
&nbsp;
$ <strong>node --version</strong>
v20.18.2
</pre>

<p>V&nbsp;pÅ™Ã­padÄ›, Å¾e se vypsaly verze (mohou bÃ½t i nepatrnÄ› starÅ¡Ã­) jak
<strong>npm</strong>, tak i <strong>node.js</strong>, mÄ›lo by bÃ½t moÅ¾nÃ© <i>MCP
Inspector</i> pouÅ¾Ã­t.</p>



<p><a name="k05"></a></p>
<h2 id="k05">5. Implementace jednoduchÃ©ho MCP serveru s&nbsp;jedinÃ½m definovanÃ½m zdrojem</h2>

<p>Pokusme se nynÃ­ naprogramovat nÄ›jakÃ½ velmi jednoduchÃ½ MCP server,
tj.&nbsp;sluÅ¾bu, kterÃ¡ dokÃ¡Å¾e komunikovat s&nbsp;klienty prÃ¡vÄ› pÅ™es protokol
MCP. V&nbsp;tomto serveru je definovÃ¡n pouze jedinÃ½ zdroj (<i>resource</i>)
nazvanÃ½ <strong>pozdrav</strong>, jenÅ¾ je implementovÃ¡n pomocÃ­ bÄ›Å¾nÃ©
PythonovskÃ© funkce s&nbsp;dekorÃ¡torem. JednÃ¡ se o zdroj, kterÃ½ vracÃ­ konstantnÃ­
Å™etÄ›zec. SamotnÃ½ zdroj je popsÃ¡n dekorÃ¡torem <strong>@mcp.resource</strong> a
typ hodnoty, kterou zdroj vracÃ­, je odvozena na zÃ¡kladÄ› typovÃ© informace (jmÃ©no
typu za Å¡ipkou definuje typ nÃ¡vratovÃ© hodnoty funkce):</p>

<pre>
<i>"""JednoduchÃ½ MCP server s jedinÃ½m definovanÃ½m zdrojem."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://")</u>
def <strong>pozdrav</strong>() -&gt; str:
    <i>"""OdpovÄ›Ä s pozdravem."""</i>
    return "Hello, dear client"
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: pÅ™ipomeÅˆme si, Å¾e dekorÃ¡tory jsou
internÄ› implementovÃ¡ny jako funkce vyÅ¡Å¡Ã­ho Å™Ã¡du, kterÃ© &bdquo;obalujÃ­&ldquo;
funkci, pÅ™ed kterou jsou zapsÃ¡ny &ndash; typicky pÅ™ed volÃ¡nÃ­ a za volÃ¡nÃ­ funkce
pÅ™idÃ¡vajÃ­ nÄ›jakÃ½ dalÅ¡Ã­ kÃ³d popÅ™.&nbsp;zajiÅ¡Å¥ujÃ­ vytvoÅ™enÃ­ uzÃ¡vÄ›ru
(<i>closure</i>). Pro potÅ™eby tohoto ÄlÃ¡nku nÃ¡m vÅ¡ak bude staÄit jen zÃ¡kladnÃ­
znalosti o tom, jak se dekorÃ¡tory zapisujÃ­.</div></p>



<p><a name="k06"></a></p>
<h2 id="k06">6. SpuÅ¡tÄ›nÃ­ serveru s&nbsp;jeho otestovÃ¡nÃ­m pomocÃ­ MCP Inspectoru</h2>

<p>MCP server, jehoÅ¾ zdrojovÃ½ kÃ³d jsme si ukÃ¡zali <a
href="#k05">v&nbsp;pÅ™edchozÃ­ kapitole</a>, je moÅ¾nÃ© spustit nÄ›kolika moÅ¾nÃ½mi
zpÅ¯soby. NejjednoduÅ¡Å¡Ã­ je pouÅ¾itÃ­ pÅ™Ã­kazu <strong>mcp</strong>, kterÃ©mu se
pÅ™edÃ¡ jmÃ©no zdrojovÃ©ho kÃ³du s&nbsp;implementacÃ­ serveru a popÅ™.&nbsp;i zpÅ¯sob
transportu (tedy konkrÃ©tnÃ­ho reÅ¾imu komunikace mezi klientem a serverem). OvÅ¡em
my prozatÃ­m nemÃ¡me naprogramovÃ¡n Å¾Ã¡dnÃ½ klient, takÅ¾e je nutnÃ© vyuÅ¾Ã­t nÄ›jakÃ½
jinÃ½ nÃ¡stroj pro otestovÃ¡nÃ­ naÅ¡eho serveru. TakovÃ½ nÃ¡stroj ve skuteÄnosti
existuje a jmenuje se <i>MCP Inspector</i> (ostatnÄ› jsme instalovali jeho
zÃ¡vislosti). Pro otestovÃ¡nÃ­ naÅ¡eho serveru spustÃ­me nÃ¡sledujÃ­cÃ­ pÅ™Ã­kaz (ten
oÄekÃ¡vÃ¡, Å¾e jmÃ©no zdrojovÃ©ho kÃ³du s&nbsp;implementacÃ­ MCP serveru je
<strong>mcp_server_1.py</strong>):</p>

<pre>
$ <strong>mcp dev mcp_server_1.py</strong>
</pre>

<p>PÅ™i prvnÃ­m spuÅ¡tÄ›nÃ­ (pozdÄ›ji jiÅ¾ ne) bude <strong>mcp</strong> potÅ™ebovat
doinstalovat jeden npm balÃ­Äek, takÅ¾e se zeptÃ¡, zda mÅ¯Å¾e tuto operaci spustit.
OdpovÃ­me, Å¾e ano:</p>

<pre>
Need to install the following packages:
@modelcontextprotocol/inspector@0.7.0
Ok to proceed? (y) y
</pre>

<p>DÃ¡le se vypÃ­Å¡e informace o tom, na kterÃ© adrese (vÄetnÄ› portu) je MCP
inspektor dostupnÃ½:</p>

<pre>
Starting MCP inspector...
Proxy server listening on port 3000
&nbsp;
ğŸ” MCP Inspector is up and running at http://localhost:5173 ğŸš€
</pre>

<p>Ve webovÃ©m prohlÃ­Å¾eÄi je nutnÃ© pÅ™ejÃ­t na vÃ½Å¡e vypsanou adresu <a
href="http://localhost:5173">http://localhost:5173</a>. MÄ›la by se zobrazit
strÃ¡nka, kterÃ¡ v&nbsp;levÃ© ÄÃ¡sti nabÃ­zÃ­ zpÅ¯sob pÅ™ipojenÃ­ k&nbsp;serveru.
VyplÅˆte nynÃ­ Ãºdaje tak, jak je to zobrazeno na screenshotu:</p>

<a href="https://www.root.cz/obrazek/1182531/"><img src="https://i.iinfo.cz/images/328/mcp1-1-prev.webp" class="image-1182531" width="191" height="270" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-1-prev.webp" data-prev-width="191" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/328/mcp1-1-large.webp" data-large-width="372" data-large-height="525" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<p><i>ObrÃ¡zek 1: Takto mÅ¯Å¾e vypadat vyplnÄ›nÃ½ dialog pro pÅ™ipojenÃ­ k&nbsp;MCP
serveru.</i></p>

<p>Po stisku tlaÄÃ­tka <strong>Connect</strong> by se mÄ›l server znovu spustit
(to je ponÄ›kud neÅ¡Å¥astnÃ©) a MCP Inspector by mÄ›l zaÄÃ­t se serverem komunikovat
pÅ™es standardnÃ­ vstup a vÃ½stup (STDIO).</p>

<p>DÃ¡le v&nbsp;ÄÃ¡sti <i>Resources</i> stisknÄ›te tlaÄÃ­tko <strong>List
Resources</strong>. MÄ›l by se zobrazit seznam zdrojÅ¯, kterÃ½ obsahuje pouze
jedinou poloÅ¾ku &bdquo;pozdrav://&ldquo;, coÅ¾ je skuteÄnÄ› nÃ¡zev naÅ¡eho
zdroje:</p>

<a href="https://www.root.cz/obrazek/1182534/"><img src="https://i.iinfo.cz/images/328/mcp1-2-prev.webp" class="image-1182534" width="370" height="269" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-2-prev.webp" data-prev-width="370" data-prev-height="269" data-large-filename="https://i.iinfo.cz/images/328/mcp1-2.webp" data-large-width="456" data-large-height="332" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<p><i>ObrÃ¡zek 2: Seznam dostupnÃ½ch zdrojÅ¯, kterÃ© MCP server nabÃ­zÃ­.</i></p>

<p>Pokud tento zdroj vyberete, provede se komunikace s&nbsp;MCP serverem a mÄ›la
by se vrÃ¡tit odpovÄ›Ä v&nbsp;JSON formÃ¡tu:</p>

<pre>
{
  "contents": [
    {
      "uri": "pozdrav://",
      "mimeType": "text/plain",
      "text": "Hello, dear client"
    }
  ]
}
</pre>

<p>TÃ­m jsme ovÄ›Å™ili nejenom to, Å¾e MCP server nabÃ­zÃ­ pÅ™Ã­sluÅ¡nÃ½ zdroj, ale Å¾e je
moÅ¾nÃ© s&nbsp;nÃ­m komunikovat s&nbsp;vyuÅ¾itÃ­m MCP.</p>



<p><a name="k07"></a></p>
<h2 id="k07">7. MCP server s&nbsp;definovanÃ½m dynamickÃ½m zdrojem (<i>resource template</i>)</h2>

<p>DruhÃ¡ varianta MCP serveru, kterou vytvoÅ™Ã­me, bude nepatrnÄ› sloÅ¾itÄ›jÅ¡Ã­,
protoÅ¾e je v&nbsp;nÃ­ definovÃ¡n dynamickÃ½ zdroj (pÅ¯vodnÃ­ nÃ¡zev <i>resource
template</i> ovÅ¡em mÅ¯Å¾e bÃ½t ponÄ›kud matoucÃ­). JednÃ¡ se o zdroj, kterÃ½ mÃ¡ ve
svÃ©m nÃ¡zvu mÄ›nitelnou ÄÃ¡st (<i>selector</i>) <strong>name</strong>. VÃ½sledkem
ÄtenÃ­ tohoto zdroje bude Å™etÄ›zec ve formÃ¡tu &bdquo;Hello, {name}&ldquo;, ve
kterÃ©m se za &bdquo;{name}&ldquo; doplnÃ­ identifikÃ¡tor ze jmÃ©na zdroje.
Teoreticky tedy mÅ¯Å¾eme tÃ­mto zpÅ¯sobem pÅ™edÃ¡vat MCP serveru parametry a zÃ­skÃ¡vat
odpovÄ›di na zÃ¡kladÄ› tÄ›chto parametrÅ¯, i kdyÅ¾ z&nbsp;hlediska sÃ©mantiky by bylo
v&nbsp;mnoha pÅ™Ã­padech vhodnÄ›jÅ¡Ã­ vyuÅ¾Ã­t spÃ­Å¡e nÃ¡stroje (<i>tools</i>),
s&nbsp;nimiÅ¾ se seznÃ¡mÃ­me v&nbsp;dalÅ¡Ã­ch kapitolÃ¡ch. PovÅ¡imnÄ›te si, Å¾e nynÃ­ mÃ¡
funkce <strong>pozdrav</strong> s&nbsp;implementacÃ­ zdroje parametr
<strong>name</strong>, kterÃ½ je typu Å™etÄ›zec:</p>

<pre>
<i>"""JednoduchÃ½ MCP server s jedinÃ½m definovanÃ½m dynamickÃ½m zdrojem."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://{name}")</u>
def <strong>pozdrav</strong>(name: str) -&gt; str:
    <i>"""OdpovÄ›Ä s osobnÃ­m pozdravem."""</i>
    return f"Hello, {name}"
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: na tÅ™ech Å™Ã¡dcÃ­ch zdrojovÃ©ho kÃ³du jsou
tedy uvedeny vÅ¡echny dÅ¯leÅ¾itÃ© informace o zdroji, kterÃ© jsou zapotÅ™ebÃ­ pro
realizaci komunikace. Å˜Ã¡dek s&nbsp;dekorÃ¡torem identifikuje zdroj i jeho
mÄ›nitelnÃ© ÄÃ¡sti (<i>selectoru</i>), na Å™Ã¡dku s&nbsp;hlaviÄkou funkce je pak
moÅ¾nÃ© zjistit datovÃ© typy vstupÅ¯ (mÄ›nitelnÃ½ch ÄÃ¡stÃ­) i datovÃ½ typ odpovÄ›di. A
komentÃ¡Å™ (dokumentaÄnÃ­ Å™etÄ›zec) samotnÃ© funkce je zobrazen v&nbsp;MCP
Inspectoru.</div></p>



<p><a name="k08"></a></p>
<h2 id="k08">8. OtestovÃ¡nÃ­ novÃ© varianty MCP serveru</h2>

<p>OpÄ›t si otestujeme zÃ¡kladnÃ­ funkcionalitu druhÃ© varianty naÅ¡eho MCP serveru.
PodobnÄ› jako v&nbsp;prvnÃ­m pÅ™Ã­padÄ› i nynÃ­ spustÃ­me MCP Inspector se zadÃ¡nÃ­m
jmÃ©na zdrojovÃ©ho kÃ³du s&nbsp;implementacÃ­ serveru:</p>

<pre>
$ <strong>mcp dev mcp_server_2.py</strong>
&nbsp;
Starting MCP inspector...
Proxy server listening on port 3000
&nbsp;
ğŸ” MCP Inspector is up and running at http://localhost:5173 ğŸš€
</pre>

<p>Ve webovÃ©m prohlÃ­Å¾eÄi otevÅ™eme strÃ¡nku na adrese <a
href="http://localhost:5173">http://localhost:5173</a>. V&nbsp;prvnÃ­m kroku se
k&nbsp;MCP serveru pÅ™ipojÃ­me, pÅ™iÄemÅ¾ parametry pÅ™ipojenÃ­ mohou vypadat
nÃ¡sledovnÄ›:</p>

<a href="https://www.root.cz/obrazek/1182537/"><img src="https://i.iinfo.cz/images/328/mcp1-3-prev.webp" class="image-1182537" width="184" height="270" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-3-prev.webp" data-prev-width="184" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/328/mcp1-3-large.webp" data-large-width="358" data-large-height="525" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<p><i>ObrÃ¡zek 3: Parametry pÅ™ipojenÃ­ k&nbsp;MCP serveru. ZelenÃ© koleÄko u
&bdquo;Connected&ldquo; naznaÄuje, Å¾e MCP Inspector skuteÄnÄ› navÃ¡zal
pÅ™ipojenÃ­.</i></p>

<p>NynÃ­ ovÅ¡em zdroj definovanÃ½ v&nbsp;MCP serveru nenalezneme v&nbsp;sekci
&bdquo;Resources&ldquo;, ale v&nbsp;sekci nazvanÃ© &bdquo;Resource
Templates&ldquo;. VypÃ­Å¡eme si obsah tÄ›chto zdrojÅ¯ s&nbsp;mÄ›nitelnou ÄÃ¡stÃ­:</p>

<a href="https://www.root.cz/obrazek/1182540/"><img src="https://i.iinfo.cz/images/328/mcp1-4-prev.webp" class="image-1182540" width="331" height="270" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-4-prev.webp" data-prev-width="331" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/328/mcp1-4.webp" data-large-width="480" data-large-height="391" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<p><i>ObrÃ¡zek 4: Seznam zdrojÅ¯ se selektory.</i></p>

<p>Vybereme (jedinÃ½) takovÃ½ zdroj a zadÃ¡me potÅ™ebnÃ½ selektor:</p>

<a href="https://www.root.cz/obrazek/1182543/"><img src="https://i.iinfo.cz/images/328/mcp1-5-prev.webp" class="image-1182543" width="331" height="270" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-5-prev.webp" data-prev-width="331" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/328/mcp1-5.webp" data-large-width="480" data-large-height="391" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<p><i>ObrÃ¡zek 5: ZÃ¡pis selektoru a zÃ­skÃ¡nÃ­ zdroje z&nbsp;MCP serveru.
PovÅ¡imnÄ›te si, Å¾e se v&nbsp;popisu zdroje objevuje komentÃ¡Å™ z&nbsp;funkce,
kterou je zdroj implementovÃ¡n.</i></p>

<p>VÃ½sledkem by mÄ›la bÃ½t nÃ¡sledujÃ­cÃ­ datovÃ¡ struktura. PovÅ¡imnÄ›te si, Å¾e do nÃ­
bylo skuteÄnÄ› doplnÄ›no pÅ™edanÃ© jmÃ©no (tedy onen selektor):</p>

<pre>
{
  "contents": [
    {
      "uri": "pozdrav://Pavel",
      "mimeType": "text/plain",
      "text": "Hello, Pavel"
    }
  ]
}
</pre>

<a href="https://www.root.cz/obrazek/1182546/"><img src="https://i.iinfo.cz/images/328/mcp1-6-prev.webp" class="image-1182546" width="331" height="270" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-6-prev.webp" data-prev-width="331" data-prev-height="270" data-large-filename="https://i.iinfo.cz/images/328/mcp1-6.webp" data-large-width="480" data-large-height="391" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<p><i>ObrÃ¡zek 6: OdpovÄ›Ä MCP serveru zobrazenÃ¡ pÅ™Ã­mo v&nbsp;MCP
Inspectoru.</i></p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Zdroj vracejÃ­cÃ­ strukturovanÃ¡ data</h2>

<p>Pokusme se nynÃ­ definovat ponÄ›kud sloÅ¾itÄ›jÅ¡Ã­ zdroj. Ten bude mÃ­t dva
selektory, kterÃ© jsou oddÄ›lenÃ© pomlÄkou (ovÅ¡em stejnÄ› dobÅ™e je moÅ¾nÃ© pouÅ¾Ã­t
lomÃ­tko &ndash; RFC 6570 umoÅ¾Åˆuje vÃ­ce zpÅ¯sobÅ¯). OvÅ¡em zajÃ­mavÄ›jÅ¡Ã­ je, Å¾e tento
zdroj vracÃ­ pro zadanÃ© jmÃ©no a pÅ™Ã­jmenÃ­ spisovatele seznam jeho knih,
tj.&nbsp;v&nbsp;pojetÃ­ jazyka Python <strong>list</strong>. MÅ¯Å¾ete bÃ½t ovÅ¡em i
pÅ™esnÄ›jÅ¡Ã­ a definovat i seznam slovnÃ­kÅ¯ atd. &ndash; vyuÅ¾Ã­vajÃ­ se zde totiÅ¾
standardizovanÃ© typovÃ© informace (<i>type hints</i>). Pro jednoduchost nenÃ­
seznam knih zÃ­skÃ¡vÃ¡n z&nbsp;databÃ¡ze, ale pro jakÃ©hokoli autora vrÃ¡tÃ­me stejnÃ½
seznam, takÅ¾e implementace MCP serveru by mohla vypadat takto:</p>

<pre>
<i>"""JednoduchÃ½ MCP server s jedinÃ½m definovanÃ½m dynamickÃ½m zdrojem."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.resource("author://{name}-{surname}")</u>
def author(name: str, surname: str) -&gt; list:
    <i>"""Knihy od vybranÃ©ho autora."""</i>
    return [
        {"name": name, "surname": surname, "title": "Foo", "year": 1900},
        {"name": name, "surname": surname, "title": "Bar", "year": 2005},
        {"name": name, "surname": surname, "title": "Baz", "year": 2025},
    ]
</pre>

<p>Po pÅ™ipojenÃ­ k&nbsp;MCP serveru se pokusÃ­me zÃ­skat seznam knih pro autora se
jmÃ©nem John a pÅ™Ã­jmenÃ­m Doe. PovÅ¡imnÄ›te si, Å¾e samotnÃ¡ odpovÄ›Ä MCP serveru je
sice ve formÃ¡tu JSON, ovÅ¡em to se tÃ½kÃ¡ strukturovÃ¡nÃ­ odpovÄ›di tak, Å¾e dostaneme
i rÅ¯znÃ¡ metadata. OvÅ¡em vlastnÃ­ data jsou pÅ™edÃ¡na v&nbsp;parametru
<strong>text</strong> ve formÄ› slovnÃ­ku serializovanÃ©ho do Å™etÄ›zce:</p>

<pre>
{
  "contents": [
    {
      "uri": "author://John-Doe",
      "mimeType": "text/plain",
      "text": "[{\"name\": \"John\", \"surname\": \"Doe\", \"title\": \"Foo\", \"year\": 1900}, {\"name\": \"John\", \"surname\": \"Doe\", \"title\": \"Bar\", \"year\": 2005}, {\"name\": \"John\", \"surname\": \"Doe\", \"title\": \"Baz\", \"year\": 2025}]"
    }
  ]
}
</pre>

<p>Bude vÃ½sledek odliÅ¡nÃ½ v&nbsp;pÅ™Ã­padÄ›, Å¾e zvolÃ­me jinÃ½ formÃ¡t odpovÄ›di, tedy
odliÅ¡nÃ½ <i>mimeType</i>? To si mÅ¯Å¾eme snadno otestovat nepatrnou zmÄ›nou MCP
serveru:</p>

<pre>
<i>"""JednoduchÃ½ MCP server s jedinÃ½m definovanÃ½m dynamickÃ½m zdrojem."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.resource("author://{name}-{surname}", mime_type="application/json")</u>
def <strong>author</strong>(name: str, surname: str) -&gt; list:
    <i>"""Knihy od vybranÃ©ho autora."""</i>
    return [
        {"name": name, "surname": surname, "title": "Foo", "year": 1900},
        {"name": name, "surname": surname, "title": "Bar", "year": 2005},
        {"name": name, "surname": surname, "title": "Baz", "year": 2025},
    ]
</pre>

<p>OdpovÄ›Ä je aÅ¾ na odliÅ¡nÃ½ <i>mimeType</i> totoÅ¾nÃ¡ s&nbsp;pÅ™edchozÃ­
implementacÃ­:</p>

<pre>
{
  "contents": [
    {
      "uri": "author://John-Doe",
      "mimeType": "application/json",
      "text": "[{\"name\": \"John\", \"surname\": \"Doe\", \"title\": \"Foo\", \"year\": 1900}, {\"name\": \"John\", \"surname\": \"Doe\", \"title\": \"Bar\", \"year\": 2005}, {\"name\": \"John\", \"surname\": \"Doe\", \"title\": \"Baz\", \"year\": 2025}]"
    }
  ]
}
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: jednÃ¡ se o nedostatek knihovny
<strong>mcp</strong> &ndash; viz tÃ©Å¾ <a
href="https://github.com/modelcontextprotocol/python-sdk/issues/279">Return
resources as structured JSON instead of text?</a>.</div></p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Server s&nbsp;definicÃ­ nÃ¡stroje (<i>tool</i>)</h2>

<p>Zdroje (<i>resources</i>) slouÅ¾Ã­ resp.&nbsp;mÄ›ly by slouÅ¾it jako zdroj dat a
jejich chovÃ¡nÃ­ by mÄ›lo bÃ½t idempotentnÃ­. To znamenÃ¡, Å¾e nÄ›kolikerÃ© volÃ¡nÃ­ toho
samÃ©ho zdroje se stejnÃ½mi selektory by mÄ›lo vracet totoÅ¾nÃ© vÃ½sledky. OvÅ¡em
v&nbsp;oblasti AI a LLM je nutnÃ© volat resp.&nbsp;spouÅ¡tÄ›t sloÅ¾itÄ›jÅ¡Ã­ operace,
kterÃ© provÃ¡dÃ­ nÄ›jakou komplikovanÄ›jÅ¡Ã­ Äinnost a obecnÄ› nejsou idempotentnÃ­
(tÅ™eba nÃ¡kup letenky nebo rezervace schÅ¯zky do kalendÃ¡Å™e). Pro tento ÃºÄel
slouÅ¾Ã­ ve svÄ›tÄ› MCP takzvanÃ© nÃ¡stroje (<i>tool</i>), kterÃ© se zaÄaly dosti
bouÅ™livÃ½m zpÅ¯sobem vyvÃ­jet v&nbsp;poslednÃ­ch cca deseti mÄ›sÃ­cÃ­ch &ndash;
protoÅ¾e prÃ¡vÄ› dÃ­ky nÃ¡strojÅ¯m se z&nbsp;pÅ¯vodnÃ­ch &bdquo;kecÃ¡lkÅ¯&ldquo; typu
ChatGTP stÃ¡vajÃ­ reÃ¡lnÄ› pouÅ¾itelnÃ¡ rozhranÃ­ mezi lidmi a IT systÃ©my (vÃ­ce si
Å™ekneme v&nbsp;samostatnÃ©m ÄlÃ¡nku &ndash; toto je opravdu velmi dynamickÃ¡
oblast).</p>

<p>VytvoÅ™enÃ­ MCP serveru s&nbsp;nÃ¡strojem mÅ¯Å¾e bÃ½t snadnÃ©. Abychom si to
ukÃ¡zali, naprogramujeme server, kterÃ½ mÃ¡ kromÄ› zdroje definovÃ¡n i nÃ¡stroj
nazvanÃ½ <strong>factorial</strong>. Tento nÃ¡stroj akceptuje celÃ© ÄÃ­slo poslanÃ©
v&nbsp;dotazu a odpovÃ­ hodnotou faktoriÃ¡lu tohoto ÄÃ­sla. Pro jednoduchost jsem
zvolil tu nejsnadnÄ›jÅ¡Ã­ implementaci vÃ½poÄtu. Nejde nÃ¡m totiÅ¾ o vlastnÃ­ vÃ½poÄet,
ale o realizaci komunikace pÅ™es MCP:</p>

<pre>
<i>"""MCP server s dynamickÃ½m zdrojem a definicÃ­ nÃ¡stroje (tool)."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.tool()</u>
def <strong>factorial</strong>(n: int) -&gt; int:
    <i>"""VÃ½poÄet faktoriÃ¡lu ve smyÄce."""</i>
    f = 1
    for x in range(1, n + 1):
        f *= x
    return f
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://{name}")</u>
def <strong>pozdrav</strong>(name: str) -&gt; str:
    <i>"""OdpovÄ›Ä s osobnÃ­m pozdravem."""</i>
    return f"Hello, {name}"
</pre>



<p><a name="k11"></a></p>
<h2 id="k11">11. OtestovÃ¡nÃ­ MCP serveru s&nbsp;volÃ¡nÃ­m nÃ¡stroje</h2>

<p>Pro otestovÃ¡nÃ­ novÃ© varianty MCP serveru opÄ›t spustÃ­me MCP Inspectora:</p>

<pre>
$ <strong>mcp dev mcp_server_3.py </strong>
&nbsp;
Starting MCP inspector...
Proxy server listening on port 3000
&nbsp;
ğŸ” MCP Inspector is up and running at http://localhost:5173 ğŸš€
</pre>

<p>Po otevÅ™enÃ­ strÃ¡nky s&nbsp;MCP Inspectorem a pÅ™ipojenÃ­ k&nbsp;MCP serveru
znÃ¡mÃ½m zpÅ¯sobem je nutnÃ© v&nbsp;hornÃ­ ÄÃ¡sti strÃ¡nky se seznamem zÃ¡loÅ¾ek vybrat
zÃ¡loÅ¾ku nazvanou <i>Tools</i> (ve vÃ½chozÃ­m stavu je vybrÃ¡na zÃ¡loÅ¾ka
<i>Resources</i>, kterou jsme pouÅ¾Ã­vali doposud). UkÃ¡Å¾e se menu s&nbsp;poloÅ¾kou
(tlaÄÃ­tkem) <strong>List Tools</strong> a po jeho stisku by se mÄ›l zobrazit
nÃ¡zev nÃ¡stroje i jeho popis zÃ­skanÃ½ z&nbsp;dokumentaÄnÃ­ho Å™etÄ›zce funkce, ve
kterÃ© je nÃ¡stroj implementovÃ¡n:</p>

<a href="https://www.root.cz/obrazek/1182549/"><img src="https://i.iinfo.cz/images/328/mcp1-7-prev.webp" class="image-1182549" width="370" height="262" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-7-prev.webp" data-prev-width="370" data-prev-height="262" data-large-filename="https://i.iinfo.cz/images/328/mcp1-7.webp" data-large-width="717" data-large-height="507" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<i>ObrÃ¡zek 7: Seznam nÃ¡strojÅ¯, kterÃ© nabÃ­zÃ­ MCP server.</i>

<p>NÃ¡stroj vybereme a do zobrazenÃ©ho dialogu zadÃ¡me vstupnÃ­ parametr, kterÃ½ je
poslÃ¡n do nÃ¡stroje, jenÅ¾ na zÃ¡kladÄ› tohoto parametru (celÃ© ÄÃ­slo) vypoÄÃ­tÃ¡
faktoriÃ¡l. VÃ½sledek je vrÃ¡cen formou jedinÃ© hodnoty, coÅ¾ znamenÃ¡, Å¾e nenÃ­ nutnÃ©
parsovat odpovÄ›Ä v&nbsp;JSONu:</p>

<a href="https://www.root.cz/obrazek/1182552/"><img src="https://i.iinfo.cz/images/328/mcp1-8-prev.webp" class="image-1182552" width="370" height="262" data-prev-filename="https://i.iinfo.cz/images/328/mcp1-8-prev.webp" data-prev-width="370" data-prev-height="262" data-large-filename="https://i.iinfo.cz/images/328/mcp1-8.webp" data-large-width="717" data-large-height="507" alt="MCP" data-description="&#160;" title="Autor: tisnik, podle licence: &lt;a href=&quot;http://en.wikipedia.org/wiki/Rights_Managed&quot;&gt;Rights Managed&lt;/a&gt;" /></a>
<i>ObrÃ¡zek 8: VolÃ¡nÃ­ nÃ¡stroje s&nbsp;pÅ™edÃ¡nÃ­m parametru. VypoÄtenÃ¡ hodnota je
vrÃ¡cena do MCP Inspectoru, kde je taktÃ©Å¾ zobrazena.</i>



<p><a name="k12"></a></p>
<h2 id="k12">12. SloÅ¾itÄ›jÅ¡Ã­ MCP servery s&nbsp;nÄ›kolika zdroji a/nebo nÃ¡stroji</h2>

<p>Typicky bÃ½vÃ¡ v&nbsp;MCP serveru realizovÃ¡no vÄ›tÅ¡Ã­ mnoÅ¾stvÃ­ zdrojÅ¯ a
popÅ™.&nbsp;nÃ¡strojÅ¯. UkaÅ¾me si pÅ™Ã­klad, jak by mohla implementace takovÃ©ho
serveru vypadat. Ve variantÄ› MCP serveru zobrazenÃ© pod tÃ­mto odstavcem je
definovÃ¡n nÃ¡stroj pojmenovanÃ½ <strong>factorial</strong>, kterÃ½ znÃ¡me. A dÃ¡le
se zde nachÃ¡zÃ­ definice dvou zdrojÅ¯, kterÃ© oba zaÄÃ­najÃ­ URI
&bdquo;pozdrav://&ldquo;. OvÅ¡em prvnÃ­ z&nbsp;tÄ›chto zdrojÅ¯ nemÃ¡ selektor (URI
je nemÄ›nnÃ©), zatÃ­mco u druhÃ©ho zdroje je selektor specifikovÃ¡n a musÃ­ bÃ½t
pouÅ¾it pÅ™i ÄtenÃ­ tohoto zdroje:</p>

<pre>
<i>"""MCP server se zdrojem,  dynamickÃ½m zdrojem a definicÃ­ nÃ¡stroje (tool)."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.tool()</u>
def <strong>factorial</strong>(n: int) -&gt; int:
    <i>"""VÃ½poÄet faktoriÃ¡lu ve smyÄce."""</i>
    f = 1
    for x in range(1, n + 1):
        f *= x
    return f
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://")</u>
def <strong>pozdrav1</strong>() -&gt; str:
    <i>"""OdpovÄ›Ä s pozdravem."""</i>
    return "Hello, dear client"
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://{name}")</u>
def <strong>pozdrav2</strong>(name: str) -&gt; str:
    <i>"""OdpovÄ›Ä s osobnÃ­m pozdravem."""</i>
    return f"Hello, {name}"
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: pro otestovÃ¡nÃ­ tohoto MCP serveru je
pochopitelnÄ› opÄ›t moÅ¾nÃ© vyuÅ¾Ã­t MCP Inspector. Postup zÅ¯stÃ¡vÃ¡ stÃ¡le stejnÃ½,
takÅ¾e ho jiÅ¾ nebudu popisovat a ani nebudou ukÃ¡zÃ¡ny pÅ™Ã­sluÅ¡nÃ©
screenshoty.</div></p>



<p><a name="k13"></a></p>
<h2 id="k13">13. Jak MCP Inspector spouÅ¡tÃ­ MCP server?</h2>

<p>V&nbsp;pÅ™edchozÃ­ch kapitolÃ¡ch jsme si Å™ekli, Å¾e MCP Inspector se dokÃ¡Å¾e sÃ¡m
pÅ™ipojit k&nbsp;MCP serveru. OvÅ¡em souÄasnÄ› jsme tento MCP server spustili i
pÅ™Ã­mo pÅ™Ã­kazem <strong>mcp</strong>. Bylo by tedy zajÃ­mavÃ© zjistit, co se dÄ›je
&bdquo;pod pokliÄkou&ldquo;. NaÅ¡i implementaci MCP serveru tedy upravÃ­me do
takovÃ© podoby, aby se pÅ™i kaÅ¾dÃ©m jeho spuÅ¡tÄ›nÃ­ vytvoÅ™il soubor, jehoÅ¾ jmÃ©no
bude odpovÃ­dat ÄÃ­slu procesu. Tak zjistÃ­me, kolikrÃ¡t se vlastnÄ› MCP
inicializoval. PonÄ›kud naivnÃ­ implementace tohoto MCP serveru mÅ¯Å¾e vypadat
nÃ¡sledovnÄ›:</p>

<pre>
<i>"""JednoduchÃ½ MCP server s jedinÃ½m definovanÃ½m dynamickÃ½m zdrojem."""</i>
&nbsp;
import os
from mcp.server.fastmcp import FastMCP
from datetime import datetime
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
pid = os.getpid()
&nbsp;
<i># pÅ™i kaÅ¾dÃ©m spuÅ¡tÄ›nÃ­ serveru se vytvoÅ™Ã­ novÃ½ soubor</i>
with open(f"{pid}.txt", "w") as fout:
    fout.write(str(datetime.now()))
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://")</u>
def <strong>pozdrav</strong>() -&gt; str:
    <i>"""OdpovÄ›Ä s pozdravem."""</i>
    return "Hello, dear client"
</pre>

<p>OpÄ›t provedeme spuÅ¡tÄ›nÃ­ MCP Inspectoru:</p>

<pre>
$ <strong>mcp dev mcp_server_4.py</strong>
</pre>

<p>VÃ½sledek bude jedinÃ½ soubor s&nbsp;PID, kterÃ½ znaÄÃ­, Å¾e server byl spuÅ¡tÄ›n,
i kdyÅ¾ jsme se k&nbsp;nÄ›mu nepÅ™ipojili:</p>

<pre>
3288345.txt
</pre>

<p>NynÃ­ soubor smaÅ¾eme, opÄ›t spustÃ­me MCP Inspector a pÅ™ipojÃ­me se
k&nbsp;serveru (<i>connect</i>). VÃ½sledkem bude dvojice souborÅ¯, protoÅ¾e byl
server spuÅ¡tÄ›nÃ½ dvakrÃ¡t:</p>

<pre>
3288553.txt
3288667.txt
</pre>

<p>OvÅ¡em zÃ­skÃ¡nÃ­ (resp.&nbsp;pÅ™esnÄ›ji Å™eÄeno pÅ™eÄtenÃ­) jednotlivÃ½ch zdrojÅ¯ atd.
jiÅ¾ nevede ke spuÅ¡tÄ›nÃ­ novÃ©ho MCP serveru &ndash; vÅ¡e je obslouÅ¾eno jedinÃ½m
serverem, kterÃ½ bude bÄ›Å¾et aÅ¾ do tÃ© doby, dokud nedojde ke vzniku nezachycenÃ©
vÃ½jimky nebo pokud server explicitnÄ› neukonÄÃ­me (Ctrl+C).</p>



<p><a name="k14"></a></p>
<h2 id="k14">14. PÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ MCP serveru z&nbsp;pÅ™Ã­kazovÃ© Å™Ã¡dky s&nbsp;transportem STDIO</h2>

<p>SpouÅ¡tÄ›nÃ­ MCP serveru nepÅ™Ã­mo pÅ™es nÃ¡stroj MCP Inspector je vhodnÃ© provÃ¡dÄ›t
jen v&nbsp;prÅ¯bÄ›hu jeho vÃ½voje a ladÄ›nÃ­. OvÅ¡em nasazenÃ­ takovÃ©ho serveru mÅ¯Å¾e
vypadat odliÅ¡nÄ›. V&nbsp;tom nejjednoduÅ¡Å¡Ã­m pÅ™Ã­padÄ› mÅ¯Å¾eme server spustit pÅ™Ã­mo
z&nbsp;interpretru Pythonu, tj.&nbsp;bez pouÅ¾itÃ­ pÅ™Ã­kazu <strong>mcp</strong>.
Do zdrojovÃ©ho kÃ³du MCP serveru je v&nbsp;takovÃ©m pÅ™Ã­padÄ› pouze nutnÃ© pÅ™idat
programovÃ© Å™Ã¡dky, kterÃ© ho spustÃ­. V&nbsp;zÃ¡kladnÃ­ podobÄ› se MCP serveru spustÃ­
s&nbsp;volbou transportu STDIO, tj.&nbsp;se serverem se bude komunikovat pÅ™es
vstupnÄ›-vÃ½stupnÃ­ proudy (standard input stream, standard output stream):</p>

<pre>
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ serveru v reÅ¾imu STDIO</i>
if __name__ == "__main__":
    mcp.run()
</pre>

<p>CelÃ½ zdrojovÃ½ kÃ³d serveru se zmÄ›nÃ­ jen nepatrnÄ› &ndash; pÅ™idali jsme do nÄ›j
tÅ™i vÃ½Å¡e uvedenÃ© Å™Ã¡dky zajiÅ¡Å¥ujÃ­cÃ­ jeho spuÅ¡tÄ›nÃ­:</p>

<pre>
<i>"""MCP server se zdrojem,  dynamickÃ½m zdrojem a definicÃ­ nÃ¡stroje (tool)."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.tool()</u>
def <strong>factorial</strong>(n: int) -&gt; int:
    <i>"""VÃ½poÄet faktoriÃ¡lu ve smyÄce."""</i>
    f = 1
    for x in range(1, n + 1):
        f *= x
    return f
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://")</u>
def <strong>pozdrav1</strong>() -&gt; str:
    <i>"""OdpovÄ›Ä s pozdravem."""</i>
    return "Hello, dear client"
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://{name}")</u>
def <strong>pozdrav2</strong>(name: str) -&gt; str:
    <i>"""OdpovÄ›Ä s osobnÃ­m pozdravem."""</i>
    return f"Hello, {name}"
&nbsp;
&nbsp;
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ serveru v reÅ¾imu STDIO</i>
if __name__ == "__main__":
    mcp.run()
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: s&nbsp;takovÃ½m serverem se vÄ›tÅ¡inou
nekomunikuje pÅ™Ã­mo interaktivnÃ­m zadÃ¡vÃ¡nÃ­m pÅ™Ã­kazÅ¯ a dotazÅ¯, i kdyÅ¾ i to je
moÅ¾nÃ© (pouÅ¾Ã­vÃ¡ se JSON RPC).</div></p>



<p><a name="k15"></a></p>
<h2 id="k15">15. PÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ MCP serveru z&nbsp;pÅ™Ã­kazovÃ© Å™Ã¡dky s&nbsp;transportem SSE</h2>

<p>DruhÃ½m podporovanÃ½m transportem je SSE neboli <i>Server Sent Events</i>.
V&nbsp;tomto pÅ™Ã­padÄ› MCP server naslouchÃ¡ na IP portu a odpovÃ­dÃ¡ na dotazy  MCP
klientÅ¯ popÅ™.&nbsp;pÅ™Ã­mo sÃ¡m posÃ­lÃ¡ udÃ¡losti tÄ›mto klientÅ¯m (nejednÃ¡ se tedy o
triviÃ¡lnÃ­ komunikaci typu dotaz-odpovÄ›Ä, ale o komunikaci oboustrannou). Aby se
MCP server spustil v&nbsp;reÅ¾imu transportu SSE, je moÅ¾nÃ© ho spustit tÃ­mto
zpÅ¯sobem:</p>

<pre>
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ serveru v reÅ¾imu SSE (Server-Sent Events)</i>
if __name__ == "__main__":
    mcp.run(transport="sse")
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: popÅ™.&nbsp;je moÅ¾nÃ© specifikovat i port,
na kterÃ©m mÃ¡ MCP server naslouchat.</div></p>

<p>UpravenÃ½ zdrojovÃ½ kÃ³d MCP serveru vypadÃ¡ takto:</p>

<pre>
<i>"""MCP server se zdrojem,  dynamickÃ½m zdrojem a definicÃ­ nÃ¡stroje (tool)."""</i>
&nbsp;
from mcp.server.fastmcp import FastMCP
&nbsp;
<i># konstrukce serveru</i>
mcp = FastMCP("Test")
&nbsp;
&nbsp;
<u>@mcp.tool()</u>
def <strong>factorial</strong>(n: int) -&gt; int:
    <i>"""VÃ½poÄet faktoriÃ¡lu ve smyÄce."""</i>
    f = 1
    for x in range(1, n + 1):
        f *= x
    return f
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://")</u>
def <strong>pozdrav1</strong>() -&gt; str:
    <i>"""OdpovÄ›Ä s pozdravem."""</i>
    return "Hello, dear client"
&nbsp;
&nbsp;
<u>@mcp.resource("pozdrav://{name}")</u>
def <strong>pozdrav2</strong>(name: str) -&gt; str:
    <i>"""OdpovÄ›Ä s osobnÃ­m pozdravem."""</i>
    return f"Hello, {name}"
&nbsp;
&nbsp;
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ serveru v reÅ¾imu SSE (Server-Sent Events)</i>
if __name__ == "__main__":
    mcp.run(transport="sse")
</pre>

<p>I bez podrobnÄ›jÅ¡Ã­ch znalostÃ­ protokolu, kterÃ½ se pro komunikaci mezi MCP
serverem a MCP klientem pouÅ¾Ã­vÃ¡, si mÅ¯Å¾eme ovÄ›Å™it alespoÅˆ to, Å¾e server je
skuteÄnÄ› spuÅ¡tÄ›n a naslouchÃ¡ na portu. Server tedy spustÃ­me:</p>

<pre>
$ <strong>python mcp_server_6.py</strong>
</pre>

<p>VÃ½chozÃ­m portem je 8000, takÅ¾e v&nbsp;dalÅ¡Ã­m terminÃ¡lu provedeme pÅ™ipojenÃ­
k&nbsp;serveru s&nbsp;vyuÅ¾itÃ­m (napÅ™Ã­klad) znÃ¡mÃ©ho nÃ¡stroje
<strong>curl</strong>:</p>

<pre>
$ <strong>curl localhost:8000/sse</strong>
</pre>

<p>MCP server by mÄ›l odpovÄ›dÄ›t tak, Å¾e poÅ¡le zpÃ¡tky ID sezenÃ­ (<i>session</i>), kterÃ© lze pouÅ¾Ã­t pro dalÅ¡Ã­ komunikaci:</p>

<pre>
event: endpoint
data: /messages/?session_id=e233fdbae32d43b29c1d3fd9b58d9145
</pre>

<p>NavÃ­c nenÃ­ spojenÃ­ ihned ukonÄeno (pÅ™ipomÃ­nÃ¡m: nejednÃ¡ se o klasickÃ½ systÃ©m
dotaz-odpovÄ›Ä). Pokud nÃ¡stroj <strong>curl</strong> neukonÄÃ­me, bude patrnÃ©, Å¾e
server po urÄitÃ½ch ÄasovÃ½ch intervalech cca 15 sekund posÃ­lÃ¡ zprÃ¡vy
<strong>ping</strong>, aby si ovÄ›Å™il pÅ™ipojenÃ­ klienta:</p>

<pre>
: ping - 2025-03-30 09:26:17.741441+00:00
&nbsp;
: ping - 2025-03-30 09:26:32.743079+00:00
&nbsp;
: ping - 2025-03-30 09:26:47.744446+00:00
&nbsp;
: ping - 2025-03-30 09:27:02.746181+00:00
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: pouÅ¾itÃ­ MCP na takto nÃ­zkÃ© Ãºrovni
vÄ›tÅ¡inou nenÃ­ nutnÃ© znÃ¡t, protoÅ¾e mÃ¡me k&nbsp;dispozici knihovny zajiÅ¡Å¥ujÃ­cÃ­
komunikaci na vyÅ¡Å¡Ã­ Ãºrovni abstrakce. OvÅ¡em v&nbsp;pÅ™Ã­padech, Å¾e se napÅ™Ã­klad
klienti nemohou pÅ™ipojit nebo nevidÃ­ nÄ›jakÃ½ zdroj Äi nÃ¡stroj, mÅ¯Å¾e bÃ½t vÃ½hodnÃ©
znÃ¡t i tyto nÃ­zkoÃºrovÅˆovÃ© postupy. OstatnÄ› se k&nbsp;nim jeÅ¡tÄ› vrÃ¡tÃ­me
v&nbsp;navazujÃ­cÃ­m ÄlÃ¡nku.</div></p>



<p><a name="k16"></a></p>
<h2 id="k16">16. MCP klient spouÅ¡tÄ›jÃ­cÃ­ server s&nbsp;komunikacÃ­ pÅ™es STDIO</h2>

<p>V&nbsp;tÃ©to chvÃ­li jiÅ¾ mÃ¡me zÃ¡kladnÃ­ znalosti o tom, jakÃ½m zpÅ¯sobem se
implementujÃ­ MCP servery. OvÅ¡em s&nbsp;tÄ›mito servery jsme komunikovali buÄ
pÅ™es MCP Inspectora nebo z&nbsp;pÅ™Ã­kazovÃ© Å™Ã¡dky (viz vÃ½Å¡e uvedenÃ½ pÅ™Ã­kaz
<strong>curl</strong>). V&nbsp;praxi se ovÅ¡em k&nbsp;MCP serverÅ¯m takÅ™ka
vÃ½hradnÄ› pÅ™ipojujÃ­ dalÅ¡Ã­ naprogramovanÃ© sluÅ¾by a nÃ¡stroje &ndash; MCP klienti.
UkaÅ¾me si tedy, jak by mohl vypadat jednoduchÃ½ MCP klient, kterÃ½ po svÃ©m
spuÅ¡tÄ›nÃ­ vypÃ­Å¡e seznam zdrojÅ¯, nÃ¡strojÅ¯ atd. nabÃ­zenÃ½ch MCP serverem. PÅ™Ã­mo
v&nbsp;kÃ³du klienta nebudeme se serverem komunikovat na Ãºrovni MCP protokolu,
ale na vyÅ¡Å¡Ã­ Ãºrovni abstrakce (ostatnÄ› ani v&nbsp;implementaci serveru jsme
s&nbsp;protokolem pÅ™Ã­mo nepÅ™iÅ¡li do styku). MCP klient navÃ­c server sÃ¡m spustÃ­
v&nbsp;reÅ¾imu pouÅ¾Ã­vajÃ­cÃ­m transport STDIO:</p>

<pre>
<i># parametry pro spuÅ¡tÄ›nÃ­ MCP serveru</i>
server_params = StdioServerParameters(
    command="python",  <i># spustÃ­ se tento pÅ™Ã­kaz</i>
    args=["mcp_server_5.py"],  <i># a pÅ™edajÃ­ se mu nÃ¡sledujÃ­cÃ­ parametry</i>
    env=None,  <i># lze definovat i promÄ›nnÃ© prostÅ™edÃ­</i>
)
</pre>

<p>Jak je ze zdrojovÃ©ho kÃ³du klienta patrnÃ©, je realizovÃ¡n takovÃ½m zpÅ¯sobem, Å¾e
veÅ¡kerÃ© operace jsou v&nbsp;nÄ›m provÃ¡dÄ›ny asynchronnÄ› (v&nbsp;Pythonu se pro
tento ÃºÄel pouÅ¾Ã­vajÃ­ klÃ­ÄovÃ¡ slova <strong>async</strong> a
<strong>await</strong>).  Klient zÃ­skÃ¡ seznamy vÅ¡ech zdrojÅ¯ atd. a vypÃ­Å¡e je na
standardnÃ­ vÃ½stup:</p>

<pre>
<i>"""MCP klient, kterÃ½ spustÃ­ server, se kterÃ½m se komunikuje pÅ™es STDIO."""</i>
&nbsp;
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client
&nbsp;
<i># parametry pro spuÅ¡tÄ›nÃ­ MCP serveru</i>
server_params = StdioServerParameters(
    command="python",  <i># spustÃ­ se tento pÅ™Ã­kaz</i>
    args=["mcp_server_5.py"],  <i># a pÅ™edajÃ­ se mu nÃ¡sledujÃ­cÃ­ parametry</i>
    env=None,  <i># lze definovat i promÄ›nnÃ© prostÅ™edÃ­</i>
)
&nbsp;
&nbsp;
async def <strong>run</strong>():
    <i>"""Realizace klienta."""</i>
    async with <u>stdio_client(server_params)</u> as (read, write):
        async with ClientSession(read, write) as session:
            await session.initialize()
&nbsp;
            prompts = await session.list_prompts()
            print(prompts)
&nbsp;
            resources = await session.list_resources()
            print(resources)
&nbsp;
            templates = await session.list_resource_templates()
            print(templates)
&nbsp;
            tools = await session.list_tools()
            print(tools)
&nbsp;
&nbsp;
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ klienta</i>
if __name__ == "__main__":
    import asyncio
&nbsp;
    asyncio.run(run())
</pre>

<p>Tento klient spustÃ­me:</p>

<pre>
$ <strong>python mcp_client_1.py</strong>
</pre>

<p>Klient po svÃ© inicializaci sÃ¡m automaticky spustÃ­ pÅ™Ã­sluÅ¡nÃ½ MCP server (mÃ¡
k&nbsp;tomu vÅ¡echny potÅ™ebnÃ© informace), zÃ­skÃ¡ seznam dostupnÃ½ch zdrojÅ¯ atd. a
ten vytiskne. PotÃ© je ukonÄen.</p>

<p>VypsanÃ© informace by mÄ›ly vypadat pÅ™esnÄ› takto:</p>

<pre>
meta=None nextCursor=None prompts=[]
meta=None nextCursor=None resources=[Resource(uri=AnyUrl('pozdrav://'), name='pozdrav://', description=None, mimeType='text/plain', size=None, annotations=None)]
meta=None nextCursor=None resourceTemplates=[ResourceTemplate(uriTemplate='pozdrav://{name}', name='pozdrav2', description='OdpovÄ›Ä s osobnÃ­m pozdravem.', mimeType=None, annotations=None)]
meta=None nextCursor=None tools=[Tool(name='factorial', description='VÃ½poÄet faktoriÃ¡lu ve smyÄce.', inputSchema={'properties': {'n': {'title': 'N', 'type': 'integer'}}, 'required': ['n'], 'title': 'factorialArguments', 'type': 'object'})]
</pre>



<p><a name="k17"></a></p>
<h2 id="k17">17. MCP klient s&nbsp;komunikacÃ­ pÅ™es SSE</h2>

<p>Druhou moÅ¾nostÃ­ komunikace mezi MCP serverem a MCP klientem je vyuÅ¾itÃ­
transportu SSE (<i>Server-side events</i>). V&nbsp;tomto pÅ™Ã­padÄ› je moÅ¾nÃ© MCP
server inicializovat jeÅ¡tÄ› pÅ™ed spuÅ¡tÄ›nÃ­m klienta. Jak se tato inicializace
provede jsme si ukÃ¡zali <a href="#k15">v&nbsp;patnÃ¡ctÃ© kapitole</a>.
PÅ™edpoklÃ¡dejme tedy, Å¾e MCP server je inicializovÃ¡n a naslouchÃ¡ na portu 8000.
Klient se mÅ¯Å¾e k&nbsp;takovÃ©mu serveru pÅ™ipojit zpÅ¯sobem, kterÃ½ lze
naprogramovat nÃ¡sledovnÄ›:</p>

<pre>
<i>"""MCP klient, kterÃ½ spustÃ­ server, se kterÃ½m se komunikuje pÅ™es SSE."""</i>
&nbsp;
from mcp import ClientSession
from mcp.client.sse import sse_client
&nbsp;
&nbsp;
async def <strong>run</strong>():
    <i>"""Realizace klienta."""</i>
    async with <u>sse_client(url="http://localhost:8000/sse")</u> as (read, write):
        async with ClientSession(read, write) as session:
            await session.initialize()
&nbsp;
            prompts = await session.list_prompts()
            print(prompts)
&nbsp;
            resources = await session.list_resources()
            print(resources)
&nbsp;
            templates = await session.list_resource_templates()
            print(templates)
&nbsp;
            tools = await session.list_tools()
            print(tools)
&nbsp;
&nbsp;
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ klienta</i>
if __name__ == "__main__":
    import asyncio
&nbsp;
    asyncio.run(run())
</pre>

<p>Od klienta <a href="#k16">z&nbsp;pÅ™edchozÃ­ kapitoly</a> se tedy tento klient
odliÅ¡uje pouze odliÅ¡nÃ½m kontextem:</p>

<pre>
    async with <u>sse_client(url="http://localhost:8000/sse")</u> as (read, write):
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: ovÅ¡em nepoÄÃ­tejte s&nbsp;tÃ­m, Å¾e MCP
server dokÃ¡Å¾e souÄasnÄ› obslouÅ¾it vÄ›tÅ¡Ã­ mnoÅ¾stvÃ­ poÅ¾adavkÅ¯. TÃ­mto problÃ©mem se
budeme zabÃ½vat v&nbsp;navazujÃ­cÃ­m ÄlÃ¡nku.</div></p>



<p><a name="k18"></a></p>
<h2 id="k18">18. Klient, kterÃ½ pÅ™eÄte zdroj z&nbsp;MCP serveru</h2>

<p>MCP klienti dokÃ¡Å¾ou ÄÃ­st jakÃ©koli zdroje nabÃ­zenÃ© MCP serverem, volat
v&nbsp;nich definovanÃ© nÃ¡stroje (<i>tools</i>) atd. V&nbsp;dneÅ¡nÃ­m poslednÃ­m
demonstraÄnÃ­m pÅ™Ã­kladu si ukÃ¡Å¾eme zpÅ¯sob pÅ™eÄtenÃ­ zdroje (pro jednoduchost
prozatÃ­m zdroje bez selektoru). Komunikace s&nbsp;MCP serverem bude opÄ›t
probÃ­hat asynchronnÄ›:</p>

<pre>
<i>"""MCP klient, kterÃ½ pÅ™eÄte zvolenÃ½ zdroj."""</i>
&nbsp;
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client
&nbsp;
<i># parametry pro spuÅ¡tÄ›nÃ­ MCP serveru</i>
server_params = StdioServerParameters(
    command="python",  <i># spustÃ­ se tento pÅ™Ã­kaz</i>
    args=["mcp_server_5.py"],  <i># a pÅ™edajÃ­ se mu nÃ¡sledujÃ­cÃ­ parametry</i>
    env=None,  <i># lze definovat i promÄ›nnÃ© prostÅ™edÃ­</i>
)
&nbsp;
&nbsp;
async def <strong>run</strong>():
    <i>"""Realizace klienta."""</i>
    async with <u>stdio_client(server_params)</u> as (read, write):
        async with ClientSession(read, write) as session:
            await session.initialize()
&nbsp;
            <i># pÅ™eÄtenÃ­ zdroje</i>
            data = await session.read_resource("pozdrav://")
            print("Data returned:", data)
            print("Type:", type(data))
&nbsp;
&nbsp;
<i># pÅ™Ã­mÃ© spuÅ¡tÄ›nÃ­ klienta</i>
if __name__ == "__main__":
    import asyncio
&nbsp;
    asyncio.run(run())
</pre>

<p>Po spuÅ¡tÄ›nÃ­ tohoto klienta se inicializuje MCP server, provede se pÅ™eÄtenÃ­
zdroje <strong>pozdrav://</strong> a nÃ¡slednÄ› dojde k&nbsp;ukonÄenÃ­ Äinnosti
jak serveru, tak poslÃ©ze i klienta:</p>

<pre>
Data returned: meta=None contents=[TextResourceContents(uri=AnyUrl('pozdrav://'), mimeType='text/plain', text='Hello, dear client')]
Type: &lt;class 'mcp.types.ReadResourceResult'&gt;
</pre>

<p><div class="rs-tip-major">PoznÃ¡mka: sofistikovanÄ›jÅ¡Ã­ pÅ™Ã­klady si ukÃ¡Å¾eme
pÅ™Ã­Å¡tÄ›.</div></p>



<p><a name="k19"></a></p>
<h2 id="k19">19. RepositÃ¡Å™ s&nbsp;demonstraÄnÃ­mi pÅ™Ã­klady</h2>

<p>ZdrojovÃ© kÃ³dy vÅ¡ech prozatÃ­m popsanÃ½ch demonstraÄnÃ­ch pÅ™Ã­kladÅ¯ urÄenÃ½ch pro
Python a balÃ­Äek <a
href="https://github.com/modelcontextprotocol/python-sdk">mcp</a> byly uloÅ¾eny
do repositÃ¡Å™e dostupnÃ©ho na adrese <a
href="https://github.com/tisnik/most-popular-python-libs">https://github.com/tisnik/most-popular-python-libs</a>.
V&nbsp;tabulce zobrazenÃ© nÃ­Å¾e jsou odkazy na jednotlivÃ© pÅ™Ã­klady:</p>

<table>
<tr><th> #</th><th>DemonstraÄnÃ­ pÅ™Ã­klad</th><th>StruÄnÃ½ popis pÅ™Ã­kladu</th><th>Cesta</th></tr>
<tr><td> 1</td><td>mcp_server_1.py</td><td>jednoduchÃ½ MCP server s&nbsp;jedinÃ½m definovanÃ½m zdrojem</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_1.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_1.py</a></td></tr>
<tr><td> 2</td><td>mcp_server_2.py</td><td>jednoduchÃ½ MCP server s&nbsp;jedinÃ½m definovanÃ½m dynamickÃ½m zdrojem</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_2.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_2.py</a></td></tr>
<tr><td> 3</td><td>mcp_server_3.py</td><td>MCP server s&nbsp;dynamickÃ½m zdrojem a definicÃ­ nÃ¡stroje (tool)</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_3.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_3.py</a></td></tr>
<tr><td> 4</td><td>mcp_server_4.py</td><td>MCP server s jedinÃ½m definovanÃ½m dynamickÃ½m zdrojem, zÃ¡pis informacÃ­ o spuÅ¡tÄ›nÃ­</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_4.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_4.py</a></td></tr>
<tr><td> 5</td><td>mcp_server_5.py</td><td>MCP server, kterÃ½ se pÅ™Ã­mo spustÃ­ v&nbsp;reÅ¾imu STDIO</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_5.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_5.py</a></td></tr>
<tr><td> 6</td><td>mcp_server_6.py</td><td>MCP server, kterÃ½ se pÅ™Ã­mo spustÃ­ v&nbsp;reÅ¾imu SSE</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_6.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_6.py</a></td></tr>
<tr><td> 7</td><td>mcp_server_7.py</td><td>MCP server se zdrojem vracejÃ­cÃ­m strukturovanÃ¡ data</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_7.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_7.py</a></td></tr>
<tr><td> 8</td><td>mcp_server_8.py</td><td>MCP server se zdrojem vracejÃ­cÃ­m strukturovanÃ¡ data</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_8.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_server_8.py</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td> 9</td><td>mcp_client_1.py</td><td>MCP klient, kterÃ½ spustÃ­ server, se kterÃ½m se komunikuje pÅ™es STDIO</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_1.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_1.py</a></td></tr>
<tr><td>10</td><td>mcp_client_2.py</td><td>MCP klient, kterÃ½ spustÃ­ server, se kterÃ½m se komunikuje pÅ™es SSE</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_2.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_2.py</a></td></tr>
<tr><td>11</td><td>mcp_client_3.py</td><td>MCP klient, kterÃ½ pÅ™eÄte zvolenÃ½ zdroj</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_3.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_3.py</a></td></tr>
<tr><td>12</td><td>mcp_client_4.py</td><td>MCP klient, kterÃ½ pÅ™eÄte zvolenÃ½ zdroj a zÃ­skÃ¡ z&nbsp;nÄ›j data</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_4.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_4.py</a></td></tr>
<tr><td>13</td><td>mcp_client_5.py</td><td>MCP klient, kterÃ½ zavolÃ¡ vybranÃ½ nÃ¡stroj</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_5.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_5.py</a></td></tr>
<tr><td>14</td><td>mcp_client_6.py</td><td>MCP klient, kterÃ½ pÅ™eÄte a zpracuje strukturovanÃ¡ data</td><td><a href="https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_6.py">https://github.com/tisnik/most-popular-python-libs/blob/master/mcp/mcp_client_6.py</a></td></tr>
</table>



<p><a name="k20"></a></p>
<h2 id="k20">20. Odkazy na Internetu</h2>

<ol>

<li>MCP Python SDK<br />
<a href="https://github.com/modelcontextprotocol/python-sdk?tab=readme-ov-file#running-your-server">https://github.com/modelcontextprotocol/python-sdk?tab=readme-ov-file#running-your-server</a>
</li>

<li>MCP protocol: Resources<br />
<a href="https://modelcontextprotocol.info/docs/concepts/resources/">https://modelcontextprotocol.info/docs/concepts/resources/</a>
</li>

<li>Example Servers<br />
<a href="https://modelcontextprotocol.io/examples">https://modelcontextprotocol.io/examples</a>
</li>

<li>Core architecture<br />
<a href="https://modelcontextprotocol.io/docs/concepts/architecture">https://modelcontextprotocol.io/docs/concepts/architecture</a>
</li>

<li>Unleashing the Power of Model Context Protocol (MCP): A Game-Changer in AI Integration<br />
<a href="https://techcommunity.microsoft.com/blog/educatordeveloperblog/unleashing-the-power-of-model-context-protocol-mcp-a-game-changer-in-ai-integrat/4397564">https://techcommunity.microsoft.com/blog/educatordeveloperblog/unleashing-the-power-of-model-context-protocol-mcp-a-game-changer-in-ai-integrat/4397564</a>
</li>

<li>MPC inspector<br />
<a href="https://github.com/modelcontextprotocol/inspector">https://github.com/modelcontextprotocol/inspector</a>
</li>

<li>Model Context Protocol servers<br />
<a href="https://github.com/modelcontextprotocol/servers">https://github.com/modelcontextprotocol/servers</a>
</li>

<li>python-sdk na GitHubu<br />
<a href="https://github.com/modelcontextprotocol/python-sdk">https://github.com/modelcontextprotocol/python-sdk</a>
</li>

<li>typescript-sdk na GitHubu<br />
<a href="https://github.com/modelcontextprotocol/typescript-sdk">https://github.com/modelcontextprotocol/typescript-sdk</a>
</li>

<li>mcp-golang<br />
<a href="https://github.com/metoro-io/mcp-golang">https://github.com/metoro-io/mcp-golang</a>
</li>

<li>MCP server: A step-by-step guide to building from scratch<br />
<a href="https://composio.dev/blog/mcp-server-step-by-step-guide-to-building-from-scrtch/">https://composio.dev/blog/mcp-server-step-by-step-guide-to-building-from-scrtch/</a>
</li>

<li>How to Build an MCP Server Fast: A Step-by-Step Tutorial<br />
<a href="https://medium.com/@eugenesh4work/how-to-build-an-mcp-server-fast-a-step-by-step-tutorial-e09faa5f7e3b">https://medium.com/@eugenesh4work/how-to-build-an-mcp-server-fast-a-step-by-step-tutorial-e09faa5f7e3b</a>
</li>

<li>Step-by-Step Guide: Building an MCP Server using Python-SDK, AlphaVantage &amp; Claude AI<br />
<a href="https://medium.com/@syed_hasan/step-by-step-guide-building-an-mcp-server-using-python-sdk-alphavantage-claude-ai-7a2bfb0c3096">https://medium.com/@syed_hasan/step-by-step-guide-building-an-mcp-server-using-python-sdk-alphavantage-claude-ai-7a2bfb0c3096</a>
</li>

<li>RFC 6570: URI Template<br />
<a href="https://datatracker.ietf.org/doc/html/rfc6570">https://datatracker.ietf.org/doc/html/rfc6570</a>
</li>

<li>Return resources as structured JSON instead of text?<br />
<a href="https://github.com/modelcontextprotocol/python-sdk/issues/279">https://github.com/modelcontextprotocol/python-sdk/issues/279</a>
</li>

<li>Python standard library: pprint<br />
<a href="https://docs.python.org/3/library/pprint.html">https://docs.python.org/3/library/pprint.html</a>
</li>

<li>Python standard library: json â€” JSON encoder and decoderÂ¶<br />
<a href="https://docs.python.org/3/library/json.html">https://docs.python.org/3/library/json.html</a>
</li>

<li>Calling MCP Servers the Hard Way<br />
<a href="https://deadprogrammersociety.com/2025/03/calling-mcp-servers-the-hard-way.html">https://deadprogrammersociety.com/2025/03/calling-mcp-servers-the-hard-way.html</a>
</li>

<li>mcptools<br />
<a href="https://github.com/f/mcptools">https://github.com/f/mcptools</a>
</li>

<li>Server-sent events<br />
<a href="https://en.wikipedia.org/wiki/Server-sent_events">https://en.wikipedia.org/wiki/Server-sent_events</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="https://github.com/tisnik/">Pavel TiÅ¡novskÃ½</a> &nbsp; 2024</small></p>
</body>
</html>

