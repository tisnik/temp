<pre>
use std::io::Read;
use std::io::Write;
use std::fs::File;
&nbsp;
fn write_message_to_file(mut fout: &amp;File) {
    match fout.write(b"Hello, world!\n") {
        Ok(written) =&gt; {
            println!("{} bytes written", written);
        }
        Err(error) =&gt; {
            println!("write error: {}", error);
        }
    }
}
&nbsp;
fn create_hello_world_file(file_name: &amp;str) {
    match File::create(file_name) {
        Ok(fout) =&gt; {
            write_message_to_file(&amp;fout);
        }
        Err(error) =&gt; {
            println!("file create error: {}", error);
        }
    }
}
&nbsp;
fn read_one_byte(mut fin: &amp;File) -&gt; bool {
    let mut buffer = [0; 1];
&nbsp;
    match fin.read(&amp;mut buffer) {
        Ok(size) =&gt; {
            if size &gt; 0 {
                println!("Read: '{}' = {}", buffer[0] as char, buffer[0]);
            }
            size &gt; 0
        }
        Err(error) =&gt; {
            println!("file read error: {}", error);
            false
        }
    }
}
&nbsp;
fn main() {
    create_hello_world_file("test.txt");
&nbsp;
    let fin = File::open("test.txt").unwrap();
&nbsp;
    while read_one_byte(&amp;fin)
    {}
}
</pre>

<p>Tento program by mìl po svém spu¹tìní na standardní výstup vypsat
následující øádky (poslední pøeètený znak je znakem pro konec øádku, proto je
výstup &bdquo;rozházený&ldquo;):</p>

<pre>
14 bytes written
Read: 'H' = 72
Read: 'e' = 101
Read: 'l' = 108
Read: 'l' = 108
Read: 'o' = 111
Read: ',' = 44
Read: ' ' = 32
Read: 'w' = 119
Read: 'o' = 111
Read: 'r' = 114
Read: 'l' = 108
Read: 'd' = 100
Read: '!' = 33
Read: '
' = 10
</pre>

