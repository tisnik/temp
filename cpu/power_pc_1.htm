<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>RISCová architektura PowerPC</title>
<meta name="Author" content="Pavel Tisnovsky" />
<meta name="Generator" content="vim" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
         body {color:#000000; background:#ffffff;}
         h1  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#c00000; text-align:center; padding-left:1em}
         h2  {font-family: arial, helvetica, sans-serif; color:#ffffff; background-color:#0000c0; padding-left:1em; text-align:left}
         h3  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#c0c0c0; padding-left:1em; text-align:left}
         h4  {font-family: arial, helvetica, sans-serif; color:#000000; background-color:#e0e0e0; padding-left:1em; text-align:left}
         a   {font-family: arial, helvetica, sans-serif;}
         li  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ol  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         ul  {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify; width:450px;}
         p   {font-family: arial, helvetica, sans-serif; color:#000000; text-align:justify;}
         pre {background:#e0e0e0}
</style>
</head>

<body>

<h1>RISCová architektura PowerPC</h1>

<h3>Pavel Tišnovský</h3>

<p></p>

<h1>Úvodník</h1>

<p>Jednou z&nbsp;posledních rozšířených a stále používaných RISCových architektur, kterou jsme si (alespoň prozatím) nepopsali, je architektura PowerPC. Dnes se seznámíme se základními vlastnostmi této architektury, přičemž se, podobně jako v&nbsp;předchozích článcích, zaměříme na programátorský model (registry a instrukce).</p>



<h2>Obsah</h2>

<p><a href="#k01">1. RISCová architektura PowerPC</a></p>
<p><a href="#k02">2. Specifikace stará čtvrt století a její pozdější modifikace</a></p>
<p><a href="#k03">3. Pracovní registry dostupné programátorům</a></p>
<p><a href="#k04">4. Registr s&nbsp;příznakovými bity (CR &ndash; Condition Register)</a></p>
<p><a href="#k05">5. Význam pole <strong>CR0</strong></a></p>
<p><a href="#k06">6. Význam pole <strong>CR1</strong></a></p>
<p><a href="#k07">7. Příznakové bity nastavené po porovnání dvou operandů</a></p>
<p><a href="#k08">8. Registr s&nbsp;příznakovými bity celočíselných operací (XER &ndash; Fixed-Point Exception Register)</a></p>
<p><a href="#k09">9. Registr s&nbsp;návratovou adresou ze subrutiny (LR &ndash; Link Register)</a></p>
<p><a href="#k10">10. Registr pro implementaci smyček (CTR &ndash; Count Register)</a></p>
<p><a href="#k11">11. Instrukční sada a základní formáty instrukcí</a></p>
<p><a href="#k12">12. Modul pro řízení běhu programu (Branch Processor)</a></p>
<p><a href="#k13">13. Skokové instrukce</a></p>
<p><a href="#k14">14. Bit obsahující &bdquo;nápovědu&ldquo; pro prediktor skoků</a></p>
<p><a href="#k15">15. Odkazy na Internetu</a></p>



<p><a name="k01"></a></p>
<h2 id="k01">1. RISCová architektura PowerPC</h2>

<p>Architektura PowerPC patří společně s&nbsp;již popsanými architekturami
MIPS, SPARC, Motorola 88000, AMD 29000, PA-RISC, RISC-V, ARM či OpenRISC do
rodiny RISCových architektur postavených na principech, které byly poprvé
implementovány v&nbsp;procesorech RISC-I. Tyto architektury se vyznačují
některými společnými vlastnostmi mezi něž patří zejména (relativně) jednoduchý
formát instrukcí (někdy existují pouze tři formáty instrukcí, viz například
klasický MIPS), velké množství pracovních registrů, instrukce mají typicky
pevnou délku, operace s&nbsp;daty uloženými v&nbsp;paměti jsou většinou
redukovány na instrukce typu LOAD a STORE a většina RISCových procesorů taktéž
implementuje buď nějakou formu prediktoru skoků nebo alespoň takzvaný branch
delay slot. Tyto vlastnosti nebyly vybrány náhodou: snaha architektů směřovala
a stále směřuje k&nbsp;tomu, aby se instrukce mohly v&nbsp;RISCových
procesorech provádět v&nbsp;pipeline, což vede ke zrychlení běhu programů a
taktéž k&nbsp;mnohem lepšímu využití plochy čipu (zjednodušeně řečeno &ndash;
díky pipeline mají všechny tranzistory na čipu &bdquo;co na práci&ldquo;).</p>




<p><a name="k02"></a></p>
<h2 id="k02">2. Specifikace stará čtvrt století a její pozdější modifikace</h2>

<p>Samotná architektura PowerPC existuje již téměř 25 let (konkrétně od roku
1992) a za tuto dlouhou dobu prošla několika modifikacemi. Moderní čipy se od
původní specifikace v&nbsp;některých ohledech liší. Zejména byly odstraněny
některé příliš komplexní a ne zcela nezbytné instrukce, mezi něž patří
například operace s&nbsp;číselnými hodnotami s&nbsp;plovoucí řádovou čárkou se
čtyřnásobnou přesností (<i>quad precision</i>, <i>quadruple precision</i>),
dále některé instrukce určené pro podmíněné přenosy dat apod. Naopak se
postupně přidávaly další užitečné instrukce, typicky instrukce pro operace
s&nbsp;hodnotami typu <i>float</i> (původně jen <i>double</i> a <i>quad</i>),
operace typu multiply-add určená pro algoritmy pro zpracování signálu, režimy
big-endian nebo little-endian, 64bitový režim plně zpětně kompatibilní
s&nbsp;32bitovým režimem a nesmíme zapomenout ani na <i>AltiVec</i>, což je
specifikace SIMD (vektorové) instrukční sady se 128bitovými
&bdquo;vektory&ldquo; (toto rozšíření se někdy označuje taktéž jmény
<i>Velocity Engine</i> nebo <i>Vector Multimedia Extension</i>.</p>

<pre>
    Complex/                                                           Simple/
      CISC______________________________________________________________RISC
      |                                                         14500B*    |
4-bit |                                                    *Am2901         |
      |                                   *4004                            |
      |                                *4040                               |
8-bit |                                     6800,650x         *1802        |
      |                       8051*  *  *8008   *    SC/MP                 |
      |                              Z8    *         *    *F8              |
      |                F100-L*   8080/5  2650                              |
      |                             *       *NOVA        *  *PIC16x        |
      |          MCP1600*   *Z-80         *6809    IMS6100                 |
16-bit|          *Z-280           *PDP11             80C166*  *M17         |
      |                      *8086    *TMS9900                             |
      |                 *Z8000          *65816                             |
      |                *56002                                              |
      |            32016*   *68000 ACE HOBBIT  Clipper      R3000          |
32-bit|432           96002 *68020    *   *  *  *   *AMD 29000 *   *ARM     |
      | *         *VAX * 80486 68040 *PSC i960    *SPARC         *SH       |
      |          Z80000*    *  *    TRON48    PA-RISC                      |
      |    PPro  Pent*    -- T9000 -*-------     *    *88100               |
      | *    *    -- 860 -*--*-----            *     *88110                |
64-bit|Rekurs                   POWER PowerPC *     CDC6600     *R4000     |
      |            x86-64*   *620 U-SPARC *     *R8000         *Alpha      |
      |     ------- IA-64 -------      R10000                              |
      CISC______________________________________________________________RISC
</pre>

<img src="http://i.iinfo.cz/images/394/pc146-1.png" width="450" height="439" alt=" " />
<p><i>Obrázek 1: Poměrně hrubé rozdělení archiektur mikroprocesorů podle bitové
šířky zpracovávaných operandů a taktéž podle toho, jak blízko má daná
architektura k&nbsp;ortodoxně pojatému konceptu RISC nebo naopak CISC (pozice
na horizontální ose je ovšem v&nbsp;mnoha případech sporná).</i></p>



<p><a name="k03"></a></p>
<h2 id="k03">3. Pracovní registry dostupné programátorům</h2>

<p>Podívejme se nyní na mikroprocesory s&nbsp;architekturou PowerPC
z&nbsp;pohledu programátora. Procesory PowerPC obsahují poměrně rozsáhlou sadu
registrů, kterou lze rozdělit na pracovní registry a na registry stavové a
řídicí. Jak je u RISCových architektur dobrým zvykem, je skupina pracovních
registrů poměrně rozsáhlá, což zde konkrétně znamená, že pro celočíselné
operace je možné použít 32 pracovních registrů nazvaných <strong>GPR0</strong>
až <strong>GPR31</strong>, z&nbsp;nichž každý má šířku 64bitů (v&nbsp;64bitovém
režimu PowerPC) a pro operace s&nbsp;hodnotami s&nbsp;plovoucí řádovou čárkou
se používají pracovní registry <strong>FPR0</strong> až <strong>FPR31</strong>,
které mají taktéž šířku 64 bitů. Mezi stavové a řídicí registry pak patří
<strong>CR</strong> (32bitový), <strong>LR</strong>, <strong>CTR</strong>,
<strong>XER</strong> a <strong>FPSCR</strong> (taktéž 32bitový). Všechny
viditelné registry jsou pro přehlednost vypsány v&nbsp;následující tabulce:</p>

<table>
<tr><th>Označení</th><th>Šířka</th><th>Význam označení</th></tr>
<tr><td>GPR0 - GPR31</td><td>64 bitů</td><td>General Purpose Register(s)</td></tr>
<tr><td>FPR0 - FPR31</td><td>64 bitů</td><td>Floating-Point Register(s)</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>CR </td><td>32 bitů</td><td>Condition Register</td></tr>
<tr><td>LR </td><td>64 bitů</td><td>Link Register</td></tr>
<tr><td>CTR</td><td>64 bitů</td><td>Count Register</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>XER</td><td>32 bitů</td><td>Fixed-Point Exception Register</td></tr>
<tr><td>FPSCR</td><td>32 bitů</td><td>Floating-Point Status and Control Register</td></tr>
</table>

<p>Poznámka: nenechte se zmást označením &bdquo;Fixed-Point&ldquo;. Tyto
registry můžeme považovat za registry celočíselné, i když je samozřejmě možné
hodnotu v&nbsp;nich uloženou považovat za hodnotu s&nbsp;pevnou řádovou čárkou
(což je některými instrukcemi podporováno).</p>



<p><a name="k04"></a></p>
<h2 id="k04">4. Registr s&nbsp;příznakovými bity (CR &ndash; Condition Register)</h2>

<p>Rozvětvení (rozeskoky) a programové smyčky se většinou na úrovni strojového
kódu realizují s&nbsp;využitím takzvaných příznakových bitů (<i>flags</i>). Ty
jsou používány u mnoha mikroprocesorových architektur, včetně populárních čipů
typu ARM, i386, x86-64 apod. (určitou výjimku z&nbsp;tohoto trendu představují
čipy s&nbsp;architekturami MIPS, RISC-V, DEC Alpha a taktéž některé VLIW
architektury). S&nbsp;příznakovými bity se setkáme i u procesorů PowerPC, i
když v&nbsp;poněkud odlišné a zobecněné podobně. První registr, v&nbsp;němž se
pracuje s&nbsp;příznakovými bity, se jmenuje příznačně <strong>CR</strong>
neboli <i>Condition Registr</i>. Tento registr má šířku 32 bitů a je rozdělen
do osmi čtyřbitových polí označovaných symboly <strong>CR0</strong> až
<strong>CR7</strong>:</p>

<pre>
31  28   24   20   16   12    8    4    0
+----+----+----+----+----+----+----+----+
| CR7| CR6| CR5| CR4| CR3| CR2| CR1| CE0|
+----+----+----+----+----+----+----+----+
</pre>



<p><a name="k05"></a></p>
<h2 id="k05">5. Význam pole <strong>CR0</strong></h2>

<p>První pole se jménem <strong>CR0</strong>, tj.&nbsp;nejnižší čtyři bity
registru <strong>CR</strong>, má speciální význam, neboť první tři bity
v&nbsp;něm jsou nastavovány běžnými celočíselnými instrukcemi (sčítání atd.) a
to konkrétně porovnáním výsledku operace s&nbsp;nulou:</p>

<table>
<tr><th>Bit v CR0</th><th>Zkratka</th><th>Význam</th></tr>
<tr><td>0</td><td>LT</td><td>Negative (kladný výsledek)</td></tr>
<tr><td>1</td><td>GT</td><td>Positive (záporný výsledek)</td></tr>
<tr><td>2</td><td>EQ</td><td>Zero (nulový výsledek)</td></tr>
<tr><td>3</td><td>SO</td><td>Summary Overflow (zkopírován z&nbsp;registru XER)</td></tr>
</table>

<p>Bit <strong>SO</strong> je v&nbsp;tomto ohledu výjimečný, neboť neobsahuje
příznak nastavený po porovnání výsledku nějaké celočíselné operace
s&nbsp;nulou, ale kopii stejnojmenného bitu <strong>SO</strong> z&nbsp;registru
<strong>XER</strong>, který bude popsán v&nbsp;dalším textu.</p>



<p><a name="k06"></a></p>
<h2 id="k06">6. Význam pole <strong>CR1</strong></h2>

<p>Druhé pole se jménem <strong>CR1</strong>, tj.&nbsp;bity 4 až 7
z&nbsp;příznakového registru <strong>CR</strong>, má taktéž speciální význam,
neboť bity v&nbsp;něm jsou nastavovány při operacích s&nbsp;hodnotami
s&nbsp;plovoucí řádovou čárkou:</p>

<table>
<tr><th>Bit v CR0</th><th>Zkratka</th><th>Význam</th></tr>
<tr><td>4</td><td>FX </td><td>(kopie z&nbsp;FPSCR) Floating-Point Exception Summary</td></tr>
<tr><td>5</td><td>FEX</td><td>(kopie z&nbsp;FPSCR) Floating-Point Enabled Exception Summary</td></tr>
<tr><td>6</td><td>VX </td><td>(kopie z&nbsp;FPSCR) Floating-Point Invalid Operation Exception Summary</td></tr>
<tr><td>7</td><td>OX </td><td>(kopie z&nbsp;FPSCR) Floating-Point Overflow Exception</td></tr>
</table>

<p>Význam těchto příznaků zkopírovaných ze stavového registru
<strong>FPSCR</strong>:</p>

<table>
<tr><th>Příznak</th><th>Význam</th></tr>
<tr><td>FX </td><td>obsahuje bitové OR všech ostatních výjimek, které mohou nastat při FP operaci</td></tr>
<tr><td>FEX</td><td>obsahuje bitové OR všech ostatních výjimek, které ovšem nejsou maskovány</td></tr>
<tr><td>VX </td><td>nevalidní operace typu 0/0, &infin;-&infin;, &infin;/&infin;, 0&times;&infin; a podobné chuťovky</td></tr>
<tr><td>OX </td><td>přetečení FP operace (typicky při překročení maximální hodnoty exponentu)</td></tr>
</table>

<p>První dva bity obsahují hodnotu 1 pokud došlo alespoň k&nbsp;jedné výjimce
(přetečení, podtečení, dělení nulou, nepřesný výsledek). U bitu
<strong>FEX</strong> je navíc možné selektivně jednotlivé typy výjimek
maskovat.</p>



<p><a name="k07"></a></p>
<h2 id="k07">7. Příznakové bity nastavené po porovnání dvou operandů</h2>

<p>Dále existuje několik instrukcí určených pro porovnání dvou operandů, a to
jak operandů celočíselných, tak operandů s&nbsp;plovoucí řádovou čárkou. Tyto
instrukce nastavují čtyři bity <i>libovolného</i> pole <strong>CR0</strong> až
<strong>CR7</strong>, a to následujícím způsobem:</p>

<table>
<tr><th>Bit</th><th>Příznak</th><th>Význam</th></tr>
<tr><td>CRx+0</td><td>LT</td><td>první operand menší než druhý</td></tr>
<tr><td>CRx+1</td><td>GT</td><td>první operand větší než druhý</td></tr>
<tr><td>CRx+2</td><td>EQ</td><td>operandy jsou shodné</td></tr>
<tr><td>CRx+3</td><td>SO</td><td>opět zkopírováno z&nbsp;registru XER</td></tr>
</table>

<p>Pro operace s&nbsp;plovoucí řádovou čárkou jsou významy příznaků nepatrně
odlišné:</p>

<table>
<tr><th>Bit</th><th>Příznak</th><th>Význam</th></tr>
<tr><td>CRx+0</td><td>FL</td><td>první operand menší než druhý</td></tr>
<tr><td>CRx+1</td><td>FG</td><td>první operand větší než druhý</td></tr>
<tr><td>CRx+2</td><td>FE</td><td>operandy jsou shodné</td></tr>
<tr><td>CRx+3</td><td>FU</td><td>unordered &ndash; nelze porovnat, neboť jeden z&nbsp;operandů je NaN</td></tr>
</table>



<p><a name="k08"></a></p>
<h2 id="k08">8. Registr s&nbsp;příznakovými bity celočíselných operací (XER &ndash; Fixed-Point Exception Register)</h2>

<p>Stavový registr <strong>CR</strong> je doplněn dalšími dvěma stavovými
registry. Pro celočíselné operace se používá registr nazvaný
<strong>XER</strong> a pro operace s&nbsp;plovoucí řádovou čárkou pak registr
<strong>FPSCR</strong>. Registr <strong>XER</strong> je sice 64bitový, ovšem
nejnižších 32 bitů je rezervovaných. Pro aritmetické operace mají význam
především bity 32, 33 a 34:</p>

<table>
<tr><th>Bit</th><th>Příznak</th><th>Význam</th></tr>
<tr><td>32</td><td>SO</td><td>odpovídá OV, ovšem není automaticky nulován další operací, nulování se musí provést explicitně</td></tr>
<tr><td>33</td><td>OV</td><td>příznak přetečení, nastavován při sčítání a odčítání, ne při porovnávání</td></tr>
<tr><td>34</td><td>CA</td><td>příznak přenosu, používán některými aritmetickými operacemi i bitovými posuny</td></tr>
</table>

<p>Příznaky <strong>OV</strong> a <strong>CA</strong> zhruba odpovídají
příznakům <strong>OF</strong> a <strong>CF</strong> na architektuře
i386/x86-64.</p>



<p><a name="k09"></a></p>
<h2 id="k09">9. Registr s&nbsp;návratovou adresou ze subrutiny (LR &ndash; Link Register)</h2>

<p>Na některých RISCových architekturách mikroprocesorů se můžeme setkat
s&nbsp;tím, že návratové adresy se při volání podprogramů (subrutin) neukládají
na zásobník. Namísto zásobníku se používá speciální registr nazvaný <i>Link
Register</i> nebo též zkráceně <strong>LR</strong>. U některých mikroprocesorů
je link register součástí obecně použitelných registrů, ovšem u architektury
PowerPC je tomu jinak a <strong>LR</strong> je oddělen od běžných pracovních
registrů <strong>GPR0</strong> až <strong>GPR31</strong> (nesnižuje tedy jejich
počet). Registr <strong>LR</strong> má šířku 64 bitů, ovšem spodní dva bity
jsou ve skutečnosti nulové, neboť každá instrukce má šířku 32 bitů a je
v&nbsp;operační paměti zarovnána na celá slova (adresy jsou dělitelné čtyřmi).
Pro skok do podprogramu se používají instrukce typu <i>branch and link</i>, pro
návrat pak instrukce typu <i>branch to link register</i>.</p>



<p><a name="k10"></a></p>
<h2 id="k10">10. Registr pro implementaci smyček (CTR &ndash; Count Register)</h2>

<p>Zajímavý je registr nazvaný <strong>CTR</strong> neboli <i>Count
Register</i>. Jak již název napovídá, lze tento 64bitový registr použít pro
implementaci počítaných programových smyček, neboť architektura PowerPC
obsahuje instrukce podmíněného skoku, které mohou snížit obsah tohoto registru
(o jedničku) a následně provést skok, ovšem pouze za podmínky, že hodnota
čítače dosáhla nuly či je naopak nenulová. Tuto podmínku je ještě možné doplnit
o test nějakého bitu z&nbsp;již popsaného stavového registru
<strong>CR</strong>, takže jediná instrukce podmíněného skoku může ve
skutečnosti realizovat relativně složitou podmínku.</p>



<p><a name="k11"></a></p>
<h2 id="k11">11. Instrukční sada a základní formáty instrukcí</h2>

<p>I přes označení RISC je ve skutečnosti instrukční sada architektury PowerPC
velmi rozsáhlá a obsahuje stovky instrukcí a jejich kombinací. Ovšem všechny
instrukce dodržují pravidlo, že mají shodnou šířku 32 bitů a jsou vždy
zarovnány na adresu dělitelnou čtyřmi (to mj.&nbsp;znamená, že adresy cílů
skoků vždy končí bity 00). Existuje poměrně velké množství formátů instrukcí,
například I-format, B-format, SC-format, D-format, DS-format atd. Bity
v&nbsp;instrukčním slovu tvoří takzvaná bitová pole, ovšem někdy je bitové pole
rozděleno do více částí (aby nebylo dekódování tak jednoduché). Nejnižších pět
bitů instrukce tvoří operační kód (OPCD), který je ovšem upřesněn hodnotami
bitů z&nbsp;dalších polí.</p>

<p>Obecně lze instrukce rozdělit podle toho, který modul v&nbsp;procesoru je
zpracovává:</p>

<ol>
<li>Skokové instrukce</li>
<li>Instrukce celočíselné popř.&nbsp;instrukce s&nbsp;hodnotami s&nbsp;pevnou řádovou čárkou</li>
<li>Instrukce s&nbsp;hodnotami s&nbsp;plovoucí řádovou čárkou</li>
</ol>



<p><a name="k12"></a></p>
<h2 id="k12">12. Modul pro řízení běhu programu (Branch Processor)</h2>

<p>Modul pro řízení běhu programu (<i>Branch Processor</i>) vykonává především
skokové instrukce a taktéž se stará o řízení běhu programu při vzniku výjimky,
zachycení výjimky a při volání systémových služeb. Tento modul velmi úzce
používá již popsanou trojici stavových registrů &ndash; Condition Register
<strong>CR</strong>, Link Register <strong>LR</strong> a Count Register
<strong>CTR</strong>. Výsledkem práce tohoto modulu je efektivní adresa
následující instrukce, což v&nbsp;případě skoku samozřejmě znamená instrukci,
která leží na cílové adrese. Efektivní adresu následující instrukce lze
vypočítat jednou z&nbsp;těchto variant:</p>

<ul>
<li>Absolutní adresa specifikovaná operandem skokové instrukce.</li>
<li>Relativní adresa (offset), typické u podmíněných skoků.</li>
<li>Návratová adresa ze subrutiny uložená v&nbsp;link registru (<strong>LR</strong>)</li>
<li>Adresa uložená v&nbsp;count registru (<strong>CTR</strong>, speciální případ použití tohoto registru)</li>
</ul>



<p><a name="k13"></a></p>
<h2 id="k13">13. Skokové instrukce</h2>

<p>U skokových instrukcí se specifikuje jak cíl skoku (viz předchozí kapitolu
se čtyřmi možnostmi, jak lze cíl skoku vypočítat), tak i případná podmínka, při
jejímž splnění se má skok provést. Otestovat je možné vybraný bit registru
<strong>CR</strong> a provést skok pokud je tento přečtený bit nulový či naopak
nenulový. Dále je možné snížit hodnotu čítače <strong>CTR</strong> a provést
skok v&nbsp;případě jeho nulovosti či nenulovosti. Možné jsou ovšem i kombinace
&ndash; vybraný bit z&nbsp;registru <strong>CR</strong> je nulový/nenulový a
současně hodnota <strong>CTR</strong> snížená o jedničku dosáhla/nedosáhla
nuly. Kombinací tedy existuje velké množství a samozřejmě nesmíme zapomenout na
skok provedený vždy &ndash; <i>branch always</i>. Podrobnosti si ukážeme
příště.</p>



<p><a name="k14"></a></p>
<h2 id="k14">14. Bit obsahující &bdquo;nápovědu&ldquo; pro prediktor skoků</h2>

<p>Některé instrukce skoku obsahují dva bity nazývané &bdquo;at&ldquo;
(resp.&nbsp;přesněji &bdquo;a&ldquo; a &bdquo;t&ldquo;, kde &bdquo;t&ldquo;
pravděpodobně značí &bdquo;(branch) taken&ldquo;). Tyto bity ovlivňují
prediktor skoků a lze je považovat za statickou predikci nastavovanou
překladačem či programátorem v&nbsp;assembleru. Význam je jednoduchý &ndash;
kombinace 11 znamená, že překladač předpokládá, že se skok většinou provede,
kombinace 10 znamená, že překladač předpokládá, že se skok naopak neprovede a
kombinace 00 značí, že se má procesor spolehnout na svůj dynamický prediktor
skoků (což je doporučovaná hodnota, pokud ovšem z&nbsp;kvalitní analýzy kódu
neplynou jiné výsledky). Hodnota 01 je prozatím rezervovaná.</p>



<p><a name="k15"></a></p>
<h2 id="k15">15. Odkazy na Internetu</h2>

<ol>

<li>PowerPC overview (poněkud starší materiály z&nbsp;roku 2006)<br />
<a href="http://titancity.com/articles/ppc.html">http://titancity.com/articles/ppc.html</a>
</li>

<li>PowerPC (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/PowerPC">https://en.wikipedia.org/wiki/PowerPC</a>
</li>

<li>Status Register<br />
<a href="https://en.wikipedia.org/wiki/Status_register">https://en.wikipedia.org/wiki/Status_register</a>
</li>

<li>Why Learn Assembly Language?<br />
<a href="http://www.codeproject.com/Articles/89460/Why-Learn-Assembly-Language">http://www.codeproject.com/Articles/89460/Why-Learn-Assembly-Language</a>
</li>

<li>Is Assembly still relevant?<br />
<a href="http://programmers.stackexchange.com/questions/95836/is-assembly-still-relevant">http://programmers.stackexchange.com/questions/95836/is-assembly-still-relevant</a>
</li>

<li>Why Learning Assembly Language Is Still a Good Idea<br />
<a href="http://www.onlamp.com/pub/a/onlamp/2004/05/06/writegreatcode.html">http://www.onlamp.com/pub/a/onlamp/2004/05/06/writegreatcode.html</a>
</li>

<li>Assembly language today<br />
<a href="http://beust.com/weblog/2004/06/23/assembly-language-today/">http://beust.com/weblog/2004/06/23/assembly-language-today/</a>
</li>

<li>RISC-V Draft Sompressed ISA Version 1.9 Released<br />
<a href="https://blog.riscv.org/2015/11/risc-v-draft-compressed-isa-version-1-9-released/">https://blog.riscv.org/2015/11/risc-v-draft-compressed-isa-version-1-9-released/</a>
</li>

<li>RISC vs. CISC: the Post-RISC Era<br />
<a href="http://archive.arstechnica.com/cpu/4q99/risc-cisc/rvc-1.html">http://archive.arstechnica.com/cpu/4q99/risc-cisc/rvc-1.html</a>
</li>

<li>Introduction to ARM Thumb<br />
<a href="http://www.embedded.com/electronics-blogs/beginner-s-corner/4024632/Introduction-to-ARM-thumb">http://www.embedded.com/electronics-blogs/beginner-s-corner/4024632/Introduction-to-ARM-thumb</a>
</li>

<li>Code Size – a comprehensive comparison of microMIPS32 and Thumb code size using many Megabytes of customer code<br />
<a href="https://community.arm.com/groups/processors/blog/2014/04/28/code-size-a-comprehensive-comparison-of-micromips32-and-thumb-code-size-using-many-megabytes-of-customer-code">https://community.arm.com/groups/processors/blog/2014/04/28/code-size-a-comprehensive-comparison-of-micromips32-and-thumb-code-size-using-many-megabytes-of-customer-code</a>
</li>

<li>MIPS MCUs Outrun ARM<br />
<a href="http://www.linleygroup.com/newsletters/newsletter_detail.php?num=5117">http://www.linleygroup.com/newsletters/newsletter_detail.php?num=5117</a>
</li>

<li>Improving Energy Efficiency and Reducing Code Size with RISC-V Compressed<br />
<a href="http://www.eecs.berkeley.edu/~waterman/papers/ms-thesis.pdf">http://www.eecs.berkeley.edu/~waterman/papers/ms-thesis.pdf</a>
</li>

<li>An Introduction to Lock-Free Programming<br />
<a href="http://preshing.com/20120612/an-introduction-to-lock-free-programming/">http://preshing.com/20120612/an-introduction-to-lock-free-programming/</a>
</li>

<li>Sequential consistency<br />
<a href="https://en.wikipedia.org/wiki/Sequential_consistency">https://en.wikipedia.org/wiki/Sequential_consistency</a>
</li>

<li>Understanding Atomic Operations<br />
<a href="https://jfdube.wordpress.com/2011/11/30/understanding-atomic-operations/">https://jfdube.wordpress.com/2011/11/30/understanding-atomic-operations/</a>
</li>

<li>Load-link/store-conditional<br />
<a href="https://en.wikipedia.org/wiki/Load-link/store-conditional">https://en.wikipedia.org/wiki/Load-link/store-conditional</a>
</li>

<li>The RISC-V Compressed Instruction Set Manual (Pozor: verze 1.7)<br />
<a href="http://riscv.org/spec/riscv-compressed-spec-v1.7.pdf">http://riscv.org/spec/riscv-compressed-spec-v1.7.pdf</a>
</li>

<li>Carry bits, The Architect's Trap<br />
<a href="http://yarchive.net/comp/carry_bit.html">http://yarchive.net/comp/carry_bit.html</a>
</li>

<li>Microprocessor Design/ALU Flags<br />
<a href="https://en.wikibooks.org/wiki/Microprocessor_Design/ALU_Flags">https://en.wikibooks.org/wiki/Microprocessor_Design/ALU_Flags</a>
</li>

<li>Flags register in an out-of-order processor<br />
<a href="http://cs.stackexchange.com/questions/42095/flags-register-in-an-out-of-order-processor">http://cs.stackexchange.com/questions/42095/flags-register-in-an-out-of-order-processor</a>
</li>

<li>AMD Am29000<br />
<a href="https://en.wikipedia.org/wiki/AMD_Am29000">https://en.wikipedia.org/wiki/AMD_Am29000</a>
</li>

<li>Status register<br />
<a href="https://en.wikipedia.org/wiki/Status_register">https://en.wikipedia.org/wiki/Status_register</a>
</li>

<li>AMD Am29000 microprocessor family<br />
<a href="http://www.cpu-world.com/CPUs/29000/">http://www.cpu-world.com/CPUs/29000/</a>
</li>

<li>AMD 29k (Streamlined Instruction Processor) ID Guide<br />
<a href="http://www.cpushack.com/Am29k.html">http://www.cpushack.com/Am29k.html</a>
</li>

<li>AMD Am29000 (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/AMD_Am29000">http://en.wikipedia.org/wiki/AMD_Am29000</a>
</li>

<li>AMD K5 ("K5" / "5k86")<br />
<a href="http://www.pcguide.com/ref/cpu/fam/g5K5-c.html">http://www.pcguide.com/ref/cpu/fam/g5K5-c.html</a>
</li>

<li>Comparing four 32-bit soft processor cores<br />
<a href="http://www.eetimes.com/author.asp?section_id=14&doc_id=1286116">http://www.eetimes.com/author.asp?section_id=14&doc_id=1286116</a>
</li>

<li>RISC-V Instruction Set<br />
<a href="http://riscv.org/download.html#spec_compressed_isa">http://riscv.org/download.html#spec_compressed_isa</a>
</li>

<li>RISC-V Spike (ISA Simulator)<br />
<a href="http://riscv.org/download.html#isa-sim">http://riscv.org/download.html#isa-sim</a>
</li>

<li>RISC-V (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/RISC-V">https://en.wikipedia.org/wiki/RISC-V</a>
</li>

<li>David Patterson (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/David_Patterson_(computer_scientist)">https://en.wikipedia.org/wiki/David_Patterson_(computer_scientist)</a>
</li>

<li>OpenRISC (oficiální­ stránky tohoto projektu)<br />
<a href="http://openrisc.io/">http://openrisc.io/</a>
</li>

<li>OpenRISC architecture<br />
<a href="http://openrisc.io/architecture.html">http://openrisc.io/architecture.html</a>
</li>

<li>Emulátor OpenRISC CPU v JavaScriptu<br />
<a href="http://s-macke.github.io/jor1k/demos/main.html">http://s-macke.github.io/jor1k/demos/main.html</a>
</li>

<li>OpenRISC (Wikipedia)<br />
<a href="https://en.wikipedia.org/wiki/OpenRISC">https://en.wikipedia.org/wiki/OpenRISC</a>
</li>

<li>OpenRISC - instrukce<br />
<a href="http://sourceware.org/cgen/gen-doc/openrisc-insn.html">http://sourceware.org/cgen/gen-doc/openrisc-insn.html</a>
</li>

<li>OpenRISC - slajdy z&nbsp;přednášky o tomto projektu<br />
<a href="https://iis.ee.ethz.ch/~gmichi/asocd/lecturenotes/Lecture6.pdf">https://iis.ee.ethz.ch/~gmichi/asocd/lecturenotes/Lecture6.pdf</a>
</li>

<li>Maska mikroprocesoru RISC 1<br />
<a href="http://www.cs.berkeley.edu/~pattrsn/Arch/RISC1.jpg">http://www.cs.berkeley.edu/~pattrsn/Arch/RISC1.jpg</a>
</li>

<li>Maska mikroprocesoru RISC 2<br />
<a href="http://www.cs.berkeley.edu/~pattrsn/Arch/RISC2.jpg">http://www.cs.berkeley.edu/~pattrsn/Arch/RISC2.jpg</a>
</li>

<li>C.E. Sequin and D.A.Patterson: Design and Implementation of RISC I<br />
<a href="http://www.eecs.berkeley.edu/Pubs/TechRpts/1982/CSD-82-106.pdf">http://www.eecs.berkeley.edu/Pubs/TechRpts/1982/CSD-82-106.pdf</a>
</li>

<li>Berkeley RISC<br />
<a href="http://en.wikipedia.org/wiki/Berkeley_RISC">http://en.wikipedia.org/wiki/Berkeley_RISC</a>
</li>

<li>Great moments in microprocessor history<br />
<a href="http://www.ibm.com/developerworks/library/pa-microhist.html">http://www.ibm.com/developerworks/library/pa-microhist.html</a>
</li>

<li>Microprogram-Based Processors<br />
<a href="http://research.microsoft.com/en-us/um/people/gbell/Computer_Structures_Principles_and_Examples/csp0167.htm">http://research.microsoft.com/en-us/um/people/gbell/Computer_Structures_Principles_and_Examples/csp0167.htm</a>
</li>

<li>Great Microprocessors of the Past and Present<br />
<a href="http://www.cpushack.com/CPU/cpu1.html">http://www.cpushack.com/CPU/cpu1.html</a>
</li>

<li>A Brief History of Microprogramming<br />
<a href="http://www.cs.clemson.edu/~mark/uprog.html">http://www.cs.clemson.edu/~mark/uprog.html</a>
</li>

<li>What is RISC?<br />
<a href="http://www-cs-faculty.stanford.edu/~eroberts/courses/soco/projects/2000-01/risc/whatis/">http://www-cs-faculty.stanford.edu/~eroberts/courses/soco/projects/2000-01/risc/whatis/</a>
</li>

<li>RISC vs. CISC<br />
<a href="http://www-cs-faculty.stanford.edu/~eroberts/courses/soco/projects/2000-01/risc/risccisc/">http://www-cs-faculty.stanford.edu/~eroberts/courses/soco/projects/2000-01/risc/risccisc/</a>
</li>

<li>RISC and CISC definitions:<br />
<a href="http://www.cpushack.com/CPU/cpuAppendA.html">http://www.cpushack.com/CPU/cpuAppendA.html</a>
</li>

<li>FPGA<br />
<a href="https://cs.wikipedia.org/wiki/Programovateln%C3%A9_hradlov%C3%A9_pole">https://cs.wikipedia.org/wiki/Programovateln%C3%A9_hradlov%C3%A9_pole</a>
</li>

<li>The Evolution of RISC<br />
<a href="http://www.ibm.com/developerworks/library/pa-microhist.html#sidebar1">http://www.ibm.com/developerworks/library/pa-microhist.html#sidebar1</a>
</li>

<li>SPARC Processor Family Photo<br />
<a href="http://thenetworkisthecomputer.com/site/?p=243">http://thenetworkisthecomputer.com/site/?p=243</a>
</li>

<li>SPARC: Decades of Continuous Technical Innovation<br />
<a href="http://blogs.oracle.com/ontherecord/entry/sparc_decades_of_continuous_technical">http://blogs.oracle.com/ontherecord/entry/sparc_decades_of_continuous_technical</a>
</li>

<li>The SPARC processors<br />
<a href="http://www.top500.org/2007_overview_recent_supercomputers/sparc_processors">http://www.top500.org/2007_overview_recent_supercomputers/sparc_processors</a>
</li>

<li>Reduced instruction set computing (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Reduced_instruction_set_computer">http://en.wikipedia.org/wiki/Reduced_instruction_set_computer</a>
</li>

<li>MIPS architecture (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/MIPS_architecture">http://en.wikipedia.org/wiki/MIPS_architecture</a>
</li>

<li>Very long instruction word (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Very_long_instruction_word">http://en.wikipedia.org/wiki/Very_long_instruction_word</a>
</li>

<li>Classic RISC pipeline (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Classic_RISC_pipeline">http://en.wikipedia.org/wiki/Classic_RISC_pipeline</a>
</li>

<li>R2000 Microprocessor (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/R2000_(microprocessor)">http://en.wikipedia.org/wiki/R2000_(microprocessor)</a>
</li>

<li>R3000 Microprocessor (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/R3000">http://en.wikipedia.org/wiki/R3000</a>
</li>

<li>R4400 Microprocessor (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/R4400">http://en.wikipedia.org/wiki/R4400</a>
</li>

<li>R8000 Microprocessor (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/R8000">http://en.wikipedia.org/wiki/R8000</a>
</li>

<li>R10000 Microprocessor (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/R10000">http://en.wikipedia.org/wiki/R10000</a>
</li>

<li>SPARC (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Sparc">http://en.wikipedia.org/wiki/Sparc</a>
</li>

<li>CPU design (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/CPU_design">http://en.wikipedia.org/wiki/CPU_design</a>
</li>

<li>Control unit (Wikipedia)<br />
<a href="http://en.wikipedia.org/wiki/Control_unit">http://en.wikipedia.org/wiki/Control_unit</a>
</li>

</ol>



<p></p><p></p>
<p><small>Autor: <a href="http://www.fit.vutbr.cz/~tisnovpa">Pavel Tišnovský</a> &nbsp; 2016</small></p>
</body>
</html>

